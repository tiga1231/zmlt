parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"jhqp":[function(require,module,exports) {
module.exports="im_cluster.4181cc2a.geojson";
},{}],"/nKR":[function(require,module,exports) {
module.exports="im_cluster_boundary.9eeff75b.geojson";
},{}],"g9N1":[function(require,module,exports) {
module.exports="im_alledges.c642e203.geojson";
},{}],"wQJ6":[function(require,module,exports) {
module.exports="im_nodes.fcf1bd6e.geojson";
},{}],"NYK0":[function(require,module,exports) {
module.exports={resolutions:[156543.03392804097,38.2091858704093,38.2091858704093,12.738468102462509,15.285912949043286,9.554045438582463,5.879550591969477,8.492542424520025,38.2091858704093,9.554045438582463,9.554045438582463,12.738468102462509,25.474863223940492,25.474863223940492,10.918813873974232,9.554045438582463,19.106924754197248,12.738468102462509,10.918813873974232,10.918813873974232,12.738468102462509,6.948512340147515,10.918813873974232,9.554045438582463,10.918813873974232,8.492542424520025,5.459597339350221,6.369493205484213,25.474863223940492,8.492542424520025,19.106924754197248,5.459597339350221,9.554045438582463,12.738468102462509,15.285912949043286,19.106924754197248,19.106924754197248,6.369493205484213,19.106924754197248,15.285912949043286,7.643329647535802,7.643329647535802,10.918813873974232,38.2091858704093,5.095636031092421,10.918813873974232,38.2091858704093,8.492542424520025,6.369493205484213,15.285912949043286,6.948512340147515,5.459597339350221,9.554045438582463,9.554045438582463,5.459597339350221,10.918813873974232,19.106924754197248,12.738468102462509,19.106924754197248,15.285912949043286,10.918813873974232,6.369493205484213,8.492542424520025,12.738468102462509,8.492542424520025,10.918813873974232,12.738468102462509,7.643329647535802,19.106924754197248,9.554045438582463,10.918813873974232,6.369493205484213,15.285912949043286,12.738468102462509,9.554045438582463,76.39972401704472,5.879550591969477,12.738468102462509,15.285912949043286,25.474863223940492,10.918813873974232,12.738468102462509,5.095636031092421,5.095636031092421,10.918813873974232,19.106924754197248,8.492542424520025,5.879550591969477,8.492542424520025,7.643329647535802,38.2091858704093,8.492542424520025,9.554045438582463,5.879550591969477,12.738468102462509,12.738468102462509,7.643329647535802,6.369493205484213,19.106924754197248,6.369493205484213,25.474863223940492,9.554045438582463,9.554045438582463,5.879550591969477,25.474863223940492,9.554045438582463,10.918813873974232,8.492542424520025,5.879550591969477,5.879550591969477,8.492542424520025,5.879550591969477,12.738468102462509,8.492542424520025,5.879550591969477,15.285912949043286,15.285912949043286,9.554045438582463,15.285912949043286,5.879550591969477,15.285912949043286,6.369493205484213,5.459597339350221,9.554045438582463,5.095636031092421,5.459597339350221,8.492542424520025,10.918813873974232,9.554045438582463,8.492542424520025,19.106924754197248,7.643329647535802,6.948512340147515,12.738468102462509,5.095636031092421,6.369493205484213,7.643329647535802,19.106924754197248,38.2091858704093,12.738468102462509,12.738468102462509,7.643329647535802,5.879550591969477,12.738468102462509,6.948512340147515,19.106924754197248,15.285912949043286,12.738468102462509,38.2091858704093,7.643329647535802,8.492542424520025,8.492542424520025,5.095636031092421,38.2091858704093,25.474863223940492,6.369493205484213,10.918813873974232,5.879550591969477,5.879550591969477,10.918813873974232,12.738468102462509,9.554045438582463,15.285912949043286,19.106924754197248,6.948512340147515,15.285912949043286,15.285912949043286,25.474863223940492,9.554045438582463,15.285912949043286,6.369493205484213,38.2091858704093,12.738468102462509,25.474863223940492,4.496166657414266,25.474863223940492,9.554045438582463,9.554045438582463,12.738468102462509,15.285912949043286,19.106924754197248,9.554045438582463,9.554045438582463,19.106924754197248,6.948512340147515,5.095636031092421,12.738468102462509,19.106924754197248,12.738468102462509,9.554045438582463,9.554045438582463,19.106924754197248,5.459597339350221,4.7771684980070015,5.459597339350221,5.095636031092421,10.918813873974232,5.879550591969477,19.106924754197248,9.554045438582463,9.554045438582463,12.738468102462509,9.554045438582463,5.879550591969477,8.492542424520025,6.948512340147515,10.918813873974232,10.918813873974232,76.39972401704472,5.879550591969477,10.918813873974232,25.474863223940492,5.459597339350221,9.554045438582463,5.879550591969477,5.459597339350221,12.738468102462509,19.106924754197248,15.285912949043286,9.554045438582463,12.738468102462509,10.918813873974232,12.738468102462509,19.106924754197248,5.879550591969477,19.106924754197248,38.2091858704093,38.2091858704093,7.643329647535802,12.738468102462509,8.492542424520025,12.738468102462509,9.554045438582463,19.106924754197248,10.918813873974232,6.948512340147515,10.918813873974232,25.474863223940492,8.492542424520025,5.459597339350221,5.459597339350221,7.643329647535802,6.369493205484213,10.918813873974232,15.285912949043286,9.554045438582463,5.095636031092421,6.948512340147515,12.738468102462509,12.738468102462509,15.285912949043286,10.918813873974232,5.459597339350221,6.369493205484213,10.918813873974232,9.554045438582463,25.474863223940492,38.2091858704093,7.643329647535802,10.918813873974232,10.918813873974232,25.474863223940492,38.2091858704093,12.738468102462509,12.738468102462509,6.369493205484213,7.643329647535802,5.879550591969477,19.106924754197248,12.738468102462509,12.738468102462509,8.492542424520025,5.095636031092421,10.918813873974232,5.459597339350221,25.474863223940492,19.106924754197248,38.2091858704093,5.095636031092421,12.738468102462509,6.369493205484213,15.285912949043286,5.095636031092421,10.918813873974232,7.643329647535802,6.369493205484213,10.918813873974232,6.369493205484213,19.106924754197248,15.285912949043286,12.738468102462509,9.554045438582463,5.459597339350221,76.39972401704472,8.492542424520025,5.879550591969477,10.918813873974232,5.879550591969477,19.106924754197248,7.643329647535802,10.918813873974232,19.106924754197248,7.643329647535802,5.459597339350221,8.492542424520025,8.492542424520025,12.738468102462509,6.948512340147515,9.554045438582463,8.492542424520025,38.2091858704093,15.285912949043286,6.369493205484213,9.554045438582463,19.106924754197248,6.948512340147515,7.643329647535802,12.738468102462509,19.106924754197248,5.879550591969477,10.918813873974232,5.095636031092421,6.948512340147515,38.2091858704093,12.738468102462509,15.285912949043286,10.918813873974232,9.554045438582463,10.918813873974232,5.095636031092421,19.106924754197248,12.738468102462509,9.554045438582463,12.738468102462509,12.738468102462509,9.554045438582463,7.643329647535802,10.918813873974232,19.106924754197248,15.285912949043286,10.918813873974232,10.918813873974232,5.459597339350221,8.492542424520025,12.738468102462509,5.879550591969477,5.095636031092421,25.474863223940492,9.554045438582463,10.918813873974232,6.369493205484213,6.369493205484213,7.643329647535802,8.492542424520025,15.285912949043286,12.738468102462509,5.459597339350221,8.492542424520025,6.369493205484213,76.39972401704472,8.492542424520025,25.474863223940492,15.285912949043286,9.554045438582463,7.643329647535802,5.459597339350221,25.474863223940492,9.554045438582463,12.738468102462509,5.879550591969477,7.643329647535802,10.918813873974232,6.369493205484213,10.918813873974232,8.492542424520025,5.879550591969477,9.554045438582463,8.492542424520025,25.474863223940492,19.106924754197248,5.459597339350221,9.554045438582463,5.879550591969477,38.2091858704093,19.106924754197248,8.492542424520025,12.738468102462509,12.738468102462509,15.285912949043286,5.459597339350221,7.643329647535802,7.643329647535802,12.738468102462509,25.474863223940492,5.879550591969477,9.554045438582463,6.948512340147515,19.106924754197248,8.492542424520025,10.918813873974232,38.2091858704093,8.492542424520025,5.879550591969477,4.7771684980070015,15.285912949043286,19.106924754197248,6.369493205484213,5.459597339350221,25.474863223940492,5.095636031092421,10.918813873974232,7.643329647535802,7.643329647535802,6.948512340147515,19.106924754197248,8.492542424520025,8.492542424520025,25.474863223940492,6.948512340147515,25.474863223940492,19.106924754197248,8.492542424520025,5.459597339350221,12.738468102462509,6.369493205484213,25.474863223940492,9.554045438582463,7.643329647535802,10.918813873974232,9.554045438582463,10.918813873974232,25.474863223940492,15.285912949043286,7.643329647535802,38.2091858704093,15.285912949043286,7.643329647535802,8.492542424520025,15.285912949043286,10.918813873974232,12.738468102462509,15.285912949043286,15.285912949043286,6.369493205484213,15.285912949043286,8.492542424520025,8.492542424520025,12.738468102462509,38.2091858704093,10.918813873974232,9.554045438582463,12.738468102462509,15.285912949043286,15.285912949043286,6.369493205484213,6.369493205484213,12.738468102462509,12.738468102462509,15.285912949043286,9.554045438582463,7.643329647535802,12.738468102462509,10.918813873974232,6.948512340147515,38.2091858704093,6.369493205484213,15.285912949043286,6.948512340147515,12.738468102462509,9.554045438582463,4.7771684980070015,5.095636031092421,12.738468102462509,9.554045438582463,76.39972401704472,10.918813873974232,10.918813873974232,10.918813873974232,12.738468102462509,9.554045438582463,15.285912949043286,6.369493205484213,19.106924754197248,25.474863223940492,10.918813873974232,15.285912949043286,10.918813873974232,7.643329647535802,76.39972401704472,8.492542424520025,12.738468102462509,5.879550591969477,19.106924754197248,10.918813873974232,5.459597339350221,4.496166657414266,8.492542424520025,6.369493205484213,9.554045438582463,38.2091858704093,6.369493205484213,7.643329647535802,7.643329647535802,15.285912949043286,9.554045438582463,19.106924754197248,15.285912949043286,15.285912949043286,7.643329647535802,10.918813873974232,19.106924754197248,6.948512340147515,6.369493205484213,5.879550591969477,12.738468102462509,7.643329647535802,5.879550591969477,12.738468102462509,6.369493205484213,19.106924754197248,12.738468102462509,12.738468102462509,19.106924754197248,10.918813873974232,25.474863223940492,19.106924754197248,12.738468102462509,19.106924754197248,12.738468102462509,6.369493205484213,7.643329647535802,10.918813873974232,38.2091858704093,5.459597339350221,8.492542424520025,12.738468102462509,10.918813873974232,10.918813873974232,8.492542424520025,12.738468102462509,10.918813873974232,8.492542424520025,6.369493205484213,6.948512340147515,6.948512340147515,19.106924754197248,25.474863223940492,76.39972401704472,8.492542424520025,25.474863223940492,15.285912949043286,9.554045438582463,5.459597339350221,5.459597339350221,4.7771684980070015,7.643329647535802,38.2091858704093,5.095636031092421,12.738468102462509,9.554045438582463,10.918813873974232,15.285912949043286,19.106924754197248,25.474863223940492,10.918813873974232,9.554045438582463,7.643329647535802,5.095636031092421,6.948512340147515,10.918813873974232,12.738468102462509,15.285912949043286,8.492542424520025,15.285912949043286,15.285912949043286,9.554045438582463,10.918813873974232,10.918813873974232,5.879550591969477,5.879550591969477,5.095636031092421,15.285912949043286,5.095636031092421,15.285912949043286,10.918813873974232,6.948512340147515,8.492542424520025,9.554045438582463,19.106924754197248,10.918813873974232,25.474863223940492,8.492542424520025,5.879550591969477,8.492542424520025,15.285912949043286,10.918813873974232,5.459597339350221,9.554045438582463,12.738468102462509,12.738468102462509,9.554045438582463,5.459597339350221,12.738468102462509,19.106924754197248,38.2091858704093,12.738468102462509,9.554045438582463,6.948512340147515,19.106924754197248,10.918813873974232,7.643329647535802,15.285912949043286,9.554045438582463,15.285912949043286,6.948512340147515,6.369493205484213,19.106924754197248,12.738468102462509,12.738468102462509,6.948512340147515,6.948512340147515,12.738468102462509,5.879550591969477,5.459597339350221,5.459597339350221,76.39972401704472,10.918813873974232,10.918813873974232,7.643329647535802,10.918813873974232,9.554045438582463,9.554045438582463,19.106924754197248,12.738468102462509,5.879550591969477,19.106924754197248,5.459597339350221,9.554045438582463,15.285912949043286,19.106924754197248,6.948512340147515,5.459597339350221,5.879550591969477,9.554045438582463,15.285912949043286,19.106924754197248,5.459597339350221,10.918813873974232,38.2091858704093,10.918813873974232,38.2091858704093,12.738468102462509,25.474863223940492,5.879550591969477,15.285912949043286,7.643329647535802,19.106924754197248,12.738468102462509,6.948512340147515,5.459597339350221,8.492542424520025,12.738468102462509,7.643329647535802,5.459597339350221,5.459597339350221,38.2091858704093,5.459597339350221,5.879550591969477,12.738468102462509,7.643329647535802,9.554045438582463,4.7771684980070015,5.095636031092421,4.7771684980070015,7.643329647535802,15.285912949043286,4.7771684980070015,15.285912949043286,8.492542424520025,5.095636031092421,10.918813873974232,19.106924754197248,6.369493205484213,9.554045438582463,4.7771684980070015,19.106924754197248,6.369493205484213,10.918813873974232,5.459597339350221,6.948512340147515,10.918813873974232,6.369493205484213,5.095636031092421,10.918813873974232,5.879550591969477,8.492542424520025,10.918813873974232,5.459597339350221,5.459597339350221,7.643329647535802,15.285912949043286,19.106924754197248,9.554045438582463,9.554045438582463,6.948512340147515,15.285912949043286,5.879550591969477,5.879550591969477,19.106924754197248,38.2091858704093,10.918813873974232,5.459597339350221,12.738468102462509,8.492542424520025,7.643329647535802,15.285912949043286,25.474863223940492,10.918813873974232,19.106924754197248,8.492542424520025,12.738468102462509,19.106924754197248,12.738468102462509,9.554045438582463,7.643329647535802,5.095636031092421,4.7771684980070015,19.106924754197248,25.474863223940492,9.554045438582463,9.554045438582463,7.643329647535802,10.918813873974232,25.474863223940492,15.285912949043286,10.918813873974232,12.738468102462509,12.738468102462509,7.643329647535802,9.554045438582463,12.738468102462509,15.285912949043286,6.369493205484213,12.738468102462509,10.918813873974232,25.474863223940492,15.285912949043286,25.474863223940492,6.948512340147515,7.643329647535802,15.285912949043286,6.369493205484213,6.369493205484213,6.948512340147515,12.738468102462509,6.948512340147515,12.738468102462509,8.492542424520025,6.369493205484213,25.474863223940492,7.643329647535802,15.285912949043286,4.7771684980070015,9.554045438582463,8.492542424520025,5.879550591969477,6.369493205484213,5.879550591969477,9.554045438582463,12.738468102462509,5.459597339350221,15.285912949043286,25.474863223940492,15.285912949043286,38.2091858704093,7.643329647535802,12.738468102462509,10.918813873974232,19.106924754197248,6.369493205484213,10.918813873974232,12.738468102462509,5.459597339350221,6.948512340147515,12.738468102462509,6.948512340147515,15.285912949043286,9.554045438582463,5.459597339350221,7.643329647535802,8.492542424520025,12.738468102462509,5.459597339350221,8.492542424520025,12.738468102462509,7.643329647535802,6.948512340147515,10.918813873974232,7.643329647535802,19.106924754197248,8.492542424520025,6.369493205484213,15.285912949043286,7.643329647535802,12.738468102462509,8.492542424520025,12.738468102462509,6.948512340147515,12.738468102462509,10.918813873974232,19.106924754197248,12.738468102462509,5.879550591969477,6.948512340147515,5.459597339350221,4.7771684980070015,6.948512340147515,10.918813873974232,25.474863223940492,9.554045438582463,5.095636031092421,7.643329647535802,9.554045438582463,8.492542424520025,19.106924754197248,4.7771684980070015,5.879550591969477,5.879550591969477,8.492542424520025,25.474863223940492,25.474863223940492,5.879550591969477,5.879550591969477,10.918813873974232,15.285912949043286,6.948512340147515,5.095636031092421,15.285912949043286,25.474863223940492,8.492542424520025,6.369493205484213,38.2091858704093,10.918813873974232,9.554045438582463,5.879550591969477,8.492542424520025,9.554045438582463,25.474863223940492,10.918813873974232,5.459597339350221,12.738468102462509,8.492542424520025,10.918813873974232,5.459597339350221,5.095636031092421,25.474863223940492,10.918813873974232,15.285912949043286,8.492542424520025,5.095636031092421,10.918813873974232,5.459597339350221,19.106924754197248,4.496166657414266,19.106924754197248,15.285912949043286,5.459597339350221,7.643329647535802,12.738468102462509,38.2091858704093,9.554045438582463,10.918813873974232,8.492542424520025,12.738468102462509,10.918813873974232,12.738468102462509,10.918813873974232,19.106924754197248,19.106924754197248,8.492542424520025,25.474863223940492,15.285912949043286,15.285912949043286,10.918813873974232,10.918813873974232,5.879550591969477,6.369493205484213,7.643329647535802,6.948512340147515,8.492542424520025,9.554045438582463,38.2091858704093,9.554045438582463,19.106924754197248,10.918813873974232,12.738468102462509,12.738468102462509,8.492542424520025,12.738468102462509,7.643329647535802,5.879550591969477,10.918813873974232,15.285912949043286,8.492542424520025,5.095636031092421,15.285912949043286,15.285912949043286,6.369493205484213,10.918813873974232,8.492542424520025,12.738468102462509,5.879550591969477,5.879550591969477,38.2091858704093,12.738468102462509,6.369493205484213,19.106924754197248,25.474863223940492,10.918813873974232,7.643329647535802,10.918813873974232,5.459597339350221,15.285912949043286,15.285912949043286,4.7771684980070015,12.738468102462509,5.095636031092421,5.095636031092421,5.095636031092421,25.474863223940492,15.285912949043286,8.492542424520025,12.738468102462509,9.554045438582463,19.106924754197248,19.106924754197248,9.554045438582463,6.369493205484213,19.106924754197248,15.285912949043286,12.738468102462509,12.738468102462509,5.095636031092421,25.474863223940492,4.7771684980070015,5.095636031092421,5.459597339350221,5.879550591969477,25.474863223940492,8.492542424520025,12.738468102462509,9.554045438582463,8.492542424520025,12.738468102462509,9.554045438582463,9.554045438582463,6.948512340147515,12.738468102462509,10.918813873974232,25.474863223940492,6.369493205484213,4.496166657414266,15.285912949043286,10.918813873974232,9.554045438582463,25.474863223940492,4.7771684980070015,5.459597339350221,6.369493205484213,6.948512340147515,12.738468102462509,8.492542424520025,15.285912949043286,5.879550591969477,25.474863223940492,19.106924754197248,12.738468102462509,5.459597339350221,6.369493205484213,8.492542424520025,38.2091858704093,10.918813873974232,25.474863223940492,8.492542424520025,7.643329647535802,12.738468102462509,7.643329647535802,5.459597339350221,6.948512340147515,10.918813873974232,5.459597339350221,6.948512340147515,15.285912949043286,10.918813873974232,19.106924754197248,15.285912949043286,8.492542424520025,12.738468102462509,5.879550591969477,6.948512340147515,15.285912949043286,7.643329647535802,6.369493205484213,15.285912949043286,5.879550591969477,5.879550591969477,8.492542424520025,6.369493205484213,5.459597339350221,38.2091858704093,8.492542424520025,12.738468102462509,8.492542424520025,5.879550591969477,5.879550591969477,6.369493205484213,6.948512340147515,15.285912949043286,15.285912949043286,9.554045438582463,15.285912949043286,38.2091858704093,7.643329647535802,15.285912949043286,38.2091858704093,15.285912949043286,9.554045438582463,19.106924754197248,5.459597339350221,15.285912949043286,10.918813873974232,19.106924754197248,6.369493205484213,9.554045438582463,10.918813873974232,15.285912949043286,12.738468102462509,6.948512340147515,10.918813873974232,5.459597339350221,10.918813873974232,9.554045438582463,19.106924754197248,19.106924754197248,8.492542424520025,5.095636031092421,9.554045438582463,25.474863223940492,38.2091858704093,25.474863223940492,12.738468102462509,38.2091858704093,9.554045438582463,5.879550591969477,15.285912949043286,5.879550591969477,15.285912949043286,12.738468102462509,8.492542424520025,25.474863223940492,8.492542424520025,9.554045438582463,12.738468102462509,25.474863223940492,12.738468102462509,12.738468102462509,19.106924754197248,15.285912949043286,6.369493205484213,6.948512340147515,5.459597339350221,8.492542424520025,25.474863223940492,25.474863223940492,12.738468102462509,5.879550591969477,9.554045438582463,10.918813873974232,19.106924754197248,12.738468102462509,6.369493205484213,76.39972401704472,5.879550591969477,10.918813873974232,6.948512340147515,25.474863223940492,12.738468102462509,9.554045438582463,6.948512340147515,25.474863223940492,9.554045438582463,15.285912949043286,9.554045438582463,15.285912949043286,10.918813873974232,25.474863223940492,15.285912949043286,10.918813873974232,5.459597339350221,6.369493205484213,5.879550591969477,15.285912949043286,6.369493205484213,7.643329647535802,10.918813873974232,8.492542424520025,10.918813873974232,9.554045438582463,38.2091858704093,9.554045438582463,19.106924754197248,6.369493205484213,5.095636031092421,15.285912949043286,6.948512340147515,12.738468102462509,5.459597339350221,15.285912949043286,15.285912949043286,19.106924754197248,6.369493205484213,6.948512340147515,12.738468102462509,5.459597339350221,6.369493205484213,8.492542424520025,12.738468102462509,15.285912949043286,10.918813873974232,19.106924754197248,9.554045438582463,9.554045438582463,7.643329647535802,10.918813873974232,6.369493205484213,9.554045438582463,38.2091858704093,9.554045438582463,19.106924754197248,12.738468102462509,7.643329647535802,5.879550591969477,5.879550591969477,38.2091858704093,15.285912949043286,6.369493205484213,12.738468102462509,12.738468102462509,5.879550591969477,9.554045438582463,10.918813873974232,12.738468102462509,12.738468102462509,25.474863223940492,25.474863223940492,5.879550591969477,6.369493205484213,38.2091858704093,19.106924754197248,19.106924754197248,15.285912949043286,9.554045438582463,8.492542424520025,6.369493205484213,9.554045438582463,19.106924754197248,10.918813873974232,6.369493205484213,12.738468102462509,5.879550591969477,6.369493205484213,12.738468102462509,6.369493205484213,15.285912949043286,6.948512340147515,6.948512340147515,15.285912949043286,10.918813873974232,10.918813873974232,7.643329647535802,5.459597339350221,9.554045438582463,25.474863223940492,12.738468102462509,6.948512340147515,10.918813873974232,8.492542424520025,6.369493205484213,9.554045438582463,5.095636031092421,9.554045438582463,12.738468102462509,6.948512340147515,6.369493205484213,8.492542424520025,5.459597339350221,25.474863223940492,19.106924754197248,9.554045438582463,5.879550591969477,6.948512340147515,10.918813873974232,5.459597339350221,10.918813873974232,5.879550591969477,7.643329647535802,6.948512340147515,5.459597339350221,10.918813873974232,5.095636031092421,15.285912949043286,12.738468102462509,38.2091858704093,25.474863223940492,19.106924754197248,10.918813873974232,10.918813873974232,5.879550591969477,38.2091858704093,5.879550591969477,15.285912949043286,7.643329647535802,15.285912949043286,12.738468102462509,10.918813873974232,7.643329647535802,12.738468102462509,8.492542424520025,12.738468102462509,10.918813873974232,10.918813873974232,6.369493205484213,9.554045438582463,9.554045438582463,6.948512340147515,12.738468102462509,12.738468102462509,8.492542424520025,12.738468102462509,8.492542424520025,6.369493205484213,5.879550591969477,6.369493205484213,7.643329647535802,38.2091858704093,9.554045438582463,15.285912949043286,10.918813873974232,12.738468102462509,6.369493205484213,19.106924754197248,15.285912949043286,10.918813873974232,6.948512340147515,15.285912949043286,6.369493205484213,5.095636031092421,38.2091858704093,8.492542424520025,19.106924754197248,12.738468102462509,19.106924754197248,9.554045438582463,12.738468102462509,10.918813873974232,6.369493205484213,9.554045438582463,5.879550591969477,19.106924754197248,25.474863223940492,9.554045438582463,5.459597339350221,9.554045438582463,19.106924754197248,7.643329647535802,5.879550591969477,19.106924754197248,9.554045438582463,6.369493205484213,25.474863223940492,6.948512340147515,6.948512340147515,19.106924754197248,12.738468102462509,5.879550591969477,15.285912949043286,15.285912949043286,38.2091858704093,5.459597339350221,12.738468102462509,5.459597339350221,25.474863223940492,8.492542424520025,6.948512340147515,9.554045438582463,19.106924754197248,5.459597339350221,6.948512340147515,25.474863223940492,12.738468102462509,38.2091858704093,8.492542424520025,9.554045438582463,12.738468102462509,6.369493205484213,19.106924754197248,25.474863223940492,15.285912949043286,12.738468102462509,9.554045438582463,5.879550591969477,15.285912949043286,15.285912949043286,9.554045438582463,5.459597339350221,12.738468102462509,25.474863223940492,5.459597339350221,6.369493205484213,15.285912949043286,25.474863223940492,19.106924754197248,6.369493205484213,6.369493205484213,6.948512340147515,7.643329647535802,25.474863223940492,10.918813873974232,25.474863223940492,38.2091858704093,8.492542424520025,6.948512340147515,10.918813873974232,6.948512340147515,5.459597339350221,10.918813873974232,19.106924754197248,38.2091858704093,15.285912949043286,5.459597339350221,6.948512340147515,19.106924754197248,9.554045438582463,5.879550591969477,15.285912949043286,6.369493205484213,5.459597339350221,25.474863223940492,38.2091858704093,6.948512340147515,12.738468102462509,38.2091858704093,25.474863223940492,38.2091858704093,12.738468102462509,12.738468102462509,6.369493205484213,25.474863223940492,5.459597339350221,6.369493205484213,15.285912949043286,10.918813873974232,9.554045438582463,25.474863223940492,5.459597339350221,6.369493205484213,12.738468102462509,9.554045438582463,6.369493205484213,10.918813873974232,6.369493205484213,5.879550591969477,8.492542424520025,5.879550591969477,7.643329647535802,12.738468102462509,15.285912949043286,12.738468102462509,15.285912949043286,9.554045438582463,8.492542424520025,10.918813873974232,25.474863223940492,6.948512340147515,5.095636031092421,6.948512340147515,15.285912949043286,12.738468102462509,9.554045438582463,8.492542424520025,5.095636031092421,25.474863223940492,8.492542424520025,6.948512340147515,6.948512340147515,12.738468102462509,15.285912949043286,5.095636031092421,19.106924754197248,9.554045438582463,25.474863223940492,9.554045438582463,12.738468102462509,9.554045438582463,8.492542424520025,6.948512340147515,19.106924754197248,7.643329647535802,10.918813873974232,12.738468102462509,15.285912949043286,7.643329647535802,9.554045438582463,9.554045438582463,5.879550591969477,25.474863223940492,19.106924754197248,5.459597339350221,15.285912949043286,25.474863223940492,10.918813873974232,5.095636031092421,9.554045438582463,4.7771684980070015,9.554045438582463,19.106924754197248,12.738468102462509,9.554045438582463,5.095636031092421,4.7771684980070015,38.2091858704093,15.285912949043286,25.474863223940492,12.738468102462509,4.7771684980070015,10.918813873974232,12.738468102462509,10.918813873974232,12.738468102462509,5.095636031092421,5.879550591969477,12.738468102462509,9.554045438582463,5.095636031092421,5.095636031092421,5.095636031092421,5.879550591969477,5.879550591969477,7.643329647535802,7.643329647535802,15.285912949043286,38.2091858704093,12.738468102462509,9.554045438582463,15.285912949043286,12.738468102462509,10.918813873974232,15.285912949043286,9.554045438582463,9.554045438582463,6.948512340147515,9.554045438582463,8.492542424520025,10.918813873974232,10.918813873974232,6.369493205484213,6.369493205484213,6.369493205484213,5.095636031092421,38.2091858704093,10.918813873974232,25.474863223940492,25.474863223940492,12.738468102462509,25.474863223940492,10.918813873974232,19.106924754197248,12.738468102462509,12.738468102462509,5.879550591969477,12.738468102462509,8.492542424520025,15.285912949043286,12.738468102462509,6.948512340147515,8.492542424520025,25.474863223940492,19.106924754197248,15.285912949043286,25.474863223940492,5.879550591969477,5.879550591969477,15.285912949043286,6.369493205484213,10.918813873974232,8.492542424520025,7.643329647535802,12.738468102462509,5.879550591969477,12.738468102462509,10.918813873974232,12.738468102462509,15.285912949043286,9.554045438582463,12.738468102462509,6.369493205484213,7.643329647535802,6.369493205484213,25.474863223940492,12.738468102462509,10.918813873974232,10.918813873974232,10.918813873974232,19.106924754197248,6.948512340147515,7.643329647535802,9.554045438582463,6.948512340147515,6.948512340147515,10.918813873974232,15.285912949043286,10.918813873974232,38.2091858704093,5.459597339350221,12.738468102462509,15.285912949043286,6.948512340147515,5.879550591969477,19.106924754197248,10.918813873974232,8.492542424520025,19.106924754197248,8.492542424520025,25.474863223940492,6.948512340147515,15.285912949043286,7.643329647535802,12.738468102462509,12.738468102462509,9.554045438582463,25.474863223940492,15.285912949043286,10.918813873974232,12.738468102462509,38.2091858704093,9.554045438582463,4.7771684980070015,8.492542424520025,5.459597339350221,12.738468102462509,12.738468102462509,5.879550591969477,19.106924754197248,10.918813873974232,10.918813873974232,6.369493205484213,8.492542424520025,9.554045438582463,19.106924754197248,10.918813873974232,38.2091858704093,8.492542424520025,9.554045438582463,12.738468102462509,9.554045438582463,19.106924754197248,6.948512340147515,12.738468102462509,10.918813873974232,19.106924754197248,12.738468102462509,15.285912949043286,8.492542424520025,38.2091858704093,8.492542424520025,5.879550591969477,8.492542424520025,8.492542424520025,38.2091858704093,7.643329647535802,8.492542424520025,25.474863223940492,9.554045438582463,8.492542424520025,5.879550591969477,6.369493205484213,6.369493205484213,9.554045438582463,9.554045438582463,8.492542424520025,38.2091858704093,6.948512340147515,15.285912949043286,12.738468102462509,6.369493205484213,12.738468102462509,6.948512340147515,6.369493205484213,8.492542424520025,5.095636031092421,25.474863223940492,10.918813873974232,5.879550591969477,7.643329647535802,7.643329647535802,8.492542424520025,6.948512340147515,5.459597339350221,10.918813873974232,19.106924754197248,19.106924754197248,15.285912949043286,6.369493205484213,10.918813873974232,12.738468102462509,5.095636031092421,5.879550591969477,12.738468102462509,25.474863223940492,9.554045438582463,5.459597339350221,15.285912949043286,5.879550591969477,9.554045438582463,15.285912949043286,10.918813873974232,15.285912949043286,7.643329647535802,6.369493205484213,9.554045438582463,12.738468102462509,76.39972401704472,5.459597339350221,7.643329647535802,19.106924754197248,15.285912949043286,9.554045438582463,10.918813873974232,5.879550591969477,10.918813873974232,5.879550591969477,15.285912949043286,19.106924754197248,5.879550591969477,8.492542424520025,10.918813873974232,6.948512340147515,19.106924754197248,12.738468102462509,6.369493205484213,8.492542424520025,5.879550591969477,5.459597339350221,5.095636031092421,12.738468102462509,9.554045438582463,8.492542424520025,19.106924754197248,5.459597339350221,5.879550591969477,15.285912949043286,8.492542424520025,9.554045438582463,10.918813873974232,9.554045438582463,6.948512340147515,5.459597339350221,15.285912949043286,12.738468102462509,25.474863223940492,9.554045438582463,19.106924754197248,12.738468102462509,12.738468102462509,10.918813873974232,10.918813873974232,10.918813873974232,10.918813873974232,19.106924754197248,10.918813873974232,5.459597339350221,9.554045438582463,76.39972401704472,5.459597339350221,5.459597339350221,12.738468102462509,7.643329647535802,25.474863223940492,15.285912949043286,12.738468102462509,38.2091858704093,15.285912949043286,7.643329647535802,12.738468102462509,8.492542424520025,19.106924754197248,5.459597339350221,5.879550591969477,6.369493205484213,12.738468102462509,6.948512340147515,10.918813873974232,10.918813873974232,9.554045438582463,15.285912949043286,12.738468102462509,12.738468102462509,6.948512340147515,19.106924754197248,12.738468102462509,5.095636031092421,10.918813873974232,15.285912949043286,19.106924754197248,12.738468102462509,7.643329647535802,10.918813873974232,4.7771684980070015,25.474863223940492,38.2091858704093,76.39972401704472,5.459597339350221,8.492542424520025,15.285912949043286,12.738468102462509,8.492542424520025,5.879550591969477,5.879550591969477,19.106924754197248,12.738468102462509,4.7771684980070015,4.7771684980070015,15.285912949043286,19.106924754197248,10.918813873974232,10.918813873974232,7.643329647535802,5.879550591969477,4.7771684980070015,9.554045438582463,5.879550591969477,8.492542424520025,12.738468102462509,25.474863223940492,15.285912949043286,12.738468102462509,9.554045438582463,5.459597339350221,5.095636031092421,4.7771684980070015,19.106924754197248,6.369493205484213,9.554045438582463,6.369493205484213,6.948512340147515,38.2091858704093,15.285912949043286,15.285912949043286,4.7771684980070015,9.554045438582463,4.496166657414266,7.643329647535802,19.106924754197248,25.474863223940492,4.7771684980070015,10.918813873974232,12.738468102462509,25.474863223940492,5.879550591969477,5.879550591969477,6.948512340147515,5.459597339350221,9.554045438582463,6.369493205484213,6.369493205484213,12.738468102462509,9.554045438582463,19.106924754197248,9.554045438582463,9.554045438582463,6.369493205484213,15.285912949043286,25.474863223940492,5.879550591969477,25.474863223940492,25.474863223940492,25.474863223940492,9.554045438582463,10.918813873974232,10.918813873974232,10.918813873974232,15.285912949043286,9.554045438582463,8.492542424520025,5.879550591969477,10.918813873974232,10.918813873974232,9.554045438582463,19.106924754197248,15.285912949043286,8.492542424520025,5.459597339350221,12.738468102462509,25.474863223940492,12.738468102462509,12.738468102462509,5.879550591969477,9.554045438582463,12.738468102462509,4.7771684980070015,15.285912949043286,25.474863223940492,9.554045438582463,8.492542424520025,10.918813873974232,5.095636031092421,19.106924754197248,5.095636031092421,8.492542424520025,5.459597339350221,10.918813873974232,6.369493205484213,12.738468102462509,5.879550591969477,5.879550591969477,5.095636031092421,12.738468102462509,6.948512340147515,25.474863223940492,25.474863223940492,10.918813873974232,8.492542424520025,5.879550591969477,9.554045438582463,4.7771684980070015,15.285912949043286,15.285912949043286,19.106924754197248,5.879550591969477,10.918813873974232,15.285912949043286,8.492542424520025,38.2091858704093,10.918813873974232,8.492542424520025,6.369493205484213,5.459597339350221,8.492542424520025,10.918813873974232,7.643329647535802,8.492542424520025,25.474863223940492,15.285912949043286,5.095636031092421,19.106924754197248,8.492542424520025,19.106924754197248,5.459597339350221,15.285912949043286,9.554045438582463,10.918813873974232,8.492542424520025,9.554045438582463,6.369493205484213,9.554045438582463,8.492542424520025,25.474863223940492,12.738468102462509,10.918813873974232,5.095636031092421,7.643329647535802,12.738468102462509,10.918813873974232,19.106924754197248,15.285912949043286,7.643329647535802,12.738468102462509,6.948512340147515,15.285912949043286,7.643329647535802,6.369493205484213,7.643329647535802,15.285912949043286,12.738468102462509,5.459597339350221,38.2091858704093,19.106924754197248,19.106924754197248,10.918813873974232,12.738468102462509,12.738468102462509,6.948512340147515,9.554045438582463,9.554045438582463,10.918813873974232,25.474863223940492,25.474863223940492,8.492542424520025,9.554045438582463,12.738468102462509,12.738468102462509,15.285912949043286,8.492542424520025,12.738468102462509,5.459597339350221,7.643329647535802,6.369493205484213,5.095636031092421,12.738468102462509,25.474863223940492,9.554045438582463,15.285912949043286,6.369493205484213,5.879550591969477,9.554045438582463,12.738468102462509,6.948512340147515,9.554045438582463,15.285912949043286,12.738468102462509,8.492542424520025,9.554045438582463,9.554045438582463,10.918813873974232,5.095636031092421,6.948512340147515,6.369493205484213,12.738468102462509,15.285912949043286,5.459597339350221,19.106924754197248,5.459597339350221,9.554045438582463,8.492542424520025,9.554045438582463,4.7771684980070015,19.106924754197248,8.492542424520025,9.554045438582463,76.39972401704472,5.879550591969477,19.106924754197248,15.285912949043286,12.738468102462509,9.554045438582463,10.918813873974232,6.948512340147515,5.459597339350221,19.106924754197248,19.106924754197248,5.459597339350221,7.643329647535802,10.918813873974232,10.918813873974232,5.095636031092421,5.095636031092421,9.554045438582463,25.474863223940492,12.738468102462509,19.106924754197248,15.285912949043286,25.474863223940492,10.918813873974232,5.879550591969477,9.554045438582463,38.2091858704093,6.369493205484213,15.285912949043286,10.918813873974232,6.369493205484213,19.106924754197248,6.948512340147515,6.369493205484213,10.918813873974232,10.918813873974232,5.459597339350221,10.918813873974232,10.918813873974232,5.095636031092421,15.285912949043286,6.369493205484213,9.554045438582463,5.459597339350221,12.738468102462509,8.492542424520025,5.879550591969477,10.918813873974232,25.474863223940492,6.948512340147515,5.459597339350221,10.918813873974232,8.492542424520025,10.918813873974232,9.554045438582463,12.738468102462509,25.474863223940492,9.554045438582463,9.554045438582463,9.554045438582463,10.918813873974232,9.554045438582463,5.879550591969477,8.492542424520025,10.918813873974232,5.879550591969477,9.554045438582463,10.918813873974232,9.554045438582463,10.918813873974232,5.459597339350221,19.106924754197248,12.738468102462509,5.459597339350221,12.738468102462509,7.643329647535802,5.459597339350221,9.554045438582463,6.369493205484213,25.474863223940492,19.106924754197248,6.948512340147515,7.643329647535802,6.948512340147515,19.106924754197248,10.918813873974232,15.285912949043286,5.879550591969477,5.459597339350221,25.474863223940492,9.554045438582463,7.643329647535802,4.7771684980070015,7.643329647535802,7.643329647535802,5.459597339350221,19.106924754197248,9.554045438582463,19.106924754197248,10.918813873974232,15.285912949043286,9.554045438582463,6.369493205484213,5.879550591969477,8.492542424520025,12.738468102462509,15.285912949043286,10.918813873974232,25.474863223940492,12.738468102462509,38.2091858704093,15.285912949043286,25.474863223940492,6.369493205484213,5.459597339350221,9.554045438582463,38.2091858704093,9.554045438582463,15.285912949043286,12.738468102462509,8.492542424520025,5.459597339350221,10.918813873974232,6.948512340147515,5.459597339350221,25.474863223940492,12.738468102462509,5.879550591969477,7.643329647535802,12.738468102462509,12.738468102462509,12.738468102462509,12.738468102462509,10.918813873974232,6.948512340147515,15.285912949043286,6.369493205484213,5.095636031092421,15.285912949043286,10.918813873974232,10.918813873974232,9.554045438582463,12.738468102462509,7.643329647535802,5.879550591969477,10.918813873974232,9.554045438582463,10.918813873974232,15.285912949043286,25.474863223940492,25.474863223940492,38.2091858704093,12.738468102462509,5.459597339350221,15.285912949043286,25.474863223940492,5.459597339350221,38.2091858704093,5.459597339350221,25.474863223940492,8.492542424520025,5.879550591969477,8.492542424520025,7.643329647535802,12.738468102462509,10.918813873974232,12.738468102462509,15.285912949043286,7.643329647535802,5.879550591969477,12.738468102462509,15.285912949043286,5.459597339350221,8.492542424520025,9.554045438582463,5.095636031092421,5.879550591969477,8.492542424520025,10.918813873974232,9.554045438582463,25.474863223940492,12.738468102462509,12.738468102462509,12.738468102462509,9.554045438582463,19.106924754197248,6.948512340147515,6.948512340147515,5.459597339350221,12.738468102462509,8.492542424520025,6.369493205484213,6.369493205484213,6.948512340147515,25.474863223940492,5.459597339350221,5.459597339350221,15.285912949043286,12.738468102462509,15.285912949043286,6.369493205484213,6.948512340147515,8.492542424520025,7.643329647535802,10.918813873974232,38.2091858704093,12.738468102462509,10.918813873974232,10.918813873974232,15.285912949043286,9.554045438582463,5.459597339350221,8.492542424520025,9.554045438582463,5.879550591969477,9.554045438582463,38.2091858704093,5.879550591969477,5.459597339350221,8.492542424520025,38.2091858704093,5.879550591969477,5.095636031092421,25.474863223940492,5.095636031092421,10.918813873974232,7.643329647535802,9.554045438582463,19.106924754197248,6.948512340147515,15.285912949043286,25.474863223940492,10.918813873974232,10.918813873974232,9.554045438582463,19.106924754197248,8.492542424520025,15.285912949043286,5.879550591969477,25.474863223940492,12.738468102462509,10.918813873974232,9.554045438582463,6.948512340147515,6.948512340147515,7.643329647535802,10.918813873974232,5.095636031092421,25.474863223940492,6.948512340147515,19.106924754197248,25.474863223940492,19.106924754197248,6.369493205484213,5.879550591969477,5.095636031092421,8.492542424520025,5.459597339350221,25.474863223940492,19.106924754197248,15.285912949043286,9.554045438582463,19.106924754197248,12.738468102462509,12.738468102462509,12.738468102462509,7.643329647535802,5.879550591969477,9.554045438582463,9.554045438582463,6.948512340147515,25.474863223940492,15.285912949043286,5.879550591969477,10.918813873974232,5.459597339350221,10.918813873974232,38.2091858704093,15.285912949043286,7.643329647535802,10.918813873974232,6.369493205484213,8.492542424520025,5.879550591969477,10.918813873974232,6.948512340147515,6.369493205484213,15.285912949043286,8.492542424520025,6.369493205484213,6.948512340147515,9.554045438582463,6.369493205484213,5.879550591969477,38.2091858704093,8.492542424520025,12.738468102462509,15.285912949043286,15.285912949043286,9.554045438582463,5.095636031092421,9.554045438582463,7.643329647535802,9.554045438582463,12.738468102462509,9.554045438582463,6.948512340147515,5.459597339350221,10.918813873974232,9.554045438582463,15.285912949043286,5.879550591969477,10.918813873974232,10.918813873974232,12.738468102462509,9.554045438582463,38.2091858704093,8.492542424520025,5.879550591969477,9.554045438582463,5.095636031092421,8.492542424520025,12.738468102462509,12.738468102462509,10.918813873974232,12.738468102462509,10.918813873974232,8.492542424520025,15.285912949043286,12.738468102462509,7.643329647535802,5.459597339350221,6.948512340147515,12.738468102462509,19.106924754197248,12.738468102462509,5.879550591969477,12.738468102462509,7.643329647535802,19.106924754197248,5.879550591969477,7.643329647535802,9.554045438582463,15.285912949043286,5.879550591969477,6.369493205484213,7.643329647535802,6.948512340147515,6.948512340147515,10.918813873974232,6.369493205484213,19.106924754197248,38.2091858704093,8.492542424520025,15.285912949043286,9.554045438582463,12.738468102462509,9.554045438582463,19.106924754197248,5.879550591969477,15.285912949043286,10.918813873974232,9.554045438582463,9.554045438582463,19.106924754197248,15.285912949043286,19.106924754197248,12.738468102462509,5.879550591969477,38.2091858704093,9.554045438582463,10.918813873974232,9.554045438582463,6.369493205484213,12.738468102462509,19.106924754197248,5.879550591969477,5.879550591969477,7.643329647535802,8.492542424520025,9.554045438582463,5.879550591969477,38.2091858704093,5.879550591969477,19.106924754197248,12.738468102462509,9.554045438582463,12.738468102462509,15.285912949043286,9.554045438582463,8.492542424520025,5.879550591969477,15.285912949043286,19.106924754197248,6.948512340147515,9.554045438582463,7.643329647535802,38.2091858704093,5.879550591969477,5.879550591969477,6.948512340147515,10.918813873974232,6.948512340147515,19.106924754197248,7.643329647535802,6.948512340147515,6.369493205484213,25.474863223940492,7.643329647535802,8.492542424520025,12.738468102462509,6.948512340147515,9.554045438582463,7.643329647535802,38.2091858704093,25.474863223940492,12.738468102462509,12.738468102462509,6.369493205484213,10.918813873974232,15.285912949043286,12.738468102462509,5.879550591969477,5.459597339350221,38.2091858704093,7.643329647535802,6.369493205484213,12.738468102462509,38.2091858704093,12.738468102462509,12.738468102462509,19.106924754197248,5.879550591969477,12.738468102462509,9.554045438582463,6.369493205484213,10.918813873974232,25.474863223940492,6.948512340147515,12.738468102462509,15.285912949043286,15.285912949043286,6.948512340147515,12.738468102462509,19.106924754197248,9.554045438582463,12.738468102462509,10.918813873974232,8.492542424520025,5.459597339350221,9.554045438582463,19.106924754197248,6.948512340147515,8.492542424520025,19.106924754197248,9.554045438582463,6.369493205484213,10.918813873974232,19.106924754197248,10.918813873974232,10.918813873974232,12.738468102462509,9.554045438582463,8.492542424520025,9.554045438582463,15.285912949043286,12.738468102462509,5.459597339350221,15.285912949043286,10.918813873974232,12.738468102462509,19.106924754197248,19.106924754197248,38.2091858704093,10.918813873974232,6.369493205484213,7.643329647535802,6.369493205484213,12.738468102462509,10.918813873974232,9.554045438582463,7.643329647535802,5.095636031092421,19.106924754197248,19.106924754197248,12.738468102462509,8.492542424520025,15.285912949043286,9.554045438582463,6.948512340147515,38.2091858704093,6.948512340147515,12.738468102462509,8.492542424520025,7.643329647535802,19.106924754197248,9.554045438582463,38.2091858704093,7.643329647535802,12.738468102462509,10.918813873974232,19.106924754197248,38.2091858704093,5.879550591969477,7.643329647535802,19.106924754197248,15.285912949043286,9.554045438582463,38.2091858704093,38.2091858704093,10.918813873974232,5.459597339350221,9.554045438582463,10.918813873974232,7.643329647535802,19.106924754197248,12.738468102462509,6.369493205484213,25.474863223940492,10.918813873974232,5.879550591969477,8.492542424520025,25.474863223940492,5.095636031092421,19.106924754197248,12.738468102462509,7.643329647535802,10.918813873974232,19.106924754197248,8.492542424520025,15.285912949043286,19.106924754197248,15.285912949043286,9.554045438582463,9.554045438582463,25.474863223940492,10.918813873974232,8.492542424520025,8.492542424520025,19.106924754197248,6.948512340147515,9.554045438582463,15.285912949043286,12.738468102462509,7.643329647535802,10.918813873974232,9.554045438582463,25.474863223940492,9.554045438582463,12.738468102462509,8.492542424520025,19.106924754197248,6.369493205484213,10.918813873974232,5.459597339350221,12.738468102462509,7.643329647535802,5.879550591969477,19.106924754197248,6.948512340147515,25.474863223940492,8.492542424520025,9.554045438582463,9.554045438582463,25.474863223940492,10.918813873974232,5.879550591969477,25.474863223940492,25.474863223940492,10.918813873974232,6.369493205484213,10.918813873974232,5.459597339350221,10.918813873974232,5.879550591969477,6.369493205484213,19.106924754197248,6.948512340147515,25.474863223940492,6.369493205484213,25.474863223940492,12.738468102462509,5.879550591969477,6.369493205484213,15.285912949043286,25.474863223940492,12.738468102462509,9.554045438582463,7.643329647535802,12.738468102462509,12.738468102462509,15.285912949043286,12.738468102462509,19.106924754197248,12.738468102462509,9.554045438582463,8.492542424520025,12.738468102462509,15.285912949043286,5.879550591969477,15.285912949043286,38.2091858704093,6.369493205484213,9.554045438582463,25.474863223940492,8.492542424520025,9.554045438582463,19.106924754197248,5.459597339350221,6.369493205484213,19.106924754197248,8.492542424520025,15.285912949043286,6.369493205484213,7.643329647535802,38.2091858704093,10.918813873974232,9.554045438582463,19.106924754197248,9.554045438582463,5.879550591969477,9.554045438582463,8.492542424520025,12.738468102462509,25.474863223940492,12.738468102462509,19.106924754197248,15.285912949043286,10.918813873974232,10.918813873974232,10.918813873974232,15.285912949043286,25.474863223940492,6.369493205484213,8.492542424520025,7.643329647535802,9.554045438582463,9.554045438582463,6.948512340147515,12.738468102462509,19.106924754197248,12.738468102462509,10.918813873974232,19.106924754197248,15.285912949043286,12.738468102462509,6.948512340147515,7.643329647535802,25.474863223940492]};
},{}],"KniQ":[function(require,module,exports) {
"use strict";function t(){return function(){throw new Error("Unimplemented abstract method.")}()}function e(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t}Object.defineProperty(exports,"__esModule",{value:!0}),exports.abstract=t,exports.inherits=e,exports.getUid=o,exports.VERSION=void 0;var r=0;function o(t){return t.ol_uid||(t.ol_uid=String(++r))}var n="5.3.2";exports.VERSION=n;
},{}],"ygGQ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("./util.js"),t=function(t){function r(r){var o="Assertion failed. See https://openlayers.org/en/"+("latest"===e.VERSION?e.VERSION:"v"+e.VERSION.split("-")[0])+"/doc/errors/#"+r+" for details.";t.call(this,o),this.code=r,this.name="AssertionError",this.message=o}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r}(Error),r=t;exports.default=r;
},{"./util.js":"KniQ"}],"BTrx":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={ADD:"add",REMOVE:"remove"};exports.default=e;
},{}],"zehl":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={PROPERTYCHANGE:"propertychange"};exports.default=e;
},{}],"mH6q":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.clear=e,exports.getValues=n,exports.isEmpty=t,exports.assign=void 0;var r="function"==typeof Object.assign?Object.assign:function(r,e){var n=arguments;if(null==r)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(r),o=1,s=arguments.length;o<s;++o){var i=n[o];if(null!=i)for(var a in i)i.hasOwnProperty(a)&&(t[a]=i[a])}return t};function e(r){for(var e in r)delete r[e]}function n(r){var e=[];for(var n in r)e.push(r[n]);return e}function t(r){var e;for(e in r)return!1;return!e}exports.assign=r;
},{}],"55Uq":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.bindListener=t,exports.findListener=n,exports.getListeners=r,exports.listen=s,exports.listenOnce=a,exports.unlisten=u,exports.unlistenByKey=c,exports.unlistenAll=f;var e=require("./obj.js");function t(e){var t=function(t){var n=e.listener,r=e.bindTo||e.target;return e.callOnce&&c(e),n.call(r,t)};return e.boundListener=t,t}function n(e,t,n,r){for(var i,l=0,o=e.length;l<o;++l)if((i=e[l]).listener===t&&i.bindTo===n)return r&&(i.deleteIndex=l),i}function r(e,t){var n=i(e);return n?n[t]:void 0}function i(e,t){var n=e.ol_lm;return!n&&t&&(n=e.ol_lm={}),n}function l(e){delete e.ol_lm}function o(t,n){var o=r(t,n);if(o){for(var s=0,a=o.length;s<a;++s)t.removeEventListener(n,o[s].boundListener),(0,e.clear)(o[s]);o.length=0;var u=i(t);u&&(delete u[n],0===Object.keys(u).length&&l(t))}}function s(e,r,l,o,s){var a=i(e,!0),u=a[r];u||(u=a[r]=[]);var c=n(u,l,o,!1);return c?s||(c.callOnce=!1):(c={bindTo:o,callOnce:!!s,listener:l,target:e,type:r},e.addEventListener(r,t(c)),u.push(c)),c}function a(e,t,n,r){return s(e,t,n,r,!0)}function u(e,t,i,l){var o=r(e,t);if(o){var s=n(o,i,l,!0);s&&c(s)}}function c(t){if(t&&t.target){t.target.removeEventListener(t.type,t.boundListener);var n=r(t.target,t.type);if(n){var i="deleteIndex"in t?t.deleteIndex:n.indexOf(t);-1!==i&&n.splice(i,1),0===n.length&&o(t.target,t.type)}(0,e.clear)(t)}}function f(e){var t=i(e);if(t)for(var n in t)o(e,n)}
},{"./obj.js":"mH6q"}],"DDda":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=function(){this.disposed_=!1};e.prototype.dispose=function(){this.disposed_||(this.disposed_=!0,this.disposeInternal())},e.prototype.disposeInternal=function(){};var s=e;exports.default=s;
},{}],"RgA2":[function(require,module,exports) {
"use strict";function e(){return!0}function t(){return!1}function r(){}Object.defineProperty(exports,"__esModule",{value:!0}),exports.TRUE=e,exports.FALSE=t,exports.VOID=r;
},{}],"fKNg":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.stopPropagation=o,exports.preventDefault=p,exports.default=void 0;var t=function(t){this.propagationStopped,this.type=t,this.target=null};function o(t){t.stopPropagation()}function p(t){t.preventDefault()}t.prototype.preventDefault=function(){this.propagationStopped=!0},t.prototype.stopPropagation=function(){this.propagationStopped=!0};var e=t;exports.default=e;
},{}],"8CR4":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=n(require("../Disposable.js")),t=require("../events.js"),i=require("../functions.js"),s=n(require("./Event.js"));function n(e){return e&&e.__esModule?e:{default:e}}var r=function(e){function n(){e.call(this),this.pendingRemovals_={},this.dispatching_={},this.listeners_={}}return e&&(n.__proto__=e),n.prototype=Object.create(e&&e.prototype),n.prototype.constructor=n,n.prototype.addEventListener=function(e,t){var i=this.listeners_[e];i||(i=this.listeners_[e]=[]),-1===i.indexOf(t)&&i.push(t)},n.prototype.dispatchEvent=function(e){var t="string"==typeof e?new s.default(e):e,n=t.type;t.target=this;var r,o=this.listeners_[n];if(o){n in this.dispatching_||(this.dispatching_[n]=0,this.pendingRemovals_[n]=0),++this.dispatching_[n];for(var p=0,a=o.length;p<a;++p)if(!1===o[p].call(this,t)||t.propagationStopped){r=!1;break}if(--this.dispatching_[n],0===this.dispatching_[n]){var h=this.pendingRemovals_[n];for(delete this.pendingRemovals_[n];h--;)this.removeEventListener(n,i.VOID);delete this.dispatching_[n]}return r}},n.prototype.disposeInternal=function(){(0,t.unlistenAll)(this)},n.prototype.getListeners=function(e){return this.listeners_[e]},n.prototype.hasListener=function(e){return e?e in this.listeners_:Object.keys(this.listeners_).length>0},n.prototype.removeEventListener=function(e,t){var s=this.listeners_[e];if(s){var n=s.indexOf(t);e in this.pendingRemovals_?(s[n]=i.VOID,++this.pendingRemovals_[e]):(s.splice(n,1),0===s.length&&delete this.listeners_[e])}},n}(e.default),o=r;exports.default=o;
},{"../Disposable.js":"DDda","../events.js":"55Uq","../functions.js":"RgA2","./Event.js":"fKNg"}],"C8cu":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={CHANGE:"change",CLEAR:"clear",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",DRAGENTER:"dragenter",DRAGOVER:"dragover",DROP:"drop",ERROR:"error",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",MOUSEDOWN:"mousedown",MOUSEMOVE:"mousemove",MOUSEOUT:"mouseout",MOUSEUP:"mouseup",MOUSEWHEEL:"mousewheel",MSPOINTERDOWN:"MSPointerDown",RESIZE:"resize",TOUCHSTART:"touchstart",TOUCHMOVE:"touchmove",TOUCHEND:"touchend",WHEEL:"wheel"};exports.default=e;
},{}],"8IdS":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.unByKey=o,exports.default=void 0;var e=require("./events.js"),t=n(require("./events/Target.js")),r=n(require("./events/EventType.js"));function n(e){return e&&e.__esModule?e:{default:e}}var i=function(t){function n(){t.call(this),this.revision_=0}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n.prototype.changed=function(){++this.revision_,this.dispatchEvent(r.default.CHANGE)},n.prototype.getRevision=function(){return this.revision_},n.prototype.on=function(t,r){if(Array.isArray(t)){for(var n=t.length,i=new Array(n),o=0;o<n;++o)i[o]=(0,e.listen)(this,t[o],r);return i}return(0,e.listen)(this,t,r)},n.prototype.once=function(t,r){if(Array.isArray(t)){for(var n=t.length,i=new Array(n),o=0;o<n;++o)i[o]=(0,e.listenOnce)(this,t[o],r);return i}return(0,e.listenOnce)(this,t,r)},n.prototype.un=function(t,r){if(Array.isArray(t))for(var n=0,i=t.length;n<i;++n)(0,e.unlisten)(this,t[n],r);else(0,e.unlisten)(this,t,r)},n}(t.default);function o(t){if(Array.isArray(t))for(var r=0,n=t.length;r<n;++r)(0,e.unlistenByKey)(t[r]);else(0,e.unlistenByKey)(t)}var s=i;exports.default=s;
},{"./events.js":"55Uq","./events/Target.js":"8CR4","./events/EventType.js":"C8cu"}],"PhPh":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getChangeEventType=a,exports.default=exports.ObjectEvent=void 0;var t=require("./util.js"),e=i(require("./ObjectEventType.js")),r=i(require("./Observable.js")),o=i(require("./events/Event.js")),s=require("./obj.js");function i(t){return t&&t.__esModule?t:{default:t}}var n=function(t){function e(e,r,o){t.call(this,e),this.key=r,this.oldValue=o}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(o.default);exports.ObjectEvent=n;var u=function(r){function o(e){r.call(this),(0,t.getUid)(this),this.values_={},void 0!==e&&this.setProperties(e)}return r&&(o.__proto__=r),o.prototype=Object.create(r&&r.prototype),o.prototype.constructor=o,o.prototype.get=function(t){var e;return this.values_.hasOwnProperty(t)&&(e=this.values_[t]),e},o.prototype.getKeys=function(){return Object.keys(this.values_)},o.prototype.getProperties=function(){return(0,s.assign)({},this.values_)},o.prototype.notify=function(t,r){var o;o=a(t),this.dispatchEvent(new n(o,t,r)),o=e.default.PROPERTYCHANGE,this.dispatchEvent(new n(o,t,r))},o.prototype.set=function(t,e,r){if(r)this.values_[t]=e;else{var o=this.values_[t];this.values_[t]=e,o!==e&&this.notify(t,o)}},o.prototype.setProperties=function(t,e){for(var r in t)this.set(r,t[r],e)},o.prototype.unset=function(t,e){if(t in this.values_){var r=this.values_[t];delete this.values_[t],e||this.notify(t,r)}},o}(r.default),p={};function a(t){return p.hasOwnProperty(t)?p[t]:p[t]="change:"+t}var c=u;exports.default=c;
},{"./util.js":"KniQ","./ObjectEventType.js":"zehl","./Observable.js":"8IdS","./events/Event.js":"fKNg","./obj.js":"mH6q"}],"FnDa":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.CollectionEvent=void 0;var t=n(require("./AssertionError.js")),e=n(require("./CollectionEventType.js")),r=n(require("./Object.js")),i=n(require("./events/Event.js"));function n(t){return t&&t.__esModule?t:{default:t}}var o={LENGTH:"length"},s=function(t){function e(e,r){t.call(this,e),this.element=r}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(i.default);exports.CollectionEvent=s;var a=function(r){function i(t,e){r.call(this);var i=e||{};if(this.unique_=!!i.unique,this.array_=t||[],this.unique_)for(var n=0,o=this.array_.length;n<o;++n)this.assertUnique_(this.array_[n],n);this.updateLength_()}return r&&(i.__proto__=r),i.prototype=Object.create(r&&r.prototype),i.prototype.constructor=i,i.prototype.clear=function(){for(;this.getLength()>0;)this.pop()},i.prototype.extend=function(t){for(var e=0,r=t.length;e<r;++e)this.push(t[e]);return this},i.prototype.forEach=function(t){for(var e=this.array_,r=0,i=e.length;r<i;++r)t(e[r],r,e)},i.prototype.getArray=function(){return this.array_},i.prototype.item=function(t){return this.array_[t]},i.prototype.getLength=function(){return this.get(o.LENGTH)},i.prototype.insertAt=function(t,r){this.unique_&&this.assertUnique_(r),this.array_.splice(t,0,r),this.updateLength_(),this.dispatchEvent(new s(e.default.ADD,r))},i.prototype.pop=function(){return this.removeAt(this.getLength()-1)},i.prototype.push=function(t){this.unique_&&this.assertUnique_(t);var e=this.getLength();return this.insertAt(e,t),this.getLength()},i.prototype.remove=function(t){for(var e=this.array_,r=0,i=e.length;r<i;++r)if(e[r]===t)return this.removeAt(r)},i.prototype.removeAt=function(t){var r=this.array_[t];return this.array_.splice(t,1),this.updateLength_(),this.dispatchEvent(new s(e.default.REMOVE,r)),r},i.prototype.setAt=function(t,r){var i=this.getLength();if(t<i){this.unique_&&this.assertUnique_(r,t);var n=this.array_[t];this.array_[t]=r,this.dispatchEvent(new s(e.default.REMOVE,n)),this.dispatchEvent(new s(e.default.ADD,r))}else{for(var o=i;o<t;++o)this.insertAt(o,void 0);this.insertAt(t,r)}},i.prototype.updateLength_=function(){this.set(o.LENGTH,this.array_.length)},i.prototype.assertUnique_=function(e,r){for(var i=0,n=this.array_.length;i<n;++i)if(this.array_[i]===e&&i!==r)throw new t.default(58)},i}(r.default),h=a;exports.default=h;
},{"./AssertionError.js":"ygGQ","./CollectionEventType.js":"BTrx","./Object.js":"PhPh","./events/Event.js":"fKNg"}],"fLG6":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.assert=t;var e=r(require("./AssertionError.js"));function r(e){return e&&e.__esModule?e:{default:e}}function t(r,t){if(!r)throw new e.default(t)}
},{"./AssertionError.js":"ygGQ"}],"mYW9":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.createStyleFunction=y,exports.default=void 0;var e=require("./asserts.js"),t=require("./events.js"),r=i(require("./events/EventType.js")),o=n(require("./Object.js"));function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var o=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};o.get||o.set?Object.defineProperty(t,r,o):t[r]=e[r]}return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function n(r){if(e.call(this),this.id_=void 0,this.geometryName_="geometry",this.style_=null,this.styleFunction_=void 0,this.geometryChangeKey_=null,(0,t.listen)(this,(0,o.getChangeEventType)(this.geometryName_),this.handleGeometryChanged_,this),r)if("function"==typeof r.getSimplifiedGeometry){var n=r;this.setGeometry(n)}else{var i=r;this.setProperties(i)}}return e&&(n.__proto__=e),n.prototype=Object.create(e&&e.prototype),n.prototype.constructor=n,n.prototype.clone=function(){var e=new n(this.getProperties());e.setGeometryName(this.getGeometryName());var t=this.getGeometry();t&&e.setGeometry(t.clone());var r=this.getStyle();return r&&e.setStyle(r),e},n.prototype.getGeometry=function(){return this.get(this.geometryName_)},n.prototype.getId=function(){return this.id_},n.prototype.getGeometryName=function(){return this.geometryName_},n.prototype.getStyle=function(){return this.style_},n.prototype.getStyleFunction=function(){return this.styleFunction_},n.prototype.handleGeometryChange_=function(){this.changed()},n.prototype.handleGeometryChanged_=function(){this.geometryChangeKey_&&((0,t.unlistenByKey)(this.geometryChangeKey_),this.geometryChangeKey_=null);var e=this.getGeometry();e&&(this.geometryChangeKey_=(0,t.listen)(e,r.default.CHANGE,this.handleGeometryChange_,this)),this.changed()},n.prototype.setGeometry=function(e){this.set(this.geometryName_,e)},n.prototype.setStyle=function(e){this.style_=e,this.styleFunction_=e?y(e):void 0,this.changed()},n.prototype.setId=function(e){this.id_=e,this.changed()},n.prototype.setGeometryName=function(e){(0,t.unlisten)(this,(0,o.getChangeEventType)(this.geometryName_),this.handleGeometryChanged_,this),this.geometryName_=e,(0,t.listen)(this,(0,o.getChangeEventType)(this.geometryName_),this.handleGeometryChanged_,this),this.handleGeometryChanged_()},n}(o.default);function y(t){return"function"==typeof t?t:(Array.isArray(t)?r=t:((0,e.assert)("function"==typeof t.getZIndex,41),r=[t]),function(){return r});var r}var h=s;exports.default=h;
},{"./asserts.js":"fLG6","./events.js":"55Uq","./events/EventType.js":"C8cu","./Object.js":"PhPh"}],"luEr":[function(require,module,exports) {
"use strict";function r(r,n,t){for(var u,o,i=t||e,f=0,a=r.length,s=!1;f<a;)(o=+i(r[u=f+(a-f>>1)],n))<0?f=u+1:(a=u,s=!o);return s?f:~f}function e(r,e){return r>e?1:r<e?-1:0}function n(r,e){return r.indexOf(e)>=0}function t(r,e,n){var t,u=r.length;if(r[0]<=e)return 0;if(e<=r[u-1])return u-1;if(n>0){for(t=1;t<u;++t)if(r[t]<e)return t-1}else if(n<0){for(t=1;t<u;++t)if(r[t]<=e)return t}else for(t=1;t<u;++t){if(r[t]==e)return t;if(r[t]<e)return r[t-1]-e<e-r[t]?t-1:t}return u-1}function u(r,e,n){for(;e<n;){var t=r[e];r[e]=r[n],r[n]=t,++e,--n}}function o(r,e){for(var n=Array.isArray(e)?e:[e],t=n.length,u=0;u<t;u++)r[r.length]=n[u]}function i(r,e){var n=r.indexOf(e),t=n>-1;return t&&r.splice(n,1),t}function f(r,e){for(var n,t=r.length>>>0,u=0;u<t;u++)if(e(n=r[u],u,r))return n;return null}function a(r,e){var n=r.length;if(n!==e.length)return!1;for(var t=0;t<n;t++)if(r[t]!==e[t])return!1;return!0}function s(r,e){var n,t=r.length,u=Array(r.length);for(n=0;n<t;n++)u[n]={index:n,value:r[n]};for(u.sort(function(r,n){return e(r.value,n.value)||r.index-n.index}),n=0;n<r.length;n++)r[n]=u[n].value}function l(r,e){var n;return!r.every(function(t,u){return n=u,!e(t,u,r)})?n:-1}function c(r,n,t){var u=n||e;return r.every(function(e,n){if(0===n)return!0;var o=u(r[n-1],e);return!(o>0||t&&0===o)})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.binarySearch=r,exports.numberSafeCompareFunction=e,exports.includes=n,exports.linearFindNearest=t,exports.reverseSubArray=u,exports.extend=o,exports.remove=i,exports.find=f,exports.equals=a,exports.stableSort=s,exports.findIndex=l,exports.isSorted=c;
},{}],"urGY":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t={BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",TOP_LEFT:"top-left",TOP_RIGHT:"top-right"};exports.default=t;
},{}],"bUAS":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16};exports.default=e;
},{}],"QDir":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.boundingExtent=o,exports.buffer=a,exports.clone=i,exports.closestSquaredDistanceXY=s,exports.containsCoordinate=f,exports.containsExtent=c,exports.containsXY=p,exports.coordinateRelationship=x,exports.createEmpty=l,exports.createOrUpdate=d,exports.createOrUpdateEmpty=h,exports.createOrUpdateFromCoordinate=m,exports.createOrUpdateFromCoordinates=g,exports.createOrUpdateFromFlatCoordinates=T,exports.createOrUpdateFromRings=E,exports.equals=M,exports.extend=O,exports.extendCoordinate=v,exports.extendCoordinates=C,exports.extendFlatCoordinates=R,exports.extendRings=F,exports.extendXY=I,exports.forEachCorner=N,exports.getArea=B,exports.getBottomLeft=L,exports.getBottomRight=y,exports.getCenter=U,exports.getCorner=G,exports.getEnlargedArea=_,exports.getForViewAndSize=A,exports.getHeight=S,exports.getIntersectionArea=H,exports.getIntersection=W,exports.getMargin=q,exports.getSize=j,exports.getTopLeft=V,exports.getTopRight=b,exports.getWidth=P,exports.intersects=X,exports.isEmpty=Y,exports.returnOrUpdate=z,exports.scaleFromCenter=K,exports.intersectsSegment=w,exports.applyTransform=D;var t=require("./asserts.js"),e=n(require("./extent/Corner.js")),r=n(require("./extent/Relationship.js"));function n(t){return t&&t.__esModule?t:{default:t}}function o(t){for(var e=l(),r=0,n=t.length;r<n;++r)v(e,t[r]);return e}function u(t,e,r){return d(Math.min.apply(null,t),Math.min.apply(null,e),Math.max.apply(null,t),Math.max.apply(null,e),r)}function a(t,e,r){return r?(r[0]=t[0]-e,r[1]=t[1]-e,r[2]=t[2]+e,r[3]=t[3]+e,r):[t[0]-e,t[1]-e,t[2]+e,t[3]+e]}function i(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t.slice()}function s(t,e,r){var n,o;return(n=e<t[0]?t[0]-e:t[2]<e?e-t[2]:0)*n+(o=r<t[1]?t[1]-r:t[3]<r?r-t[3]:0)*o}function f(t,e){return p(t,e[0],e[1])}function c(t,e){return t[0]<=e[0]&&e[2]<=t[2]&&t[1]<=e[1]&&e[3]<=t[3]}function p(t,e,r){return t[0]<=e&&e<=t[2]&&t[1]<=r&&r<=t[3]}function x(t,e){var n=t[0],o=t[1],u=t[2],a=t[3],i=e[0],s=e[1],f=r.default.UNKNOWN;return i<n?f|=r.default.LEFT:i>u&&(f|=r.default.RIGHT),s<o?f|=r.default.BELOW:s>a&&(f|=r.default.ABOVE),f===r.default.UNKNOWN&&(f=r.default.INTERSECTING),f}function l(){return[1/0,1/0,-1/0,-1/0]}function d(t,e,r,n,o){return o?(o[0]=t,o[1]=e,o[2]=r,o[3]=n,o):[t,e,r,n]}function h(t){return d(1/0,1/0,-1/0,-1/0,t)}function m(t,e){var r=t[0],n=t[1];return d(r,n,r,n,e)}function g(t,e){return C(h(e),t)}function T(t,e,r,n,o){return R(h(o),t,e,r,n)}function E(t,e){return F(h(e),t)}function M(t,e){return t[0]==e[0]&&t[2]==e[2]&&t[1]==e[1]&&t[3]==e[3]}function O(t,e){return e[0]<t[0]&&(t[0]=e[0]),e[2]>t[2]&&(t[2]=e[2]),e[1]<t[1]&&(t[1]=e[1]),e[3]>t[3]&&(t[3]=e[3]),t}function v(t,e){e[0]<t[0]&&(t[0]=e[0]),e[0]>t[2]&&(t[2]=e[0]),e[1]<t[1]&&(t[1]=e[1]),e[1]>t[3]&&(t[3]=e[1])}function C(t,e){for(var r=0,n=e.length;r<n;++r)v(t,e[r]);return t}function R(t,e,r,n,o){for(;r<n;r+=o)I(t,e[r],e[r+1]);return t}function F(t,e){for(var r=0,n=e.length;r<n;++r)C(t,e[r]);return t}function I(t,e,r){t[0]=Math.min(t[0],e),t[1]=Math.min(t[1],r),t[2]=Math.max(t[2],e),t[3]=Math.max(t[3],r)}function N(t,e,r){var n;return(n=e.call(r,L(t)))?n:(n=e.call(r,y(t)))?n:(n=e.call(r,b(t)))?n:(n=e.call(r,V(t)))||!1}function B(t){var e=0;return Y(t)||(e=P(t)*S(t)),e}function L(t){return[t[0],t[1]]}function y(t){return[t[2],t[1]]}function U(t){return[(t[0]+t[2])/2,(t[1]+t[3])/2]}function G(r,n){var o;return n===e.default.BOTTOM_LEFT?o=L(r):n===e.default.BOTTOM_RIGHT?o=y(r):n===e.default.TOP_LEFT?o=V(r):n===e.default.TOP_RIGHT?o=b(r):(0,t.assert)(!1,13),o}function _(t,e){var r=Math.min(t[0],e[0]),n=Math.min(t[1],e[1]);return(Math.max(t[2],e[2])-r)*(Math.max(t[3],e[3])-n)}function A(t,e,r,n,o){var u=e*n[0]/2,a=e*n[1]/2,i=Math.cos(r),s=Math.sin(r),f=u*i,c=u*s,p=a*i,x=a*s,l=t[0],h=t[1],m=l-f+x,g=l-f-x,T=l+f-x,E=l+f+x,M=h-c-p,O=h-c+p,v=h+c+p,C=h+c-p;return d(Math.min(m,g,T,E),Math.min(M,O,v,C),Math.max(m,g,T,E),Math.max(M,O,v,C),o)}function S(t){return t[3]-t[1]}function H(t,e){return B(W(t,e))}function W(t,e,r){var n=r||l();return X(t,e)?(t[0]>e[0]?n[0]=t[0]:n[0]=e[0],t[1]>e[1]?n[1]=t[1]:n[1]=e[1],t[2]<e[2]?n[2]=t[2]:n[2]=e[2],t[3]<e[3]?n[3]=t[3]:n[3]=e[3]):h(n),n}function q(t){return P(t)+S(t)}function j(t){return[t[2]-t[0],t[3]-t[1]]}function V(t){return[t[0],t[3]]}function b(t){return[t[2],t[3]]}function P(t){return t[2]-t[0]}function X(t,e){return t[0]<=e[2]&&t[2]>=e[0]&&t[1]<=e[3]&&t[3]>=e[1]}function Y(t){return t[2]<t[0]||t[3]<t[1]}function z(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t}function K(t,e){var r=(t[2]-t[0])/2*(e-1),n=(t[3]-t[1])/2*(e-1);t[0]-=r,t[2]+=r,t[1]-=n,t[3]+=n}function w(t,e,n){var o=!1,u=x(t,e),a=x(t,n);if(u===r.default.INTERSECTING||a===r.default.INTERSECTING)o=!0;else{var i,s,f=t[0],c=t[1],p=t[2],l=t[3],d=e[0],h=e[1],m=n[0],g=n[1],T=(g-h)/(m-d);a&r.default.ABOVE&&!(u&r.default.ABOVE)&&(o=(i=m-(g-l)/T)>=f&&i<=p),o||!(a&r.default.RIGHT)||u&r.default.RIGHT||(o=(s=g-(m-p)*T)>=c&&s<=l),o||!(a&r.default.BELOW)||u&r.default.BELOW||(o=(i=m-(g-c)/T)>=f&&i<=p),o||!(a&r.default.LEFT)||u&r.default.LEFT||(o=(s=g-(m-f)*T)>=c&&s<=l)}return o}function D(t,e,r){var n=[t[0],t[1],t[0],t[3],t[2],t[1],t[2],t[3]];return e(n,n,2),u([n[0],n[2],n[4],n[6]],[n[1],n[3],n[5],n[7]],r)}
},{"./asserts.js":"fLG6","./extent/Corner.js":"urGY","./extent/Relationship.js":"bUAS"}],"1Utv":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={XY:"XY",XYZ:"XYZ",XYM:"XYM",XYZM:"XYZM"};exports.default=e;
},{}],"lmV0":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={POINT:"Point",LINE_STRING:"LineString",LINEAR_RING:"LinearRing",POLYGON:"Polygon",MULTI_POINT:"MultiPoint",MULTI_LINE_STRING:"MultiLineString",MULTI_POLYGON:"MultiPolygon",GEOMETRY_COLLECTION:"GeometryCollection",CIRCLE:"Circle"};exports.default=e;
},{}],"LGwr":[function(require,module,exports) {
"use strict";function r(r,t,e,n,o,a){for(var f=a||[],s=0,l=t;l<e;l+=n){var u=r[l],v=r[l+1];f[s++]=o[0]*u+o[2]*v+o[4],f[s++]=o[1]*u+o[3]*v+o[5]}return a&&f.length!=s&&(f.length=s),f}function t(r,t,e,n,o,a,f){for(var s=f||[],l=Math.cos(o),u=Math.sin(o),v=a[0],h=a[1],c=0,g=t;g<e;g+=n){var i=r[g]-v,p=r[g+1]-h;s[c++]=v+i*l-p*u,s[c++]=h+i*u+p*l;for(var x=g+2;x<g+n;++x)s[c++]=r[x]}return f&&s.length!=c&&(s.length=c),s}function e(r,t,e,n,o,a,f,s){for(var l=s||[],u=f[0],v=f[1],h=0,c=t;c<e;c+=n){var g=r[c]-u,i=r[c+1]-v;l[h++]=u+o*g,l[h++]=v+a*i;for(var p=c+2;p<c+n;++p)l[h++]=r[p]}return s&&l.length!=h&&(l.length=h),l}function n(r,t,e,n,o,a,f){for(var s=f||[],l=0,u=t;u<e;u+=n){s[l++]=r[u]+o,s[l++]=r[u+1]+a;for(var v=u+2;v<u+n;++v)s[l++]=r[v]}return f&&s.length!=l&&(s.length=l),s}Object.defineProperty(exports,"__esModule",{value:!0}),exports.transform2D=r,exports.rotate=t,exports.scale=e,exports.translate=n;
},{}],"B96G":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.clamp=t,exports.roundUpToPowerOfTwo=o,exports.squaredSegmentDistance=a,exports.squaredDistance=n,exports.solveLinearSystem=s,exports.toDegrees=u,exports.toRadians=i,exports.modulo=c,exports.lerp=f,exports.cosh=void 0;var r=require("./asserts.js");function t(r,t,e){return Math.min(Math.max(r,t),e)}var e="cosh"in Math?Math.cosh:function(r){var t=Math.exp(r);return(t+1/t)/2};function o(t){return(0,r.assert)(0<t,29),Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))}function a(r,t,e,o,a,s){var u=a-e,i=s-o;if(0!==u||0!==i){var c=((r-e)*u+(t-o)*i)/(u*u+i*i);c>1?(e=a,o=s):c>0&&(e+=u*c,o+=i*c)}return n(r,t,e,o)}function n(r,t,e,o){var a=e-r,n=o-t;return a*a+n*n}function s(r){for(var t=r.length,e=0;e<t;e++){for(var o=e,a=Math.abs(r[e][e]),n=e+1;n<t;n++){var s=Math.abs(r[n][e]);s>a&&(a=s,o=n)}if(0===a)return null;var u=r[o];r[o]=r[e],r[e]=u;for(var i=e+1;i<t;i++)for(var c=-r[i][e]/r[e][e],f=e;f<t+1;f++)e==f?r[i][f]=0:r[i][f]+=c*r[e][f]}for(var h=new Array(t),p=t-1;p>=0;p--){h[p]=r[p][t]/r[p][p];for(var v=p-1;v>=0;v--)r[v][t]-=r[v][p]*h[p]}return h}function u(r){return 180*r/Math.PI}function i(r){return r*Math.PI/180}function c(r,t){var e=r%t;return e*t<0?e+t:e}function f(r,t,e){return r+e*(t-r)}exports.cosh=e;
},{"./asserts.js":"fLG6"}],"q4ER":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getDistance=s,exports.getLength=n,exports.getArea=u,exports.offset=h,exports.DEFAULT_RADIUS=void 0;var e=require("./math.js"),t=a(require("./geom/GeometryType.js"));function a(e){return e&&e.__esModule?e:{default:e}}var r=6371008.8;function s(t,a,s){var o=s||r,n=(0,e.toRadians)(t[1]),i=(0,e.toRadians)(a[1]),u=(i-n)/2,h=(0,e.toRadians)(a[0]-t[0])/2,f=Math.sin(u)*Math.sin(u)+Math.sin(h)*Math.sin(h)*Math.cos(n)*Math.cos(i);return 2*o*Math.atan2(Math.sqrt(f),Math.sqrt(1-f))}function o(e,t){for(var a=0,r=0,o=e.length;r<o-1;++r)a+=s(e[r],e[r+1],t);return a}function n(e,a){var s=a||{},i=s.radius||r,u=s.projection||"EPSG:3857",h=e.getType();h!==t.default.GEOMETRY_COLLECTION&&(e=e.clone().transform(u,"EPSG:4326"));var f,d,M,c,l,g,I=0;switch(h){case t.default.POINT:case t.default.MULTI_POINT:break;case t.default.LINE_STRING:case t.default.LINEAR_RING:I=o(f=e.getCoordinates(),i);break;case t.default.MULTI_LINE_STRING:case t.default.POLYGON:for(M=0,c=(f=e.getCoordinates()).length;M<c;++M)I+=o(f[M],i);break;case t.default.MULTI_POLYGON:for(M=0,c=(f=e.getCoordinates()).length;M<c;++M)for(l=0,g=(d=f[M]).length;l<g;++l)I+=o(d[l],i);break;case t.default.GEOMETRY_COLLECTION:var L=e.getGeometries();for(M=0,c=L.length;M<c;++M)I+=n(L[M],a);break;default:throw new Error("Unsupported geometry type: "+h)}return I}function i(t,a){for(var r=0,s=t.length,o=t[s-1][0],n=t[s-1][1],i=0;i<s;i++){var u=t[i][0],h=t[i][1];r+=(0,e.toRadians)(u-o)*(2+Math.sin((0,e.toRadians)(n))+Math.sin((0,e.toRadians)(h))),o=u,n=h}return r*a*a/2}function u(e,a){var s=a||{},o=s.radius||r,n=s.projection||"EPSG:3857",h=e.getType();h!==t.default.GEOMETRY_COLLECTION&&(e=e.clone().transform(n,"EPSG:4326"));var f,d,M,c,l,g,I=0;switch(h){case t.default.POINT:case t.default.MULTI_POINT:case t.default.LINE_STRING:case t.default.MULTI_LINE_STRING:case t.default.LINEAR_RING:break;case t.default.POLYGON:for(f=e.getCoordinates(),I=Math.abs(i(f[0],o)),M=1,c=f.length;M<c;++M)I-=Math.abs(i(f[M],o));break;case t.default.MULTI_POLYGON:for(M=0,c=(f=e.getCoordinates()).length;M<c;++M)for(d=f[M],I+=Math.abs(i(d[0],o)),l=1,g=d.length;l<g;++l)I-=Math.abs(i(d[l],o));break;case t.default.GEOMETRY_COLLECTION:var L=e.getGeometries();for(M=0,c=L.length;M<c;++M)I+=u(L[M],a);break;default:throw new Error("Unsupported geometry type: "+h)}return I}function h(t,a,s,o){var n=o||r,i=(0,e.toRadians)(t[1]),u=(0,e.toRadians)(t[0]),h=a/n,f=Math.asin(Math.sin(i)*Math.cos(h)+Math.cos(i)*Math.sin(h)*Math.cos(s)),d=u+Math.atan2(Math.sin(s)*Math.sin(h)*Math.cos(i),Math.cos(h)-Math.sin(i)*Math.sin(f));return[(0,e.toDegrees)(d),(0,e.toDegrees)(f)]}exports.DEFAULT_RADIUS=r;
},{"./math.js":"B96G","./geom/GeometryType.js":"lmV0"}],"yZx6":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.METERS_PER_UNIT=void 0;var E={DEGREES:"degrees",FEET:"ft",METERS:"m",PIXELS:"pixels",TILE_PIXELS:"tile-pixels",USFEET:"us-ft"},e={};exports.METERS_PER_UNIT=e,e[E.DEGREES]=2*Math.PI*6370997/360,e[E.FEET]=.3048,e[E.METERS]=1,e[E.USFEET]=1200/3937;var t=E;exports.default=t;
},{}],"WUar":[function(require,module,exports) {
var global = arguments[3];
var t=arguments[3];Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("./Units.js"),n=function(t){this.code_=t.code,this.units_=t.units,this.extent_=void 0!==t.extent?t.extent:null,this.worldExtent_=void 0!==t.worldExtent?t.worldExtent:null,this.axisOrientation_=void 0!==t.axisOrientation?t.axisOrientation:"enu",this.global_=void 0!==t.global&&t.global,this.canWrapX_=!(!this.global_||!this.extent_),this.getPointResolutionFunc_=t.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=t.metersPerUnit};n.prototype.canWrapX=function(){return this.canWrapX_},n.prototype.getCode=function(){return this.code_},n.prototype.getExtent=function(){return this.extent_},n.prototype.getUnits=function(){return this.units_},n.prototype.getMetersPerUnit=function(){return this.metersPerUnit_||e.METERS_PER_UNIT[this.units_]},n.prototype.getWorldExtent=function(){return this.worldExtent_},n.prototype.getAxisOrientation=function(){return this.axisOrientation_},n.prototype.isGlobal=function(){return this.global_},n.prototype.setGlobal=function(t){this.global_=t,this.canWrapX_=!(!t||!this.extent_)},n.prototype.getDefaultTileGrid=function(){return this.defaultTileGrid_},n.prototype.setDefaultTileGrid=function(t){this.defaultTileGrid_=t},n.prototype.setExtent=function(t){this.extent_=t,this.canWrapX_=!(!this.global_||!t)},n.prototype.setWorldExtent=function(t){this.worldExtent_=t},n.prototype.setGetPointResolution=function(t){this.getPointResolutionFunc_=t},n.prototype.getPointResolutionFunc=function(){return this.getPointResolutionFunc_};var i=n;exports.default=i;
},{"./Units.js":"yZx6"}],"lohs":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.fromEPSG4326=E,exports.toEPSG4326=c,exports.PROJECTIONS=exports.WORLD_EXTENT=exports.EXTENT=exports.HALF_SIZE=exports.RADIUS=void 0;var e=require("../math.js"),t=o(require("./Projection.js")),r=o(require("./Units.js"));function o(e){return e&&e.__esModule?e:{default:e}}var n=6378137;exports.RADIUS=n;var s=Math.PI*n;exports.HALF_SIZE=s;var a=[-s,-s,s,s];exports.EXTENT=a;var u=[-180,-85,180,85];exports.WORLD_EXTENT=u;var p=function(t){function o(o){t.call(this,{code:o,units:r.default.METERS,extent:a,global:!0,worldExtent:u,getPointResolution:function(t,r){return t/(0,e.cosh)(r[1]/n)}})}return t&&(o.__proto__=t),o.prototype=Object.create(t&&t.prototype),o.prototype.constructor=o,o}(t.default),i=[new p("EPSG:3857"),new p("EPSG:102100"),new p("EPSG:102113"),new p("EPSG:900913"),new p("urn:ogc:def:crs:EPSG:6.18:3:3857"),new p("urn:ogc:def:crs:EPSG::3857"),new p("http://www.opengis.net/gml/srs/epsg.xml#3857")];function E(e,t,r){var o=e.length,a=r>1?r:2,u=t;void 0===u&&(u=a>2?e.slice():new Array(o));for(var p=s,i=0;i<o;i+=a){u[i]=p*e[i]/180;var E=n*Math.log(Math.tan(Math.PI*(e[i+1]+90)/360));E>p?E=p:E<-p&&(E=-p),u[i+1]=E}return u}function c(e,t,r){var o=e.length,a=r>1?r:2,u=t;void 0===u&&(u=a>2?e.slice():new Array(o));for(var p=0;p<o;p+=a)u[p]=180*e[p]/s,u[p+1]=360*Math.atan(Math.exp(e[p+1]/n))/Math.PI-90;return u}exports.PROJECTIONS=i;
},{"../math.js":"B96G","./Projection.js":"WUar","./Units.js":"yZx6"}],"ZniN":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.PROJECTIONS=exports.METERS_PER_UNIT=exports.EXTENT=exports.RADIUS=void 0;var e=t(require("./Projection.js")),r=t(require("./Units.js"));function t(e){return e&&e.__esModule?e:{default:e}}var n=6378137;exports.RADIUS=n;var o=[-180,-90,180,90];exports.EXTENT=o;var s=Math.PI*n/180;exports.METERS_PER_UNIT=s;var u=function(e){function t(t,n){e.call(this,{code:t,units:r.default.DEGREES,extent:o,axisOrientation:n,global:!0,metersPerUnit:s,worldExtent:o})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(e.default),c=[new u("CRS:84"),new u("EPSG:4326","neu"),new u("urn:ogc:def:crs:EPSG::4326","neu"),new u("urn:ogc:def:crs:EPSG:6.6:4326","neu"),new u("urn:ogc:def:crs:OGC:1.3:CRS84"),new u("urn:ogc:def:crs:OGC:2:84"),new u("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new u("urn:x-ogc:def:crs:EPSG:4326","neu")];exports.PROJECTIONS=c;
},{"./Projection.js":"WUar","./Units.js":"yZx6"}],"3tlE":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.clear=t,exports.get=r,exports.add=n;var e={};function t(){e={}}function r(t){return e[t]||null}function n(t,r){e[t]=r}
},{}],"uhlP":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.clear=r,exports.add=o,exports.remove=n,exports.get=i;var e=require("../obj.js"),t={};function r(){t={}}function o(e,r,o){var n=e.getCode(),i=r.getCode();n in t||(t[n]={}),t[n][i]=o}function n(r,o){var n=r.getCode(),i=o.getCode(),d=t[n][i];return delete t[n][i],(0,e.isEmpty)(t[n])&&delete t[n],d}function i(e,r){var o;return e in t&&r in t[e]&&(o=t[e][r]),o}
},{"../obj.js":"mH6q"}],"Diht":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.cloneTransform=d,exports.identityTransform=p,exports.addProjection=l,exports.addProjections=E,exports.get=P,exports.getPointResolution=j,exports.addEquivalentProjections=g,exports.addEquivalentTransforms=v,exports.clearAllProjections=x,exports.createProjection=m,exports.createTransformFromCoordinateTransform=O,exports.addCoordinateTransforms=T,exports.fromLonLat=S,exports.toLonLat=y,exports.equivalent=R,exports.getTransformFromProjections=h,exports.getTransform=q,exports.transform=C,exports.transformExtent=_,exports.transformWithProjections=b,exports.addCommon=G,Object.defineProperty(exports,"Projection",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(exports,"METERS_PER_UNIT",{enumerable:!0,get:function(){return s.METERS_PER_UNIT}});var e=require("./sphere.js"),r=require("./extent.js"),t=require("./math.js"),o=require("./proj/epsg3857.js"),n=require("./proj/epsg4326.js"),i=c(require("./proj/Projection.js")),s=f(require("./proj/Units.js")),u=f(require("./proj/projections.js")),a=require("./proj/transforms.js");function f(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)){var o=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,t):{};o.get||o.set?Object.defineProperty(r,t,o):r[t]=e[t]}return r.default=e,r}function c(e){return e&&e.__esModule?e:{default:e}}function d(e,r,t){var o;if(void 0!==r){for(var n=0,i=e.length;n<i;++n)r[n]=e[n];o=r}else o=e.slice();return o}function p(e,r,t){if(void 0!==r&&e!==r){for(var o=0,n=e.length;o<n;++o)r[o]=e[o];e=r}return e}function l(e){u.add(e.getCode(),e),(0,a.add)(e,e,d)}function E(e){e.forEach(l)}function P(e){return"string"==typeof e?u.get(e):e||null}function j(r,t,o,n){var i,u=(r=P(r)).getPointResolutionFunc();if(u)i=u(t,o);else if(r.getUnits()==s.default.DEGREES&&!n||n==s.default.DEGREES)i=t;else{var a=h(r,P("EPSG:4326")),f=[o[0]-t/2,o[1],o[0]+t/2,o[1],o[0],o[1]-t/2,o[0],o[1]+t/2];f=a(f,f,2),i=((0,e.getDistance)(f.slice(0,2),f.slice(2,4))+(0,e.getDistance)(f.slice(4,6),f.slice(6,8)))/2;var c=n?s.METERS_PER_UNIT[n]:r.getMetersPerUnit();void 0!==c&&(i/=c)}return i}function g(e){E(e),e.forEach(function(r){e.forEach(function(e){r!==e&&(0,a.add)(r,e,d)})})}function v(e,r,t,o){e.forEach(function(e){r.forEach(function(r){(0,a.add)(e,r,t),(0,a.add)(r,e,o)})})}function x(){u.clear(),(0,a.clear)()}function m(e,r){return e?"string"==typeof e?P(e):e:P(r)}function O(e){return function(r,t,o){for(var n=r.length,i=void 0!==o?o:2,s=void 0!==t?t:new Array(n),u=0;u<n;u+=i){var a=e([r[u],r[u+1]]);s[u]=a[0],s[u+1]=a[1];for(var f=i-1;f>=2;--f)s[u+f]=r[u+f]}return s}}function T(e,r,t,o){var n=P(e),i=P(r);(0,a.add)(n,i,O(t)),(0,a.add)(i,n,O(o))}function S(e,r){return C(e,"EPSG:4326",void 0!==r?r:"EPSG:3857")}function y(e,r){var o=C(e,void 0!==r?r:"EPSG:3857","EPSG:4326"),n=o[0];return(n<-180||n>180)&&(o[0]=(0,t.modulo)(n+180,360)-180),o}function R(e,r){if(e===r)return!0;var t=e.getUnits()===r.getUnits();return e.getCode()===r.getCode()?t:h(e,r)===d&&t}function h(e,r){var t=e.getCode(),o=r.getCode(),n=(0,a.get)(t,o);return n||(n=p),n}function q(e,r){return h(P(e),P(r))}function C(e,r,t){return q(r,t)(e,void 0,e.length)}function _(e,t,o){var n=q(t,o);return(0,r.applyTransform)(e,n)}function b(e,r,t){return h(r,t)(e)}function G(){g(o.PROJECTIONS),g(n.PROJECTIONS),v(n.PROJECTIONS,o.PROJECTIONS,o.fromEPSG4326,o.toEPSG4326)}G();
},{"./sphere.js":"q4ER","./extent.js":"QDir","./math.js":"B96G","./proj/epsg3857.js":"lohs","./proj/epsg4326.js":"ZniN","./proj/Projection.js":"WUar","./proj/Units.js":"yZx6","./proj/projections.js":"3tlE","./proj/transforms.js":"uhlP"}],"P4eA":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.create=e,exports.reset=n,exports.multiply=o,exports.set=s,exports.setFromArray=u,exports.apply=a,exports.rotate=i,exports.scale=c,exports.translate=p,exports.compose=f,exports.invert=x,exports.determinant=v;var r=require("./asserts.js"),t=new Array(6);function e(){return[1,0,0,1,0,0]}function n(r){return s(r,1,0,0,1,0,0)}function o(r,t){var e=r[0],n=r[1],o=r[2],s=r[3],u=r[4],a=r[5],i=t[0],c=t[1],p=t[2],f=t[3],x=t[4],v=t[5];return r[0]=e*i+o*c,r[1]=n*i+s*c,r[2]=e*p+o*f,r[3]=n*p+s*f,r[4]=e*x+o*v+u,r[5]=n*x+s*v+a,r}function s(r,t,e,n,o,s,u){return r[0]=t,r[1]=e,r[2]=n,r[3]=o,r[4]=s,r[5]=u,r}function u(r,t){return r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r[4]=t[4],r[5]=t[5],r}function a(r,t){var e=t[0],n=t[1];return t[0]=r[0]*e+r[2]*n+r[4],t[1]=r[1]*e+r[3]*n+r[5],t}function i(r,e){var n=Math.cos(e),u=Math.sin(e);return o(r,s(t,n,u,-u,n,0,0))}function c(r,e,n){return o(r,s(t,e,0,0,n,0,0))}function p(r,e,n){return o(r,s(t,1,0,0,1,e,n))}function f(r,t,e,n,o,s,u,a){var i=Math.sin(s),c=Math.cos(s);return r[0]=n*c,r[1]=o*i,r[2]=-n*i,r[3]=o*c,r[4]=u*n*c-a*n*i+t,r[5]=u*o*i+a*o*c+e,r}function x(t){var e=v(t);(0,r.assert)(0!==e,32);var n=t[0],o=t[1],s=t[2],u=t[3],a=t[4],i=t[5];return t[0]=u/e,t[1]=-o/e,t[2]=-s/e,t[3]=n/e,t[4]=(s*i-u*a)/e,t[5]=-(n*i-o*a)/e,t}function v(r){return r[0]*r[3]-r[1]*r[2]}
},{"./asserts.js":"fLG6"}],"F8sI":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../util.js"),e=p(require("../Object.js")),r=require("../extent.js"),o=require("./flat/transform.js"),n=require("../proj.js"),i=p(require("../proj/Units.js")),s=require("../transform.js");function p(t){return t&&t.__esModule?t:{default:t}}var a=(0,s.create)(),u=function(e){function p(){e.call(this),this.extent_=(0,r.createEmpty)(),this.extentRevision_=-1,this.simplifiedGeometryCache={},this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=0}return e&&(p.__proto__=e),p.prototype=Object.create(e&&e.prototype),p.prototype.constructor=p,p.prototype.clone=function(){return(0,t.abstract)()},p.prototype.closestPointXY=function(e,r,o,n){return(0,t.abstract)()},p.prototype.containsXY=function(t,e){return!1},p.prototype.getClosestPoint=function(t,e){var r=e||[NaN,NaN];return this.closestPointXY(t[0],t[1],r,1/0),r},p.prototype.intersectsCoordinate=function(t){return this.containsXY(t[0],t[1])},p.prototype.computeExtent=function(e){return(0,t.abstract)()},p.prototype.getExtent=function(t){return this.extentRevision_!=this.getRevision()&&(this.extent_=this.computeExtent(this.extent_),this.extentRevision_=this.getRevision()),(0,r.returnOrUpdate)(this.extent_,t)},p.prototype.rotate=function(e,r){(0,t.abstract)()},p.prototype.scale=function(e,r,o){(0,t.abstract)()},p.prototype.simplify=function(t){return this.getSimplifiedGeometry(t*t)},p.prototype.getSimplifiedGeometry=function(e){return(0,t.abstract)()},p.prototype.getType=function(){return(0,t.abstract)()},p.prototype.applyTransform=function(e){(0,t.abstract)()},p.prototype.intersectsExtent=function(e){return(0,t.abstract)()},p.prototype.translate=function(e,r){(0,t.abstract)()},p.prototype.transform=function(t,e){var p=(0,n.get)(t),u=p.getUnits()==i.default.TILE_PIXELS?function(t,i,u){var c=p.getExtent(),f=p.getWorldExtent(),y=(0,r.getHeight)(f)/(0,r.getHeight)(c);return(0,s.compose)(a,f[0],f[3],y,-y,0,0,0),(0,o.transform2D)(t,0,t.length,u,a,i),(0,n.getTransform)(p,e)(t,i,u)}:(0,n.getTransform)(p,e);return this.applyTransform(u),this},p}(e.default),c=u;exports.default=c;
},{"../util.js":"KniQ","../Object.js":"PhPh","../extent.js":"QDir","./flat/transform.js":"LGwr","../proj.js":"Diht","../proj/Units.js":"yZx6","../transform.js":"P4eA"}],"pnrv":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getStrideForLayout=u,exports.transformGeom2D=d,exports.default=void 0;var t=require("../util.js"),e=require("../extent.js"),i=a(require("./Geometry.js")),r=a(require("./GeometryLayout.js")),o=require("./flat/transform.js"),s=require("../obj.js");function a(t){return t&&t.__esModule?t:{default:t}}var n=function(i){function a(){i.call(this),this.layout=r.default.XY,this.stride=2,this.flatCoordinates=null}return i&&(a.__proto__=i),a.prototype=Object.create(i&&i.prototype),a.prototype.constructor=a,a.prototype.computeExtent=function(t){return(0,e.createOrUpdateFromFlatCoordinates)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},a.prototype.getCoordinates=function(){return(0,t.abstract)()},a.prototype.getFirstCoordinate=function(){return this.flatCoordinates.slice(0,this.stride)},a.prototype.getFlatCoordinates=function(){return this.flatCoordinates},a.prototype.getLastCoordinate=function(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)},a.prototype.getLayout=function(){return this.layout},a.prototype.getSimplifiedGeometry=function(t){if(this.simplifiedGeometryRevision!=this.getRevision()&&((0,s.clear)(this.simplifiedGeometryCache),this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),t<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&t<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;var e=t.toString();if(this.simplifiedGeometryCache.hasOwnProperty(e))return this.simplifiedGeometryCache[e];var i=this.getSimplifiedGeometryInternal(t);return i.getFlatCoordinates().length<this.flatCoordinates.length?(this.simplifiedGeometryCache[e]=i,i):(this.simplifiedGeometryMaxMinSquaredTolerance=t,this)},a.prototype.getSimplifiedGeometryInternal=function(t){return this},a.prototype.getStride=function(){return this.stride},a.prototype.setFlatCoordinates=function(t,e){this.stride=u(t),this.layout=t,this.flatCoordinates=e},a.prototype.setCoordinates=function(e,i){(0,t.abstract)()},a.prototype.setLayout=function(t,e,i){var o;if(t)o=u(t);else{for(var s=0;s<i;++s){if(0===e.length)return this.layout=r.default.XY,void(this.stride=2);e=e[0]}t=l(o=e.length)}this.layout=t,this.stride=o},a.prototype.applyTransform=function(t){this.flatCoordinates&&(t(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())},a.prototype.rotate=function(t,e){var i=this.getFlatCoordinates();if(i){var r=this.getStride();(0,o.rotate)(i,0,i.length,r,t,e,i),this.changed()}},a.prototype.scale=function(t,i,r){var s=i;void 0===s&&(s=t);var a=r;a||(a=(0,e.getCenter)(this.getExtent()));var n=this.getFlatCoordinates();if(n){var l=this.getStride();(0,o.scale)(n,0,n.length,l,t,s,a,n),this.changed()}},a.prototype.translate=function(t,e){var i=this.getFlatCoordinates();if(i){var r=this.getStride();(0,o.translate)(i,0,i.length,r,t,e,i),this.changed()}},a}(i.default);function l(t){var e;return 2==t?e=r.default.XY:3==t?e=r.default.XYZ:4==t&&(e=r.default.XYZM),e}function u(t){var e;return t==r.default.XY?e=2:t==r.default.XYZ||t==r.default.XYM?e=3:t==r.default.XYZM&&(e=4),e}function d(t,e,i){var r=t.getFlatCoordinates();if(r){var s=t.getStride();return(0,o.transform2D)(r,0,r.length,s,e,i)}return null}var f=n;exports.default=f;
},{"../util.js":"KniQ","../extent.js":"QDir","./Geometry.js":"F8sI","./GeometryLayout.js":"1Utv","./flat/transform.js":"LGwr","../obj.js":"mH6q"}],"EOSm":[function(require,module,exports) {
"use strict";function r(r,e,n,t){for(var o=0,i=r[n-t],a=r[n-t+1];e<n;e+=t){var s=r[e],u=r[e+1];o+=a*s-i*u,i=s,a=u}return o/2}function e(e,n,t,o){for(var i=0,a=0,s=t.length;a<s;++a){var u=t[a];i+=r(e,n,u,o),n=u}return i}function n(r,n,t,o){for(var i=0,a=0,s=t.length;a<s;++a){var u=t[a];i+=e(r,n,u,o),n=u[u.length-1]}return i}Object.defineProperty(exports,"__esModule",{value:!0}),exports.linearRing=r,exports.linearRings=e,exports.linearRingss=n;
},{}],"rMra":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.maxSquaredDelta=t,exports.arrayMaxSquaredDelta=a,exports.multiArrayMaxSquaredDelta=n,exports.assignClosestPoint=s,exports.assignClosestArrayPoint=o,exports.assignClosestMultiArrayPoint=i;var r=require("../../math.js");function e(e,t,a,n,s,o,i){var u,f=e[t],l=e[t+1],v=e[a]-f,h=e[a+1]-l;if(0===v&&0===h)u=t;else{var g=((s-f)*v+(o-l)*h)/(v*v+h*h);if(g>1)u=a;else{if(g>0){for(var c=0;c<n;++c)i[c]=(0,r.lerp)(e[t+c],e[a+c],g);return void(i.length=n)}u=t}}for(var N=0;N<n;++N)i[N]=e[u+N];i.length=n}function t(e,t,a,n,s){var o=e[t],i=e[t+1];for(t+=n;t<a;t+=n){var u=e[t],f=e[t+1],l=(0,r.squaredDistance)(o,i,u,f);l>s&&(s=l),o=u,i=f}return s}function a(r,e,a,n,s){for(var o=0,i=a.length;o<i;++o){var u=a[o];s=t(r,e,u,n,s),e=u}return s}function n(r,e,t,n,s){for(var o=0,i=t.length;o<i;++o){var u=t[o];s=a(r,e,u,n,s),e=u[u.length-1]}return s}function s(t,a,n,s,o,i,u,f,l,v,h){if(a==n)return v;var g,c;if(0===o){if((c=(0,r.squaredDistance)(u,f,t[a],t[a+1]))<v){for(g=0;g<s;++g)l[g]=t[a+g];return l.length=s,c}return v}for(var N=h||[NaN,NaN],x=a+s;x<n;)if(e(t,x-s,x,s,u,f,N),(c=(0,r.squaredDistance)(u,f,N[0],N[1]))<v){for(v=c,g=0;g<s;++g)l[g]=N[g];l.length=s,x+=s}else x+=s*Math.max((Math.sqrt(c)-Math.sqrt(v))/o|0,1);if(i&&(e(t,n-s,a,s,u,f,N),(c=(0,r.squaredDistance)(u,f,N[0],N[1]))<v)){for(v=c,g=0;g<s;++g)l[g]=N[g];l.length=s}return v}function o(r,e,t,a,n,o,i,u,f,l,v){for(var h=v||[NaN,NaN],g=0,c=t.length;g<c;++g){var N=t[g];l=s(r,e,N,a,n,o,i,u,f,l,h),e=N}return l}function i(r,e,t,a,n,s,i,u,f,l,v){for(var h=v||[NaN,NaN],g=0,c=t.length;g<c;++g){var N=t[g];l=o(r,e,N,a,n,s,i,u,f,l,h),e=N[N.length-1]}return l}
},{"../../math.js":"B96G"}],"1FNh":[function(require,module,exports) {
"use strict";function e(e,r,t,n){for(var o=0,a=t.length;o<a;++o)e[r++]=t[o];return r}function r(e,r,t,n){for(var o=0,a=t.length;o<a;++o)for(var f=t[o],l=0;l<n;++l)e[r++]=f[l];return r}function t(e,t,n,o,a){for(var f=a||[],l=0,u=0,i=n.length;u<i;++u){var s=r(e,t,n[u],o);f[l++]=s,t=s}return f.length=l,f}function n(e,r,n,o,a){for(var f=a||[],l=0,u=0,i=n.length;u<i;++u){var s=t(e,r,n[u],o,f[l]);f[l++]=s,r=s[s.length-1]}return f.length=l,f}Object.defineProperty(exports,"__esModule",{value:!0}),exports.deflateCoordinate=e,exports.deflateCoordinates=r,exports.deflateCoordinatesArray=t,exports.deflateMultiCoordinatesArray=n;
},{}],"znXl":[function(require,module,exports) {
"use strict";function e(e,r,t,n,o){for(var i=void 0!==o?o:[],a=0,l=r;l<t;l+=n)i[a++]=e.slice(l,l+n);return i.length=a,i}function r(r,t,n,o,i){for(var a=void 0!==i?i:[],l=0,s=0,f=n.length;s<f;++s){var u=n[s];a[l++]=e(r,t,u,o,a[l]),t=u}return a.length=l,a}function t(e,t,n,o,i){for(var a=void 0!==i?i:[],l=0,s=0,f=n.length;s<f;++s){var u=n[s];a[l++]=r(e,t,u,o,a[l]),t=u[u.length-1]}return a.length=l,a}Object.defineProperty(exports,"__esModule",{value:!0}),exports.inflateCoordinates=e,exports.inflateCoordinatesArray=r,exports.inflateMultiCoordinatesArray=t;
},{}],"IEpt":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.simplifyLineString=e,exports.douglasPeucker=t,exports.douglasPeuckerArray=n,exports.douglasPeuckerMultiArray=u,exports.radialDistance=a,exports.snap=o,exports.quantize=i,exports.quantizeArray=s,exports.quantizeMultiArray=f;var r=require("../../math.js");function e(r,e,n,u,o,i,s){var f=void 0!==s?s:[];return i||(n=a(r,e,n,u,o,f,0),r=f,e=0,u=2),f.length=t(r,e,n,u,o,f,0),f}function t(e,t,n,u,a,o,i){var s=(n-t)/u;if(s<3){for(;t<n;t+=u)o[i++]=e[t],o[i++]=e[t+1];return i}var f=new Array(s);f[0]=1,f[s-1]=1;for(var p=[t,n-u],v=0;p.length>0;){for(var l=p.pop(),c=p.pop(),h=0,g=e[c],d=e[c+1],x=e[l],y=e[l+1],q=c+u;q<l;q+=u){var A=e[q],M=e[q+1],P=(0,r.squaredSegmentDistance)(A,M,g,d,x,y);P>h&&(v=q,h=P)}h>a&&(f[(v-t)/u]=1,c+u<v&&p.push(c,v),v+u<l&&p.push(v,l))}for(var k=0;k<s;++k)f[k]&&(o[i++]=e[t+k*u],o[i++]=e[t+k*u+1]);return i}function n(r,e,n,u,a,o,i,s){for(var f=0,p=n.length;f<p;++f){var v=n[f];i=t(r,e,v,u,a,o,i),s.push(i),e=v}return i}function u(r,e,t,u,a,o,i,s){for(var f=0,p=t.length;f<p;++f){var v=t[f],l=[];i=n(r,e,v,u,a,o,i,l),s.push(l),e=v[v.length-1]}return i}function a(e,t,n,u,a,o,i){if(n<=t+u){for(;t<n;t+=u)o[i++]=e[t],o[i++]=e[t+1];return i}var s=e[t],f=e[t+1];o[i++]=s,o[i++]=f;var p=s,v=f;for(t+=u;t<n;t+=u)p=e[t],v=e[t+1],(0,r.squaredDistance)(s,f,p,v)>a&&(o[i++]=p,o[i++]=v,s=p,f=v);return p==s&&v==f||(o[i++]=p,o[i++]=v),i}function o(r,e){return e*Math.round(r/e)}function i(r,e,t,n,u,a,i){if(e==t)return i;var s,f,p=o(r[e],u),v=o(r[e+1],u);e+=n,a[i++]=p,a[i++]=v;do{if(s=o(r[e],u),f=o(r[e+1],u),(e+=n)==t)return a[i++]=s,a[i++]=f,i}while(s==p&&f==v);for(;e<t;){var l=o(r[e],u),c=o(r[e+1],u);if(e+=n,l!=s||c!=f){var h=s-p,g=f-v,d=l-p,x=c-v;h*x==g*d&&(h<0&&d<h||h==d||h>0&&d>h)&&(g<0&&x<g||g==x||g>0&&x>g)?(s=l,f=c):(a[i++]=s,a[i++]=f,p=s,v=f,s=l,f=c)}}return a[i++]=s,a[i++]=f,i}function s(r,e,t,n,u,a,o,s){for(var f=0,p=t.length;f<p;++f){var v=t[f];o=i(r,e,v,n,u,a,o),s.push(o),e=v}return o}function f(r,e,t,n,u,a,o,i){for(var f=0,p=t.length;f<p;++f){var v=t[f],l=[];o=s(r,e,v,n,u,a,o,l),i.push(l),e=v[v.length-1]}return o}
},{"../../math.js":"B96G"}],"jRgU":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../extent.js"),e=u(require("./GeometryLayout.js")),i=u(require("./GeometryType.js")),o=u(require("./SimpleGeometry.js")),s=require("./flat/area.js"),r=require("./flat/closest.js"),a=require("./flat/deflate.js"),n=require("./flat/inflate.js"),l=require("./flat/simplify.js");function u(t){return t&&t.__esModule?t:{default:t}}var d=function(o){function u(t,e){o.call(this),this.maxDelta_=-1,this.maxDeltaRevision_=-1,void 0===e||Array.isArray(t[0])?this.setCoordinates(t,e):this.setFlatCoordinates(e,t)}return o&&(u.__proto__=o),u.prototype=Object.create(o&&o.prototype),u.prototype.constructor=u,u.prototype.clone=function(){return new u(this.flatCoordinates.slice(),this.layout)},u.prototype.closestPointXY=function(e,i,o,s){return s<(0,t.closestSquaredDistanceXY)(this.getExtent(),e,i)?s:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt((0,r.maxSquaredDelta)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),(0,r.assignClosestPoint)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,e,i,o,s))},u.prototype.getArea=function(){return(0,s.linearRing)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},u.prototype.getCoordinates=function(){return(0,n.inflateCoordinates)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},u.prototype.getSimplifiedGeometryInternal=function(t){var i=[];return i.length=(0,l.douglasPeucker)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,i,0),new u(i,e.default.XY)},u.prototype.getType=function(){return i.default.LINEAR_RING},u.prototype.intersectsExtent=function(t){return!1},u.prototype.setCoordinates=function(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=(0,a.deflateCoordinates)(this.flatCoordinates,0,t,this.stride),this.changed()},u}(o.default),h=d;exports.default=h;
},{"../extent.js":"QDir","./GeometryLayout.js":"1Utv","./GeometryType.js":"lmV0","./SimpleGeometry.js":"pnrv","./flat/area.js":"EOSm","./flat/closest.js":"rMra","./flat/deflate.js":"1FNh","./flat/inflate.js":"znXl","./flat/simplify.js":"IEpt"}],"gLcY":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../extent.js"),e=n(require("./GeometryType.js")),o=n(require("./SimpleGeometry.js")),r=require("./flat/deflate.js"),i=require("../math.js");function n(t){return t&&t.__esModule?t:{default:t}}var s=function(o){function n(t,e){o.call(this),this.setCoordinates(t,e)}return o&&(n.__proto__=o),n.prototype=Object.create(o&&o.prototype),n.prototype.constructor=n,n.prototype.clone=function(){return new n(this.flatCoordinates.slice(),this.layout)},n.prototype.closestPointXY=function(t,e,o,r){var n=this.flatCoordinates,s=(0,i.squaredDistance)(t,e,n[0],n[1]);if(s<r){for(var a=this.stride,u=0;u<a;++u)o[u]=n[u];return o.length=a,s}return r},n.prototype.getCoordinates=function(){return this.flatCoordinates?this.flatCoordinates.slice():[]},n.prototype.computeExtent=function(e){return(0,t.createOrUpdateFromCoordinate)(this.flatCoordinates,e)},n.prototype.getType=function(){return e.default.POINT},n.prototype.intersectsExtent=function(e){return(0,t.containsXY)(e,this.flatCoordinates[0],this.flatCoordinates[1])},n.prototype.setCoordinates=function(t,e){this.setLayout(e,t,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=(0,r.deflateCoordinate)(this.flatCoordinates,0,t,this.stride),this.changed()},n}(o.default),a=s;exports.default=a;
},{"../extent.js":"QDir","./GeometryType.js":"lmV0","./SimpleGeometry.js":"pnrv","./flat/deflate.js":"1FNh","../math.js":"B96G"}],"dzdN":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.linearRingContainsExtent=n,exports.linearRingContainsXY=e,exports.linearRingsContainsXY=t,exports.linearRingssContainsXY=i;var r=require("../../extent.js");function n(n,t,i,o,u){return!(0,r.forEachCorner)(u,function(r){return!e(n,t,i,o,r[0],r[1])})}function e(r,n,e,t,i,o){for(var u=0,a=r[e-t],s=r[e-t+1];n<e;n+=t){var f=r[n],l=r[n+1];s<=o?l>o&&(f-a)*(o-s)-(i-a)*(l-s)>0&&u++:l<=o&&(f-a)*(o-s)-(i-a)*(l-s)<0&&u--,a=f,s=l}return 0!==u}function t(r,n,t,i,o,u){if(0===t.length)return!1;if(!e(r,n,t[0],i,o,u))return!1;for(var a=1,s=t.length;a<s;++a)if(e(r,t[a-1],t[a],i,o,u))return!1;return!0}function i(r,n,e,i,o,u){if(0===e.length)return!1;for(var a=0,s=e.length;a<s;++a){var f=e[a];if(t(r,n,f,i,o,u))return!0;n=f[f.length-1]}return!1}
},{"../../extent.js":"QDir"}],"UDvN":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getInteriorPointOfArray=t,exports.getInteriorPointsOfMultiArray=n;var r=require("../../array.js"),e=require("./contains.js");function t(t,n,a,o,i,s,u){for(var f,l,v,g,h,p,c,y=i[s+1],N=[],b=0,j=a.length;b<j;++b){var x=a[b];for(g=t[x-o],p=t[x-o+1],f=n;f<x;f+=o)h=t[f],c=t[f+1],(y<=p&&c<=y||p<=y&&y<=c)&&(v=(y-p)/(c-p)*(h-g)+g,N.push(v)),g=h,p=c}var M=NaN,O=-1/0;for(N.sort(r.numberSafeCompareFunction),g=N[0],f=1,l=N.length;f<l;++f){h=N[f];var P=Math.abs(h-g);P>O&&(v=(g+h)/2,(0,e.linearRingsContainsXY)(t,n,a,o,v,y)&&(M=v,O=P)),g=h}return isNaN(M)&&(M=i[s]),u?(u.push(M,y,O),u):[M,y,O]}function n(r,e,n,a,o){for(var i=[],s=0,u=n.length;s<u;++s){var f=n[s];i=t(r,e,f,a,o,2*s,i),e=f[f.length-1]}return i}
},{"../../array.js":"luEr","./contains.js":"dzdN"}],"2U8i":[function(require,module,exports) {
"use strict";function e(e,r,t,o,u,c){for(var f,n=[e[r],e[r+1]],s=[];r+o<t;r+=o){if(s[0]=e[r+o],s[1]=e[r+o+1],f=u.call(c,n,s))return f;n[0]=s[0],n[1]=s[1]}return!1}Object.defineProperty(exports,"__esModule",{value:!0}),exports.forEach=e;
},{}],"GZir":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.intersectsLineString=t,exports.intersectsLineStringArray=i,exports.intersectsLinearRing=s,exports.intersectsLinearRingArray=a,exports.intersectsLinearRingMultiArray=o;var n=require("../../extent.js"),e=require("./contains.js"),r=require("./segments.js");function t(e,t,i,s,a){var o=(0,n.extendFlatCoordinates)((0,n.createEmpty)(),e,t,i,s);return!!(0,n.intersects)(a,o)&&(!!(0,n.containsExtent)(a,o)||(o[0]>=a[0]&&o[2]<=a[2]||(o[1]>=a[1]&&o[3]<=a[3]||(0,r.forEach)(e,t,i,s,function(e,r){return(0,n.intersectsSegment)(a,e,r)}))))}function i(n,e,r,i,s){for(var a=0,o=r.length;a<o;++a){if(t(n,e,r[a],i,s))return!0;e=r[a]}return!1}function s(n,r,i,s,a){return!!t(n,r,i,s,a)||(!!(0,e.linearRingContainsXY)(n,r,i,s,a[0],a[1])||(!!(0,e.linearRingContainsXY)(n,r,i,s,a[0],a[3])||(!!(0,e.linearRingContainsXY)(n,r,i,s,a[2],a[1])||!!(0,e.linearRingContainsXY)(n,r,i,s,a[2],a[3]))))}function a(n,r,i,a,o){if(!s(n,r,i[0],a,o))return!1;if(1===i.length)return!0;for(var u=1,c=i.length;u<c;++u)if((0,e.linearRingContainsExtent)(n,i[u-1],i[u],a,o)&&!t(n,i[u-1],i[u],a,o))return!1;return!0}function o(n,e,r,t,i){for(var s=0,o=r.length;s<o;++s){var u=r[s];if(a(n,e,u,t,i))return!0;e=u[u.length-1]}return!1}
},{"../../extent.js":"QDir","./contains.js":"dzdN","./segments.js":"2U8i"}],"ElTe":[function(require,module,exports) {
"use strict";function e(e,r,o,t){for(;r<o-t;){for(var s=0;s<t;++s){var a=e[r+s];e[r+s]=e[o-t+s],e[o-t+s]=a}r+=t,o-=t}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.coordinates=e;
},{}],"2/8c":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.linearRingIsClockwise=e,exports.linearRingIsOriented=n,exports.linearRingsAreOriented=t,exports.orientLinearRings=i,exports.orientLinearRingsArray=o;var r=require("./reverse.js");function e(r,e,n,t){for(var i=0,o=r[n-t],s=r[n-t+1];e<n;e+=t){var a=r[e],u=r[e+1];i+=(a-o)*(u+s),o=a,s=u}return i>0}function n(r,n,t,i,o){for(var s=void 0!==o&&o,a=0,u=t.length;a<u;++a){var f=t[a],v=e(r,n,f,i);if(0===a){if(s&&v||!s&&!v)return!1}else if(s&&!v||!s&&v)return!1;n=f}return!0}function t(r,e,t,i,o){for(var s=0,a=t.length;s<a;++s)if(!n(r,e,t[s],i,o))return!1;return!0}function i(n,t,i,o,s){for(var a=void 0!==s&&s,u=0,f=i.length;u<f;++u){var v=i[u],l=e(n,t,v,o);(0===u?a&&l||!a&&!l:a&&!l||!a&&l)&&(0,r.coordinates)(n,t,v,o),t=v}return t}function o(r,e,n,t,o){for(var s=0,a=n.length;s<a;++s)e=i(r,e,n[s],t,o);return e}
},{"./reverse.js":"ElTe"}],"6Nww":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.circular=q,exports.fromExtent=x,exports.fromCircle=j,exports.makeRegular=m,exports.default=void 0;var t=require("../array.js"),e=require("../extent.js"),i=C(require("./GeometryLayout.js")),r=C(require("./GeometryType.js")),n=C(require("./LinearRing.js")),s=C(require("./Point.js")),o=C(require("./SimpleGeometry.js")),a=require("../sphere.js"),l=require("./flat/area.js"),d=require("./flat/closest.js"),h=require("./flat/contains.js"),u=require("./flat/deflate.js"),f=require("./flat/inflate.js"),g=require("./flat/interiorpoint.js"),p=require("./flat/intersectsextent.js"),c=require("./flat/orient.js"),_=require("./flat/simplify.js"),y=require("../math.js");function C(t){return t&&t.__esModule?t:{default:t}}var v=function(o){function a(t,e,i){o.call(this),this.ends_=[],this.flatInteriorPointRevision_=-1,this.flatInteriorPoint_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,void 0!==e&&i?(this.setFlatCoordinates(e,t),this.ends_=i):this.setCoordinates(t,e)}return o&&(a.__proto__=o),a.prototype=Object.create(o&&o.prototype),a.prototype.constructor=a,a.prototype.appendLinearRing=function(e){this.flatCoordinates?(0,t.extend)(this.flatCoordinates,e.getFlatCoordinates()):this.flatCoordinates=e.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},a.prototype.clone=function(){return new a(this.flatCoordinates.slice(),this.layout,this.ends_.slice())},a.prototype.closestPointXY=function(t,i,r,n){return n<(0,e.closestSquaredDistanceXY)(this.getExtent(),t,i)?n:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt((0,d.arrayMaxSquaredDelta)(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),(0,d.assignClosestArrayPoint)(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,t,i,r,n))},a.prototype.containsXY=function(t,e){return(0,h.linearRingsContainsXY)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,e)},a.prototype.getArea=function(){return(0,l.linearRings)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)},a.prototype.getCoordinates=function(t){var e;return void 0!==t?(e=this.getOrientedFlatCoordinates().slice(),(0,c.orientLinearRings)(e,0,this.ends_,this.stride,t)):e=this.flatCoordinates,(0,f.inflateCoordinatesArray)(e,0,this.ends_,this.stride)},a.prototype.getEnds=function(){return this.ends_},a.prototype.getFlatInteriorPoint=function(){if(this.flatInteriorPointRevision_!=this.getRevision()){var t=(0,e.getCenter)(this.getExtent());this.flatInteriorPoint_=(0,g.getInteriorPointOfArray)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_},a.prototype.getInteriorPoint=function(){return new s.default(this.getFlatInteriorPoint(),i.default.XYM)},a.prototype.getLinearRingCount=function(){return this.ends_.length},a.prototype.getLinearRing=function(t){return t<0||this.ends_.length<=t?null:new n.default(this.flatCoordinates.slice(0===t?0:this.ends_[t-1],this.ends_[t]),this.layout)},a.prototype.getLinearRings=function(){for(var t=this.layout,e=this.flatCoordinates,i=this.ends_,r=[],s=0,o=0,a=i.length;o<a;++o){var l=i[o],d=new n.default(e.slice(s,l),t);r.push(d),s=l}return r},a.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var t=this.flatCoordinates;(0,c.linearRingIsOriented)(t,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=t:(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=(0,c.orientLinearRings)(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},a.prototype.getSimplifiedGeometryInternal=function(t){var e=[],r=[];return e.length=(0,_.quantizeArray)(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(t),e,0,r),new a(e,i.default.XY,r)},a.prototype.getType=function(){return r.default.POLYGON},a.prototype.intersectsExtent=function(t){return(0,p.intersectsLinearRingArray)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t)},a.prototype.setCoordinates=function(t,e){this.setLayout(e,t,2),this.flatCoordinates||(this.flatCoordinates=[]);var i=(0,u.deflateCoordinatesArray)(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=0===i.length?0:i[i.length-1],this.changed()},a}(o.default),R=v;function q(e,r,n,s){for(var o=n||32,l=[],d=0;d<o;++d)(0,t.extend)(l,(0,a.offset)(e,r,2*Math.PI*d/o,s));return l.push(l[0],l[1]),new v(l,i.default.XY,[l.length])}function x(t){var e=t[0],r=t[1],n=t[2],s=t[3],o=[e,r,e,s,n,s,n,r,e,r];return new v(o,i.default.XY,[o.length])}function j(t,e,i){for(var r=e||32,n=t.getStride(),s=t.getLayout(),o=t.getCenter(),a=n*(r+1),l=new Array(a),d=0;d<a;d+=n){l[d]=0,l[d+1]=0;for(var h=2;h<n;h++)l[d+h]=o[h]}var u=[l.length],f=new v(l,s,u);return m(f,o,t.getRadius(),i),f}function m(t,e,i,r){for(var n=t.getFlatCoordinates(),s=t.getStride(),o=n.length/s-1,a=r||0,l=0;l<=o;++l){var d=l*s,h=a+2*(0,y.modulo)(l,o)*Math.PI/o;n[d]=e[0]+i*Math.cos(h),n[d+1]=e[1]+i*Math.sin(h)}t.changed()}exports.default=R;
},{"../array.js":"luEr","../extent.js":"QDir","./GeometryLayout.js":"1Utv","./GeometryType.js":"lmV0","./LinearRing.js":"jRgU","./Point.js":"gLcY","./SimpleGeometry.js":"pnrv","../sphere.js":"q4ER","./flat/area.js":"EOSm","./flat/closest.js":"rMra","./flat/contains.js":"dzdN","./flat/deflate.js":"1FNh","./flat/inflate.js":"znXl","./flat/interiorpoint.js":"UDvN","./flat/intersectsextent.js":"GZir","./flat/orient.js":"2/8c","./flat/simplify.js":"IEpt","../math.js":"B96G"}],"SCyv":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getContext=u,exports.EXTENSIONS=exports.MAX_TEXTURE_SIZE=exports.HAS=exports.DEBUG=exports.FRAMEBUFFER=exports.COMPILE_STATUS=exports.CLAMP_TO_EDGE=exports.TEXTURE0=exports.TEXTURE_2D=exports.TEXTURE_WRAP_T=exports.TEXTURE_WRAP_S=exports.TEXTURE_MIN_FILTER=exports.TEXTURE_MAG_FILTER=exports.LINEAR=exports.LINK_STATUS=exports.VERTEX_SHADER=exports.FRAGMENT_SHADER=exports.RGBA=exports.FLOAT=exports.UNSIGNED_INT=exports.UNSIGNED_SHORT=exports.UNSIGNED_BYTE=exports.SCISSOR_TEST=exports.DEPTH_TEST=exports.STENCIL_TEST=exports.BLEND=exports.CULL_FACE=exports.DYNAMIC_DRAW=exports.STATIC_DRAW=exports.STREAM_DRAW=exports.ELEMENT_ARRAY_BUFFER=exports.ARRAY_BUFFER=exports.ONE_MINUS_SRC_ALPHA=exports.TRIANGLE_STRIP=exports.TRIANGLES=exports.COLOR_BUFFER_BIT=exports.COLOR_ATTACHMENT0=exports.SRC_ALPHA=exports.ONE=void 0;var r=1;exports.ONE=r;var e=770;exports.SRC_ALPHA=e;var E=36064;exports.COLOR_ATTACHMENT0=E;var t=16384;exports.COLOR_BUFFER_BIT=t;var T=4;exports.TRIANGLES=T;var o=5;exports.TRIANGLE_STRIP=o;var s=771;exports.ONE_MINUS_SRC_ALPHA=s;var p=34962;exports.ARRAY_BUFFER=p;var x=34963;exports.ELEMENT_ARRAY_BUFFER=x;var _=35040;exports.STREAM_DRAW=_;var R=35044;exports.STATIC_DRAW=R;var A=35048;exports.DYNAMIC_DRAW=A;var S=2884;exports.CULL_FACE=S;var a=3042;exports.BLEND=a;var N=2960;exports.STENCIL_TEST=N;var I=2929;exports.DEPTH_TEST=I;var v=3089;exports.SCISSOR_TEST=v;var U=5121;exports.UNSIGNED_BYTE=U;var L=5123;exports.UNSIGNED_SHORT=L;var C=5125;exports.UNSIGNED_INT=C;var D=5126;exports.FLOAT=D;var F=6408;exports.RGBA=F;var M=35632;exports.FRAGMENT_SHADER=M;var O=35633;exports.VERTEX_SHADER=O;var X=35714;exports.LINK_STATUS=X;var n=9729;exports.LINEAR=n;var G=10240;exports.TEXTURE_MAG_FILTER=G;var P=10241;exports.TEXTURE_MIN_FILTER=P;var B=10242;exports.TEXTURE_WRAP_S=B;var H=10243;exports.TEXTURE_WRAP_T=H;var i=3553;exports.TEXTURE_2D=i;var c=33984;exports.TEXTURE0=c;var d=33071;exports.CLAMP_TO_EDGE=d;var l=35713;exports.COMPILE_STATUS=l;var W=36160;exports.FRAMEBUFFER=W;var f=["experimental-webgl","webgl","webkit-3d","moz-webgl"];function u(r,e){for(var E=f.length,t=0;t<E;++t)try{var T=r.getContext(f[t],e);if(T)return T}catch(o){}return null}var g,w,Y=!0;exports.DEBUG=Y,exports.MAX_TEXTURE_SIZE=g,exports.EXTENSIONS=w;var b=!1;if(exports.HAS=b,"undefined"!=typeof window&&"WebGLRenderingContext"in window)try{var m=document.createElement("canvas"),y=u(m,{failIfMajorPerformanceCaveat:!0});y&&(exports.HAS=b=!0,exports.MAX_TEXTURE_SIZE=g=y.getParameter(y.MAX_TEXTURE_SIZE),exports.EXTENSIONS=w=y.getSupportedExtensions())}catch(Z){}
},{}],"f3Nv":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"WEBGL",{enumerable:!0,get:function(){return e.HAS}}),exports.MSPOINTER=exports.POINTER=exports.TOUCH=exports.GEOLOCATION=exports.CANVAS_LINE_DASH=exports.DEVICE_PIXEL_RATIO=exports.MAC=exports.WEBKIT=exports.SAFARI=exports.FIREFOX=void 0;var e=require("./webgl.js"),r="undefined"!=typeof navigator?navigator.userAgent.toLowerCase():"",t=-1!==r.indexOf("firefox");exports.FIREFOX=t;var o=-1!==r.indexOf("safari")&&-1==r.indexOf("chrom");exports.SAFARI=o;var n=-1!==r.indexOf("webkit")&&-1==r.indexOf("edge");exports.WEBKIT=n;var i=-1!==r.indexOf("macintosh");exports.MAC=i;var s=window.devicePixelRatio||1;exports.DEVICE_PIXEL_RATIO=s;var a=function(){var e=!1;try{e=!!document.createElement("canvas").getContext("2d").setLineDash}catch(r){}return e}();exports.CANVAS_LINE_DASH=a;var x="geolocation"in navigator;exports.GEOLOCATION=x;var p="ontouchstart"in window;exports.TOUCH=p;var O="PointerEvent"in window;exports.POINTER=O;var E=!!navigator.msPointerEnabled;exports.MSPOINTER=E;
},{"./webgl.js":"SCyv"}],"X4ix":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=p(require("./Object.js")),e=require("./events.js"),i=a(require("./events/Event.js")),o=a(require("./events/EventType.js")),r=require("./geom/Polygon.js"),n=require("./has.js"),s=require("./math.js"),c=require("./proj.js");function a(t){return t&&t.__esModule?t:{default:t}}function p(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var o=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,i):{};o.get||o.set?Object.defineProperty(e,i,o):e[i]=t[i]}return e.default=t,e}var h={ACCURACY:"accuracy",ACCURACY_GEOMETRY:"accuracyGeometry",ALTITUDE:"altitude",ALTITUDE_ACCURACY:"altitudeAccuracy",HEADING:"heading",POSITION:"position",PROJECTION:"projection",SPEED:"speed",TRACKING:"tracking",TRACKING_OPTIONS:"trackingOptions"},u=function(t){function e(e){t.call(this,o.default.ERROR),this.code=e.code,this.message=e.message}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(i.default),g=function(i){function o(o){i.call(this);var r=o||{};this.position_=null,this.transform_=c.identityTransform,this.watchId_=void 0,(0,e.listen)(this,(0,t.getChangeEventType)(h.PROJECTION),this.handleProjectionChanged_,this),(0,e.listen)(this,(0,t.getChangeEventType)(h.TRACKING),this.handleTrackingChanged_,this),void 0!==r.projection&&this.setProjection(r.projection),void 0!==r.trackingOptions&&this.setTrackingOptions(r.trackingOptions),this.setTracking(void 0!==r.tracking&&r.tracking)}return i&&(o.__proto__=i),o.prototype=Object.create(i&&i.prototype),o.prototype.constructor=o,o.prototype.disposeInternal=function(){this.setTracking(!1),i.prototype.disposeInternal.call(this)},o.prototype.handleProjectionChanged_=function(){var t=this.getProjection();t&&(this.transform_=(0,c.getTransformFromProjections)((0,c.get)("EPSG:4326"),t),this.position_&&this.set(h.POSITION,this.transform_(this.position_)))},o.prototype.handleTrackingChanged_=function(){if(n.GEOLOCATION){var t=this.getTracking();t&&void 0===this.watchId_?this.watchId_=navigator.geolocation.watchPosition(this.positionChange_.bind(this),this.positionError_.bind(this),this.getTrackingOptions()):t||void 0===this.watchId_||(navigator.geolocation.clearWatch(this.watchId_),this.watchId_=void 0)}},o.prototype.positionChange_=function(t){var e=t.coords;this.set(h.ACCURACY,e.accuracy),this.set(h.ALTITUDE,null===e.altitude?void 0:e.altitude),this.set(h.ALTITUDE_ACCURACY,null===e.altitudeAccuracy?void 0:e.altitudeAccuracy),this.set(h.HEADING,null===e.heading?void 0:(0,s.toRadians)(e.heading)),this.position_?(this.position_[0]=e.longitude,this.position_[1]=e.latitude):this.position_=[e.longitude,e.latitude];var i=this.transform_(this.position_);this.set(h.POSITION,i),this.set(h.SPEED,null===e.speed?void 0:e.speed);var o=(0,r.circular)(this.position_,e.accuracy);o.applyTransform(this.transform_),this.set(h.ACCURACY_GEOMETRY,o),this.changed()},o.prototype.positionError_=function(t){this.setTracking(!1),this.dispatchEvent(new u(t))},o.prototype.getAccuracy=function(){return this.get(h.ACCURACY)},o.prototype.getAccuracyGeometry=function(){return this.get(h.ACCURACY_GEOMETRY)||null},o.prototype.getAltitude=function(){return this.get(h.ALTITUDE)},o.prototype.getAltitudeAccuracy=function(){return this.get(h.ALTITUDE_ACCURACY)},o.prototype.getHeading=function(){return this.get(h.HEADING)},o.prototype.getPosition=function(){return this.get(h.POSITION)},o.prototype.getProjection=function(){return this.get(h.PROJECTION)},o.prototype.getSpeed=function(){return this.get(h.SPEED)},o.prototype.getTracking=function(){return this.get(h.TRACKING)},o.prototype.getTrackingOptions=function(){return this.get(h.TRACKING_OPTIONS)},o.prototype.setProjection=function(t){this.set(h.PROJECTION,(0,c.get)(t))},o.prototype.setTracking=function(t){this.set(h.TRACKING,t)},o.prototype.setTrackingOptions=function(t){this.set(h.TRACKING_OPTIONS,t)},o}(t.default),d=g;exports.default=d;
},{"./Object.js":"PhPh","./events.js":"55Uq","./events/Event.js":"fKNg","./events/EventType.js":"C8cu","./geom/Polygon.js":"6Nww","./has.js":"f3Nv","./math.js":"B96G","./proj.js":"Diht"}],"AiCK":[function(require,module,exports) {
"use strict";function e(e,r,t){var n=void 0!==t?e.toFixed(t):""+e,i=n.indexOf(".");return(i=-1===i?n.length:i)>r?n:new Array(1+r-i).join("0")+n}function r(e,r){for(var t=(""+e).split("."),n=(""+r).split("."),i=0;i<Math.max(t.length,n.length);i++){var o=parseInt(t[i]||"0",10),s=parseInt(n[i]||"0",10);if(o>s)return 1;if(s>o)return-1}return 0}Object.defineProperty(exports,"__esModule",{value:!0}),exports.padNumber=e,exports.compareVersions=r;
},{}],"nGsj":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.add=e,exports.closestOnCircle=n,exports.closestOnSegment=o,exports.createStringXY=u,exports.degreesToStringHDMS=s,exports.format=a,exports.equals=i,exports.rotate=c,exports.scale=f,exports.squaredDistance=p,exports.distance=x,exports.squaredDistanceToSegment=d,exports.toStringHDMS=l,exports.toStringXY=h;var t=require("./math.js"),r=require("./string.js");function e(t,r){return t[0]+=r[0],t[1]+=r[1],t}function n(t,r){var e=r.getRadius(),n=r.getCenter(),o=n[0],u=n[1],s=t[0]-o,a=t[1]-u;0===s&&0===a&&(s=1);var i=Math.sqrt(s*s+a*a);return[o+e*s/i,u+e*a/i]}function o(t,r){var e,n,o=t[0],u=t[1],s=r[0],a=r[1],i=s[0],c=s[1],f=a[0],p=a[1],x=f-i,d=p-c,l=0===x&&0===d?0:(x*(o-i)+d*(u-c))/(x*x+d*d||0);return l<=0?(e=i,n=c):l>=1?(e=f,n=p):(e=i+l*x,n=c+l*d),[e,n]}function u(t){return function(r){return h(r,t)}}function s(e,n,o){var u=(0,t.modulo)(n+180,360)-180,s=Math.abs(3600*u),a=o||0,i=Math.pow(10,a),c=Math.floor(s/3600),f=Math.floor((s-3600*c)/60),p=s-3600*c-60*f;return(p=Math.ceil(p*i)/i)>=60&&(p=0,f+=1),f>=60&&(f=0,c+=1),c+"° "+(0,r.padNumber)(f,2)+"′ "+(0,r.padNumber)(p,2,a)+"″"+(0==u?"":" "+e.charAt(u<0?1:0))}function a(t,r,e){return t?r.replace("{x}",t[0].toFixed(e)).replace("{y}",t[1].toFixed(e)):""}function i(t,r){for(var e=!0,n=t.length-1;n>=0;--n)if(t[n]!=r[n]){e=!1;break}return e}function c(t,r){var e=Math.cos(r),n=Math.sin(r),o=t[0]*e-t[1]*n,u=t[1]*e+t[0]*n;return t[0]=o,t[1]=u,t}function f(t,r){return t[0]*=r,t[1]*=r,t}function p(t,r){var e=t[0]-r[0],n=t[1]-r[1];return e*e+n*n}function x(t,r){return Math.sqrt(p(t,r))}function d(t,r){return p(t,o(t,r))}function l(t,r){return t?s("NS",t[1],r)+" "+s("EW",t[0],r):""}function h(t,r){return a(t,"{x}, {y}",r)}
},{"./math.js":"B96G","./string.js":"AiCK"}],"rDTq":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.interpolatePoint=n,exports.lineStringCoordinateAtM=t,exports.lineStringsCoordinateAtM=i;var r=require("../../array.js"),e=require("../../math.js");function n(n,t,i,l,u,a){var f=NaN,s=NaN,o=(i-t)/l;if(1===o)f=n[t],s=n[t+1];else if(2==o)f=(1-u)*n[t]+u*n[t+l],s=(1-u)*n[t+1]+u*n[t+l+1];else if(0!==o){for(var v=n[t],c=n[t+1],p=0,h=[0],g=t+l;g<i;g+=l){var d=n[g],x=n[g+1];p+=Math.sqrt((d-v)*(d-v)+(x-c)*(x-c)),h.push(p),v=d,c=x}var M=u*p,N=(0,r.binarySearch)(h,M);if(N<0){var j=(M-h[-N-2])/(h[-N-1]-h[-N-2]),q=t+(-N-2)*l;f=(0,e.lerp)(n[q],n[q+l],j),s=(0,e.lerp)(n[q+1],n[q+l+1],j)}else f=n[t+N*l],s=n[t+N*l+1]}return a?(a[0]=f,a[1]=s,a):[f,s]}function t(r,n,t,i,l,u){if(t==n)return null;var a;if(l<r[n+i-1])return u?((a=r.slice(n,n+i))[i-1]=l,a):null;if(r[t-1]<l)return u?((a=r.slice(t-i,t))[i-1]=l,a):null;if(l==r[n+i-1])return r.slice(n,n+i);for(var f=n/i,s=t/i;f<s;){var o=f+s>>1;l<r[(o+1)*i-1]?s=o:f=o+1}var v=r[f*i-1];if(l==v)return r.slice((f-1)*i,(f-1)*i+i);var c=(l-v)/(r[(f+1)*i-1]-v);a=[];for(var p=0;p<i-1;++p)a.push((0,e.lerp)(r[(f-1)*i+p],r[f*i+p],c));return a.push(l),a}function i(r,e,n,i,l,u,a){if(a)return t(r,e,n[n.length-1],i,l,u);var f;if(l<r[i-1])return u?((f=r.slice(0,i))[i-1]=l,f):null;if(r[r.length-1]<l)return u?((f=r.slice(r.length-i))[i-1]=l,f):null;for(var s=0,o=n.length;s<o;++s){var v=n[s];if(e!=v){if(l<r[e+i-1])return null;if(l<=r[v-1])return t(r,e,v,i,l,!1);e=v}}return null}
},{"../../array.js":"luEr","../../math.js":"B96G"}],"ZZrx":[function(require,module,exports) {
"use strict";function r(r,t,e,n){for(var i=r[t],o=r[t+1],s=0,a=t+n;a<e;a+=n){var u=r[a],c=r[a+1];s+=Math.sqrt((u-i)*(u-i)+(c-o)*(c-o)),i=u,o=c}return s}function t(t,e,n,i){var o=r(t,e,n,i),s=t[n-i]-t[e],a=t[n-i+1]-t[e+1];return o+=Math.sqrt(s*s+a*a)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.lineStringLength=r,exports.linearRingLength=t;
},{}],"DfxW":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../array.js"),e=require("../extent.js"),i=p(require("./GeometryLayout.js")),o=p(require("./GeometryType.js")),s=p(require("./SimpleGeometry.js")),r=require("./flat/closest.js"),n=require("./flat/deflate.js"),a=require("./flat/inflate.js"),l=require("./flat/interpolate.js"),h=require("./flat/intersectsextent.js"),d=require("./flat/length.js"),f=require("./flat/segments.js"),u=require("./flat/simplify.js");function p(t){return t&&t.__esModule?t:{default:t}}var c=function(s){function p(t,e){s.call(this),this.flatMidpoint_=null,this.flatMidpointRevision_=-1,this.maxDelta_=-1,this.maxDeltaRevision_=-1,void 0===e||Array.isArray(t[0])?this.setCoordinates(t,e):this.setFlatCoordinates(e,t)}return s&&(p.__proto__=s),p.prototype=Object.create(s&&s.prototype),p.prototype.constructor=p,p.prototype.appendCoordinate=function(e){this.flatCoordinates?(0,t.extend)(this.flatCoordinates,e):this.flatCoordinates=e.slice(),this.changed()},p.prototype.clone=function(){return new p(this.flatCoordinates.slice(),this.layout)},p.prototype.closestPointXY=function(t,i,o,s){return s<(0,e.closestSquaredDistanceXY)(this.getExtent(),t,i)?s:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt((0,r.maxSquaredDelta)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),(0,r.assignClosestPoint)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!1,t,i,o,s))},p.prototype.forEachSegment=function(t){return(0,f.forEach)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},p.prototype.getCoordinateAtM=function(t,e){if(this.layout!=i.default.XYM&&this.layout!=i.default.XYZM)return null;var o=void 0!==e&&e;return(0,l.lineStringCoordinateAtM)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,o)},p.prototype.getCoordinates=function(){return(0,a.inflateCoordinates)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},p.prototype.getCoordinateAt=function(t,e){return(0,l.interpolatePoint)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,e)},p.prototype.getLength=function(){return(0,d.lineStringLength)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},p.prototype.getFlatMidpoint=function(){return this.flatMidpointRevision_!=this.getRevision()&&(this.flatMidpoint_=this.getCoordinateAt(.5,this.flatMidpoint_),this.flatMidpointRevision_=this.getRevision()),this.flatMidpoint_},p.prototype.getSimplifiedGeometryInternal=function(t){var e=[];return e.length=(0,u.douglasPeucker)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,e,0),new p(e,i.default.XY)},p.prototype.getType=function(){return o.default.LINE_STRING},p.prototype.intersectsExtent=function(t){return(0,h.intersectsLineString)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},p.prototype.setCoordinates=function(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=(0,n.deflateCoordinates)(this.flatCoordinates,0,t,this.stride),this.changed()},p}(s.default),C=c;exports.default=C;
},{"../array.js":"luEr","../extent.js":"QDir","./GeometryLayout.js":"1Utv","./GeometryType.js":"lmV0","./SimpleGeometry.js":"pnrv","./flat/closest.js":"rMra","./flat/deflate.js":"1FNh","./flat/inflate.js":"znXl","./flat/interpolate.js":"rDTq","./flat/intersectsextent.js":"GZir","./flat/length.js":"ZZrx","./flat/segments.js":"2U8i","./flat/simplify.js":"IEpt"}],"w0c6":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.greatCircleArc=n,exports.meridian=e,exports.parallel=o;var t=require("../../math.js"),a=require("../../proj.js");function r(a,r,n){for(var e,o,s,i,u,p,h=[],c=a(0),M=a(1),f=r(c),g=r(M),d=[M,c],l=[g,f],v=[1,0],R={},m=1e5;--m>0&&v.length>0;)s=v.pop(),c=d.pop(),f=l.pop(),(p=s.toString())in R||(h.push(f[0],f[1]),R[p]=!0),i=v.pop(),M=d.pop(),g=l.pop(),o=r(e=a(u=(s+i)/2)),(0,t.squaredSegmentDistance)(o[0],o[1],f[0],f[1],g[0],g[1])<n?(h.push(g[0],g[1]),R[p=i.toString()]=!0):(v.push(i,u,u,s),l.push(g,o,o,f),d.push(M,e,e,c));return h}function n(n,e,o,s,i,u){var p=(0,a.get)("EPSG:4326"),h=Math.cos((0,t.toRadians)(e)),c=Math.sin((0,t.toRadians)(e)),M=Math.cos((0,t.toRadians)(s)),f=Math.sin((0,t.toRadians)(s)),g=Math.cos((0,t.toRadians)(o-n)),d=Math.sin((0,t.toRadians)(o-n)),l=c*f+h*M*g;return r(function(a){if(1<=l)return[o,s];var r=a*Math.acos(l),e=Math.cos(r),i=Math.sin(r),u=d*M,p=h*f-c*M*g,v=Math.atan2(u,p),R=Math.asin(c*e+h*i*Math.cos(v)),m=(0,t.toRadians)(n)+Math.atan2(Math.sin(v)*i*h,e-c*Math.sin(R));return[(0,t.toDegrees)(m),(0,t.toDegrees)(R)]},(0,a.getTransform)(p,i),u)}function e(t,n,e,o,s){var i=(0,a.get)("EPSG:4326");return r(function(a){return[t,n+(e-n)*a]},(0,a.getTransform)(i,o),s)}function o(t,n,e,o,s){var i=(0,a.get)("EPSG:4326");return r(function(a){return[n+(e-n)*a,t]},(0,a.getTransform)(i,o),s)}
},{"../../math.js":"B96G","../../proj.js":"Diht"}],"z39m":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={POSTCOMPOSE:"postcompose",PRECOMPOSE:"precompose",RENDER:"render",RENDERCOMPLETE:"rendercomplete"};exports.default=e;
},{}],"eucy":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.asString=a,exports.asArray=i,exports.normalize=p,exports.toString=c,exports.fromString=void 0;var r=require("./asserts.js"),e=require("./math.js"),t=/^#([a-f0-9]{3}|[a-f0-9]{4}(?:[a-f0-9]{2}){0,2})$/i,n=/^([a-z]*)$/i;function a(r){return"string"==typeof r?r:c(r)}function s(r){var e=document.createElement("div");if(e.style.color=r,""!==e.style.color){document.body.appendChild(e);var t=getComputedStyle(e).color;return document.body.removeChild(e),t}return""}var o=function(){var r={},e=0;return function(t){var n;if(r.hasOwnProperty(t))n=r[t];else{if(e>=1024){var a=0;for(var s in r)0==(3&a++)&&(delete r[s],--e)}n=u(t),r[t]=n,++e}return n}}();function i(r){return Array.isArray(r)?r:o(r)}function u(e){var a,o,i,u,c;if(n.exec(e)&&(e=s(e)),t.exec(e)){var l,f=e.length-1;l=f<=4?1:2;var v=4===f||8===f;a=parseInt(e.substr(1+0*l,l),16),o=parseInt(e.substr(1+1*l,l),16),i=parseInt(e.substr(1+2*l,l),16),u=v?parseInt(e.substr(1+3*l,l),16):255,1==l&&(a=(a<<4)+a,o=(o<<4)+o,i=(i<<4)+i,v&&(u=(u<<4)+u)),c=[a,o,i,u/255]}else 0==e.indexOf("rgba(")?p(c=e.slice(5,-1).split(",").map(Number)):0==e.indexOf("rgb(")?((c=e.slice(4,-1).split(",").map(Number)).push(1),p(c)):(0,r.assert)(!1,14);return c}function p(r){return r[0]=(0,e.clamp)(r[0]+.5|0,0,255),r[1]=(0,e.clamp)(r[1]+.5|0,0,255),r[2]=(0,e.clamp)(r[2]+.5|0,0,255),r[3]=(0,e.clamp)(r[3],0,1),r}function c(r){var e=r[0];e!=(0|e)&&(e=e+.5|0);var t=r[1];t!=(0|t)&&(t=t+.5|0);var n=r[2];return n!=(0|n)&&(n=n+.5|0),"rgba("+e+","+t+","+n+","+(void 0===r[3]?1:r[3])+")"}exports.fromString=o;
},{"./asserts.js":"fLG6","./math.js":"B96G"}],"AFcg":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var o=require("../util.js"),r=require("../color.js"),t=function(o){var r=o||{};this.color_=void 0!==r.color?r.color:null,this.checksum_=void 0};t.prototype.clone=function(){var o=this.getColor();return new t({color:Array.isArray(o)?o.slice():o||void 0})},t.prototype.getColor=function(){return this.color_},t.prototype.setColor=function(o){this.color_=o,this.checksum_=void 0},t.prototype.getChecksum=function(){if(void 0===this.checksum_){var t=this.color_;t?Array.isArray(t)||"string"==typeof t?this.checksum_="f"+(0,r.asString)(t):this.checksum_=(0,o.getUid)(this.color_):this.checksum_="f-"}return this.checksum_};var e=t;exports.default=e;
},{"../util.js":"KniQ","../color.js":"eucy"}],"TXDt":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../util.js"),i=function(t){var i=t||{};this.color_=void 0!==i.color?i.color:null,this.lineCap_=i.lineCap,this.lineDash_=void 0!==i.lineDash?i.lineDash:null,this.lineDashOffset_=i.lineDashOffset,this.lineJoin_=i.lineJoin,this.miterLimit_=i.miterLimit,this.width_=i.width,this.checksum_=void 0};i.prototype.clone=function(){var t=this.getColor();return new i({color:Array.isArray(t)?t.slice():t||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})},i.prototype.getColor=function(){return this.color_},i.prototype.getLineCap=function(){return this.lineCap_},i.prototype.getLineDash=function(){return this.lineDash_},i.prototype.getLineDashOffset=function(){return this.lineDashOffset_},i.prototype.getLineJoin=function(){return this.lineJoin_},i.prototype.getMiterLimit=function(){return this.miterLimit_},i.prototype.getWidth=function(){return this.width_},i.prototype.setColor=function(t){this.color_=t,this.checksum_=void 0},i.prototype.setLineCap=function(t){this.lineCap_=t,this.checksum_=void 0},i.prototype.setLineDash=function(t){this.lineDash_=t,this.checksum_=void 0},i.prototype.setLineDashOffset=function(t){this.lineDashOffset_=t,this.checksum_=void 0},i.prototype.setLineJoin=function(t){this.lineJoin_=t,this.checksum_=void 0},i.prototype.setMiterLimit=function(t){this.miterLimit_=t,this.checksum_=void 0},i.prototype.setWidth=function(t){this.width_=t,this.checksum_=void 0},i.prototype.getChecksum=function(){return void 0===this.checksum_&&(this.checksum_="s",this.color_?"string"==typeof this.color_?this.checksum_+=this.color_:this.checksum_+=(0,t.getUid)(this.color_):this.checksum_+="-",this.checksum_+=","+(void 0!==this.lineCap_?this.lineCap_.toString():"-")+","+(this.lineDash_?this.lineDash_.toString():"-")+","+(void 0!==this.lineDashOffset_?this.lineDashOffset_:"-")+","+(void 0!==this.lineJoin_?this.lineJoin_:"-")+","+(void 0!==this.miterLimit_?this.miterLimit_.toString():"-")+","+(void 0!==this.width_?this.width_.toString():"-")),this.checksum_};var e=i;exports.default=e;
},{"../util.js":"KniQ"}],"AXKs":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={POINT:"point",LINE:"line"};exports.default=e;
},{}],"RPsG":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=o(require("./Fill.js")),e=o(require("./TextPlacement.js"));function o(t){return t&&t.__esModule?t:{default:t}}var i="#333",n=function(o){var n=o||{};this.font_=n.font,this.rotation_=n.rotation,this.rotateWithView_=n.rotateWithView,this.scale_=n.scale,this.text_=n.text,this.textAlign_=n.textAlign,this.textBaseline_=n.textBaseline,this.fill_=void 0!==n.fill?n.fill:new t.default({color:i}),this.maxAngle_=void 0!==n.maxAngle?n.maxAngle:Math.PI/4,this.placement_=void 0!==n.placement?n.placement:e.default.POINT,this.overflow_=!!n.overflow,this.stroke_=void 0!==n.stroke?n.stroke:null,this.offsetX_=void 0!==n.offsetX?n.offsetX:0,this.offsetY_=void 0!==n.offsetY?n.offsetY:0,this.backgroundFill_=n.backgroundFill?n.backgroundFill:null,this.backgroundStroke_=n.backgroundStroke?n.backgroundStroke:null,this.padding_=void 0===n.padding?null:n.padding};n.prototype.clone=function(){return new n({font:this.getFont(),placement:this.getPlacement(),maxAngle:this.getMaxAngle(),overflow:this.getOverflow(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:this.getScale(),text:this.getText(),textAlign:this.getTextAlign(),textBaseline:this.getTextBaseline(),fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),backgroundFill:this.getBackgroundFill()?this.getBackgroundFill().clone():void 0,backgroundStroke:this.getBackgroundStroke()?this.getBackgroundStroke().clone():void 0})},n.prototype.getOverflow=function(){return this.overflow_},n.prototype.getFont=function(){return this.font_},n.prototype.getMaxAngle=function(){return this.maxAngle_},n.prototype.getPlacement=function(){return this.placement_},n.prototype.getOffsetX=function(){return this.offsetX_},n.prototype.getOffsetY=function(){return this.offsetY_},n.prototype.getFill=function(){return this.fill_},n.prototype.getRotateWithView=function(){return this.rotateWithView_},n.prototype.getRotation=function(){return this.rotation_},n.prototype.getScale=function(){return this.scale_},n.prototype.getStroke=function(){return this.stroke_},n.prototype.getText=function(){return this.text_},n.prototype.getTextAlign=function(){return this.textAlign_},n.prototype.getTextBaseline=function(){return this.textBaseline_},n.prototype.getBackgroundFill=function(){return this.backgroundFill_},n.prototype.getBackgroundStroke=function(){return this.backgroundStroke_},n.prototype.getPadding=function(){return this.padding_},n.prototype.setOverflow=function(t){this.overflow_=t},n.prototype.setFont=function(t){this.font_=t},n.prototype.setMaxAngle=function(t){this.maxAngle_=t},n.prototype.setOffsetX=function(t){this.offsetX_=t},n.prototype.setOffsetY=function(t){this.offsetY_=t},n.prototype.setPlacement=function(t){this.placement_=t},n.prototype.setFill=function(t){this.fill_=t},n.prototype.setRotation=function(t){this.rotation_=t},n.prototype.setScale=function(t){this.scale_=t},n.prototype.setStroke=function(t){this.stroke_=t},n.prototype.setText=function(t){this.text_=t},n.prototype.setTextAlign=function(t){this.textAlign_=t},n.prototype.setTextBaseline=function(t){this.textBaseline_=t},n.prototype.setBackgroundFill=function(t){this.backgroundFill_=t},n.prototype.setBackgroundStroke=function(t){this.backgroundStroke_=t},n.prototype.setPadding=function(t){this.padding_=t};var r=n;exports.default=r;
},{"./Fill.js":"AFcg","./TextPlacement.js":"AXKs"}],"/QUi":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("./coordinate.js"),e=require("./events.js"),i=require("./extent.js"),a=d(require("./geom/GeometryLayout.js")),s=d(require("./geom/LineString.js")),l=d(require("./geom/Point.js")),r=require("./geom/flat/geodesic.js"),n=require("./math.js"),o=require("./proj.js"),h=d(require("./render/EventType.js")),_=d(require("./style/Fill.js")),m=d(require("./style/Stroke.js")),L=d(require("./style/Text.js"));function d(t){return t&&t.__esModule?t:{default:t}}var p=new m.default({color:"rgba(0,0,0,0.2)"}),u=[90,45,30,20,10,5,2,1,.5,.2,.1,.05,.01,.005,.002,.001],f=function(e){var i=e||{};this.map_=null,this.postcomposeListenerKey_=null,this.projection_=null,this.maxLat_=1/0,this.maxLon_=1/0,this.minLat_=-1/0,this.minLon_=-1/0,this.maxLatP_=1/0,this.maxLonP_=1/0,this.minLatP_=-1/0,this.minLonP_=-1/0,this.targetSize_=void 0!==i.targetSize?i.targetSize:100,this.maxLines_=void 0!==i.maxLines?i.maxLines:100,this.meridians_=[],this.parallels_=[],this.strokeStyle_=void 0!==i.strokeStyle?i.strokeStyle:p,this.fromLonLatTransform_=void 0,this.toLonLatTransform_=void 0,this.projectionCenterLonLat_=null,this.meridiansLabels_=null,this.parallelsLabels_=null,1==i.showLabels&&(this.lonLabelFormatter_=null==i.lonLabelFormatter?t.degreesToStringHDMS.bind(this,"EW"):i.lonLabelFormatter,this.latLabelFormatter_=null==i.latLabelFormatter?t.degreesToStringHDMS.bind(this,"NS"):i.latLabelFormatter,this.lonLabelPosition_=null==i.lonLabelPosition?0:i.lonLabelPosition,this.latLabelPosition_=null==i.latLabelPosition?1:i.latLabelPosition,this.lonLabelStyle_=void 0!==i.lonLabelStyle?i.lonLabelStyle:new L.default({font:"12px Calibri,sans-serif",textBaseline:"bottom",fill:new _.default({color:"rgba(0,0,0,1)"}),stroke:new m.default({color:"rgba(255,255,255,1)",width:3})}),this.latLabelStyle_=void 0!==i.latLabelStyle?i.latLabelStyle:new L.default({font:"12px Calibri,sans-serif",textAlign:"end",fill:new _.default({color:"rgba(0,0,0,1)"}),stroke:new m.default({color:"rgba(255,255,255,1)",width:3})}),this.meridiansLabels_=[],this.parallelsLabels_=[]),this.intervals_=void 0!==i.intervals?i.intervals:u,this.setMap(void 0!==i.map?i.map:null)};f.prototype.addMeridian_=function(t,e,a,s,l,r){var n=this.getMeridian_(t,e,a,s,r);if((0,i.intersects)(n.getExtent(),l)){if(this.meridiansLabels_){var o=this.getMeridianPoint_(n,l,r);this.meridiansLabels_[r]={geom:o,text:this.lonLabelFormatter_(t)}}this.meridians_[r++]=n}return r},f.prototype.getMeridianPoint_=function(t,e,i){var a,s=t.getFlatCoordinates(),r=Math.max(e[1],s[1]),o=Math.min(e[3],s[s.length-1]),h=(0,n.clamp)(e[1]+Math.abs(e[1]-e[3])*this.lonLabelPosition_,r,o),_=[s[0],h];return i in this.meridiansLabels_?(a=this.meridiansLabels_[i].geom).setCoordinates(_):a=new l.default(_),a},f.prototype.addParallel_=function(t,e,a,s,l,r){var n=this.getParallel_(t,e,a,s,r);if((0,i.intersects)(n.getExtent(),l)){if(this.parallelsLabels_){var o=this.getParallelPoint_(n,l,r);this.parallelsLabels_[r]={geom:o,text:this.latLabelFormatter_(t)}}this.parallels_[r++]=n}return r},f.prototype.getParallelPoint_=function(t,e,i){var a,s=t.getFlatCoordinates(),r=Math.max(e[0],s[0]),o=Math.min(e[2],s[s.length-2]),h=[(0,n.clamp)(e[0]+Math.abs(e[0]-e[2])*this.latLabelPosition_,r,o),s[1]];return i in this.parallelsLabels_?(a=this.parallelsLabels_[i].geom).setCoordinates(h):a=new l.default(h),a},f.prototype.createGraticule_=function(t,e,i,a){var s=this.getInterval_(i);if(-1==s)return this.meridians_.length=this.parallels_.length=0,this.meridiansLabels_&&(this.meridiansLabels_.length=0),void(this.parallelsLabels_&&(this.parallelsLabels_.length=0));var l,r,h,_,m=this.toLonLatTransform_(e),L=m[0],d=m[1],p=this.maxLines_,u=[Math.max(t[0],this.minLonP_),Math.max(t[1],this.minLatP_),Math.min(t[2],this.maxLonP_),Math.min(t[3],this.maxLatP_)],f=(u=(0,o.transformExtent)(u,this.projection_,"EPSG:4326"))[3],b=u[2],g=u[1],c=u[0];for(L=Math.floor(L/s)*s,_=(0,n.clamp)(L,this.minLon_,this.maxLon_),r=this.addMeridian_(_,g,f,a,t,0),l=0;_!=this.minLon_&&l++<p;)_=Math.max(_-s,this.minLon_),r=this.addMeridian_(_,g,f,a,t,r);for(_=(0,n.clamp)(L,this.minLon_,this.maxLon_),l=0;_!=this.maxLon_&&l++<p;)_=Math.min(_+s,this.maxLon_),r=this.addMeridian_(_,g,f,a,t,r);for(this.meridians_.length=r,this.meridiansLabels_&&(this.meridiansLabels_.length=r),d=Math.floor(d/s)*s,h=(0,n.clamp)(d,this.minLat_,this.maxLat_),r=this.addParallel_(h,c,b,a,t,0),l=0;h!=this.minLat_&&l++<p;)h=Math.max(h-s,this.minLat_),r=this.addParallel_(h,c,b,a,t,r);for(h=(0,n.clamp)(d,this.minLat_,this.maxLat_),l=0;h!=this.maxLat_&&l++<p;)h=Math.min(h+s,this.maxLat_),r=this.addParallel_(h,c,b,a,t,r);this.parallels_.length=r,this.parallelsLabels_&&(this.parallelsLabels_.length=r)},f.prototype.getInterval_=function(t){for(var e=this.projectionCenterLonLat_[0],i=this.projectionCenterLonLat_[1],a=-1,s=Math.pow(this.targetSize_*t,2),l=[],r=[],n=0,o=this.intervals_.length;n<o;++n){var h=this.intervals_[n]/2;if(l[0]=e-h,l[1]=i-h,r[0]=e+h,r[1]=i+h,this.fromLonLatTransform_(l,l),this.fromLonLatTransform_(r,r),Math.pow(r[0]-l[0],2)+Math.pow(r[1]-l[1],2)<=s)break;a=this.intervals_[n]}return a},f.prototype.getMap=function(){return this.map_},f.prototype.getMeridian_=function(t,e,i,l,n){var o=(0,r.meridian)(t,e,i,this.projection_,l),h=this.meridians_[n];return h?(h.setFlatCoordinates(a.default.XY,o),h.changed()):h=this.meridians_[n]=new s.default(o,a.default.XY),h},f.prototype.getMeridians=function(){return this.meridians_},f.prototype.getParallel_=function(t,e,i,l,n){var o=(0,r.parallel)(t,e,i,this.projection_,l),h=this.parallels_[n];return h?(h.setFlatCoordinates(a.default.XY,o),h.changed()):h=new s.default(o,a.default.XY),h},f.prototype.getParallels=function(){return this.parallels_},f.prototype.handlePostCompose_=function(t){var e,i,a,s,l=t.vectorContext,r=t.frameState,n=r.extent,h=r.viewState,_=h.center,m=h.projection,L=h.resolution,d=r.pixelRatio,p=L*L/(4*d*d);for((!this.projection_||!(0,o.equivalent)(this.projection_,m))&&this.updateProjectionInfo_(m),this.createGraticule_(n,_,L,p),l.setFillStrokeStyle(null,this.strokeStyle_),e=0,i=this.meridians_.length;e<i;++e)a=this.meridians_[e],l.drawGeometry(a);for(e=0,i=this.parallels_.length;e<i;++e)a=this.parallels_[e],l.drawGeometry(a);if(this.meridiansLabels_)for(e=0,i=this.meridiansLabels_.length;e<i;++e)s=this.meridiansLabels_[e],this.lonLabelStyle_.setText(s.text),l.setTextStyle(this.lonLabelStyle_),l.drawGeometry(s.geom);if(this.parallelsLabels_)for(e=0,i=this.parallelsLabels_.length;e<i;++e)s=this.parallelsLabels_[e],this.latLabelStyle_.setText(s.text),l.setTextStyle(this.latLabelStyle_),l.drawGeometry(s.geom)},f.prototype.updateProjectionInfo_=function(t){var e=(0,o.get)("EPSG:4326"),a=t.getWorldExtent(),s=(0,o.transformExtent)(a,e,t);this.maxLat_=a[3],this.maxLon_=a[2],this.minLat_=a[1],this.minLon_=a[0],this.maxLatP_=s[3],this.maxLonP_=s[2],this.minLatP_=s[1],this.minLonP_=s[0],this.fromLonLatTransform_=(0,o.getTransform)(e,t),this.toLonLatTransform_=(0,o.getTransform)(t,e),this.projectionCenterLonLat_=this.toLonLatTransform_((0,i.getCenter)(t.getExtent())),this.projection_=t},f.prototype.setMap=function(t){this.map_&&((0,e.unlistenByKey)(this.postcomposeListenerKey_),this.postcomposeListenerKey_=null,this.map_.render()),t&&(this.postcomposeListenerKey_=(0,e.listen)(t,h.default.POSTCOMPOSE,this.handlePostCompose_,this),t.render()),this.map_=t};var b=f;exports.default=b;
},{"./coordinate.js":"nGsj","./events.js":"55Uq","./extent.js":"QDir","./geom/GeometryLayout.js":"1Utv","./geom/LineString.js":"DfxW","./geom/Point.js":"gLcY","./geom/flat/geodesic.js":"w0c6","./math.js":"B96G","./proj.js":"Diht","./render/EventType.js":"z39m","./style/Fill.js":"AFcg","./style/Stroke.js":"TXDt","./style/Text.js":"RPsG"}],"Ojbp":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("./util.js"),e=r(require("./events/Target.js")),o=r(require("./events/EventType.js"));function r(t){return t&&t.__esModule?t:{default:t}}var n=function(e){function r(t,o,r,n){e.call(this),this.extent=t,this.pixelRatio_=r,this.resolution=o,this.state=n}return e&&(r.__proto__=e),r.prototype=Object.create(e&&e.prototype),r.prototype.constructor=r,r.prototype.changed=function(){this.dispatchEvent(o.default.CHANGE)},r.prototype.getExtent=function(){return this.extent},r.prototype.getImage=function(){return(0,t.abstract)()},r.prototype.getPixelRatio=function(){return this.pixelRatio_},r.prototype.getResolution=function(){return this.resolution},r.prototype.getState=function(){return this.state},r.prototype.load=function(){(0,t.abstract)()},r}(e.default),i=n;exports.default=i;
},{"./util.js":"KniQ","./events/Target.js":"8CR4","./events/EventType.js":"C8cu"}],"u3k+":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={IDLE:0,LOADING:1,LOADED:2,ERROR:3};exports.default=e;
},{}],"DHWK":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=n(require("./ImageBase.js")),t=n(require("./ImageState.js")),i=require("./events.js"),s=n(require("./events/EventType.js")),a=require("./extent.js");function n(e){return e&&e.__esModule?e:{default:e}}var o=function(e){function n(i,s,a,n,o,r){e.call(this,i,s,a,t.default.IDLE),this.src_=n,this.image_=new Image,null!==o&&(this.image_.crossOrigin=o),this.imageListenerKeys_=null,this.state=t.default.IDLE,this.imageLoadFunction_=r}return e&&(n.__proto__=e),n.prototype=Object.create(e&&e.prototype),n.prototype.constructor=n,n.prototype.getImage=function(){return this.image_},n.prototype.handleImageError_=function(){this.state=t.default.ERROR,this.unlistenImage_(),this.changed()},n.prototype.handleImageLoad_=function(){void 0===this.resolution&&(this.resolution=(0,a.getHeight)(this.extent)/this.image_.height),this.state=t.default.LOADED,this.unlistenImage_(),this.changed()},n.prototype.load=function(){this.state!=t.default.IDLE&&this.state!=t.default.ERROR||(this.state=t.default.LOADING,this.changed(),this.imageListenerKeys_=[(0,i.listenOnce)(this.image_,s.default.ERROR,this.handleImageError_,this),(0,i.listenOnce)(this.image_,s.default.LOAD,this.handleImageLoad_,this)],this.imageLoadFunction_(this,this.src_))},n.prototype.setImage=function(e){this.image_=e},n.prototype.unlistenImage_=function(){this.imageListenerKeys_.forEach(i.unlistenByKey),this.imageListenerKeys_=null},n}(e.default),r=o;exports.default=r;
},{"./ImageBase.js":"Ojbp","./ImageState.js":"u3k+","./events.js":"55Uq","./events/EventType.js":"C8cu","./extent.js":"QDir"}],"K7j2":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=r(require("./ImageBase.js")),e=r(require("./ImageState.js"));function r(t){return t&&t.__esModule?t:{default:t}}var o=function(t){function r(r,o,a,s,i){var u=void 0!==i?e.default.IDLE:e.default.LOADED;t.call(this,r,o,a,u),this.loader_=void 0!==i?i:null,this.canvas_=s,this.error_=null}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype.getError=function(){return this.error_},r.prototype.handleLoad_=function(t){t?(this.error_=t,this.state=e.default.ERROR):this.state=e.default.LOADED,this.changed()},r.prototype.load=function(){this.state==e.default.IDLE&&(this.state=e.default.LOADING,this.changed(),this.loader_(this.handleLoad_.bind(this)))},r.prototype.getImage=function(){return this.canvas_},r}(t.default),a=o;exports.default=a;
},{"./ImageBase.js":"Ojbp","./ImageState.js":"u3k+"}],"Xz9x":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4,ABORT:5};exports.default=e;
},{}],"IeCz":[function(require,module,exports) {
"use strict";function e(e){return Math.pow(e,3)}function t(t){return 1-e(1-t)}function n(e){return 3*e*e-2*e*e*e}function r(e){return e}function u(e){return e<.5?n(2*e):1-n(2*(e-.5))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.easeIn=e,exports.easeOut=t,exports.inAndOut=n,exports.linear=r,exports.upAndDown=u;
},{}],"IWZI":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=n(require("./TileState.js")),i=require("./easing.js"),e=n(require("./events/Target.js")),r=n(require("./events/EventType.js"));function n(t){return t&&t.__esModule?t:{default:t}}var o=function(e){function n(t,i,r){e.call(this);var n=r||{};this.tileCoord=t,this.state=i,this.interimTile=null,this.key="",this.transition_=void 0===n.transition?250:n.transition,this.transitionStarts_={}}return e&&(n.__proto__=e),n.prototype=Object.create(e&&e.prototype),n.prototype.constructor=n,n.prototype.changed=function(){this.dispatchEvent(r.default.CHANGE)},n.prototype.getKey=function(){return this.key+"/"+this.tileCoord},n.prototype.getInterimTile=function(){if(!this.interimTile)return this;var i=this.interimTile;do{if(i.getState()==t.default.LOADED)return i;i=i.interimTile}while(i);return this},n.prototype.refreshInterimChain=function(){if(this.interimTile){var i=this.interimTile,e=this;do{if(i.getState()==t.default.LOADED){i.interimTile=null;break}i.getState()==t.default.LOADING?e=i:i.getState()==t.default.IDLE?e.interimTile=i.interimTile:e=i,i=e.interimTile}while(i)}},n.prototype.getTileCoord=function(){return this.tileCoord},n.prototype.getState=function(){return this.state},n.prototype.setState=function(t){this.state=t,this.changed()},n.prototype.load=function(){},n.prototype.getAlpha=function(t,e){if(!this.transition_)return 1;var r=this.transitionStarts_[t];if(r){if(-1===r)return 1}else r=e,this.transitionStarts_[t]=r;var n=e-r+1e3/60;return n>=this.transition_?1:(0,i.easeIn)(n/this.transition_)},n.prototype.inTransition=function(t){return!!this.transition_&&-1!==this.transitionStarts_[t]},n.prototype.endTransition=function(t){this.transition_&&(this.transitionStarts_[t]=-1)},n}(e.default),s=o;exports.default=s;
},{"./TileState.js":"Xz9x","./easing.js":"IeCz","./events/Target.js":"8CR4","./events/EventType.js":"C8cu"}],"Xno5":[function(require,module,exports) {
"use strict";function e(e,t){var r=document.createElement("canvas");return e&&(r.width=e),t&&(r.height=t),r.getContext("2d")}function t(e){var t=e.offsetWidth,r=getComputedStyle(e);return t+=parseInt(r.marginLeft,10)+parseInt(r.marginRight,10)}function r(e){var t=e.offsetHeight,r=getComputedStyle(e);return t+=parseInt(r.marginTop,10)+parseInt(r.marginBottom,10)}function o(e,t){var r=t.parentNode;r&&r.replaceChild(e,t)}function n(e){return e&&e.parentNode?e.parentNode.removeChild(e):null}function a(e){for(;e.lastChild;)e.removeChild(e.lastChild)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.createCanvasContext2D=e,exports.outerWidth=t,exports.outerHeight=r,exports.replaceNode=o,exports.removeNode=n,exports.removeChildren=a;
},{}],"T/Os":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=n(require("./Tile.js")),e=n(require("./TileState.js")),i=require("./dom.js"),s=require("./events.js"),a=n(require("./events/EventType.js"));function n(t){return t&&t.__esModule?t:{default:t}}var r=function(t){function i(e,i,s,a,n,r){t.call(this,e,i,r),this.crossOrigin_=a,this.src_=s,this.image_=new Image,null!==a&&(this.image_.crossOrigin=a),this.imageListenerKeys_=null,this.tileLoadFunction_=n}return t&&(i.__proto__=t),i.prototype=Object.create(t&&t.prototype),i.prototype.constructor=i,i.prototype.disposeInternal=function(){this.state==e.default.LOADING&&(this.unlistenImage_(),this.image_=o()),this.interimTile&&this.interimTile.dispose(),this.state=e.default.ABORT,this.changed(),t.prototype.disposeInternal.call(this)},i.prototype.getImage=function(){return this.image_},i.prototype.getKey=function(){return this.src_},i.prototype.handleImageError_=function(){this.state=e.default.ERROR,this.unlistenImage_(),this.image_=o(),this.changed()},i.prototype.handleImageLoad_=function(){var t=this.image_;t.naturalWidth&&t.naturalHeight?this.state=e.default.LOADED:this.state=e.default.EMPTY,this.unlistenImage_(),this.changed()},i.prototype.load=function(){this.state==e.default.ERROR&&(this.state=e.default.IDLE,this.image_=new Image,null!==this.crossOrigin_&&(this.image_.crossOrigin=this.crossOrigin_)),this.state==e.default.IDLE&&(this.state=e.default.LOADING,this.changed(),this.imageListenerKeys_=[(0,s.listenOnce)(this.image_,a.default.ERROR,this.handleImageError_,this),(0,s.listenOnce)(this.image_,a.default.LOAD,this.handleImageLoad_,this)],this.tileLoadFunction_(this,this.src_))},i.prototype.unlistenImage_=function(){this.imageListenerKeys_.forEach(s.unlistenByKey),this.imageListenerKeys_=null},i}(t.default);function o(){var t=(0,i.createCanvasContext2D)(1,1);return t.fillStyle="rgba(0,0,0,0)",t.fillRect(0,0,1,1),t.canvas}var h=r;exports.default=h;
},{"./Tile.js":"IWZI","./TileState.js":"Xz9x","./dom.js":"Xno5","./events.js":"55Uq","./events/EventType.js":"C8cu"}],"77gA":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=function(t,i,n){this.decay_=t,this.minVelocity_=i,this.delay_=n,this.points_=[],this.angle_=0,this.initialVelocity_=0};t.prototype.begin=function(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0},t.prototype.update=function(t,i){this.points_.push(t,i,Date.now())},t.prototype.end=function(){if(this.points_.length<6)return!1;var t=Date.now()-this.delay_,i=this.points_.length-3;if(this.points_[i+2]<t)return!1;for(var n=i-3;n>0&&this.points_[n+2]>t;)n-=3;var e=this.points_[i+2]-this.points_[n+2];if(e<1e3/60)return!1;var s=this.points_[i]-this.points_[n],o=this.points_[i+1]-this.points_[n+1];return this.angle_=Math.atan2(o,s),this.initialVelocity_=Math.sqrt(s*s+o*o)/e,this.initialVelocity_>this.minVelocity_},t.prototype.getDistance=function(){return(this.minVelocity_-this.initialVelocity_)/this.decay_},t.prototype.getAngle=function(){return this.angle_};var i=t;exports.default=i;
},{}],"vFcA":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=e(require("./events/Event.js"));function e(t){return t&&t.__esModule?t:{default:t}}var r=function(t){function e(e,r,o){t.call(this,e),this.map=r,this.frameState=void 0!==o?o:null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(t.default),o=r;exports.default=o;
},{"./events/Event.js":"fKNg"}],"HMLS":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=e(require("./MapEvent.js"));function e(t){return t&&t.__esModule?t:{default:t}}var o=function(t){function e(e,o,r,i,n){t.call(this,e,o,n),this.originalEvent=r,this.pixel=o.getEventPixel(r),this.coordinate=o.getCoordinateFromPixel(this.pixel),this.dragging=void 0!==i&&i}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.preventDefault=function(){t.prototype.preventDefault.call(this),this.originalEvent.preventDefault()},e.prototype.stopPropagation=function(){t.prototype.stopPropagation.call(this),this.originalEvent.stopPropagation()},e}(t.default),r=o;exports.default=r;
},{"./MapEvent.js":"vFcA"}],"Yh/D":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("./events/EventType.js"));function t(e){return e&&e.__esModule?e:{default:e}}var r={SINGLECLICK:"singleclick",CLICK:e.default.CLICK,DBLCLICK:e.default.DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"};exports.default=r;
},{"./events/EventType.js":"C8cu"}],"J1WQ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=e(require("./MapBrowserEvent.js"));function e(t){return t&&t.__esModule?t:{default:t}}var r=function(t){function e(e,r,o,n,u){t.call(this,e,r,o.originalEvent,n,u),this.pointerEvent=o}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(t.default),o=r;exports.default=o;
},{"./MapBrowserEvent.js":"HMLS"}],"TaSm":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"};exports.default=e;
},{}],"R8kl":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=function(t,e){this.dispatcher=t,this.mapping_=e};t.prototype.getEvents=function(){return Object.keys(this.mapping_)},t.prototype.getHandlerForEvent=function(t){return this.mapping_[t]};var e=t;exports.default=e;
},{}],"Plx9":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.prepareEvent=h,exports.default=exports.POINTER_TYPE=exports.POINTER_ID=void 0;var t=e(require("./EventSource.js"));function e(t){return t&&t.__esModule?t:{default:t}}var i=1;exports.POINTER_ID=i;var r="mouse";exports.POINTER_TYPE=r;var o=25;function s(t){if(!this.isEventSimulatedFromTouch_(t)){i.toString()in this.pointerMap&&this.cancel(t);var e=h(t,this.dispatcher);this.pointerMap[i.toString()]=t,this.dispatcher.down(e,t)}}function n(t){if(!this.isEventSimulatedFromTouch_(t)){var e=h(t,this.dispatcher);this.dispatcher.move(e,t)}}function a(t){if(!this.isEventSimulatedFromTouch_(t)){var e=this.pointerMap[i.toString()];if(e&&e.button===t.button){var r=h(t,this.dispatcher);this.dispatcher.up(r,t),this.cleanupMouse()}}}function u(t){if(!this.isEventSimulatedFromTouch_(t)){var e=h(t,this.dispatcher);this.dispatcher.enterOver(e,t)}}function p(t){if(!this.isEventSimulatedFromTouch_(t)){var e=h(t,this.dispatcher);this.dispatcher.leaveOut(e,t)}}var c=function(t){function e(e){var i={mousedown:s,mousemove:n,mouseup:a,mouseover:u,mouseout:p};t.call(this,e,i),this.pointerMap=e.pointerMap,this.lastTouches=[]}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.isEventSimulatedFromTouch_=function(t){for(var e=this.lastTouches,i=t.clientX,r=t.clientY,s=0,n=e.length,a=void 0;s<n&&(a=e[s]);s++){var u=Math.abs(i-a[0]),p=Math.abs(r-a[1]);if(u<=o&&p<=o)return!0}return!1},e.prototype.cancel=function(t){var e=h(t,this.dispatcher);this.dispatcher.cancel(e,t),this.cleanupMouse()},e.prototype.cleanupMouse=function(){delete this.pointerMap[i.toString()]},e}(t.default);function h(t,e){var o=e.cloneEvent(t,t),s=o.preventDefault;return o.preventDefault=function(){t.preventDefault(),s()},o.pointerId=i,o.isPrimary=!0,o.pointerType=r,o}var v=c;exports.default=v;
},{"./EventSource.js":"R8kl"}],"qKvi":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=e(require("./EventSource.js"));function e(t){return t&&t.__esModule?t:{default:t}}var r=["","unavailable","touch","pen","mouse"];function n(t){this.pointerMap[t.pointerId.toString()]=t;var e=this.prepareEvent_(t);this.dispatcher.down(e,t)}function i(t){var e=this.prepareEvent_(t);this.dispatcher.move(e,t)}function p(t){var e=this.prepareEvent_(t);this.dispatcher.up(e,t),this.cleanup(t.pointerId)}function o(t){var e=this.prepareEvent_(t);this.dispatcher.leaveOut(e,t)}function a(t){var e=this.prepareEvent_(t);this.dispatcher.enterOver(e,t)}function s(t){var e=this.prepareEvent_(t);this.dispatcher.cancel(e,t),this.cleanup(t.pointerId)}function c(t){var e=this.dispatcher.makeEvent("lostpointercapture",t,t);this.dispatcher.dispatchEvent(e)}function u(t){var e=this.dispatcher.makeEvent("gotpointercapture",t,t);this.dispatcher.dispatchEvent(e)}var h=function(t){function e(e){var r={MSPointerDown:n,MSPointerMove:i,MSPointerUp:p,MSPointerOut:o,MSPointerOver:a,MSPointerCancel:s,MSGotPointerCapture:u,MSLostPointerCapture:c};t.call(this,e,r),this.pointerMap=e.pointerMap}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.prepareEvent_=function(t){var e=t;return"number"==typeof t.pointerType&&((e=this.dispatcher.cloneEvent(t,t)).pointerType=r[t.pointerType]),e},e.prototype.cleanup=function(t){delete this.pointerMap[t.toString()]},e}(t.default),v=h;exports.default=v;
},{"./EventSource.js":"R8kl"}],"Hw3i":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=e(require("./EventSource.js"));function e(t){return t&&t.__esModule?t:{default:t}}function i(t){this.dispatcher.fireNativeEvent(t)}function r(t){this.dispatcher.fireNativeEvent(t)}function n(t){this.dispatcher.fireNativeEvent(t)}function o(t){this.dispatcher.fireNativeEvent(t)}function c(t){this.dispatcher.fireNativeEvent(t)}function p(t){this.dispatcher.fireNativeEvent(t)}function a(t){this.dispatcher.fireNativeEvent(t)}function u(t){this.dispatcher.fireNativeEvent(t)}var s=function(t){function e(e){var s={pointerdown:i,pointermove:r,pointerup:n,pointerout:o,pointerover:c,pointercancel:p,gotpointercapture:u,lostpointercapture:a};t.call(this,e,s)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(t.default),f=s;exports.default=f;
},{"./EventSource.js":"R8kl"}],"rjJl":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=e(require("../events/Event.js"));function e(t){return t&&t.__esModule?t:{default:t}}var i=!1,n=function(t){function e(e,i,n){t.call(this,e),this.originalEvent=i;var l=n||{};this.buttons=s(l),this.pressure=r(l,this.buttons),this.bubbles="bubbles"in l&&l.bubbles,this.cancelable="cancelable"in l&&l.cancelable,this.view="view"in l?l.view:null,this.detail="detail"in l?l.detail:null,this.screenX="screenX"in l?l.screenX:0,this.screenY="screenY"in l?l.screenY:0,this.clientX="clientX"in l?l.clientX:0,this.clientY="clientY"in l?l.clientY:0,this.ctrlKey="ctrlKey"in l&&l.ctrlKey,this.altKey="altKey"in l&&l.altKey,this.shiftKey="shiftKey"in l&&l.shiftKey,this.metaKey="metaKey"in l&&l.metaKey,this.button="button"in l?l.button:0,this.relatedTarget="relatedTarget"in l?l.relatedTarget:null,this.pointerId="pointerId"in l?l.pointerId:0,this.width="width"in l?l.width:0,this.height="height"in l?l.height:0,this.tiltX="tiltX"in l?l.tiltX:0,this.tiltY="tiltY"in l?l.tiltY:0,this.pointerType="pointerType"in l?l.pointerType:"",this.hwTimestamp="hwTimestamp"in l?l.hwTimestamp:0,this.isPrimary="isPrimary"in l&&l.isPrimary,i.preventDefault&&(this.preventDefault=function(){i.preventDefault()})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(t.default);function s(t){var e;if(t.buttons||i)e=t.buttons;else switch(t.which){case 1:e=1;break;case 2:e=4;break;case 3:e=2;break;default:e=0}return e}function r(t,e){return t.pressure?t.pressure:e?.5:0}!function(){try{var t=new MouseEvent("click",{buttons:1});i=1===t.buttons}catch(e){}}();var l=n;exports.default=l;
},{"../events/Event.js":"fKNg"}],"XfdC":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../array.js"),e=r(require("./EventSource.js")),i=require("./MouseSource.js");function r(t){return t&&t.__esModule?t:{default:t}}var o=200,s="touch";function n(t){this.vacuumTouches_(t),this.setPrimaryTouch_(t.changedTouches[0]),this.dedupSynthMouse_(t),this.clickCount_++,this.processTouches_(t,this.overDown_)}function c(t){this.processTouches_(t,this.moveOverOut_)}function u(t){this.dedupSynthMouse_(t),this.processTouches_(t,this.upOut_)}function h(t){this.processTouches_(t,this.cancelOut_)}var a=function(e){function r(t,i){var r={touchstart:n,touchmove:c,touchend:u,touchcancel:h};e.call(this,t,r),this.pointerMap=t.pointerMap,this.mouseSource=i,this.firstTouchId_=void 0,this.clickCount_=0,this.resetId_,this.dedupTimeout_=2500}return e&&(r.__proto__=e),r.prototype=Object.create(e&&e.prototype),r.prototype.constructor=r,r.prototype.isPrimaryTouch_=function(t){return this.firstTouchId_===t.identifier},r.prototype.setPrimaryTouch_=function(t){var e=Object.keys(this.pointerMap).length;(0===e||1===e&&i.POINTER_ID.toString()in this.pointerMap)&&(this.firstTouchId_=t.identifier,this.cancelResetClickCount_())},r.prototype.removePrimaryPointer_=function(t){t.isPrimary&&(this.firstTouchId_=void 0,this.resetClickCount_())},r.prototype.resetClickCount_=function(){this.resetId_=setTimeout(this.resetClickCountHandler_.bind(this),o)},r.prototype.resetClickCountHandler_=function(){this.clickCount_=0,this.resetId_=void 0},r.prototype.cancelResetClickCount_=function(){void 0!==this.resetId_&&clearTimeout(this.resetId_)},r.prototype.touchToPointer_=function(t,e){var i=this.dispatcher.cloneEvent(t,e);return i.pointerId=e.identifier+2,i.bubbles=!0,i.cancelable=!0,i.detail=this.clickCount_,i.button=0,i.buttons=1,i.width=e.radiusX||0,i.height=e.radiusY||0,i.pressure=e.force||.5,i.isPrimary=this.isPrimaryTouch_(e),i.pointerType=s,i.clientX=e.clientX,i.clientY=e.clientY,i.screenX=e.screenX,i.screenY=e.screenY,i},r.prototype.processTouches_=function(t,e){var i=Array.prototype.slice.call(t.changedTouches),r=i.length;function o(){t.preventDefault()}for(var s=0;s<r;++s){var n=this.touchToPointer_(t,i[s]);n.preventDefault=o,e.call(this,t,n)}},r.prototype.findTouch_=function(t,e){for(var i=t.length,r=0;r<i;r++){if(t[r].identifier===e)return!0}return!1},r.prototype.vacuumTouches_=function(t){var e=t.touches,r=Object.keys(this.pointerMap),o=r.length;if(o>=e.length){for(var s=[],n=0;n<o;++n){var c=Number(r[n]),u=this.pointerMap[c];c==i.POINTER_ID||this.findTouch_(e,c-2)||s.push(u.out)}for(var h=0;h<s.length;++h)this.cancelOut_(t,s[h])}},r.prototype.overDown_=function(t,e){this.pointerMap[e.pointerId]={target:e.target,out:e,outTarget:e.target},this.dispatcher.over(e,t),this.dispatcher.enter(e,t),this.dispatcher.down(e,t)},r.prototype.moveOverOut_=function(t,e){var i=e,r=this.pointerMap[i.pointerId];if(r){var o=r.out,s=r.outTarget;this.dispatcher.move(i,t),o&&s!==i.target&&(o.relatedTarget=i.target,i.relatedTarget=s,o.target=s,i.target?(this.dispatcher.leaveOut(o,t),this.dispatcher.enterOver(i,t)):(i.target=s,i.relatedTarget=null,this.cancelOut_(t,i))),r.out=i,r.outTarget=i.target}},r.prototype.upOut_=function(t,e){this.dispatcher.up(e,t),this.dispatcher.out(e,t),this.dispatcher.leave(e,t),this.cleanUpPointer_(e)},r.prototype.cancelOut_=function(t,e){this.dispatcher.cancel(e,t),this.dispatcher.out(e,t),this.dispatcher.leave(e,t),this.cleanUpPointer_(e)},r.prototype.cleanUpPointer_=function(t){delete this.pointerMap[t.pointerId],this.removePrimaryPointer_(t)},r.prototype.dedupSynthMouse_=function(e){var i=this.mouseSource.lastTouches,r=e.changedTouches[0];if(this.isPrimaryTouch_(r)){var o=[r.clientX,r.clientY];i.push(o),setTimeout(function(){(0,t.remove)(i,o)},this.dedupTimeout_)}},r}(e.default),p=a;exports.default=p;
},{"../array.js":"luEr","./EventSource.js":"R8kl","./MouseSource.js":"Plx9"}],"zTqe":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("../events.js"),t=c(require("../events/Target.js")),r=require("../has.js"),n=c(require("./EventType.js")),i=p(require("./MouseSource.js")),o=c(require("./MsSource.js")),s=c(require("./NativeSource.js")),u=c(require("./PointerEvent.js")),a=c(require("./TouchSource.js"));function p(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}function c(e){return e&&e.__esModule?e:{default:e}}var l=[["bubbles",!1],["cancelable",!1],["view",null],["detail",null],["screenX",0],["screenY",0],["clientX",0],["clientY",0],["ctrlKey",!1],["altKey",!1],["shiftKey",!1],["metaKey",!1],["button",0],["relatedTarget",null],["buttons",0],["pointerId",0],["width",0],["height",0],["pressure",0],["tiltX",0],["tiltY",0],["pointerType",""],["hwTimestamp",0],["isPrimary",!1],["type",""],["target",null],["currentTarget",null],["which",0]],f=function(t){function p(e){t.call(this),this.element_=e,this.pointerMap={},this.eventMap_={},this.eventSourceList_=[],this.registerSources()}return t&&(p.__proto__=t),p.prototype=Object.create(t&&t.prototype),p.prototype.constructor=p,p.prototype.registerSources=function(){if(r.POINTER)this.registerSource("native",new s.default(this));else if(r.MSPOINTER)this.registerSource("ms",new o.default(this));else{var e=new i.default(this);this.registerSource("mouse",e),r.TOUCH&&this.registerSource("touch",new a.default(this,e))}this.register_()},p.prototype.registerSource=function(e,t){var r=t,n=r.getEvents();n&&(n.forEach(function(e){var t=r.getHandlerForEvent(e);t&&(this.eventMap_[e]=t.bind(r))}.bind(this)),this.eventSourceList_.push(r))},p.prototype.register_=function(){for(var e=this.eventSourceList_.length,t=0;t<e;t++){var r=this.eventSourceList_[t];this.addEvents_(r.getEvents())}},p.prototype.unregister_=function(){for(var e=this.eventSourceList_.length,t=0;t<e;t++){var r=this.eventSourceList_[t];this.removeEvents_(r.getEvents())}},p.prototype.eventHandler_=function(e){var t=e.type,r=this.eventMap_[t];r&&r(e)},p.prototype.addEvents_=function(t){t.forEach(function(t){(0,e.listen)(this.element_,t,this.eventHandler_,this)}.bind(this))},p.prototype.removeEvents_=function(t){t.forEach(function(t){(0,e.unlisten)(this.element_,t,this.eventHandler_,this)}.bind(this))},p.prototype.cloneEvent=function(e,t){for(var r={},n=0,i=l.length;n<i;n++){var o=l[n][0];r[o]=e[o]||t[o]||l[n][1]}return r},p.prototype.down=function(e,t){this.fireEvent(n.default.POINTERDOWN,e,t)},p.prototype.move=function(e,t){this.fireEvent(n.default.POINTERMOVE,e,t)},p.prototype.up=function(e,t){this.fireEvent(n.default.POINTERUP,e,t)},p.prototype.enter=function(e,t){e.bubbles=!1,this.fireEvent(n.default.POINTERENTER,e,t)},p.prototype.leave=function(e,t){e.bubbles=!1,this.fireEvent(n.default.POINTERLEAVE,e,t)},p.prototype.over=function(e,t){e.bubbles=!0,this.fireEvent(n.default.POINTEROVER,e,t)},p.prototype.out=function(e,t){e.bubbles=!0,this.fireEvent(n.default.POINTEROUT,e,t)},p.prototype.cancel=function(e,t){this.fireEvent(n.default.POINTERCANCEL,e,t)},p.prototype.leaveOut=function(e,t){this.out(e,t),this.contains_(e.target,e.relatedTarget)||this.leave(e,t)},p.prototype.enterOver=function(e,t){this.over(e,t),this.contains_(e.target,e.relatedTarget)||this.enter(e,t)},p.prototype.contains_=function(e,t){return!(!e||!t)&&e.contains(t)},p.prototype.makeEvent=function(e,t,r){return new u.default(e,r,t)},p.prototype.fireEvent=function(e,t,r){var n=this.makeEvent(e,t,r);this.dispatchEvent(n)},p.prototype.fireNativeEvent=function(e){var t=this.makeEvent(e.type,e,e);this.dispatchEvent(t)},p.prototype.wrapMouseEvent=function(e,t){return this.makeEvent(e,(0,i.prepareEvent)(t,this),t)},p.prototype.disposeInternal=function(){this.unregister_(),t.prototype.disposeInternal.call(this)},p}(t.default),h=f;exports.default=h;
},{"../events.js":"55Uq","../events/Target.js":"8CR4","../has.js":"f3Nv","./EventType.js":"TaSm","./MouseSource.js":"Plx9","./MsSource.js":"qKvi","./NativeSource.js":"Hw3i","./PointerEvent.js":"rjJl","./TouchSource.js":"XfdC"}],"ohHk":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("./has.js"),e=a(require("./MapBrowserEventType.js")),i=a(require("./MapBrowserPointerEvent.js")),n=require("./events.js"),s=a(require("./events/Target.js")),r=a(require("./pointer/EventType.js")),o=a(require("./pointer/PointerEventHandler.js"));function a(t){return t&&t.__esModule?t:{default:t}}var d=function(s){function a(e,i){s.call(this),this.map_=e,this.clickTimeoutId_,this.dragging_=!1,this.dragListenerKeys_=[],this.moveTolerance_=i?i*t.DEVICE_PIXEL_RATIO:t.DEVICE_PIXEL_RATIO,this.down_=null;var a=this.map_.getViewport();this.activePointers_=0,this.trackedTouches_={},this.pointerEventHandler_=new o.default(a),this.documentPointerEventHandler_=null,this.pointerdownListenerKey_=(0,n.listen)(this.pointerEventHandler_,r.default.POINTERDOWN,this.handlePointerDown_,this),this.relayedListenerKey_=(0,n.listen)(this.pointerEventHandler_,r.default.POINTERMOVE,this.relayEvent_,this)}return s&&(a.__proto__=s),a.prototype=Object.create(s&&s.prototype),a.prototype.constructor=a,a.prototype.emulateClick_=function(t){var n=new i.default(e.default.CLICK,this.map_,t);this.dispatchEvent(n),void 0!==this.clickTimeoutId_?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,n=new i.default(e.default.DBLCLICK,this.map_,t),this.dispatchEvent(n)):this.clickTimeoutId_=setTimeout(function(){this.clickTimeoutId_=void 0;var n=new i.default(e.default.SINGLECLICK,this.map_,t);this.dispatchEvent(n)}.bind(this),250)},a.prototype.updateActivePointers_=function(t){var i=t;i.type==e.default.POINTERUP||i.type==e.default.POINTERCANCEL?delete this.trackedTouches_[i.pointerId]:i.type==e.default.POINTERDOWN&&(this.trackedTouches_[i.pointerId]=!0),this.activePointers_=Object.keys(this.trackedTouches_).length},a.prototype.handlePointerUp_=function(t){this.updateActivePointers_(t);var s=new i.default(e.default.POINTERUP,this.map_,t);this.dispatchEvent(s),s.propagationStopped||this.dragging_||!this.isMouseActionButton_(t)||this.emulateClick_(this.down_),0===this.activePointers_&&(this.dragListenerKeys_.forEach(n.unlistenByKey),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null,this.documentPointerEventHandler_.dispose(),this.documentPointerEventHandler_=null)},a.prototype.isMouseActionButton_=function(t){return 0===t.button},a.prototype.handlePointerDown_=function(t){this.updateActivePointers_(t);var s=new i.default(e.default.POINTERDOWN,this.map_,t);this.dispatchEvent(s),this.down_=t,0===this.dragListenerKeys_.length&&(this.documentPointerEventHandler_=new o.default(document),this.dragListenerKeys_.push((0,n.listen)(this.documentPointerEventHandler_,e.default.POINTERMOVE,this.handlePointerMove_,this),(0,n.listen)(this.documentPointerEventHandler_,e.default.POINTERUP,this.handlePointerUp_,this),(0,n.listen)(this.pointerEventHandler_,e.default.POINTERCANCEL,this.handlePointerUp_,this)))},a.prototype.handlePointerMove_=function(t){if(this.isMoving_(t)){this.dragging_=!0;var n=new i.default(e.default.POINTERDRAG,this.map_,t,this.dragging_);this.dispatchEvent(n)}t.preventDefault()},a.prototype.relayEvent_=function(t){var e=!(!this.down_||!this.isMoving_(t));this.dispatchEvent(new i.default(t.type,this.map_,t,e))},a.prototype.isMoving_=function(t){return this.dragging_||Math.abs(t.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(t.clientY-this.down_.clientY)>this.moveTolerance_},a.prototype.disposeInternal=function(){this.relayedListenerKey_&&((0,n.unlistenByKey)(this.relayedListenerKey_),this.relayedListenerKey_=null),this.pointerdownListenerKey_&&((0,n.unlistenByKey)(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(n.unlistenByKey),this.dragListenerKeys_.length=0,this.documentPointerEventHandler_&&(this.documentPointerEventHandler_.dispose(),this.documentPointerEventHandler_=null),this.pointerEventHandler_&&(this.pointerEventHandler_.dispose(),this.pointerEventHandler_=null),s.prototype.disposeInternal.call(this)},a}(s.default),h=d;exports.default=h;
},{"./has.js":"f3Nv","./MapBrowserEventType.js":"Yh/D","./MapBrowserPointerEvent.js":"J1WQ","./events.js":"55Uq","./events/Target.js":"8CR4","./pointer/EventType.js":"TaSm","./pointer/PointerEventHandler.js":"zTqe"}],"xLGm":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={POSTRENDER:"postrender",MOVESTART:"movestart",MOVEEND:"moveend"};exports.default=e;
},{}],"zlNQ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={LAYERGROUP:"layergroup",SIZE:"size",TARGET:"target",VIEW:"view"};exports.default=e;
},{}],"RQLY":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.DROP=void 0;var t=require("../asserts.js"),e=require("../obj.js"),i=1/0;exports.DROP=i;var n=function(t,e){this.priorityFunction_=t,this.keyFunction_=e,this.elements_=[],this.priorities_=[],this.queuedElements_={}};n.prototype.clear=function(){this.elements_.length=0,this.priorities_.length=0,(0,e.clear)(this.queuedElements_)},n.prototype.dequeue=function(){var t=this.elements_,e=this.priorities_,i=t[0];1==t.length?(t.length=0,e.length=0):(t[0]=t.pop(),e[0]=e.pop(),this.siftUp_(0));var n=this.keyFunction_(i);return delete this.queuedElements_[n],i},n.prototype.enqueue=function(e){(0,t.assert)(!(this.keyFunction_(e)in this.queuedElements_),31);var n=this.priorityFunction_(e);return n!=i&&(this.elements_.push(e),this.priorities_.push(n),this.queuedElements_[this.keyFunction_(e)]=!0,this.siftDown_(0,this.elements_.length-1),!0)},n.prototype.getCount=function(){return this.elements_.length},n.prototype.getLeftChildIndex_=function(t){return 2*t+1},n.prototype.getRightChildIndex_=function(t){return 2*t+2},n.prototype.getParentIndex_=function(t){return t-1>>1},n.prototype.heapify_=function(){var t;for(t=(this.elements_.length>>1)-1;t>=0;t--)this.siftUp_(t)},n.prototype.isEmpty=function(){return 0===this.elements_.length},n.prototype.isKeyQueued=function(t){return t in this.queuedElements_},n.prototype.isQueued=function(t){return this.isKeyQueued(this.keyFunction_(t))},n.prototype.siftUp_=function(t){for(var e=this.elements_,i=this.priorities_,n=e.length,s=e[t],r=i[t],o=t;t<n>>1;){var u=this.getLeftChildIndex_(t),h=this.getRightChildIndex_(t),p=h<n&&i[h]<i[u]?h:u;e[t]=e[p],i[t]=i[p],t=p}e[t]=s,i[t]=r,this.siftDown_(o,t)},n.prototype.siftDown_=function(t,e){for(var i=this.elements_,n=this.priorities_,s=i[e],r=n[e];e>t;){var o=this.getParentIndex_(e);if(!(n[o]>r))break;i[e]=i[o],n[e]=n[o],e=o}i[e]=s,n[e]=r},n.prototype.reprioritize=function(){var t,e,n,s=this.priorityFunction_,r=this.elements_,o=this.priorities_,u=0,h=r.length;for(e=0;e<h;++e)(n=s(t=r[e]))==i?delete this.queuedElements_[this.keyFunction_(t)]:(o[u]=n,r[u++]=t);r.length=u,o.length=u,this.heapify_()};var s=n;exports.default=s;
},{"../asserts.js":"fLG6","../obj.js":"mH6q"}],"0tHO":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=a(require("./TileState.js")),t=require("./events.js"),i=a(require("./events/EventType.js")),n=a(require("./structs/PriorityQueue.js"));function a(e){return e&&e.__esModule?e:{default:e}}var s=function(n){function a(e,t){n.call(this,function(t){return e.apply(null,t)},function(e){return e[0].getKey()}),this.tileChangeCallback_=t,this.tilesLoading_=0,this.tilesLoadingKeys_={}}return n&&(a.__proto__=n),a.prototype=Object.create(n&&n.prototype),a.prototype.constructor=a,a.prototype.enqueue=function(e){var a=n.prototype.enqueue.call(this,e);if(a){var s=e[0];(0,t.listen)(s,i.default.CHANGE,this.handleTileChange,this)}return a},a.prototype.getTilesLoading=function(){return this.tilesLoading_},a.prototype.handleTileChange=function(n){var a=n.target,s=a.getState();if(s===e.default.LOADED||s===e.default.ERROR||s===e.default.EMPTY||s===e.default.ABORT){(0,t.unlisten)(a,i.default.CHANGE,this.handleTileChange,this);var l=a.getKey();l in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[l],--this.tilesLoading_),this.tileChangeCallback_()}},a.prototype.loadMoreTiles=function(t,i){for(var n,a,s,l=0,o=!1;this.tilesLoading_<t&&l<i&&this.getCount()>0;)s=(a=this.dequeue()[0]).getKey(),(n=a.getState())===e.default.ABORT?o=!0:n!==e.default.IDLE||s in this.tilesLoadingKeys_||(this.tilesLoadingKeys_[s]=!0,++this.tilesLoading_,++l,a.load());0===l&&o&&this.tileChangeCallback_()},a}(n.default),l=s;exports.default=l;
},{"./TileState.js":"Xz9x","./events.js":"55Uq","./events/EventType.js":"C8cu","./structs/PriorityQueue.js":"RQLY"}],"mOEX":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.DEFAULT_TILE_SIZE=exports.DEFAULT_MAX_ZOOM=void 0;var e=42;exports.DEFAULT_MAX_ZOOM=e;var r=256;exports.DEFAULT_TILE_SIZE=r;
},{}],"Rc7z":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.createExtent=t,exports.none=r;var e=require("./math.js");function t(t){return function(r){return r?[(0,e.clamp)(r[0],t[0],t[2]),(0,e.clamp)(r[1],t[1],t[3])]:void 0}}function r(e){return e}
},{"./math.js":"B96G"}],"o7nl":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.createSnapToResolutions=t,exports.createSnapToPower=a;var r=require("./array.js"),e=require("./math.js");function t(t){return function(a,o,n){if(void 0!==a){var i=(0,r.linearFindNearest)(t,a,n);i=(0,e.clamp)(i+o,0,t.length-1);var u=Math.floor(i);if(i!=u&&u<t.length-1){var h=t[u]/t[u+1];return t[u]/Math.pow(h,i-u)}return t[u]}}}function a(r,e,t){return function(a,o,n){if(void 0!==a){var i=-n/2+.5,u=Math.floor(Math.log(e/a)/Math.log(r)+i),h=Math.max(u+o,0);return void 0!==t&&(h=Math.min(h,t)),e/Math.pow(r,h)}}}
},{"./array.js":"luEr","./math.js":"B96G"}],"9EKd":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.disable=e,exports.none=o,exports.createSnapToN=t,exports.createSnapToZero=n;var r=require("./math.js");function e(r,e){return void 0!==r?0:void 0}function o(r,e){return void 0!==r?r+e:void 0}function t(r){var e=2*Math.PI/r;return function(r,o){return void 0!==r?r=Math.floor((r+o)/e+.5)*e:void 0}}function n(e){var o=e||(0,r.toRadians)(5);return function(r,e){return void 0!==r?Math.abs(r+e)<=o?0:r+e:void 0}}
},{"./math.js":"B96G"}],"cuLW":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={ANIMATING:0,INTERACTING:1};exports.default=e;
},{}],"0/98":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"};exports.default=e;
},{}],"hNqE":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.createCenterConstraint=A,exports.createResolutionConstraint=E,exports.createRotationConstraint=T,exports.isNoopAnimation=I,exports.default=void 0;var t=require("./tilegrid/common.js"),o=require("./util.js"),e=require("./functions.js"),i=require("./centerconstraint.js"),n=y(require("./Object.js")),r=require("./resolutionconstraint.js"),s=require("./rotationconstraint.js"),a=y(require("./ViewHint.js")),u=y(require("./ViewProperty.js")),h=require("./array.js"),l=require("./asserts.js"),c=require("./coordinate.js"),p=require("./easing.js"),m=require("./extent.js"),g=y(require("./geom/GeometryType.js")),d=require("./geom/Polygon.js"),R=require("./math.js"),f=require("./obj.js"),v=require("./proj.js"),_=y(require("./proj/Units.js"));function y(t){return t&&t.__esModule?t:{default:t}}var M=0,C=function(t){function i(o){t.call(this);var e=(0,f.assign)({},o);this.hints_=[0,0],this.animations_=[],this.updateAnimationKey_,this.updateAnimations_=this.updateAnimations_.bind(this),this.projection_=(0,v.createProjection)(e.projection,"EPSG:3857"),this.applyOptions_(e)}return t&&(i.__proto__=t),i.prototype=Object.create(t&&t.prototype),i.prototype.constructor=i,i.prototype.applyOptions_=function(t){var o={};o[u.default.CENTER]=void 0!==t.center?t.center:null;var e=E(t);this.maxResolution_=e.maxResolution,this.minResolution_=e.minResolution,this.zoomFactor_=e.zoomFactor,this.resolutions_=t.resolutions,this.minZoom_=e.minZoom;var i=A(t),n=e.constraint,r=T(t);this.constraints_={center:i,resolution:n,rotation:r},void 0!==t.resolution?o[u.default.RESOLUTION]=t.resolution:void 0!==t.zoom&&(o[u.default.RESOLUTION]=this.constrainResolution(this.maxResolution_,t.zoom-this.minZoom_),this.resolutions_&&(o[u.default.RESOLUTION]=(0,R.clamp)(Number(this.getResolution()||o[u.default.RESOLUTION]),this.minResolution_,this.maxResolution_))),o[u.default.ROTATION]=void 0!==t.rotation?t.rotation:0,this.setProperties(o),this.options_=t},i.prototype.getUpdatedOptions_=function(t){var o=(0,f.assign)({},this.options_);return void 0!==o.resolution?o.resolution=this.getResolution():o.zoom=this.getZoom(),o.center=this.getCenter(),o.rotation=this.getRotation(),(0,f.assign)({},o,t)},i.prototype.animate=function(t){var o,e=arguments,i=arguments.length;if(i>1&&"function"==typeof arguments[i-1]&&(o=arguments[i-1],--i),!this.isDef()){var n=arguments[i-1];return n.center&&this.setCenter(n.center),void 0!==n.zoom&&this.setZoom(n.zoom),void 0!==n.rotation&&this.setRotation(n.rotation),void(o&&x(o,!0))}for(var r=Date.now(),s=this.getCenter().slice(),u=this.getResolution(),h=this.getRotation(),l=[],c=0;c<i;++c){var m=e[c],g={start:r,complete:!1,anchor:m.anchor,duration:void 0!==m.duration?m.duration:1e3,easing:m.easing||p.inAndOut};if(m.center&&(g.sourceCenter=s,g.targetCenter=m.center,s=g.targetCenter),void 0!==m.zoom?(g.sourceResolution=u,g.targetResolution=this.constrainResolution(this.maxResolution_,m.zoom-this.minZoom_,0),u=g.targetResolution):m.resolution&&(g.sourceResolution=u,g.targetResolution=m.resolution,u=g.targetResolution),void 0!==m.rotation){g.sourceRotation=h;var d=(0,R.modulo)(m.rotation-h+Math.PI,2*Math.PI)-Math.PI;g.targetRotation=h+d,h=g.targetRotation}g.callback=o,I(g)?g.complete=!0:r+=g.duration,l.push(g)}this.animations_.push(l),this.setHint(a.default.ANIMATING,1),this.updateAnimations_()},i.prototype.getAnimating=function(){return this.hints_[a.default.ANIMATING]>0},i.prototype.getInteracting=function(){return this.hints_[a.default.INTERACTING]>0},i.prototype.cancelAnimations=function(){this.setHint(a.default.ANIMATING,-this.hints_[a.default.ANIMATING]);for(var t=0,o=this.animations_.length;t<o;++t){var e=this.animations_[t];e[0].callback&&x(e[0].callback,!1)}this.animations_.length=0},i.prototype.updateAnimations_=function(){if(void 0!==this.updateAnimationKey_&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),this.getAnimating()){for(var t=Date.now(),o=!1,e=this.animations_.length-1;e>=0;--e){for(var i=this.animations_[e],n=!0,r=0,s=i.length;r<s;++r){var h=i[r];if(!h.complete){var l=t-h.start,c=h.duration>0?l/h.duration:1;c>=1?(h.complete=!0,c=1):n=!1;var p=h.easing(c);if(h.sourceCenter){var m=h.sourceCenter[0],g=h.sourceCenter[1],d=m+p*(h.targetCenter[0]-m),f=g+p*(h.targetCenter[1]-g);this.set(u.default.CENTER,[d,f])}if(h.sourceResolution&&h.targetResolution){var v=1===p?h.targetResolution:h.sourceResolution+p*(h.targetResolution-h.sourceResolution);h.anchor&&this.set(u.default.CENTER,this.calculateCenterZoom(v,h.anchor)),this.set(u.default.RESOLUTION,v)}if(void 0!==h.sourceRotation&&void 0!==h.targetRotation){var _=1===p?(0,R.modulo)(h.targetRotation+Math.PI,2*Math.PI)-Math.PI:h.sourceRotation+p*(h.targetRotation-h.sourceRotation);h.anchor&&this.set(u.default.CENTER,this.calculateCenterRotate(_,h.anchor)),this.set(u.default.ROTATION,_)}if(o=!0,!h.complete)break}}if(n){this.animations_[e]=null,this.setHint(a.default.ANIMATING,-1);var y=i[0].callback;y&&x(y,!0)}}this.animations_=this.animations_.filter(Boolean),o&&void 0===this.updateAnimationKey_&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_))}},i.prototype.calculateCenterRotate=function(t,o){var e,i=this.getCenter();return void 0!==i&&(e=[i[0]-o[0],i[1]-o[1]],(0,c.rotate)(e,t-this.getRotation()),(0,c.add)(e,o)),e},i.prototype.calculateCenterZoom=function(t,o){var e,i=this.getCenter(),n=this.getResolution();void 0!==i&&void 0!==n&&(e=[o[0]-t*(o[0]-i[0])/n,o[1]-t*(o[1]-i[1])/n]);return e},i.prototype.getSizeFromViewport_=function(){var t=[100,100],e='.ol-viewport[data-view="'+(0,o.getUid)(this)+'"]',i=document.querySelector(e);if(i){var n=getComputedStyle(i);t[0]=parseInt(n.width,10),t[1]=parseInt(n.height,10)}return t},i.prototype.constrainCenter=function(t){return this.constraints_.center(t)},i.prototype.constrainResolution=function(t,o,e){var i=o||0,n=e||0;return this.constraints_.resolution(t,i,n)},i.prototype.constrainRotation=function(t,o){var e=o||0;return this.constraints_.rotation(t,e)},i.prototype.getCenter=function(){return this.get(u.default.CENTER)},i.prototype.getConstraints=function(){return this.constraints_},i.prototype.getHints=function(t){return void 0!==t?(t[0]=this.hints_[0],t[1]=this.hints_[1],t):this.hints_.slice()},i.prototype.calculateExtent=function(t){var o=t||this.getSizeFromViewport_(),e=this.getCenter();(0,l.assert)(e,1);var i=this.getResolution();(0,l.assert)(void 0!==i,2);var n=this.getRotation();return(0,l.assert)(void 0!==n,3),(0,m.getForViewAndSize)(e,i,n,o)},i.prototype.getMaxResolution=function(){return this.maxResolution_},i.prototype.getMinResolution=function(){return this.minResolution_},i.prototype.getMaxZoom=function(){return this.getZoomForResolution(this.minResolution_)},i.prototype.setMaxZoom=function(t){this.applyOptions_(this.getUpdatedOptions_({maxZoom:t}))},i.prototype.getMinZoom=function(){return this.getZoomForResolution(this.maxResolution_)},i.prototype.setMinZoom=function(t){this.applyOptions_(this.getUpdatedOptions_({minZoom:t}))},i.prototype.getProjection=function(){return this.projection_},i.prototype.getResolution=function(){return this.get(u.default.RESOLUTION)},i.prototype.getResolutions=function(){return this.resolutions_},i.prototype.getResolutionForExtent=function(t,o){var e=o||this.getSizeFromViewport_(),i=(0,m.getWidth)(t)/e[0],n=(0,m.getHeight)(t)/e[1];return Math.max(i,n)},i.prototype.getResolutionForValueFunction=function(t){var o=t||2,e=this.maxResolution_,i=this.minResolution_,n=Math.log(e/i)/Math.log(o);return function(t){return e/Math.pow(o,t*n)}},i.prototype.getRotation=function(){return this.get(u.default.ROTATION)},i.prototype.getValueForResolutionFunction=function(t){var o=t||2,e=this.maxResolution_,i=this.minResolution_,n=Math.log(e/i)/Math.log(o);return function(t){return Math.log(e/t)/Math.log(o)/n}},i.prototype.getState=function(t){var o=this.getCenter(),e=this.getProjection(),i=this.getResolution(),n=i/t,r=this.getRotation();return{center:[Math.round(o[0]/n)*n,Math.round(o[1]/n)*n],projection:void 0!==e?e:null,resolution:i,rotation:r,zoom:this.getZoom()}},i.prototype.getZoom=function(){var t,o=this.getResolution();return void 0!==o&&(t=this.getZoomForResolution(o)),t},i.prototype.getZoomForResolution=function(t){var o,e,i=this.minZoom_||0;if(this.resolutions_){var n=(0,h.linearFindNearest)(this.resolutions_,t,1);i=n,o=this.resolutions_[n],e=n==this.resolutions_.length-1?2:o/this.resolutions_[n+1]}else o=this.maxResolution_,e=this.zoomFactor_;return i+Math.log(o/t)/Math.log(e)},i.prototype.getResolutionForZoom=function(t){return this.constrainResolution(this.maxResolution_,t-this.minZoom_,0)},i.prototype.fit=function(t,o){var i,n=o||{},r=n.size;r||(r=this.getSizeFromViewport_()),(0,l.assert)(Array.isArray(t)||"function"==typeof t.getSimplifiedGeometry,24),Array.isArray(t)?((0,l.assert)(!(0,m.isEmpty)(t),25),i=(0,d.fromExtent)(t)):t.getType()===g.default.CIRCLE?(t=t.getExtent(),(i=(0,d.fromExtent)(t)).rotate(this.getRotation(),(0,m.getCenter)(t))):i=t;var s,a=void 0!==n.padding?n.padding:[0,0,0,0],u=void 0===n.constrainResolution||n.constrainResolution,h=void 0!==n.nearest&&n.nearest;s=void 0!==n.minResolution?n.minResolution:void 0!==n.maxZoom?this.constrainResolution(this.maxResolution_,n.maxZoom-this.minZoom_,0):0;for(var c=i.getFlatCoordinates(),p=this.getRotation(),R=Math.cos(-p),f=Math.sin(-p),v=1/0,_=1/0,y=-1/0,M=-1/0,C=i.getStride(),A=0,E=c.length;A<E;A+=C){var T=c[A]*R-c[A+1]*f,I=c[A]*f+c[A+1]*R;v=Math.min(v,T),_=Math.min(_,I),y=Math.max(y,T),M=Math.max(M,I)}var N=this.getResolutionForExtent([v,_,y,M],[r[0]-a[1]-a[3],r[1]-a[0]-a[2]]);if(N=isNaN(N)?s:Math.max(N,s),u){var Z=this.constrainResolution(N,0,0);!h&&Z<N&&(Z=this.constrainResolution(Z,-1,0)),N=Z}f=-f;var j=(v+y)/2,O=(_+M)/2,F=[(j+=(a[1]-a[3])/2*N)*R-(O+=(a[0]-a[2])/2*N)*f,O*R+j*f],S=n.callback?n.callback:e.VOID;void 0!==n.duration?this.animate({resolution:N,center:F,duration:n.duration,easing:n.easing},S):(this.setResolution(N),this.setCenter(F),x(S,!0))},i.prototype.centerOn=function(t,o,e){var i=this.getRotation(),n=Math.cos(-i),r=Math.sin(-i),s=t[0]*n-t[1]*r,a=t[1]*n+t[0]*r,u=this.getResolution(),h=(s+=(o[0]/2-e[0])*u)*n-(a+=(e[1]-o[1]/2)*u)*(r=-r),l=a*n+s*r;this.setCenter([h,l])},i.prototype.isDef=function(){return!!this.getCenter()&&void 0!==this.getResolution()},i.prototype.rotate=function(t,o){if(void 0!==o){var e=this.calculateCenterRotate(t,o);this.setCenter(e)}this.setRotation(t)},i.prototype.setCenter=function(t){this.set(u.default.CENTER,t),this.getAnimating()&&this.cancelAnimations()},i.prototype.setHint=function(t,o){return this.hints_[t]+=o,this.changed(),this.hints_[t]},i.prototype.setResolution=function(t){this.set(u.default.RESOLUTION,t),this.getAnimating()&&this.cancelAnimations()},i.prototype.setRotation=function(t){this.set(u.default.ROTATION,t),this.getAnimating()&&this.cancelAnimations()},i.prototype.setZoom=function(t){this.setResolution(this.getResolutionForZoom(t))},i}(n.default);function x(t,o){setTimeout(function(){t(o)},0)}function A(t){return void 0!==t.extent?(0,i.createExtent)(t.extent):i.none}function E(o){var e,i,n,s=void 0!==o.minZoom?o.minZoom:M,a=void 0!==o.maxZoom?o.maxZoom:28,u=void 0!==o.zoomFactor?o.zoomFactor:2;if(void 0!==o.resolutions){var h=o.resolutions;i=h[s],n=void 0!==h[a]?h[a]:h[h.length-1],e=(0,r.createSnapToResolutions)(h)}else{var l=(0,v.createProjection)(o.projection,"EPSG:3857"),c=l.getExtent(),p=(c?Math.max((0,m.getWidth)(c),(0,m.getHeight)(c)):360*v.METERS_PER_UNIT[_.default.DEGREES]/l.getMetersPerUnit())/t.DEFAULT_TILE_SIZE/Math.pow(2,M),g=p/Math.pow(2,28-M);void 0!==(i=o.maxResolution)?s=0:i=p/Math.pow(u,s),void 0===(n=o.minResolution)&&(n=void 0!==o.maxZoom?void 0!==o.maxResolution?i/Math.pow(u,a):p/Math.pow(u,a):g),a=s+Math.floor(Math.log(i/n)/Math.log(u)),n=i/Math.pow(u,a-s),e=(0,r.createSnapToPower)(u,i,a-s)}return{constraint:e,maxResolution:i,minResolution:n,minZoom:s,zoomFactor:u}}function T(t){if(void 0===t.enableRotation||t.enableRotation){var o=t.constrainRotation;return void 0===o||!0===o?(0,s.createSnapToZero)():!1===o?s.none:"number"==typeof o?(0,s.createSnapToN)(o):s.none}return s.disable}function I(t){return!(t.sourceCenter&&t.targetCenter&&!(0,c.equals)(t.sourceCenter,t.targetCenter))&&(t.sourceResolution===t.targetResolution&&t.sourceRotation===t.targetRotation)}var N=C;exports.default=N;
},{"./tilegrid/common.js":"mOEX","./util.js":"KniQ","./functions.js":"RgA2","./centerconstraint.js":"Rc7z","./Object.js":"PhPh","./resolutionconstraint.js":"o7nl","./rotationconstraint.js":"9EKd","./ViewHint.js":"cuLW","./ViewProperty.js":"0/98","./array.js":"luEr","./asserts.js":"fLG6","./coordinate.js":"nGsj","./easing.js":"IeCz","./extent.js":"QDir","./geom/GeometryType.js":"lmV0","./geom/Polygon.js":"6Nww","./math.js":"B96G","./obj.js":"mH6q","./proj.js":"Diht","./proj/Units.js":"yZx6"}],"1Hbe":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",SOURCE:"source"};exports.default=e;
},{}],"T6DQ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../util.js"),e=n(require("../Object.js")),o=n(require("./Property.js")),i=require("../math.js"),r=require("../obj.js");function n(t){return t&&t.__esModule?t:{default:t}}var s=function(e){function n(t){e.call(this);var i=(0,r.assign)({},t);i[o.default.OPACITY]=void 0!==t.opacity?t.opacity:1,i[o.default.VISIBLE]=void 0===t.visible||t.visible,i[o.default.Z_INDEX]=t.zIndex,i[o.default.MAX_RESOLUTION]=void 0!==t.maxResolution?t.maxResolution:1/0,i[o.default.MIN_RESOLUTION]=void 0!==t.minResolution?t.minResolution:0,this.setProperties(i),this.state_=null,this.type}return e&&(n.__proto__=e),n.prototype=Object.create(e&&e.prototype),n.prototype.constructor=n,n.prototype.getType=function(){return this.type},n.prototype.getLayerState=function(){var t=this.state_||{layer:this,managed:!0};return t.opacity=(0,i.clamp)(this.getOpacity(),0,1),t.sourceState=this.getSourceState(),t.visible=this.getVisible(),t.extent=this.getExtent(),t.zIndex=this.getZIndex()||0,t.maxResolution=this.getMaxResolution(),t.minResolution=Math.max(this.getMinResolution(),0),this.state_=t,t},n.prototype.getLayersArray=function(e){return(0,t.abstract)()},n.prototype.getLayerStatesArray=function(e){return(0,t.abstract)()},n.prototype.getExtent=function(){return this.get(o.default.EXTENT)},n.prototype.getMaxResolution=function(){return this.get(o.default.MAX_RESOLUTION)},n.prototype.getMinResolution=function(){return this.get(o.default.MIN_RESOLUTION)},n.prototype.getOpacity=function(){return this.get(o.default.OPACITY)},n.prototype.getSourceState=function(){return(0,t.abstract)()},n.prototype.getVisible=function(){return this.get(o.default.VISIBLE)},n.prototype.getZIndex=function(){return this.get(o.default.Z_INDEX)},n.prototype.setExtent=function(t){this.set(o.default.EXTENT,t)},n.prototype.setMaxResolution=function(t){this.set(o.default.MAX_RESOLUTION,t)},n.prototype.setMinResolution=function(t){this.set(o.default.MIN_RESOLUTION,t)},n.prototype.setOpacity=function(t){this.set(o.default.OPACITY,t)},n.prototype.setVisible=function(t){this.set(o.default.VISIBLE,t)},n.prototype.setZIndex=function(t){this.set(o.default.Z_INDEX,t)},n}(e.default),u=s;exports.default=u;
},{"../util.js":"KniQ","../Object.js":"PhPh","./Property.js":"1Hbe","../math.js":"B96G","../obj.js":"mH6q"}],"iC8j":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={UNDEFINED:"undefined",LOADING:"loading",READY:"ready",ERROR:"error"};exports.default=e;
},{}],"q0nK":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("../util.js"),t=d(require("../Collection.js")),r=d(require("../CollectionEventType.js")),s=require("../Object.js"),i=d(require("../ObjectEventType.js")),n=require("../asserts.js"),a=require("../events.js"),o=d(require("../events/EventType.js")),l=require("../extent.js"),y=d(require("./Base.js")),h=require("../obj.js"),u=d(require("../source/State.js"));function d(e){return e&&e.__esModule?e:{default:e}}var c={LAYERS:"layers"},f=function(y){function d(e){var r=e||{},i=(0,h.assign)({},r);delete i.layers;var o=r.layers;y.call(this,i),this.layersListenerKeys_=[],this.listenerKeys_={},(0,a.listen)(this,(0,s.getChangeEventType)(c.LAYERS),this.handleLayersChanged_,this),o?Array.isArray(o)?o=new t.default(o.slice(),{unique:!0}):(0,n.assert)("function"==typeof o.getArray,43):o=new t.default(void 0,{unique:!0}),this.setLayers(o)}return y&&(d.__proto__=y),d.prototype=Object.create(y&&y.prototype),d.prototype.constructor=d,d.prototype.handleLayerChange_=function(){this.changed()},d.prototype.handleLayersChanged_=function(){this.layersListenerKeys_.forEach(a.unlistenByKey),this.layersListenerKeys_.length=0;var t=this.getLayers();for(var s in this.layersListenerKeys_.push((0,a.listen)(t,r.default.ADD,this.handleLayersAdd_,this),(0,a.listen)(t,r.default.REMOVE,this.handleLayersRemove_,this)),this.listenerKeys_)this.listenerKeys_[s].forEach(a.unlistenByKey);(0,h.clear)(this.listenerKeys_);for(var n=t.getArray(),l=0,y=n.length;l<y;l++){var u=n[l];this.listenerKeys_[(0,e.getUid)(u)]=[(0,a.listen)(u,i.default.PROPERTYCHANGE,this.handleLayerChange_,this),(0,a.listen)(u,o.default.CHANGE,this.handleLayerChange_,this)]}this.changed()},d.prototype.handleLayersAdd_=function(t){var r=t.element;this.listenerKeys_[(0,e.getUid)(r)]=[(0,a.listen)(r,i.default.PROPERTYCHANGE,this.handleLayerChange_,this),(0,a.listen)(r,o.default.CHANGE,this.handleLayerChange_,this)],this.changed()},d.prototype.handleLayersRemove_=function(t){var r=t.element,s=(0,e.getUid)(r);this.listenerKeys_[s].forEach(a.unlistenByKey),delete this.listenerKeys_[s],this.changed()},d.prototype.getLayers=function(){return this.get(c.LAYERS)},d.prototype.setLayers=function(e){this.set(c.LAYERS,e)},d.prototype.getLayersArray=function(e){var t=void 0!==e?e:[];return this.getLayers().forEach(function(e){e.getLayersArray(t)}),t},d.prototype.getLayerStatesArray=function(e){var t=void 0!==e?e:[],r=t.length;this.getLayers().forEach(function(e){e.getLayerStatesArray(t)});for(var s=this.getLayerState(),i=r,n=t.length;i<n;i++){var a=t[i];a.opacity*=s.opacity,a.visible=a.visible&&s.visible,a.maxResolution=Math.min(a.maxResolution,s.maxResolution),a.minResolution=Math.max(a.minResolution,s.minResolution),void 0!==s.extent&&(void 0!==a.extent?a.extent=(0,l.getIntersection)(a.extent,s.extent):a.extent=s.extent)}return t},d.prototype.getSourceState=function(){return u.default.READY},d}(y.default),p=f;exports.default=p;
},{"../util.js":"KniQ","../Collection.js":"FnDa","../CollectionEventType.js":"BTrx","../Object.js":"PhPh","../ObjectEventType.js":"zehl","../asserts.js":"fLG6","../events.js":"55Uq","../events/EventType.js":"C8cu","../extent.js":"QDir","./Base.js":"T6DQ","../obj.js":"mH6q","../source/State.js":"iC8j"}],"TAHd":[function(require,module,exports) {
"use strict";function r(r,e,t){return void 0===t&&(t=[0,0]),t[0]=r[0]+2*e,t[1]=r[1]+2*e,t}function e(r){return r[0]>0&&r[1]>0}function t(r,e,t){return void 0===t&&(t=[0,0]),t[0]=r[0]*e+.5|0,t[1]=r[1]*e+.5|0,t}function o(r,e){return Array.isArray(r)?r:(void 0===e?e=[r,r]:e[0]=e[1]=r,e)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.buffer=r,exports.hasArea=e,exports.scale=t,exports.toSize=o;
},{}],"kRwz":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("./util.js"),t=A(require("./Collection.js")),i=A(require("./CollectionEventType.js")),r=A(require("./MapBrowserEvent.js")),n=A(require("./MapBrowserEventHandler.js")),s=A(require("./MapBrowserEventType.js")),o=A(require("./MapEvent.js")),a=A(require("./MapEventType.js")),l=A(require("./MapProperty.js")),h=A(require("./render/EventType.js")),d=P(require("./Object.js")),u=A(require("./ObjectEventType.js")),p=A(require("./TileQueue.js")),y=A(require("./View.js")),f=A(require("./ViewHint.js")),v=require("./asserts.js"),c=require("./dom.js"),_=require("./events.js"),g=require("./events/Event.js"),E=A(require("./events/EventType.js")),m=require("./extent.js"),T=require("./functions.js"),w=require("./has.js"),R=A(require("./layer/Group.js")),C=require("./size.js"),L=require("./structs/PriorityQueue.js"),S=require("./transform.js");function P(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,i):{};r.get||r.set?Object.defineProperty(t,i,r):t[i]=e[i]}return t.default=e,t}function A(e){return e&&e.__esModule?e:{default:e}}var x=function(y){function v(e){y.call(this);var r=I(e);this.maxTilesLoading_=void 0!==e.maxTilesLoading?e.maxTilesLoading:16,this.loadTilesWhileAnimating_=void 0!==e.loadTilesWhileAnimating&&e.loadTilesWhileAnimating,this.loadTilesWhileInteracting_=void 0!==e.loadTilesWhileInteracting&&e.loadTilesWhileInteracting,this.pixelRatio_=void 0!==e.pixelRatio?e.pixelRatio:w.DEVICE_PIXEL_RATIO,this.animationDelayKey_,this.animationDelay_=function(){this.animationDelayKey_=void 0,this.renderFrame_.call(this,Date.now())}.bind(this),this.coordinateToPixelTransform_=(0,S.create)(),this.pixelToCoordinateTransform_=(0,S.create)(),this.frameIndex_=0,this.frameState_=null,this.previousExtent_=null,this.viewPropertyListenerKey_=null,this.viewChangeListenerKey_=null,this.layerGroupPropertyListenerKeys_=null,this.viewport_=document.createElement("div"),this.viewport_.className="ol-viewport"+(w.TOUCH?" ol-touch":""),this.viewport_.style.position="relative",this.viewport_.style.overflow="hidden",this.viewport_.style.width="100%",this.viewport_.style.height="100%",this.viewport_.style.msTouchAction="none",this.viewport_.style.touchAction="none",this.overlayContainer_=document.createElement("div"),this.overlayContainer_.className="ol-overlaycontainer",this.viewport_.appendChild(this.overlayContainer_),this.overlayContainerStopEvent_=document.createElement("div"),this.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent";for(var o=[E.default.CLICK,E.default.DBLCLICK,E.default.MOUSEDOWN,E.default.TOUCHSTART,E.default.MSPOINTERDOWN,s.default.POINTERDOWN,E.default.MOUSEWHEEL,E.default.WHEEL],a=0,h=o.length;a<h;++a)(0,_.listen)(this.overlayContainerStopEvent_,o[a],g.stopPropagation);for(var u in this.viewport_.appendChild(this.overlayContainerStopEvent_),this.mapBrowserEventHandler_=new n.default(this,e.moveTolerance),s.default)(0,_.listen)(this.mapBrowserEventHandler_,s.default[u],this.handleMapBrowserEvent,this);this.keyboardEventTarget_=r.keyboardEventTarget,this.keyHandlerKeys_=null,(0,_.listen)(this.viewport_,E.default.CONTEXTMENU,this.handleBrowserEvent,this),(0,_.listen)(this.viewport_,E.default.WHEEL,this.handleBrowserEvent,this),(0,_.listen)(this.viewport_,E.default.MOUSEWHEEL,this.handleBrowserEvent,this),this.controls=r.controls||new t.default,this.interactions=r.interactions||new t.default,this.overlays_=r.overlays,this.overlayIdIndex_={},this.renderer_=this.createRenderer(),this.handleResize_,this.focus_=null,this.postRenderFunctions_=[],this.tileQueue_=new p.default(this.getTilePriority.bind(this),this.handleTileChange_.bind(this)),this.skippedFeatureUids_={},(0,_.listen)(this,(0,d.getChangeEventType)(l.default.LAYERGROUP),this.handleLayerGroupChanged_,this),(0,_.listen)(this,(0,d.getChangeEventType)(l.default.VIEW),this.handleViewChanged_,this),(0,_.listen)(this,(0,d.getChangeEventType)(l.default.SIZE),this.handleSizeChanged_,this),(0,_.listen)(this,(0,d.getChangeEventType)(l.default.TARGET),this.handleTargetChanged_,this),this.setProperties(r.values),this.controls.forEach(function(e){e.setMap(this)}.bind(this)),(0,_.listen)(this.controls,i.default.ADD,function(e){e.element.setMap(this)},this),(0,_.listen)(this.controls,i.default.REMOVE,function(e){e.element.setMap(null)},this),this.interactions.forEach(function(e){e.setMap(this)}.bind(this)),(0,_.listen)(this.interactions,i.default.ADD,function(e){e.element.setMap(this)},this),(0,_.listen)(this.interactions,i.default.REMOVE,function(e){e.element.setMap(null)},this),this.overlays_.forEach(this.addOverlayInternal_.bind(this)),(0,_.listen)(this.overlays_,i.default.ADD,function(e){this.addOverlayInternal_(e.element)},this),(0,_.listen)(this.overlays_,i.default.REMOVE,function(e){var t=e.element.getId();void 0!==t&&delete this.overlayIdIndex_[t.toString()],e.element.setMap(null)},this)}return y&&(v.__proto__=y),v.prototype=Object.create(y&&y.prototype),v.prototype.constructor=v,v.prototype.createRenderer=function(){throw new Error("Use a map type that has a createRenderer method")},v.prototype.addControl=function(e){this.getControls().push(e)},v.prototype.addInteraction=function(e){this.getInteractions().push(e)},v.prototype.addLayer=function(e){this.getLayerGroup().getLayers().push(e)},v.prototype.addOverlay=function(e){this.getOverlays().push(e)},v.prototype.addOverlayInternal_=function(e){var t=e.getId();void 0!==t&&(this.overlayIdIndex_[t.toString()]=e),e.setMap(this)},v.prototype.disposeInternal=function(){this.mapBrowserEventHandler_.dispose(),(0,_.unlisten)(this.viewport_,E.default.CONTEXTMENU,this.handleBrowserEvent,this),(0,_.unlisten)(this.viewport_,E.default.WHEEL,this.handleBrowserEvent,this),(0,_.unlisten)(this.viewport_,E.default.MOUSEWHEEL,this.handleBrowserEvent,this),void 0!==this.handleResize_&&(removeEventListener(E.default.RESIZE,this.handleResize_,!1),this.handleResize_=void 0),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0),this.setTarget(null),y.prototype.disposeInternal.call(this)},v.prototype.forEachFeatureAtPixel=function(e,t,i){if(this.frameState_){var r=this.getCoordinateFromPixel(e),n=void 0!==(i=void 0!==i?i:{}).hitTolerance?i.hitTolerance*this.frameState_.pixelRatio:0,s=void 0!==i.layerFilter?i.layerFilter:T.TRUE;return this.renderer_.forEachFeatureAtCoordinate(r,this.frameState_,n,t,null,s,null)}},v.prototype.getFeaturesAtPixel=function(e,t){var i=null;return this.forEachFeatureAtPixel(e,function(e){i||(i=[]),i.push(e)},t),i},v.prototype.forEachLayerAtPixel=function(e,t,i){if(this.frameState_){var r=i||{},n=void 0!==r.hitTolerance?i.hitTolerance*this.frameState_.pixelRatio:0,s=r.layerFilter||T.TRUE;return this.renderer_.forEachLayerAtPixel(e,this.frameState_,n,t,null,s,null)}},v.prototype.hasFeatureAtPixel=function(e,t){if(!this.frameState_)return!1;var i=this.getCoordinateFromPixel(e),r=void 0!==(t=void 0!==t?t:{}).layerFilter?t.layerFilter:T.TRUE,n=void 0!==t.hitTolerance?t.hitTolerance*this.frameState_.pixelRatio:0;return this.renderer_.hasFeatureAtCoordinate(i,this.frameState_,n,r,null)},v.prototype.getEventCoordinate=function(e){return this.getCoordinateFromPixel(this.getEventPixel(e))},v.prototype.getEventPixel=function(e){var t=this.viewport_.getBoundingClientRect(),i="changedTouches"in e?e.changedTouches[0]:e;return[i.clientX-t.left,i.clientY-t.top]},v.prototype.getTarget=function(){return this.get(l.default.TARGET)},v.prototype.getTargetElement=function(){var e=this.getTarget();return void 0!==e?"string"==typeof e?document.getElementById(e):e:null},v.prototype.getCoordinateFromPixel=function(e){var t=this.frameState_;return t?(0,S.apply)(t.pixelToCoordinateTransform,e.slice()):null},v.prototype.getControls=function(){return this.controls},v.prototype.getOverlays=function(){return this.overlays_},v.prototype.getOverlayById=function(e){var t=this.overlayIdIndex_[e.toString()];return void 0!==t?t:null},v.prototype.getInteractions=function(){return this.interactions},v.prototype.getLayerGroup=function(){return this.get(l.default.LAYERGROUP)},v.prototype.getLayers=function(){return this.getLayerGroup().getLayers()},v.prototype.getPixelFromCoordinate=function(e){var t=this.frameState_;return t?(0,S.apply)(t.coordinateToPixelTransform,e.slice(0,2)):null},v.prototype.getRenderer=function(){return this.renderer_},v.prototype.getSize=function(){return this.get(l.default.SIZE)},v.prototype.getView=function(){return this.get(l.default.VIEW)},v.prototype.getViewport=function(){return this.viewport_},v.prototype.getOverlayContainer=function(){return this.overlayContainer_},v.prototype.getOverlayContainerStopEvent=function(){return this.overlayContainerStopEvent_},v.prototype.getTilePriority=function(e,t,i,r){var n=this.frameState_;if(!(n&&t in n.wantedTiles))return L.DROP;if(!n.wantedTiles[t][e.getKey()])return L.DROP;var s=i[0]-n.focus[0],o=i[1]-n.focus[1];return 65536*Math.log(r)+Math.sqrt(s*s+o*o)/r},v.prototype.handleBrowserEvent=function(e,t){var i=t||e.type,n=new r.default(i,this,e);this.handleMapBrowserEvent(n)},v.prototype.handleMapBrowserEvent=function(e){if(this.frameState_){this.focus_=e.coordinate,e.frameState=this.frameState_;var t=this.getInteractions().getArray();if(!1!==this.dispatchEvent(e))for(var i=t.length-1;i>=0;i--){var r=t[i];if(r.getActive())if(!r.handleEvent(e))break}}},v.prototype.handlePostRender=function(){var e=this.frameState_,t=this.tileQueue_;if(!t.isEmpty()){var i=this.maxTilesLoading_,r=i;if(e){var n=e.viewHints;n[f.default.ANIMATING]&&(i=this.loadTilesWhileAnimating_?8:0,r=2),n[f.default.INTERACTING]&&(i=this.loadTilesWhileInteracting_?8:0,r=2)}t.getTilesLoading()<i&&(t.reprioritize(),t.loadMoreTiles(i,r))}!e||!this.hasListener(h.default.RENDERCOMPLETE)||e.animate||this.tileQueue_.getTilesLoading()||F(this.getLayers().getArray())||this.renderer_.dispatchRenderEvent(h.default.RENDERCOMPLETE,e);for(var s=this.postRenderFunctions_,o=0,a=s.length;o<a;++o)s[o](this,e);s.length=0},v.prototype.handleSizeChanged_=function(){this.render()},v.prototype.handleTargetChanged_=function(){var e;if(this.getTarget()&&(e=this.getTargetElement()),this.keyHandlerKeys_){for(var t=0,i=this.keyHandlerKeys_.length;t<i;++t)(0,_.unlistenByKey)(this.keyHandlerKeys_[t]);this.keyHandlerKeys_=null}if(e){e.appendChild(this.viewport_);var r=this.keyboardEventTarget_?this.keyboardEventTarget_:e;this.keyHandlerKeys_=[(0,_.listen)(r,E.default.KEYDOWN,this.handleBrowserEvent,this),(0,_.listen)(r,E.default.KEYPRESS,this.handleBrowserEvent,this)],this.handleResize_||(this.handleResize_=this.updateSize.bind(this),addEventListener(E.default.RESIZE,this.handleResize_,!1))}else this.renderer_.removeLayerRenderers(),(0,c.removeNode)(this.viewport_),void 0!==this.handleResize_&&(removeEventListener(E.default.RESIZE,this.handleResize_,!1),this.handleResize_=void 0);this.updateSize()},v.prototype.handleTileChange_=function(){this.render()},v.prototype.handleViewPropertyChanged_=function(){this.render()},v.prototype.handleViewChanged_=function(){this.viewPropertyListenerKey_&&((0,_.unlistenByKey)(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&((0,_.unlistenByKey)(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);var t=this.getView();t&&(this.viewport_.setAttribute("data-view",(0,e.getUid)(t)),this.viewPropertyListenerKey_=(0,_.listen)(t,u.default.PROPERTYCHANGE,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=(0,_.listen)(t,E.default.CHANGE,this.handleViewPropertyChanged_,this)),this.render()},v.prototype.handleLayerGroupChanged_=function(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(_.unlistenByKey),this.layerGroupPropertyListenerKeys_=null);var e=this.getLayerGroup();e&&(this.layerGroupPropertyListenerKeys_=[(0,_.listen)(e,u.default.PROPERTYCHANGE,this.render,this),(0,_.listen)(e,E.default.CHANGE,this.render,this)]),this.render()},v.prototype.isRendered=function(){return!!this.frameState_},v.prototype.renderSync=function(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()},v.prototype.render=function(){void 0===this.animationDelayKey_&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))},v.prototype.removeControl=function(e){return this.getControls().remove(e)},v.prototype.removeInteraction=function(e){return this.getInteractions().remove(e)},v.prototype.removeLayer=function(e){return this.getLayerGroup().getLayers().remove(e)},v.prototype.removeOverlay=function(e){return this.getOverlays().remove(e)},v.prototype.renderFrame_=function(t){var i,r=this.getSize(),n=this.getView(),s=(0,m.createEmpty)(),l=this.frameState_,h=null;if(void 0!==r&&(0,C.hasArea)(r)&&n&&n.isDef()){for(var d=n.getHints(this.frameState_?this.frameState_.viewHints:void 0),u=this.getLayerGroup().getLayerStatesArray(),p={},y=0,v=u.length;y<v;++y)p[(0,e.getUid)(u[y].layer)]=u[y];i=n.getState(this.pixelRatio_),h={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,extent:s,focus:this.focus_?this.focus_:i.center,index:this.frameIndex_++,layerStates:p,layerStatesArray:u,pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:r,skippedFeatureUids:this.skippedFeatureUids_,tileQueue:this.tileQueue_,time:t,usedTiles:{},viewState:i,viewHints:d,wantedTiles:{}}}if(h&&(h.extent=(0,m.getForViewAndSize)(i.center,i.resolution,i.rotation,h.size,s)),this.frameState_=h,this.renderer_.renderFrame(h),h){if(h.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,h.postRenderFunctions),l)(!this.previousExtent_||!(0,m.isEmpty)(this.previousExtent_)&&!(0,m.equals)(h.extent,this.previousExtent_))&&(this.dispatchEvent(new o.default(a.default.MOVESTART,this,l)),this.previousExtent_=(0,m.createOrUpdateEmpty)(this.previousExtent_));this.previousExtent_&&!h.viewHints[f.default.ANIMATING]&&!h.viewHints[f.default.INTERACTING]&&!(0,m.equals)(h.extent,this.previousExtent_)&&(this.dispatchEvent(new o.default(a.default.MOVEEND,this,h)),(0,m.clone)(h.extent,this.previousExtent_))}this.dispatchEvent(new o.default(a.default.POSTRENDER,this,h)),setTimeout(this.handlePostRender.bind(this),0)},v.prototype.setLayerGroup=function(e){this.set(l.default.LAYERGROUP,e)},v.prototype.setSize=function(e){this.set(l.default.SIZE,e)},v.prototype.setTarget=function(e){this.set(l.default.TARGET,e)},v.prototype.setView=function(e){this.set(l.default.VIEW,e)},v.prototype.skipFeature=function(t){this.skippedFeatureUids_[(0,e.getUid)(t)]=!0,this.render()},v.prototype.updateSize=function(){var e=this.getTargetElement();if(e){var t=getComputedStyle(e);this.setSize([e.offsetWidth-parseFloat(t.borderLeftWidth)-parseFloat(t.paddingLeft)-parseFloat(t.paddingRight)-parseFloat(t.borderRightWidth),e.offsetHeight-parseFloat(t.borderTopWidth)-parseFloat(t.paddingTop)-parseFloat(t.paddingBottom)-parseFloat(t.borderBottomWidth)])}else this.setSize(void 0)},v.prototype.unskipFeature=function(t){delete this.skippedFeatureUids_[(0,e.getUid)(t)],this.render()},v}(d.default);function I(e){var i=null;void 0!==e.keyboardEventTarget&&(i="string"==typeof e.keyboardEventTarget?document.getElementById(e.keyboardEventTarget):e.keyboardEventTarget);var r,n,s,o={},a=e.layers&&"function"==typeof e.layers.getLayers?e.layers:new R.default({layers:e.layers});return o[l.default.LAYERGROUP]=a,o[l.default.TARGET]=e.target,o[l.default.VIEW]=void 0!==e.view?e.view:new y.default,void 0!==e.controls&&(Array.isArray(e.controls)?r=new t.default(e.controls.slice()):((0,v.assert)("function"==typeof e.controls.getArray,47),r=e.controls)),void 0!==e.interactions&&(Array.isArray(e.interactions)?n=new t.default(e.interactions.slice()):((0,v.assert)("function"==typeof e.interactions.getArray,48),n=e.interactions)),void 0!==e.overlays?Array.isArray(e.overlays)?s=new t.default(e.overlays.slice()):((0,v.assert)("function"==typeof e.overlays.getArray,49),s=e.overlays):s=new t.default,{controls:r,interactions:n,keyboardEventTarget:i,overlays:s,values:o}}var O=x;function F(e){for(var t=0,i=e.length;t<i;++t){var r=e[t];if("function"==typeof r.getLayers)return F(r.getLayers().getArray());var n=r.getSource();if(n&&n.loading)return!0}return!1}exports.default=O;
},{"./util.js":"KniQ","./Collection.js":"FnDa","./CollectionEventType.js":"BTrx","./MapBrowserEvent.js":"HMLS","./MapBrowserEventHandler.js":"ohHk","./MapBrowserEventType.js":"Yh/D","./MapEvent.js":"vFcA","./MapEventType.js":"xLGm","./MapProperty.js":"zlNQ","./render/EventType.js":"z39m","./Object.js":"PhPh","./ObjectEventType.js":"zehl","./TileQueue.js":"0tHO","./View.js":"hNqE","./ViewHint.js":"cuLW","./asserts.js":"fLG6","./dom.js":"Xno5","./events.js":"55Uq","./events/Event.js":"fKNg","./events/EventType.js":"C8cu","./extent.js":"QDir","./functions.js":"RgA2","./has.js":"f3Nv","./layer/Group.js":"q0nK","./size.js":"TAHd","./structs/PriorityQueue.js":"RQLY","./transform.js":"P4eA"}],"+/xx":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("../functions.js"),t=i(require("../MapEventType.js")),r=i(require("../Object.js")),s=require("../dom.js"),n=require("../events.js");function i(e){return e&&e.__esModule?e:{default:e}}var o=function(r){function i(t){r.call(this),this.element=t.element?t.element:null,this.target_=null,this.map_=null,this.listenerKeys=[],this.render=t.render?t.render:e.VOID,t.target&&this.setTarget(t.target)}return r&&(i.__proto__=r),i.prototype=Object.create(r&&r.prototype),i.prototype.constructor=i,i.prototype.disposeInternal=function(){(0,s.removeNode)(this.element),r.prototype.disposeInternal.call(this)},i.prototype.getMap=function(){return this.map_},i.prototype.setMap=function(r){this.map_&&(0,s.removeNode)(this.element);for(var i=0,o=this.listenerKeys.length;i<o;++i)(0,n.unlistenByKey)(this.listenerKeys[i]);(this.listenerKeys.length=0,this.map_=r,this.map_)&&((this.target_?this.target_:r.getOverlayContainerStopEvent()).appendChild(this.element),this.render!==e.VOID&&this.listenerKeys.push((0,n.listen)(r,t.default.POSTRENDER,this.render,this)),r.render())},i.prototype.setTarget=function(e){this.target_="string"==typeof e?document.getElementById(e):e},i}(r.default),l=o;exports.default=l;
},{"../functions.js":"RgA2","../MapEventType.js":"xLGm","../Object.js":"PhPh","../dom.js":"Xno5","../events.js":"55Uq"}],"HgMV":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getFontFamilies=exports.CLASS_COLLAPSED=exports.CLASS_CONTROL=exports.CLASS_UNSUPPORTED=exports.CLASS_UNSELECTABLE=exports.CLASS_SELECTABLE=exports.CLASS_HIDDEN=void 0;var e="ol-hidden";exports.CLASS_HIDDEN=e;var t="ol-selectable";exports.CLASS_SELECTABLE=t;var o="ol-unselectable";exports.CLASS_UNSELECTABLE=o;var r="ol-unsupported";exports.CLASS_UNSUPPORTED=r;var S="ol-control";exports.CLASS_CONTROL=S;var s="ol-collapsed";exports.CLASS_COLLAPSED=s;var L=function(){var e,t={};return function(o){if(e||(e=document.createElement("div").style),!(o in t)){e.font=o;var r=e.fontFamily;if(e.font="",!r)return null;t[o]=r.split(/,\s?/)}return t[o]}}();exports.getFontFamilies=L;
},{}],"GCgv":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.visibleAtResolution=l,exports.default=void 0;var e=require("../events.js"),t=h(require("../events/EventType.js")),r=require("../util.js"),s=require("../Object.js"),n=h(require("./Base.js")),o=h(require("./Property.js")),a=require("../obj.js"),i=h(require("../render/EventType.js")),u=h(require("../source/State.js"));function h(e){return e&&e.__esModule?e:{default:e}}var p=function(n){function h(t){var r=(0,a.assign)({},t);delete r.source,n.call(this,r),this.mapPrecomposeKey_=null,this.mapRenderKey_=null,this.sourceChangeKey_=null,t.map&&this.setMap(t.map),(0,e.listen)(this,(0,s.getChangeEventType)(o.default.SOURCE),this.handleSourcePropertyChange_,this);var i=t.source?t.source:null;this.setSource(i)}return n&&(h.__proto__=n),h.prototype=Object.create(n&&n.prototype),h.prototype.constructor=h,h.prototype.getLayersArray=function(e){var t=e||[];return t.push(this),t},h.prototype.getLayerStatesArray=function(e){var t=e||[];return t.push(this.getLayerState()),t},h.prototype.getSource=function(){return this.get(o.default.SOURCE)||null},h.prototype.getSourceState=function(){var e=this.getSource();return e?e.getState():u.default.UNDEFINED},h.prototype.handleSourceChange_=function(){this.changed()},h.prototype.handleSourcePropertyChange_=function(){this.sourceChangeKey_&&((0,e.unlistenByKey)(this.sourceChangeKey_),this.sourceChangeKey_=null);var r=this.getSource();r&&(this.sourceChangeKey_=(0,e.listen)(r,t.default.CHANGE,this.handleSourceChange_,this)),this.changed()},h.prototype.setMap=function(s){this.mapPrecomposeKey_&&((0,e.unlistenByKey)(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),s||this.changed(),this.mapRenderKey_&&((0,e.unlistenByKey)(this.mapRenderKey_),this.mapRenderKey_=null),s&&(this.mapPrecomposeKey_=(0,e.listen)(s,i.default.PRECOMPOSE,function(e){var t=e,s=this.getLayerState();s.managed=!1,void 0===this.getZIndex()&&(s.zIndex=1/0),t.frameState.layerStatesArray.push(s),t.frameState.layerStates[(0,r.getUid)(this)]=s},this),this.mapRenderKey_=(0,e.listen)(this,t.default.CHANGE,s.render,s),this.changed())},h.prototype.setSource=function(e){this.set(o.default.SOURCE,e)},h}(n.default);function l(e,t){return e.visible&&t>=e.minResolution&&t<e.maxResolution}var c=p;exports.default=c;
},{"../events.js":"55Uq","../events/EventType.js":"C8cu","../util.js":"KniQ","../Object.js":"PhPh","./Base.js":"T6DQ","./Property.js":"1Hbe","../obj.js":"mH6q","../render/EventType.js":"z39m","../source/State.js":"iC8j"}],"Q4Cf":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.render=p,exports.default=void 0;var e=require("../array.js"),t=a(require("./Control.js")),l=require("../css.js"),i=require("../dom.js"),s=require("../events.js"),o=a(require("../events/EventType.js")),r=require("../layer/Layer.js");function a(e){return e&&e.__esModule?e:{default:e}}var n=function(t){function a(e){var i=e||{};t.call(this,{element:document.createElement("div"),render:i.render||p,target:i.target}),this.ulElement_=document.createElement("ul"),this.collapsed_=void 0===i.collapsed||i.collapsed,this.overrideCollapsible_=void 0!==i.collapsible,this.collapsible_=void 0===i.collapsible||i.collapsible,this.collapsible_||(this.collapsed_=!1);var r=void 0!==i.className?i.className:"ol-attribution",a=void 0!==i.tipLabel?i.tipLabel:"Attributions",n=void 0!==i.collapseLabel?i.collapseLabel:"»";"string"==typeof n?(this.collapseLabel_=document.createElement("span"),this.collapseLabel_.textContent=n):this.collapseLabel_=n;var c=void 0!==i.label?i.label:"i";"string"==typeof c?(this.label_=document.createElement("span"),this.label_.textContent=c):this.label_=c;var d=this.collapsible_&&!this.collapsed_?this.collapseLabel_:this.label_,h=document.createElement("button");h.setAttribute("type","button"),h.title=a,h.appendChild(d),(0,s.listen)(h,o.default.CLICK,this.handleClick_,this);var u=r+" "+l.CLASS_UNSELECTABLE+" "+l.CLASS_CONTROL+(this.collapsed_&&this.collapsible_?" "+l.CLASS_COLLAPSED:"")+(this.collapsible_?"":" ol-uncollapsible"),_=this.element;_.className=u,_.appendChild(this.ulElement_),_.appendChild(h),this.renderedAttributions_=[],this.renderedVisible_=!0}return t&&(a.__proto__=t),a.prototype=Object.create(t&&t.prototype),a.prototype.constructor=a,a.prototype.collectSourceAttributions_=function(e){for(var t={},l=[],i=e.layerStatesArray,s=e.viewState.resolution,o=0,a=i.length;o<a;++o){var n=i[o];if((0,r.visibleAtResolution)(n,s)){var p=n.layer.getSource();if(p){var c=p.getAttributions();if(c){var d=c(e);if(d)if(this.overrideCollapsible_||!1!==p.getAttributionsCollapsible()||this.setCollapsible(!1),Array.isArray(d))for(var h=0,u=d.length;h<u;++h)d[h]in t||(l.push(d[h]),t[d[h]]=!0);else d in t||(l.push(d),t[d]=!0)}}}}return l},a.prototype.updateElement_=function(t){if(t){var l=this.collectSourceAttributions_(t),s=l.length>0;if(this.renderedVisible_!=s&&(this.element.style.display=s?"":"none",this.renderedVisible_=s),!(0,e.equals)(l,this.renderedAttributions_)){(0,i.removeChildren)(this.ulElement_);for(var o=0,r=l.length;o<r;++o){var a=document.createElement("li");a.innerHTML=l[o],this.ulElement_.appendChild(a)}this.renderedAttributions_=l}}else this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1)},a.prototype.handleClick_=function(e){e.preventDefault(),this.handleToggle_()},a.prototype.handleToggle_=function(){this.element.classList.toggle(l.CLASS_COLLAPSED),this.collapsed_?(0,i.replaceNode)(this.collapseLabel_,this.label_):(0,i.replaceNode)(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_},a.prototype.getCollapsible=function(){return this.collapsible_},a.prototype.setCollapsible=function(e){this.collapsible_!==e&&(this.collapsible_=e,this.element.classList.toggle("ol-uncollapsible"),!e&&this.collapsed_&&this.handleToggle_())},a.prototype.setCollapsed=function(e){this.collapsible_&&this.collapsed_!==e&&this.handleToggle_()},a.prototype.getCollapsed=function(){return this.collapsed_},a}(t.default);function p(e){this.updateElement_(e.frameState)}var c=n;exports.default=c;
},{"../array.js":"luEr","./Control.js":"+/xx","../css.js":"HgMV","../dom.js":"Xno5","../events.js":"55Uq","../events/EventType.js":"C8cu","../layer/Layer.js":"GCgv"}],"sCgw":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.render=l,exports.default=void 0;var t=r(require("./Control.js")),e=require("../css.js"),s=require("../easing.js"),a=require("../events.js"),i=r(require("../events/EventType.js"));function r(t){return t&&t.__esModule?t:{default:t}}var o=function(t){function r(s){var r=s||{};t.call(this,{element:document.createElement("div"),render:r.render||l,target:r.target});var o=void 0!==r.className?r.className:"ol-rotate",n=void 0!==r.label?r.label:"⇧";this.label_=null,"string"==typeof n?(this.label_=document.createElement("span"),this.label_.className="ol-compass",this.label_.textContent=n):(this.label_=n,this.label_.classList.add("ol-compass"));var d=r.tipLabel?r.tipLabel:"Reset rotation",h=document.createElement("button");h.className=o+"-reset",h.setAttribute("type","button"),h.title=d,h.appendChild(this.label_),(0,a.listen)(h,i.default.CLICK,this.handleClick_,this);var u=o+" "+e.CLASS_UNSELECTABLE+" "+e.CLASS_CONTROL,_=this.element;_.className=u,_.appendChild(h),this.callResetNorth_=r.resetNorth?r.resetNorth:void 0,this.duration_=void 0!==r.duration?r.duration:250,this.autoHide_=void 0===r.autoHide||r.autoHide,this.rotation_=void 0,this.autoHide_&&this.element.classList.add(e.CLASS_HIDDEN)}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype.handleClick_=function(t){t.preventDefault(),void 0!==this.callResetNorth_?this.callResetNorth_():this.resetNorth_()},r.prototype.resetNorth_=function(){var t=this.getMap().getView();t&&void 0!==t.getRotation()&&(this.duration_>0?t.animate({rotation:0,duration:this.duration_,easing:s.easeOut}):t.setRotation(0))},r}(t.default);function l(t){var s=t.frameState;if(s){var a=s.viewState.rotation;if(a!=this.rotation_){var i="rotate("+a+"rad)";if(this.autoHide_){var r=this.element.classList.contains(e.CLASS_HIDDEN);r||0!==a?r&&0!==a&&this.element.classList.remove(e.CLASS_HIDDEN):this.element.classList.add(e.CLASS_HIDDEN)}this.label_.style.msTransform=i,this.label_.style.webkitTransform=i,this.label_.style.transform=i}this.rotation_=a}}var n=o;exports.default=n;
},{"./Control.js":"+/xx","../css.js":"HgMV","../easing.js":"IeCz","../events.js":"55Uq","../events/EventType.js":"C8cu"}],"L3+c":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("../events.js"),t=a(require("../events/EventType.js")),o=a(require("./Control.js")),i=require("../css.js"),n=require("../easing.js");function a(e){return e&&e.__esModule?e:{default:e}}var r=function(o){function a(n){var a=n||{};o.call(this,{element:document.createElement("div"),target:a.target});var r=void 0!==a.className?a.className:"ol-zoom",l=void 0!==a.delta?a.delta:1,s=void 0!==a.zoomInLabel?a.zoomInLabel:"+",u=void 0!==a.zoomOutLabel?a.zoomOutLabel:"−",d=void 0!==a.zoomInTipLabel?a.zoomInTipLabel:"Zoom in",c=void 0!==a.zoomOutTipLabel?a.zoomOutTipLabel:"Zoom out",p=document.createElement("button");p.className=r+"-in",p.setAttribute("type","button"),p.title=d,p.appendChild("string"==typeof s?document.createTextNode(s):s),(0,e.listen)(p,t.default.CLICK,this.handleClick_.bind(this,l));var m=document.createElement("button");m.className=r+"-out",m.setAttribute("type","button"),m.title=c,m.appendChild("string"==typeof u?document.createTextNode(u):u),(0,e.listen)(m,t.default.CLICK,this.handleClick_.bind(this,-l));var v=r+" "+i.CLASS_UNSELECTABLE+" "+i.CLASS_CONTROL,b=this.element;b.className=v,b.appendChild(p),b.appendChild(m),this.duration_=void 0!==a.duration?a.duration:250}return o&&(a.__proto__=o),a.prototype=Object.create(o&&o.prototype),a.prototype.constructor=a,a.prototype.handleClick_=function(e,t){t.preventDefault(),this.zoomByDelta_(e)},a.prototype.zoomByDelta_=function(e){var t=this.getMap().getView();if(t){var o=t.getResolution();if(o){var i=t.constrainResolution(o,e);this.duration_>0?(t.getAnimating()&&t.cancelAnimations(),t.animate({resolution:i,duration:this.duration_,easing:n.easeOut})):t.setResolution(i)}}},a}(o.default),l=r;exports.default=l;
},{"../events.js":"55Uq","../events/EventType.js":"C8cu","./Control.js":"+/xx","../css.js":"HgMV","../easing.js":"IeCz"}],"uzb+":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.defaults=i;var t=u(require("../Collection.js")),e=u(require("./Attribution.js")),o=u(require("./Rotate.js")),r=u(require("./Zoom.js"));function u(t){return t&&t.__esModule?t:{default:t}}function i(u){var i=u||{},n=new t.default;return(void 0===i.zoom||i.zoom)&&n.push(new r.default(i.zoomOptions)),(void 0===i.rotate||i.rotate)&&n.push(new o.default(i.rotateOptions)),(void 0===i.attribution||i.attribution)&&n.push(new e.default(i.attributionOptions)),n}
},{"../Collection.js":"FnDa","./Attribution.js":"Q4Cf","./Rotate.js":"sCgw","./Zoom.js":"L3+c"}],"caOi":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={ACTIVE:"active"};exports.default=e;
},{}],"jB2p":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.pan=a,exports.rotate=s,exports.rotateWithoutConstraints=u,exports.zoom=c,exports.zoomByDelta=l,exports.zoomWithoutConstraints=p,exports.default=void 0;var t=r(require("../Object.js")),e=require("../easing.js"),o=r(require("./Property.js")),n=require("../math.js");function r(t){return t&&t.__esModule?t:{default:t}}var i=function(t){function e(e){t.call(this),e.handleEvent&&(this.handleEvent=e.handleEvent),this.map_=null,this.setActive(!0)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getActive=function(){return this.get(o.default.ACTIVE)},e.prototype.getMap=function(){return this.map_},e.prototype.handleEvent=function(t){return!0},e.prototype.setActive=function(t){this.set(o.default.ACTIVE,t)},e.prototype.setMap=function(t){this.map_=t},e}(t.default);function a(t,o,n){var r=t.getCenter();if(r){var i=t.constrainCenter([r[0]+o[0],r[1]+o[1]]);n?t.animate({duration:n,easing:e.linear,center:i}):t.setCenter(i)}}function s(t,e,o,n){e=t.constrainRotation(e,0),u(t,e,o,n)}function u(t,o,n,r){if(void 0!==o){var i=t.getRotation(),a=t.getCenter();void 0!==i&&a&&r>0?t.animate({rotation:o,anchor:n,duration:r,easing:e.easeOut}):t.rotate(o,n)}}function c(t,e,o,n,r){e=t.constrainResolution(e,0,r),p(t,e,o,n)}function l(t,e,o,r){var i=t.getResolution(),a=t.constrainResolution(i,e,0);if(void 0!==a){var s=t.getResolutions();a=(0,n.clamp)(a,t.getMinResolution()||s[s.length-1],t.getMaxResolution()||s[0])}if(o&&void 0!==a&&a!==i){var u=t.getCenter(),c=t.calculateCenterZoom(a,o);c=t.constrainCenter(c),o=[(a*u[0]-i*c[0])/(a-i),(a*u[1]-i*c[1])/(a-i)]}p(t,a,o,r)}function p(t,o,n,r){if(o){var i=t.getResolution(),a=t.getCenter();if(void 0!==i&&a&&o!==i&&r)t.animate({resolution:o,anchor:n,duration:r,easing:e.easeOut});else{if(n){var s=t.calculateCenterZoom(o,n);t.setCenter(s)}t.setResolution(o)}}}var f=i;exports.default=f;
},{"../Object.js":"PhPh","../easing.js":"IeCz","./Property.js":"caOi","../math.js":"B96G"}],"2NSa":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=o(require("../MapBrowserEventType.js")),e=r(require("./Interaction.js"));function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var o=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,r):{};o.get||o.set?Object.defineProperty(e,r,o):e[r]=t[r]}return e.default=t,e}function o(t){return t&&t.__esModule?t:{default:t}}var a=function(t){function e(e){t.call(this,{handleEvent:n});var r=e||{};this.delta_=r.delta?r.delta:1,this.duration_=void 0!==r.duration?r.duration:250}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(e.default);function n(r){var o=!1;if(r.type==t.default.DBLCLICK){var a=r.originalEvent,n=r.map,i=r.coordinate,u=a.shiftKey?-this.delta_:this.delta_,d=n.getView();(0,e.zoomByDelta)(d,u,i,this.duration_),r.preventDefault(),o=!0}return!o}var i=a;exports.default=i;
},{"../MapBrowserEventType.js":"Yh/D","./Interaction.js":"jB2p"}],"YcID":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.primaryAction=exports.mouseOnly=exports.targetNotEditable=exports.shiftKeyOnly=exports.platformModifierKeyOnly=exports.noModifierKeys=exports.doubleClick=exports.singleClick=exports.pointerMove=exports.never=exports.mouseActionButton=exports.click=exports.always=exports.focus=exports.altShiftKeysOnly=exports.altKeyOnly=void 0;var e=n(require("../MapBrowserEventType.js")),t=require("../asserts.js"),r=require("../functions.js"),o=require("../has.js");function n(e){return e&&e.__esModule?e:{default:e}}var i=function(e){var t=e.originalEvent;return t.altKey&&!(t.metaKey||t.ctrlKey)&&!t.shiftKey};exports.altKeyOnly=i;var a=function(e){var t=e.originalEvent;return t.altKey&&!(t.metaKey||t.ctrlKey)&&t.shiftKey};exports.altShiftKeysOnly=a;var s=function(e){return e.target.getTargetElement()===document.activeElement};exports.focus=s;var l=r.TRUE;exports.always=l;var u=function(t){return t.type==e.default.CLICK};exports.click=u;var y=function(e){var t=e.originalEvent;return 0==t.button&&!(o.WEBKIT&&o.MAC&&t.ctrlKey)};exports.mouseActionButton=y;var p=r.FALSE;exports.never=p;var v=function(e){return"pointermove"==e.type};exports.pointerMove=v;var c=function(t){return t.type==e.default.SINGLECLICK};exports.singleClick=c;var f=function(t){return t.type==e.default.DBLCLICK};exports.doubleClick=f;var K=function(e){var t=e.originalEvent;return!t.altKey&&!(t.metaKey||t.ctrlKey)&&!t.shiftKey};exports.noModifierKeys=K;var x=function(e){var t=e.originalEvent;return!t.altKey&&(o.MAC?t.metaKey:t.ctrlKey)&&!t.shiftKey};exports.platformModifierKeyOnly=x;var E=function(e){var t=e.originalEvent;return!t.altKey&&!(t.metaKey||t.ctrlKey)&&t.shiftKey};exports.shiftKeyOnly=E;var m=function(e){var t=e.originalEvent.target.tagName;return"INPUT"!==t&&"SELECT"!==t&&"TEXTAREA"!==t};exports.targetNotEditable=m;var d=function(e){var r=e.pointerEvent;return(0,t.assert)(void 0!==r,56),"mouse"==r.pointerType};exports.mouseOnly=d;var g=function(e){var r=e.pointerEvent;return(0,t.assert)(void 0!==r,56),r.isPrimary&&0===r.button};exports.primaryAction=g;
},{"../MapBrowserEventType.js":"Yh/D","../asserts.js":"fLG6","../functions.js":"RgA2","../has.js":"f3Nv"}],"dnA2":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.centroid=a,exports.default=void 0;var e=r(require("../MapBrowserEventType.js")),t=r(require("./Interaction.js")),n=require("../obj.js");function r(e){return e&&e.__esModule?e:{default:e}}var o=function(t){function r(e){var n=e||{};t.call(this,n),n.handleDownEvent&&(this.handleDownEvent=n.handleDownEvent),n.handleDragEvent&&(this.handleDragEvent=n.handleDragEvent),n.handleMoveEvent&&(this.handleMoveEvent=n.handleMoveEvent),n.handleUpEvent&&(this.handleUpEvent=n.handleUpEvent),n.stopDown&&(this.stopDown=n.stopDown),this.handlingDownUpSequence=!1,this.trackedPointers_={},this.targetPointers=[]}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype.handleDownEvent=function(e){return!1},r.prototype.handleDragEvent=function(e){},r.prototype.handleEvent=function(t){if(!t.pointerEvent)return!0;var n=!1;if(this.updateTrackedPointers_(t),this.handlingDownUpSequence){if(t.type==e.default.POINTERDRAG)this.handleDragEvent(t);else if(t.type==e.default.POINTERUP){var r=this.handleUpEvent(t);this.handlingDownUpSequence=r&&this.targetPointers.length>0}}else if(t.type==e.default.POINTERDOWN){var o=this.handleDownEvent(t);o&&t.preventDefault(),this.handlingDownUpSequence=o,n=this.stopDown(o)}else t.type==e.default.POINTERMOVE&&this.handleMoveEvent(t);return!n},r.prototype.handleMoveEvent=function(e){},r.prototype.handleUpEvent=function(e){return!1},r.prototype.stopDown=function(e){return e},r.prototype.updateTrackedPointers_=function(t){if(i(t)){var r=t.pointerEvent,o=r.pointerId.toString();t.type==e.default.POINTERUP?delete this.trackedPointers_[o]:t.type==e.default.POINTERDOWN?this.trackedPointers_[o]=r:o in this.trackedPointers_&&(this.trackedPointers_[o]=r),this.targetPointers=(0,n.getValues)(this.trackedPointers_)}},r}(t.default);function a(e){for(var t=e.length,n=0,r=0,o=0;o<t;o++)n+=e[o].clientX,r+=e[o].clientY;return[n/t,r/t]}function i(t){var n=t.type;return n===e.default.POINTERDOWN||n===e.default.POINTERDRAG||n===e.default.POINTERUP}var s=o;exports.default=s;
},{"../MapBrowserEventType.js":"Yh/D","./Interaction.js":"jB2p","../obj.js":"mH6q"}],"N4gU":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=a(require("../ViewHint.js")),e=require("../coordinate.js"),i=require("../easing.js"),n=require("../events/condition.js"),r=require("../functions.js"),o=s(require("./Pointer.js"));function s(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,i):{};n.get||n.set?Object.defineProperty(e,i,n):e[i]=t[i]}return e.default=t,e}function a(t){return t&&t.__esModule?t:{default:t}}var c=function(s){function a(t){s.call(this,{stopDown:r.FALSE});var e=t||{};this.kinetic_=e.kinetic,this.lastCentroid=null,this.lastPointersCount_,this.panning_=!1,this.condition_=e.condition?e.condition:n.noModifierKeys,this.noKinetic_=!1}return s&&(a.__proto__=s),a.prototype=Object.create(s&&s.prototype),a.prototype.constructor=a,a.prototype.handleDragEvent=function(i){this.panning_||(this.panning_=!0,this.getMap().getView().setHint(t.default.INTERACTING,1));var n=this.targetPointers,r=(0,o.centroid)(n);if(n.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(r[0],r[1]),this.lastCentroid){var s=this.lastCentroid[0]-r[0],a=r[1]-this.lastCentroid[1],c=i.map.getView(),h=[s,a];(0,e.scale)(h,c.getResolution()),(0,e.rotate)(h,c.getRotation()),(0,e.add)(h,c.getCenter()),h=c.constrainCenter(h),c.setCenter(h)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=r,this.lastPointersCount_=n.length},a.prototype.handleUpEvent=function(e){var n=e.map,r=n.getView();if(0===this.targetPointers.length){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){var o=this.kinetic_.getDistance(),s=this.kinetic_.getAngle(),a=r.getCenter(),c=n.getPixelFromCoordinate(a),h=n.getCoordinateFromPixel([c[0]-o*Math.cos(s),c[1]-o*Math.sin(s)]);r.animate({center:r.constrainCenter(h),duration:500,easing:i.easeOut})}return this.panning_&&(this.panning_=!1,r.setHint(t.default.INTERACTING,-1)),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0},a.prototype.handleDownEvent=function(t){if(this.targetPointers.length>0&&this.condition_(t)){var e=t.map.getView();return this.lastCentroid=null,e.getAnimating()&&e.setCenter(t.frameState.viewState.center),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1},a}(o.default),h=c;exports.default=h;
},{"../ViewHint.js":"cuLW","../coordinate.js":"nGsj","../easing.js":"IeCz","../events/condition.js":"YcID","../functions.js":"RgA2","./Pointer.js":"dnA2"}],"PgBj":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../rotationconstraint.js"),e=a(require("../ViewHint.js")),o=require("../events/condition.js"),n=require("../functions.js"),i=require("./Interaction.js"),r=a(require("./Pointer.js"));function a(t){return t&&t.__esModule?t:{default:t}}var s=function(r){function a(t){var e=t||{};r.call(this,{stopDown:n.FALSE}),this.condition_=e.condition?e.condition:o.altShiftKeysOnly,this.lastAngle_=void 0,this.duration_=void 0!==e.duration?e.duration:250}return r&&(a.__proto__=r),a.prototype=Object.create(r&&r.prototype),a.prototype.constructor=a,a.prototype.handleDragEvent=function(e){if((0,o.mouseOnly)(e)){var n=e.map,r=n.getView();if(r.getConstraints().rotation!==t.disable){var a=n.getSize(),s=e.pixel,u=Math.atan2(a[1]/2-s[1],s[0]-a[0]/2);if(void 0!==this.lastAngle_){var l=u-this.lastAngle_,d=r.getRotation();(0,i.rotateWithoutConstraints)(r,d-l)}this.lastAngle_=u}}},a.prototype.handleUpEvent=function(t){if(!(0,o.mouseOnly)(t))return!0;var n=t.map.getView();n.setHint(e.default.INTERACTING,-1);var r=n.getRotation();return(0,i.rotate)(n,r,void 0,this.duration_),!1},a.prototype.handleDownEvent=function(t){return!!(0,o.mouseOnly)(t)&&(!(!(0,o.mouseActionButton)(t)||!this.condition_(t))&&(t.map.getView().setHint(e.default.INTERACTING,1),this.lastAngle_=void 0,!0))},a}(r.default),u=s;exports.default=u;
},{"../rotationconstraint.js":"9EKd","../ViewHint.js":"cuLW","../events/condition.js":"YcID","../functions.js":"RgA2","./Interaction.js":"jB2p","./Pointer.js":"dnA2"}],"bMDg":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=i(require("../Disposable.js")),e=i(require("../geom/Polygon.js"));function i(t){return t&&t.__esModule?t:{default:t}}var o=function(t){function i(e){t.call(this),this.geometry_=null,this.element_=document.createElement("div"),this.element_.style.position="absolute",this.element_.className="ol-box "+e,this.map_=null,this.startPixel_=null,this.endPixel_=null}return t&&(i.__proto__=t),i.prototype=Object.create(t&&t.prototype),i.prototype.constructor=i,i.prototype.disposeInternal=function(){this.setMap(null)},i.prototype.render_=function(){var t=this.startPixel_,e=this.endPixel_,i=this.element_.style;i.left=Math.min(t[0],e[0])+"px",i.top=Math.min(t[1],e[1])+"px",i.width=Math.abs(e[0]-t[0])+"px",i.height=Math.abs(e[1]-t[1])+"px"},i.prototype.setMap=function(t){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);var e=this.element_.style;e.left=e.top=e.width=e.height="inherit"}this.map_=t,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)},i.prototype.setPixels=function(t,e){this.startPixel_=t,this.endPixel_=e,this.createOrUpdateGeometry(),this.render_()},i.prototype.createOrUpdateGeometry=function(){var t=this.startPixel_,i=this.endPixel_,o=[t,[t[0],i[1]],i,[i[0],t[1]]].map(this.map_.getCoordinateFromPixel,this.map_);o[4]=o[0].slice(),this.geometry_?this.geometry_.setCoordinates([o]):this.geometry_=new e.default([o])},i.prototype.getGeometry=function(){return this.geometry_},i}(t.default),s=o;exports.default=s;
},{"../Disposable.js":"DDda","../geom/Polygon.js":"6Nww"}],"AQ/R":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=r(require("../events/Event.js")),o=require("../events/condition.js"),e=require("../functions.js"),n=r(require("./Pointer.js")),i=r(require("../render/Box.js"));function r(t){return t&&t.__esModule?t:{default:t}}var s={BOXSTART:"boxstart",BOXDRAG:"boxdrag",BOXEND:"boxend"},a=function(t){function o(o,e,n){t.call(this,o),this.coordinate=e,this.mapBrowserEvent=n}return t&&(o.__proto__=t),o.prototype=Object.create(t&&t.prototype),o.prototype.constructor=o,o}(t.default),d=function(t){function n(n){t.call(this);var r=n||{};this.box_=new i.default(r.className||"ol-dragbox"),this.minArea_=void 0!==r.minArea?r.minArea:64,this.onBoxEnd_=r.onBoxEnd?r.onBoxEnd:e.VOID,this.startPixel_=null,this.condition_=r.condition?r.condition:o.always,this.boxEndCondition_=r.boxEndCondition?r.boxEndCondition:this.defaultBoxEndCondition}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n.prototype.defaultBoxEndCondition=function(t,o,e){var n=e[0]-o[0],i=e[1]-o[1];return n*n+i*i>=this.minArea_},n.prototype.getGeometry=function(){return this.box_.getGeometry()},n.prototype.handleDragEvent=function(t){(0,o.mouseOnly)(t)&&(this.box_.setPixels(this.startPixel_,t.pixel),this.dispatchEvent(new a(s.BOXDRAG,t.coordinate,t)))},n.prototype.handleUpEvent=function(t){return!(0,o.mouseOnly)(t)||(this.box_.setMap(null),this.boxEndCondition_(t,this.startPixel_,t.pixel)&&(this.onBoxEnd_(t),this.dispatchEvent(new a(s.BOXEND,t.coordinate,t))),!1)},n.prototype.handleDownEvent=function(t){return!!(0,o.mouseOnly)(t)&&(!(!(0,o.mouseActionButton)(t)||!this.condition_(t))&&(this.startPixel_=t.pixel,this.box_.setMap(t.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new a(s.BOXSTART,t.coordinate,t)),!0))},n}(n.default),u=d;exports.default=u;
},{"../events/Event.js":"fKNg","../events/condition.js":"YcID","../functions.js":"RgA2","./Pointer.js":"dnA2","../render/Box.js":"bMDg"}],"pTqW":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../easing.js"),e=require("../events/condition.js"),o=require("../extent.js"),r=i(require("./DragBox.js"));function i(t){return t&&t.__esModule?t:{default:t}}var n=function(t){function o(o){var r=o||{},i=r.condition?r.condition:e.shiftKeyOnly;t.call(this,{condition:i,className:r.className||"ol-dragzoom",onBoxEnd:a}),this.duration_=void 0!==r.duration?r.duration:200,this.out_=void 0!==r.out&&r.out}return t&&(o.__proto__=t),o.prototype=Object.create(t&&t.prototype),o.prototype.constructor=o,o}(r.default);function a(){var e=this.getMap(),r=e.getView(),i=e.getSize(),n=this.getGeometry().getExtent();if(this.out_){var a=r.calculateExtent(i),s=(0,o.createOrUpdateFromCoordinates)([e.getPixelFromCoordinate((0,o.getBottomLeft)(n)),e.getPixelFromCoordinate((0,o.getTopRight)(n))]),u=r.getResolutionForExtent(s,i);(0,o.scaleFromCenter)(a,1/u),n=a}var d=r.constrainResolution(r.getResolutionForExtent(n,i)),c=(0,o.getCenter)(n);c=r.constrainCenter(c),r.animate({resolution:d,center:c,duration:this.duration_,easing:t.easeOut})}var s=n;exports.default=s;
},{"../easing.js":"IeCz","../events/condition.js":"YcID","../extent.js":"QDir","./DragBox.js":"AQ/R"}],"mmJk":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={LEFT:37,UP:38,RIGHT:39,DOWN:40};exports.default=e;
},{}],"CFRo":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("../coordinate.js"),t=a(require("../events/EventType.js")),r=a(require("../events/KeyCode.js")),o=require("../events/condition.js"),i=n(require("./Interaction.js"));function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var o=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};o.get||o.set?Object.defineProperty(t,r,o):t[r]=e[r]}return t.default=e,t}function a(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(t){e.call(this,{handleEvent:d});var r=t||{};this.defaultCondition_=function(e){return(0,o.noModifierKeys)(e)&&(0,o.targetNotEditable)(e)},this.condition_=void 0!==r.condition?r.condition:this.defaultCondition_,this.duration_=void 0!==r.duration?r.duration:100,this.pixelDelta_=void 0!==r.pixelDelta?r.pixelDelta:128}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(i.default);function d(o){var n=!1;if(o.type==t.default.KEYDOWN){var a=o.originalEvent.keyCode;if(this.condition_(o)&&(a==r.default.DOWN||a==r.default.LEFT||a==r.default.RIGHT||a==r.default.UP)){var u=o.map.getView(),d=u.getResolution()*this.pixelDelta_,l=0,f=0;a==r.default.DOWN?f=-d:a==r.default.LEFT?l=-d:a==r.default.RIGHT?l=d:f=d;var s=[l,f];(0,e.rotate)(s,u.getRotation()),(0,i.pan)(u,s,this.duration_),o.preventDefault(),n=!0}}return!n}var l=u;exports.default=l;
},{"../coordinate.js":"nGsj","../events/EventType.js":"C8cu","../events/KeyCode.js":"mmJk","../events/condition.js":"YcID","./Interaction.js":"jB2p"}],"7S8w":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=i(require("../events/EventType.js")),e=require("../events/condition.js"),r=o(require("./Interaction.js"));function o(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var o=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,r):{};o.get||o.set?Object.defineProperty(e,r,o):e[r]=t[r]}return e.default=t,e}function i(t){return t&&t.__esModule?t:{default:t}}var n=function(t){function r(r){t.call(this,{handleEvent:a});var o=r||{};this.condition_=o.condition?o.condition:e.targetNotEditable,this.delta_=o.delta?o.delta:1,this.duration_=void 0!==o.duration?o.duration:100}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r}(r.default);function a(e){var o=!1;if(e.type==t.default.KEYDOWN||e.type==t.default.KEYPRESS){var i=e.originalEvent.charCode;if(this.condition_(e)&&(i=="+".charCodeAt(0)||i=="-".charCodeAt(0))){var n=e.map,a=i=="+".charCodeAt(0)?this.delta_:-this.delta_,d=n.getView();(0,r.zoomByDelta)(d,a,void 0,this.duration_),e.preventDefault(),o=!0}}return!o}var d=n;exports.default=d;
},{"../events/EventType.js":"C8cu","../events/condition.js":"YcID","./Interaction.js":"jB2p"}],"kPt6":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.Mode=void 0;var t=h(require("../ViewHint.js")),e=require("../events/condition.js"),i=require("../easing.js"),o=h(require("../events/EventType.js")),r=require("../has.js"),a=s(require("./Interaction.js")),n=require("../math.js");function s(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var o=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,i):{};o.get||o.set?Object.defineProperty(e,i,o):e[i]=t[i]}return e.default=t,e}function h(t){return t&&t.__esModule?t:{default:t}}var u=1,d={TRACKPAD:"trackpad",WHEEL:"wheel"};exports.Mode=d;var c=function(s){function h(t){var i=t||{};s.call(this,i),this.delta_=0,this.duration_=void 0!==i.duration?i.duration:250,this.timeout_=void 0!==i.timeout?i.timeout:80,this.useAnchor_=void 0===i.useAnchor||i.useAnchor,this.constrainResolution_=i.constrainResolution||!1,this.condition_=i.condition?i.condition:e.always,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_,this.mode_=void 0,this.trackpadEventGap_=400,this.trackpadTimeoutId_,this.trackpadDeltaPerZoom_=300,this.trackpadZoomBuffer_=1.5}return s&&(h.__proto__=s),h.prototype=Object.create(s&&s.prototype),h.prototype.constructor=h,h.prototype.decrementInteractingHint_=function(){this.trackpadTimeoutId_=void 0,this.getMap().getView().setHint(t.default.INTERACTING,-1)},h.prototype.handleEvent=function(e){if(!this.condition_(e))return!0;var a=e.type;if(a!==o.default.WHEEL&&a!==o.default.MOUSEWHEEL)return!0;e.preventDefault();var n,s=e.map,h=e.originalEvent;if(this.useAnchor_&&(this.lastAnchor_=e.coordinate),e.type==o.default.WHEEL?(n=h.deltaY,r.FIREFOX&&h.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(n/=r.DEVICE_PIXEL_RATIO),h.deltaMode===WheelEvent.DOM_DELTA_LINE&&(n*=40)):e.type==o.default.MOUSEWHEEL&&(n=-h.wheelDeltaY,r.SAFARI&&(n/=3)),0===n)return!1;var u=Date.now();if(void 0===this.startTime_&&(this.startTime_=u),(!this.mode_||u-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(n)<4?d.TRACKPAD:d.WHEEL),this.mode_===d.TRACKPAD){var c=s.getView();this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):c.setHint(t.default.INTERACTING,1),this.trackpadTimeoutId_=setTimeout(this.decrementInteractingHint_.bind(this),this.trackpadEventGap_);var l=c.getResolution()*Math.pow(2,n/this.trackpadDeltaPerZoom_),_=c.getMinResolution(),p=c.getMaxResolution(),m=0;if(l<_?(l=Math.max(l,_/this.trackpadZoomBuffer_),m=1):l>p&&(l=Math.min(l,p*this.trackpadZoomBuffer_),m=-1),this.lastAnchor_){var v=c.calculateCenterZoom(l,this.lastAnchor_);c.setCenter(c.constrainCenter(v))}return c.setResolution(l),0===m&&this.constrainResolution_&&c.animate({resolution:c.constrainResolution(l,n>0?-1:1),easing:i.easeOut,anchor:this.lastAnchor_,duration:this.duration_}),m>0?c.animate({resolution:_,easing:i.easeOut,anchor:this.lastAnchor_,duration:500}):m<0&&c.animate({resolution:p,easing:i.easeOut,anchor:this.lastAnchor_,duration:500}),this.startTime_=u,!1}this.delta_+=n;var f=Math.max(this.timeout_-(u-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,s),f),!1},h.prototype.handleWheelZoom_=function(t){var e=t.getView();e.getAnimating()&&e.cancelAnimations();var i=u,o=(0,n.clamp)(this.delta_,-i,i);(0,a.zoomByDelta)(e,-o,this.lastAnchor_,this.duration_),this.mode_=void 0,this.delta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0},h.prototype.setMouseAnchor=function(t){this.useAnchor_=t,t||(this.lastAnchor_=null)},h}(a.default),l=c;exports.default=l;
},{"../ViewHint.js":"cuLW","../events/condition.js":"YcID","../easing.js":"IeCz","../events/EventType.js":"C8cu","../has.js":"f3Nv","./Interaction.js":"jB2p","../math.js":"B96G"}],"8hbG":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=a(require("../ViewHint.js")),e=require("../functions.js"),r=require("./Interaction.js"),i=n(require("./Pointer.js")),o=require("../rotationconstraint.js");function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var i=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,r):{};i.get||i.set?Object.defineProperty(e,r,i):e[r]=t[r]}return e.default=t,e}function a(t){return t&&t.__esModule?t:{default:t}}var s=function(n){function a(t){var r=t||{},i=r;i.stopDown||(i.stopDown=e.FALSE),n.call(this,i),this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.threshold_=void 0!==r.threshold?r.threshold:.3,this.duration_=void 0!==r.duration?r.duration:250}return n&&(a.__proto__=n),a.prototype=Object.create(n&&n.prototype),a.prototype.constructor=a,a.prototype.handleDragEvent=function(t){var e=0,n=this.targetPointers[0],a=this.targetPointers[1],s=Math.atan2(a.clientY-n.clientY,a.clientX-n.clientX);if(void 0!==this.lastAngle_){var h=s-this.lastAngle_;this.rotationDelta_+=h,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),e=h}this.lastAngle_=s;var l=t.map,u=l.getView();if(u.getConstraints().rotation!==o.disable){var c=l.getViewport().getBoundingClientRect(),d=(0,i.centroid)(this.targetPointers);if(d[0]-=c.left,d[1]-=c.top,this.anchor_=l.getCoordinateFromPixel(d),this.rotating_){var p=u.getRotation();l.render(),(0,r.rotateWithoutConstraints)(u,p+e,this.anchor_)}}},a.prototype.handleUpEvent=function(e){if(this.targetPointers.length<2){var i=e.map.getView();if(i.setHint(t.default.INTERACTING,-1),this.rotating_){var o=i.getRotation();(0,r.rotate)(i,o,this.anchor_,this.duration_)}return!1}return!0},a.prototype.handleDownEvent=function(e){if(this.targetPointers.length>=2){var r=e.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||r.getView().setHint(t.default.INTERACTING,1),!0}return!1},a}(i.default),h=s;exports.default=h;
},{"../ViewHint.js":"cuLW","../functions.js":"RgA2","./Interaction.js":"jB2p","./Pointer.js":"dnA2","../rotationconstraint.js":"9EKd"}],"rcXm":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=r(require("../ViewHint.js")),e=require("../functions.js"),i=require("./Interaction.js"),n=o(require("./Pointer.js"));function o(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,i):{};n.get||n.set?Object.defineProperty(e,i,n):e[i]=t[i]}return e.default=t,e}function r(t){return t&&t.__esModule?t:{default:t}}var s=function(o){function r(t){var i=t||{},n=i;n.stopDown||(n.stopDown=e.FALSE),o.call(this,n),this.constrainResolution_=i.constrainResolution||!1,this.anchor_=null,this.duration_=void 0!==i.duration?i.duration:400,this.lastDistance_=void 0,this.lastScaleDelta_=1}return o&&(r.__proto__=o),r.prototype=Object.create(o&&o.prototype),r.prototype.constructor=r,r.prototype.handleDragEvent=function(t){var e=1,o=this.targetPointers[0],r=this.targetPointers[1],s=o.clientX-r.clientX,a=o.clientY-r.clientY,l=Math.sqrt(s*s+a*a);void 0!==this.lastDistance_&&(e=this.lastDistance_/l),this.lastDistance_=l;var u=t.map,c=u.getView(),h=c.getResolution(),p=c.getMaxResolution(),d=c.getMinResolution(),_=h*e;_>p?(e=p/h,_=p):_<d&&(e=d/h,_=d),1!=e&&(this.lastScaleDelta_=e);var f=u.getViewport().getBoundingClientRect(),g=(0,n.centroid)(this.targetPointers);g[0]-=f.left,g[1]-=f.top,this.anchor_=u.getCoordinateFromPixel(g),u.render(),(0,i.zoomWithoutConstraints)(c,_,this.anchor_)},r.prototype.handleUpEvent=function(e){if(this.targetPointers.length<2){var n=e.map.getView();n.setHint(t.default.INTERACTING,-1);var o=n.getResolution();if(this.constrainResolution_||o<n.getMinResolution()||o>n.getMaxResolution()){var r=this.lastScaleDelta_-1;(0,i.zoom)(n,o,this.anchor_,this.duration_,r)}return!1}return!0},r.prototype.handleDownEvent=function(e){if(this.targetPointers.length>=2){var i=e.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||i.getView().setHint(t.default.INTERACTING,1),!0}return!1},r}(n.default),a=s;exports.default=a;
},{"../ViewHint.js":"cuLW","../functions.js":"RgA2","./Interaction.js":"jB2p","./Pointer.js":"dnA2"}],"IYO6":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../functions.js"),e=require("../events.js"),r=n(require("../events/Event.js")),s=n(require("../events/EventType.js")),i=n(require("./Interaction.js")),o=require("../proj.js");function n(t){return t&&t.__esModule?t:{default:t}}var a={ADD_FEATURES:"addfeatures"},u=function(t){function e(e,r,s,i){t.call(this,e),this.features=s,this.file=r,this.projection=i}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(r.default),p=function(r){function i(e){var s=e||{};r.call(this,{handleEvent:t.TRUE}),this.formatConstructors_=s.formatConstructors?s.formatConstructors:[],this.projection_=s.projection?(0,o.get)(s.projection):null,this.dropListenKeys_=null,this.source_=s.source||null,this.target=s.target?s.target:null}return r&&(i.__proto__=r),i.prototype=Object.create(r&&r.prototype),i.prototype.constructor=i,i.prototype.handleResult_=function(t,e){var r=e.target.result,s=this.getMap(),i=this.projection_;i||(i=s.getView().getProjection());for(var o=this.formatConstructors_,n=[],p=0,c=o.length;p<c;++p){var l=new o[p];if((n=this.tryReadFeatures_(l,r,{featureProjection:i}))&&n.length>0)break}this.source_&&(this.source_.clear(),this.source_.addFeatures(n)),this.dispatchEvent(new u(a.ADD_FEATURES,t,n,i))},i.prototype.registerListeners_=function(){var t=this.getMap();if(t){var r=this.target?this.target:t.getViewport();this.dropListenKeys_=[(0,e.listen)(r,s.default.DROP,c,this),(0,e.listen)(r,s.default.DRAGENTER,l,this),(0,e.listen)(r,s.default.DRAGOVER,l,this),(0,e.listen)(r,s.default.DROP,l,this)]}},i.prototype.setActive=function(t){r.prototype.setActive.call(this,t),t?this.registerListeners_():this.unregisterListeners_()},i.prototype.setMap=function(t){this.unregisterListeners_(),r.prototype.setMap.call(this,t),this.getActive()&&this.registerListeners_()},i.prototype.tryReadFeatures_=function(t,e,r){try{return t.readFeatures(e,r)}catch(s){return null}},i.prototype.unregisterListeners_=function(){this.dropListenKeys_&&(this.dropListenKeys_.forEach(e.unlistenByKey),this.dropListenKeys_=null)},i}(i.default);function c(t){for(var e=t.dataTransfer.files,r=0,i=e.length;r<i;++r){var o=e.item(r),n=new FileReader;n.addEventListener(s.default.LOAD,this.handleResult_.bind(this,o)),n.readAsText(o)}}function l(t){t.stopPropagation(),t.preventDefault(),t.dataTransfer.dropEffect="copy"}var h=p;exports.default=h;
},{"../functions.js":"RgA2","../events.js":"55Uq","../events/Event.js":"fKNg","../events/EventType.js":"C8cu","./Interaction.js":"jB2p","../proj.js":"Diht"}],"0/IT":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../rotationconstraint.js"),e=a(require("../ViewHint.js")),i=require("../events/condition.js"),o=require("./Interaction.js"),n=a(require("./Pointer.js"));function a(t){return t&&t.__esModule?t:{default:t}}var s=function(n){function a(t){var e=t||{};n.call(this,e),this.condition_=e.condition?e.condition:i.shiftKeyOnly,this.lastAngle_=void 0,this.lastMagnitude_=void 0,this.lastScaleDelta_=0,this.duration_=void 0!==e.duration?e.duration:400}return n&&(a.__proto__=n),a.prototype=Object.create(n&&n.prototype),a.prototype.constructor=a,a.prototype.handleDragEvent=function(e){if((0,i.mouseOnly)(e)){var n=e.map,a=n.getSize(),s=e.pixel,r=s[0]-a[0]/2,l=a[1]/2-s[1],u=Math.atan2(l,r),d=Math.sqrt(r*r+l*l),h=n.getView();if(h.getConstraints().rotation!==t.disable&&void 0!==this.lastAngle_){var _=u-this.lastAngle_;(0,o.rotateWithoutConstraints)(h,h.getRotation()-_)}if(this.lastAngle_=u,void 0!==this.lastMagnitude_){var c=this.lastMagnitude_*(h.getResolution()/d);(0,o.zoomWithoutConstraints)(h,c)}void 0!==this.lastMagnitude_&&(this.lastScaleDelta_=this.lastMagnitude_/d),this.lastMagnitude_=d}},a.prototype.handleUpEvent=function(t){if(!(0,i.mouseOnly)(t))return!0;var n=t.map.getView();n.setHint(e.default.INTERACTING,-1);var a=this.lastScaleDelta_-1;return(0,o.rotate)(n,n.getRotation()),(0,o.zoom)(n,n.getResolution(),void 0,this.duration_,a),this.lastScaleDelta_=0,!1},a.prototype.handleDownEvent=function(t){return!!(0,i.mouseOnly)(t)&&(!!this.condition_(t)&&(t.map.getView().setHint(e.default.INTERACTING,1),this.lastAngle_=void 0,this.lastMagnitude_=void 0,!0))},a}(n.default),r=s;exports.default=r;
},{"../rotationconstraint.js":"9EKd","../ViewHint.js":"cuLW","../events/condition.js":"YcID","./Interaction.js":"jB2p","./Pointer.js":"dnA2"}],"AyCw":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../extent.js"),e=i(require("./GeometryType.js")),r=i(require("./SimpleGeometry.js")),o=require("./flat/deflate.js");function i(t){return t&&t.__esModule?t:{default:t}}var s=function(r){function i(t,e,o){if(r.call(this),void 0!==o&&void 0===e)this.setFlatCoordinates(o,t);else{var i=e||0;this.setCenterAndRadius(t,i,o)}}return r&&(i.__proto__=r),i.prototype=Object.create(r&&r.prototype),i.prototype.constructor=i,i.prototype.clone=function(){return new i(this.flatCoordinates.slice(),void 0,this.layout)},i.prototype.closestPointXY=function(t,e,r,o){var i=this.flatCoordinates,s=t-i[0],n=e-i[1],a=s*s+n*n;if(a<o){if(0===a)for(var d=0;d<this.stride;++d)r[d]=i[d];else{var u=this.getRadius()/Math.sqrt(a);r[0]=i[0]+u*s,r[1]=i[1]+u*n;for(var f=2;f<this.stride;++f)r[f]=i[f]}return r.length=this.stride,a}return o},i.prototype.containsXY=function(t,e){var r=this.flatCoordinates,o=t-r[0],i=e-r[1];return o*o+i*i<=this.getRadiusSquared_()},i.prototype.getCenter=function(){return this.flatCoordinates.slice(0,this.stride)},i.prototype.computeExtent=function(e){var r=this.flatCoordinates,o=r[this.stride]-r[0];return(0,t.createOrUpdate)(r[0]-o,r[1]-o,r[0]+o,r[1]+o,e)},i.prototype.getRadius=function(){return Math.sqrt(this.getRadiusSquared_())},i.prototype.getRadiusSquared_=function(){var t=this.flatCoordinates[this.stride]-this.flatCoordinates[0],e=this.flatCoordinates[this.stride+1]-this.flatCoordinates[1];return t*t+e*e},i.prototype.getType=function(){return e.default.CIRCLE},i.prototype.intersectsExtent=function(e){var r=this.getExtent();if((0,t.intersects)(e,r)){var o=this.getCenter();return e[0]<=o[0]&&e[2]>=o[0]||(e[1]<=o[1]&&e[3]>=o[1]||(0,t.forEachCorner)(e,this.intersectsCoordinate,this))}return!1},i.prototype.setCenter=function(t){var e=this.stride,r=this.flatCoordinates[e]-this.flatCoordinates[0],o=t.slice();o[e]=o[0]+r;for(var i=1;i<e;++i)o[e+i]=t[i];this.setFlatCoordinates(this.layout,o),this.changed()},i.prototype.setCenterAndRadius=function(t,e,r){this.setLayout(r,t,0),this.flatCoordinates||(this.flatCoordinates=[]);var i=this.flatCoordinates,s=(0,o.deflateCoordinate)(i,0,t,this.stride);i[s++]=i[0]+e;for(var n=1,a=this.stride;n<a;++n)i[s++]=i[n];i.length=s,this.changed()},i.prototype.getCoordinates=function(){return null},i.prototype.setCoordinates=function(t,e){},i.prototype.setRadius=function(t){this.flatCoordinates[this.stride]=this.flatCoordinates[0]+t,this.changed()},i}(r.default);s.prototype.transform;var n=s;exports.default=n;
},{"../extent.js":"QDir","./GeometryType.js":"lmV0","./SimpleGeometry.js":"pnrv","./flat/deflate.js":"1FNh"}],"4fbC":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../array.js"),e=require("../extent.js"),i=f(require("./GeometryLayout.js")),s=f(require("./GeometryType.js")),r=f(require("./LineString.js")),n=f(require("./SimpleGeometry.js")),o=require("./flat/closest.js"),a=require("./flat/deflate.js"),l=require("./flat/inflate.js"),d=require("./flat/interpolate.js"),h=require("./flat/intersectsextent.js"),u=require("./flat/simplify.js");function f(t){return t&&t.__esModule?t:{default:t}}var p=function(n){function f(e,i,s){if(n.call(this),this.ends_=[],this.maxDelta_=-1,this.maxDeltaRevision_=-1,Array.isArray(e[0]))this.setCoordinates(e,i);else if(void 0!==i&&s)this.setFlatCoordinates(i,e),this.ends_=s;else{for(var r=this.getLayout(),o=e,a=[],l=[],d=0,h=o.length;d<h;++d){var u=o[d];0===d&&(r=u.getLayout()),(0,t.extend)(a,u.getFlatCoordinates()),l.push(a.length)}this.setFlatCoordinates(r,a),this.ends_=l}}return n&&(f.__proto__=n),f.prototype=Object.create(n&&n.prototype),f.prototype.constructor=f,f.prototype.appendLineString=function(e){this.flatCoordinates?(0,t.extend)(this.flatCoordinates,e.getFlatCoordinates().slice()):this.flatCoordinates=e.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},f.prototype.clone=function(){return new f(this.flatCoordinates.slice(),this.layout,this.ends_.slice())},f.prototype.closestPointXY=function(t,i,s,r){return r<(0,e.closestSquaredDistanceXY)(this.getExtent(),t,i)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt((0,o.arrayMaxSquaredDelta)(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),(0,o.assignClosestArrayPoint)(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!1,t,i,s,r))},f.prototype.getCoordinateAtM=function(t,e,s){if(this.layout!=i.default.XYM&&this.layout!=i.default.XYZM||0===this.flatCoordinates.length)return null;var r=void 0!==e&&e,n=void 0!==s&&s;return(0,d.lineStringsCoordinateAtM)(this.flatCoordinates,0,this.ends_,this.stride,t,r,n)},f.prototype.getCoordinates=function(){return(0,l.inflateCoordinatesArray)(this.flatCoordinates,0,this.ends_,this.stride)},f.prototype.getEnds=function(){return this.ends_},f.prototype.getLineString=function(t){return t<0||this.ends_.length<=t?null:new r.default(this.flatCoordinates.slice(0===t?0:this.ends_[t-1],this.ends_[t]),this.layout)},f.prototype.getLineStrings=function(){for(var t=this.flatCoordinates,e=this.ends_,i=this.layout,s=[],n=0,o=0,a=e.length;o<a;++o){var l=e[o],d=new r.default(t.slice(n,l),i);s.push(d),n=l}return s},f.prototype.getFlatMidpoints=function(){for(var e=[],i=this.flatCoordinates,s=0,r=this.ends_,n=this.stride,o=0,a=r.length;o<a;++o){var l=r[o],h=(0,d.interpolatePoint)(i,s,l,n,.5);(0,t.extend)(e,h),s=l}return e},f.prototype.getSimplifiedGeometryInternal=function(t){var e=[],s=[];return e.length=(0,u.douglasPeuckerArray)(this.flatCoordinates,0,this.ends_,this.stride,t,e,0,s),new f(e,i.default.XY,s)},f.prototype.getType=function(){return s.default.MULTI_LINE_STRING},f.prototype.intersectsExtent=function(t){return(0,h.intersectsLineStringArray)(this.flatCoordinates,0,this.ends_,this.stride,t)},f.prototype.setCoordinates=function(t,e){this.setLayout(e,t,2),this.flatCoordinates||(this.flatCoordinates=[]);var i=(0,a.deflateCoordinatesArray)(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=0===i.length?0:i[i.length-1],this.changed()},f}(n.default),y=p;exports.default=y;
},{"../array.js":"luEr","../extent.js":"QDir","./GeometryLayout.js":"1Utv","./GeometryType.js":"lmV0","./LineString.js":"DfxW","./SimpleGeometry.js":"pnrv","./flat/closest.js":"rMra","./flat/deflate.js":"1FNh","./flat/inflate.js":"znXl","./flat/interpolate.js":"rDTq","./flat/intersectsextent.js":"GZir","./flat/simplify.js":"IEpt"}],"dNu5":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../array.js"),e=require("../extent.js"),r=l(require("./GeometryType.js")),o=l(require("./Point.js")),i=l(require("./SimpleGeometry.js")),s=require("./flat/deflate.js"),n=require("./flat/inflate.js"),a=require("../math.js");function l(t){return t&&t.__esModule?t:{default:t}}var d=function(i){function l(t,e){i.call(this),e&&!Array.isArray(t[0])?this.setFlatCoordinates(e,t):this.setCoordinates(t,e)}return i&&(l.__proto__=i),l.prototype=Object.create(i&&i.prototype),l.prototype.constructor=l,l.prototype.appendPoint=function(e){this.flatCoordinates?(0,t.extend)(this.flatCoordinates,e.getFlatCoordinates()):this.flatCoordinates=e.getFlatCoordinates().slice(),this.changed()},l.prototype.clone=function(){return new l(this.flatCoordinates.slice(),this.layout)},l.prototype.closestPointXY=function(t,r,o,i){if(i<(0,e.closestSquaredDistanceXY)(this.getExtent(),t,r))return i;for(var s=this.flatCoordinates,n=this.stride,l=0,d=s.length;l<d;l+=n){var u=(0,a.squaredDistance)(t,r,s[l],s[l+1]);if(u<i){i=u;for(var f=0;f<n;++f)o[f]=s[l+f];o.length=n}}return i},l.prototype.getCoordinates=function(){return(0,n.inflateCoordinates)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},l.prototype.getPoint=function(t){var e=this.flatCoordinates?this.flatCoordinates.length/this.stride:0;return t<0||e<=t?null:new o.default(this.flatCoordinates.slice(t*this.stride,(t+1)*this.stride),this.layout)},l.prototype.getPoints=function(){for(var t=this.flatCoordinates,e=this.layout,r=this.stride,i=[],s=0,n=t.length;s<n;s+=r){var a=new o.default(t.slice(s,s+r),e);i.push(a)}return i},l.prototype.getType=function(){return r.default.MULTI_POINT},l.prototype.intersectsExtent=function(t){for(var r=this.flatCoordinates,o=this.stride,i=0,s=r.length;i<s;i+=o){var n=r[i],a=r[i+1];if((0,e.containsXY)(t,n,a))return!0}return!1},l.prototype.setCoordinates=function(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=(0,s.deflateCoordinates)(this.flatCoordinates,0,t,this.stride),this.changed()},l}(i.default),u=d;exports.default=u;
},{"../array.js":"luEr","../extent.js":"QDir","./GeometryType.js":"lmV0","./Point.js":"gLcY","./SimpleGeometry.js":"pnrv","./flat/deflate.js":"1FNh","./flat/inflate.js":"znXl","../math.js":"B96G"}],"VjQP":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.linearRingss=r;var e=require("../../extent.js");function r(r,t,a,n){for(var s=[],o=(0,e.createEmpty)(),i=0,u=a.length;i<u;++i){var l=a[i];o=(0,e.createOrUpdateFromFlatCoordinates)(r,t,l[0],n),s.push((o[0]+o[2])/2,(o[1]+o[3])/2),t=l[l.length-1]}return s}
},{"../../extent.js":"QDir"}],"6ouh":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../array.js"),e=require("../extent.js"),i=y(require("./GeometryLayout.js")),s=y(require("./GeometryType.js")),r=y(require("./MultiPoint.js")),n=y(require("./Polygon.js")),o=y(require("./SimpleGeometry.js")),a=require("./flat/area.js"),l=require("./flat/center.js"),h=require("./flat/closest.js"),d=require("./flat/contains.js"),u=require("./flat/deflate.js"),f=require("./flat/inflate.js"),g=require("./flat/interiorpoint.js"),p=require("./flat/intersectsextent.js"),_=require("./flat/orient.js"),c=require("./flat/simplify.js");function y(t){return t&&t.__esModule?t:{default:t}}var v=function(o){function y(e,i,s){if(o.call(this),this.endss_=[],this.flatInteriorPointsRevision_=-1,this.flatInteriorPoints_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,!s&&!Array.isArray(e[0])){for(var r=this.getLayout(),n=e,a=[],l=[],h=0,d=n.length;h<d;++h){var u=n[h];0===h&&(r=u.getLayout());for(var f=a.length,g=u.getEnds(),p=0,_=g.length;p<_;++p)g[p]+=f;(0,t.extend)(a,u.getFlatCoordinates()),l.push(g)}i=r,e=a,s=l}void 0!==i&&s?(this.setFlatCoordinates(i,e),this.endss_=s):this.setCoordinates(e,i)}return o&&(y.__proto__=o),y.prototype=Object.create(o&&o.prototype),y.prototype.constructor=y,y.prototype.appendPolygon=function(e){var i;if(this.flatCoordinates){var s=this.flatCoordinates.length;(0,t.extend)(this.flatCoordinates,e.getFlatCoordinates());for(var r=0,n=(i=e.getEnds().slice()).length;r<n;++r)i[r]+=s}else this.flatCoordinates=e.getFlatCoordinates().slice(),i=e.getEnds().slice(),this.endss_.push();this.endss_.push(i),this.changed()},y.prototype.clone=function(){for(var t=this.endss_.length,e=new Array(t),i=0;i<t;++i)e[i]=this.endss_[i].slice();return new y(this.flatCoordinates.slice(),this.layout,e)},y.prototype.closestPointXY=function(t,i,s,r){return r<(0,e.closestSquaredDistanceXY)(this.getExtent(),t,i)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt((0,h.multiArrayMaxSquaredDelta)(this.flatCoordinates,0,this.endss_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),(0,h.assignClosestMultiArrayPoint)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,this.maxDelta_,!0,t,i,s,r))},y.prototype.containsXY=function(t,e){return(0,d.linearRingssContainsXY)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t,e)},y.prototype.getArea=function(){return(0,a.linearRingss)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride)},y.prototype.getCoordinates=function(t){var e;return void 0!==t?(e=this.getOrientedFlatCoordinates().slice(),(0,_.orientLinearRingsArray)(e,0,this.endss_,this.stride,t)):e=this.flatCoordinates,(0,f.inflateMultiCoordinatesArray)(e,0,this.endss_,this.stride)},y.prototype.getEndss=function(){return this.endss_},y.prototype.getFlatInteriorPoints=function(){if(this.flatInteriorPointsRevision_!=this.getRevision()){var t=(0,l.linearRingss)(this.flatCoordinates,0,this.endss_,this.stride);this.flatInteriorPoints_=(0,g.getInteriorPointsOfMultiArray)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t),this.flatInteriorPointsRevision_=this.getRevision()}return this.flatInteriorPoints_},y.prototype.getInteriorPoints=function(){return new r.default(this.getFlatInteriorPoints().slice(),i.default.XYM)},y.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var t=this.flatCoordinates;(0,_.linearRingsAreOriented)(t,0,this.endss_,this.stride)?this.orientedFlatCoordinates_=t:(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=(0,_.orientLinearRingsArray)(this.orientedFlatCoordinates_,0,this.endss_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},y.prototype.getSimplifiedGeometryInternal=function(t){var e=[],s=[];return e.length=(0,c.quantizeMultiArray)(this.flatCoordinates,0,this.endss_,this.stride,Math.sqrt(t),e,0,s),new y(e,i.default.XY,s)},y.prototype.getPolygon=function(t){if(t<0||this.endss_.length<=t)return null;var e;if(0===t)e=0;else{var i=this.endss_[t-1];e=i[i.length-1]}var s=this.endss_[t].slice(),r=s[s.length-1];if(0!==e)for(var o=0,a=s.length;o<a;++o)s[o]-=e;return new n.default(this.flatCoordinates.slice(e,r),this.layout,s)},y.prototype.getPolygons=function(){for(var t=this.layout,e=this.flatCoordinates,i=this.endss_,s=[],r=0,o=0,a=i.length;o<a;++o){var l=i[o].slice(),h=l[l.length-1];if(0!==r)for(var d=0,u=l.length;d<u;++d)l[d]-=r;var f=new n.default(e.slice(r,h),t,l);s.push(f),r=h}return s},y.prototype.getType=function(){return s.default.MULTI_POLYGON},y.prototype.intersectsExtent=function(t){return(0,p.intersectsLinearRingMultiArray)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t)},y.prototype.setCoordinates=function(t,e){this.setLayout(e,t,3),this.flatCoordinates||(this.flatCoordinates=[]);var i=(0,u.deflateMultiCoordinatesArray)(this.flatCoordinates,0,t,this.stride,this.endss_);if(0===i.length)this.flatCoordinates.length=0;else{var s=i[i.length-1];this.flatCoordinates.length=0===s.length?0:s[s.length-1]}this.changed()},y}(o.default),C=v;exports.default=C;
},{"../array.js":"luEr","../extent.js":"QDir","./GeometryLayout.js":"1Utv","./GeometryType.js":"lmV0","./MultiPoint.js":"dNu5","./Polygon.js":"6Nww","./SimpleGeometry.js":"pnrv","./flat/area.js":"EOSm","./flat/center.js":"VjQP","./flat/closest.js":"rMra","./flat/contains.js":"dzdN","./flat/deflate.js":"1FNh","./flat/inflate.js":"znXl","./flat/interiorpoint.js":"UDvN","./flat/intersectsextent.js":"GZir","./flat/orient.js":"2/8c","./flat/simplify.js":"IEpt"}],"8+bQ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={IMAGE:"IMAGE",TILE:"TILE",VECTOR_TILE:"VECTOR_TILE",VECTOR:"VECTOR"};exports.default=e;
},{}],"oqAD":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={IMAGE:"image",VECTOR:"vector"};exports.default=e;
},{}],"V5+X":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.asColorLike=e;var r=require("./color.js");function e(e){return Array.isArray(e)?(0,r.toString)(e):e}
},{"./color.js":"eucy"}],"oMDz":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("../asserts.js"),t=s(require("../events/Target.js")),r=s(require("../events/EventType.js"));function s(e){return e&&e.__esModule?e:{default:e}}var n=function(t){function s(e){t.call(this),this.highWaterMark=void 0!==e?e:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}return t&&(s.__proto__=t),s.prototype=Object.create(t&&t.prototype),s.prototype.constructor=s,s.prototype.canExpireCache=function(){return this.getCount()>this.highWaterMark},s.prototype.clear=function(){this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null,this.dispatchEvent(r.default.CLEAR)},s.prototype.containsKey=function(e){return this.entries_.hasOwnProperty(e)},s.prototype.forEach=function(e,t){for(var r=this.oldest_;r;)e.call(t,r.value_,r.key_,this),r=r.newer},s.prototype.get=function(t){var r=this.entries_[t];return(0,e.assert)(void 0!==r,15),r===this.newest_?r.value_:(r===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(r.newer.older=r.older,r.older.newer=r.newer),r.newer=null,r.older=this.newest_,this.newest_.newer=r,this.newest_=r,r.value_)},s.prototype.remove=function(t){var r=this.entries_[t];return(0,e.assert)(void 0!==r,15),r===this.newest_?(this.newest_=r.older,this.newest_&&(this.newest_.newer=null)):r===this.oldest_?(this.oldest_=r.newer,this.oldest_&&(this.oldest_.older=null)):(r.newer.older=r.older,r.older.newer=r.newer),delete this.entries_[t],--this.count_,r.value_},s.prototype.getCount=function(){return this.count_},s.prototype.getKeys=function(){var e,t=new Array(this.count_),r=0;for(e=this.newest_;e;e=e.older)t[r++]=e.key_;return t},s.prototype.getValues=function(){var e,t=new Array(this.count_),r=0;for(e=this.newest_;e;e=e.older)t[r++]=e.value_;return t},s.prototype.peekLast=function(){return this.oldest_.value_},s.prototype.peekLastKey=function(){return this.oldest_.key_},s.prototype.peekFirstKey=function(){return this.newest_.key_},s.prototype.pop=function(){var e=this.oldest_;return delete this.entries_[e.key_],e.newer&&(e.newer.older=null),this.oldest_=e.newer,this.oldest_||(this.newest_=null),--this.count_,e.value_},s.prototype.replace=function(e,t){this.get(e),this.entries_[e].value_=t},s.prototype.set=function(t,r){(0,e.assert)(!(t in this.entries_),16);var s={key_:t,newer:null,older:this.newest_,value_:r};this.newest_?this.newest_.newer=s:this.oldest_=s,this.newest_=s,this.entries_[t]=s,++this.count_},s.prototype.setSize=function(e){this.highWaterMark=e},s.prototype.prune=function(){for(;this.canExpireCache();)this.pop()},s}(t.default),o=n;exports.default=o;
},{"../asserts.js":"fLG6","../events/Target.js":"8CR4","../events/EventType.js":"C8cu"}],"iAG7":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.measureTextWidth=j,exports.rotateAtOffset=w,exports.drawImage=A,exports.resetTransform=exports.measureTextHeight=exports.checkFont=exports.textHeights=exports.checkedFonts=exports.labelCache=exports.defaultLineWidth=exports.defaultPadding=exports.defaultTextBaseline=exports.defaultTextAlign=exports.defaultStrokeStyle=exports.defaultMiterLimit=exports.defaultLineJoin=exports.defaultLineDashOffset=exports.defaultLineDash=exports.defaultLineCap=exports.defaultFillStyle=exports.defaultFont=void 0;var e=require("../css.js"),t=require("../dom.js"),r=require("../obj.js"),a=s(require("../structs/LRUCache.js")),o=require("../transform.js");function s(e){return e&&e.__esModule?e:{default:e}}var n="10px sans-serif";exports.defaultFont=n;var l=[0,0,0,1];exports.defaultFillStyle=l;var i="round";exports.defaultLineCap=i;var u=[];exports.defaultLineDash=u;var f=0;exports.defaultLineDashOffset=f;var p="round";exports.defaultLineJoin=p;var d=10;exports.defaultMiterLimit=d;var x=[0,0,0,1];exports.defaultStrokeStyle=x;var v="center";exports.defaultTextAlign=v;var c="middle";exports.defaultTextBaseline=c;var h=[0,0,0,0];exports.defaultPadding=h;var m=1;exports.defaultLineWidth=m;var g=new a.default;exports.labelCache=g;var y={};exports.checkedFonts=y;var T=null,L={};exports.textHeights=L;var b=function(){var t,a,o=60,s=y,n="32px ",l=["monospace","serif"],i=l.length,u="wmytzilWMYTZIL@#/&?$%10";function f(e){for(var t=C(),r=100;r<=700;r+=300){for(var o=r+" ",s=!0,f=0;f<i;++f){var p=l[f];if(t.font=o+n+p,a=t.measureText(u).width,e!=p){t.font=o+n+e+","+p;var d=t.measureText(u).width;s=s&&d!=a}}if(s)return!0}return!1}function p(){var e=!0;for(var a in s)s[a]<o&&(f(a)?(s[a]=o,(0,r.clear)(L),T=null,g.clear()):(++s[a],e=!1));e&&(clearInterval(t),t=void 0)}return function(r){var a=(0,e.getFontFamilies)(r);if(a)for(var n=0,l=a.length;n<l;++n){var i=a[n];i in s||(s[i]=o,f(i)||(s[i]=0,void 0===t&&(t=setInterval(p,32))))}}}();function C(){return T||(T=(0,t.createCanvasContext2D)(1,1)),T}exports.checkFont=b;var F=function(){var e,t=L;return function(r){var a=t[r];return null==a&&(e||((e=document.createElement("span")).textContent="M",e.style.margin=e.style.padding="0 !important",e.style.position="absolute !important",e.style.left="-99999px !important"),e.style.font=r,document.body.appendChild(e),a=t[r]=e.offsetHeight,document.body.removeChild(e)),a}}();function j(e,t){var r=C();return e!=r.font&&(r.font=e),r.measureText(t).width}function w(e,t,r,a){0!==t&&(e.translate(r,a),e.rotate(t),e.translate(-r,-a))}exports.measureTextHeight=F;var k=(0,o.create)();function A(e,t,r,a,o,s,n,l,i,u,f){var p;1!=r&&(p=e.globalAlpha,e.globalAlpha=p*r),t&&e.setTransform.apply(e,t),e.drawImage(a,o,s,n,l,i,u,n*f,l*f),p&&(e.globalAlpha=p),t&&e.setTransform.apply(e,k)}exports.resetTransform=k;
},{"../css.js":"HgMV","../dom.js":"Xno5","../obj.js":"mH6q","../structs/LRUCache.js":"oMDz","../transform.js":"P4eA"}],"S8ow":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../util.js"),e=function(t){this.opacity_=t.opacity,this.rotateWithView_=t.rotateWithView,this.rotation_=t.rotation,this.scale_=t.scale};e.prototype.clone=function(){return new e({opacity:this.getOpacity(),scale:this.getScale(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView()})},e.prototype.getOpacity=function(){return this.opacity_},e.prototype.getRotateWithView=function(){return this.rotateWithView_},e.prototype.getRotation=function(){return this.rotation_},e.prototype.getScale=function(){return this.scale_},e.prototype.getSnapToPixel=function(){return!1},e.prototype.getAnchor=function(){return(0,t.abstract)()},e.prototype.getImage=function(e){return(0,t.abstract)()},e.prototype.getHitDetectionImage=function(e){return(0,t.abstract)()},e.prototype.getImageState=function(){return(0,t.abstract)()},e.prototype.getImageSize=function(){return(0,t.abstract)()},e.prototype.getHitDetectionImageSize=function(){return(0,t.abstract)()},e.prototype.getOrigin=function(){return(0,t.abstract)()},e.prototype.getSize=function(){return(0,t.abstract)()},e.prototype.setOpacity=function(t){this.opacity_=t},e.prototype.setRotateWithView=function(t){this.rotateWithView_=t},e.prototype.setRotation=function(t){this.rotation_=t},e.prototype.setScale=function(t){this.scale_=t},e.prototype.setSnapToPixel=function(t){},e.prototype.listenImageChange=function(e,o){return(0,t.abstract)()},e.prototype.load=function(){(0,t.abstract)()},e.prototype.unlistenImageChange=function(e,o){(0,t.abstract)()};var o=e;exports.default=o;
},{"../util.js":"KniQ"}],"il3X":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../color.js"),i=require("../colorlike.js"),e=require("../dom.js"),s=require("../has.js"),a=r(require("../ImageState.js")),n=require("../render/canvas.js"),o=r(require("./Image.js"));function r(t){return t&&t.__esModule?t:{default:t}}var h=function(o){function r(t){var i=void 0!==t.rotateWithView&&t.rotateWithView;o.call(this,{opacity:1,rotateWithView:i,rotation:void 0!==t.rotation?t.rotation:0,scale:1}),this.checksums_=null,this.canvas_=null,this.hitDetectionCanvas_=null,this.fill_=void 0!==t.fill?t.fill:null,this.origin_=[0,0],this.points_=t.points,this.radius_=void 0!==t.radius?t.radius:t.radius1,this.radius2_=t.radius2,this.angle_=void 0!==t.angle?t.angle:0,this.stroke_=void 0!==t.stroke?t.stroke:null,this.anchor_=null,this.size_=null,this.imageSize_=null,this.hitDetectionImageSize_=null,this.atlasManager_=t.atlasManager,this.render_(this.atlasManager_)}return o&&(r.__proto__=o),r.prototype=Object.create(o&&o.prototype),r.prototype.constructor=r,r.prototype.clone=function(){var t=new r({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),atlasManager:this.atlasManager_});return t.setOpacity(this.getOpacity()),t.setScale(this.getScale()),t},r.prototype.getAnchor=function(){return this.anchor_},r.prototype.getAngle=function(){return this.angle_},r.prototype.getFill=function(){return this.fill_},r.prototype.getHitDetectionImage=function(t){return this.hitDetectionCanvas_},r.prototype.getImage=function(t){return this.canvas_},r.prototype.getImageSize=function(){return this.imageSize_},r.prototype.getHitDetectionImageSize=function(){return this.hitDetectionImageSize_},r.prototype.getImageState=function(){return a.default.LOADED},r.prototype.getOrigin=function(){return this.origin_},r.prototype.getPoints=function(){return this.points_},r.prototype.getRadius=function(){return this.radius_},r.prototype.getRadius2=function(){return this.radius2_},r.prototype.getSize=function(){return this.size_},r.prototype.getStroke=function(){return this.stroke_},r.prototype.listenImageChange=function(t,i){},r.prototype.load=function(){},r.prototype.unlistenImageChange=function(t,i){},r.prototype.render_=function(t){var a,o,r="",h="",l=0,u=null,_=0,c=0;this.stroke_&&(null===(o=this.stroke_.getColor())&&(o=n.defaultStrokeStyle),o=(0,i.asColorLike)(o),void 0===(c=this.stroke_.getWidth())&&(c=n.defaultLineWidth),u=this.stroke_.getLineDash(),_=this.stroke_.getLineDashOffset(),s.CANVAS_LINE_DASH||(u=null,_=0),void 0===(h=this.stroke_.getLineJoin())&&(h=n.defaultLineJoin),void 0===(r=this.stroke_.getLineCap())&&(r=n.defaultLineCap),void 0===(l=this.stroke_.getMiterLimit())&&(l=n.defaultMiterLimit));var d=2*(this.radius_+c)+1,g={strokeStyle:o,strokeWidth:c,size:d,lineCap:r,lineDash:u,lineDashOffset:_,lineJoin:h,miterLimit:l};if(void 0===t){var f=(0,e.createCanvasContext2D)(d,d);this.canvas_=f.canvas,a=d=this.canvas_.width,this.draw_(g,f,0,0),this.createHitDetectionCanvas_(g)}else{d=Math.round(d);var p,v=!this.fill_;v&&(p=this.drawHitDetectionCanvas_.bind(this,g));var k=this.getChecksum(),m=t.add(k,d,d,this.draw_.bind(this,g),p);this.canvas_=m.image,this.origin_=[m.offsetX,m.offsetY],a=m.image.width,v?(this.hitDetectionCanvas_=m.hitImage,this.hitDetectionImageSize_=[m.hitImage.width,m.hitImage.height]):(this.hitDetectionCanvas_=this.canvas_,this.hitDetectionImageSize_=[a,a])}this.anchor_=[d/2,d/2],this.size_=[d,d],this.imageSize_=[a,a]},r.prototype.draw_=function(t,e,s,a){var o,r,h;e.setTransform(1,0,0,1,0,0),e.translate(s,a),e.beginPath();var l=this.points_;if(l===1/0)e.arc(t.size/2,t.size/2,this.radius_,0,2*Math.PI,!0);else{var u=void 0!==this.radius2_?this.radius2_:this.radius_;for(u!==this.radius_&&(l*=2),o=0;o<=l;o++)r=2*o*Math.PI/l-Math.PI/2+this.angle_,h=o%2==0?this.radius_:u,e.lineTo(t.size/2+h*Math.cos(r),t.size/2+h*Math.sin(r))}if(this.fill_){var _=this.fill_.getColor();null===_&&(_=n.defaultFillStyle),e.fillStyle=(0,i.asColorLike)(_),e.fill()}this.stroke_&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.strokeWidth,t.lineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineCap=t.lineCap,e.lineJoin=t.lineJoin,e.miterLimit=t.miterLimit,e.stroke()),e.closePath()},r.prototype.createHitDetectionCanvas_=function(t){if(this.hitDetectionImageSize_=[t.size,t.size],this.fill_)this.hitDetectionCanvas_=this.canvas_;else{var i=(0,e.createCanvasContext2D)(t.size,t.size);this.hitDetectionCanvas_=i.canvas,this.drawHitDetectionCanvas_(t,i,0,0)}},r.prototype.drawHitDetectionCanvas_=function(i,e,s,a){e.setTransform(1,0,0,1,0,0),e.translate(s,a),e.beginPath();var o=this.points_;if(o===1/0)e.arc(i.size/2,i.size/2,this.radius_,0,2*Math.PI,!0);else{var r,h,l,u=void 0!==this.radius2_?this.radius2_:this.radius_;for(u!==this.radius_&&(o*=2),r=0;r<=o;r++)l=2*r*Math.PI/o-Math.PI/2+this.angle_,h=r%2==0?this.radius_:u,e.lineTo(i.size/2+h*Math.cos(l),i.size/2+h*Math.sin(l))}e.fillStyle=(0,t.asString)(n.defaultFillStyle),e.fill(),this.stroke_&&(e.strokeStyle=i.strokeStyle,e.lineWidth=i.strokeWidth,i.lineDash&&(e.setLineDash(i.lineDash),e.lineDashOffset=i.lineDashOffset),e.stroke()),e.closePath()},r.prototype.getChecksum=function(){var t=this.stroke_?this.stroke_.getChecksum():"-",i=this.fill_?this.fill_.getChecksum():"-";if(!this.checksums_||t!=this.checksums_[1]||i!=this.checksums_[2]||this.radius_!=this.checksums_[3]||this.radius2_!=this.checksums_[4]||this.angle_!=this.checksums_[5]||this.points_!=this.checksums_[6]){var e="r"+t+i+(void 0!==this.radius_?this.radius_.toString():"-")+(void 0!==this.radius2_?this.radius2_.toString():"-")+(void 0!==this.angle_?this.angle_.toString():"-")+(void 0!==this.points_?this.points_.toString():"-");this.checksums_=[e,t,i,this.radius_,this.radius2_,this.angle_,this.points_]}return this.checksums_[0]},r}(o.default),l=h;exports.default=l;
},{"../color.js":"eucy","../colorlike.js":"V5+X","../dom.js":"Xno5","../has.js":"f3Nv","../ImageState.js":"u3k+","../render/canvas.js":"iAG7","./Image.js":"S8ow"}],"cdf1":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=e(require("./RegularShape.js"));function e(t){return t&&t.__esModule?t:{default:t}}var r=function(t){function e(e){var r=e||{};t.call(this,{points:1/0,fill:r.fill,radius:r.radius,stroke:r.stroke,atlasManager:r.atlasManager})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clone=function(){var t=new e({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),atlasManager:this.atlasManager_});return t.setOpacity(this.getOpacity()),t.setScale(this.getScale()),t},e.prototype.setRadius=function(t){this.radius_=t,this.render_(this.atlasManager_)},e}(t.default),a=r;exports.default=a;
},{"./RegularShape.js":"il3X"}],"1he4":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.toFunction=l,exports.createDefaultStyle=f,exports.createEditingStyle=d,exports.default=void 0;var e=require("../asserts.js"),t=i(require("../geom/GeometryType.js")),o=i(require("./Circle.js")),r=i(require("./Fill.js")),n=i(require("./Stroke.js"));function i(e){return e&&e.__esModule?e:{default:e}}var u=function(e){var t=e||{};this.geometry_=null,this.geometryFunction_=a,void 0!==t.geometry&&this.setGeometry(t.geometry),this.fill_=void 0!==t.fill?t.fill:null,this.image_=void 0!==t.image?t.image:null,this.renderer_=void 0!==t.renderer?t.renderer:null,this.stroke_=void 0!==t.stroke?t.stroke:null,this.text_=void 0!==t.text?t.text:null,this.zIndex_=t.zIndex};function l(t){var o;if("function"==typeof t)o=t;else{var r;if(Array.isArray(t))r=t;else(0,e.assert)("function"==typeof t.getZIndex,41),r=[t];o=function(){return r}}return o}u.prototype.clone=function(){var e=this.getGeometry();return e&&"object"==typeof e&&(e=e.clone()),new u({geometry:e,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})},u.prototype.getRenderer=function(){return this.renderer_},u.prototype.setRenderer=function(e){this.renderer_=e},u.prototype.getGeometry=function(){return this.geometry_},u.prototype.getGeometryFunction=function(){return this.geometryFunction_},u.prototype.getFill=function(){return this.fill_},u.prototype.setFill=function(e){this.fill_=e},u.prototype.getImage=function(){return this.image_},u.prototype.setImage=function(e){this.image_=e},u.prototype.getStroke=function(){return this.stroke_},u.prototype.setStroke=function(e){this.stroke_=e},u.prototype.getText=function(){return this.text_},u.prototype.setText=function(e){this.text_=e},u.prototype.getZIndex=function(){return this.zIndex_},u.prototype.setGeometry=function(e){"function"==typeof e?this.geometryFunction_=e:"string"==typeof e?this.geometryFunction_=function(t){return t.get(e)}:e?void 0!==e&&(this.geometryFunction_=function(){return e}):this.geometryFunction_=a,this.geometry_=e},u.prototype.setZIndex=function(e){this.zIndex_=e};var s=null;function f(e,t){if(!s){var i=new r.default({color:"rgba(255,255,255,0.4)"}),l=new n.default({color:"#3399CC",width:1.25});s=[new u({image:new o.default({fill:i,stroke:l,radius:5}),fill:i,stroke:l})]}return s}function d(){var e={},i=[255,255,255,1],l=[0,153,255,1];return e[t.default.POLYGON]=[new u({fill:new r.default({color:[255,255,255,.5]})})],e[t.default.MULTI_POLYGON]=e[t.default.POLYGON],e[t.default.LINE_STRING]=[new u({stroke:new n.default({color:i,width:5})}),new u({stroke:new n.default({color:l,width:3})})],e[t.default.MULTI_LINE_STRING]=e[t.default.LINE_STRING],e[t.default.CIRCLE]=e[t.default.POLYGON].concat(e[t.default.LINE_STRING]),e[t.default.POINT]=[new u({image:new o.default({radius:6,fill:new r.default({color:l}),stroke:new n.default({color:i,width:1.5})}),zIndex:1/0})],e[t.default.MULTI_POINT]=e[t.default.POINT],e[t.default.GEOMETRY_COLLECTION]=e[t.default.POLYGON].concat(e[t.default.LINE_STRING],e[t.default.POINT]),e}function a(e){return e.getGeometry()}var c=u;exports.default=c;
},{"../asserts.js":"fLG6","../geom/GeometryType.js":"lmV0","./Circle.js":"cdf1","./Fill.js":"AFcg","./Stroke.js":"TXDt"}],"dflx":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=o(require("../LayerType.js")),t=o(require("./Layer.js")),r=o(require("./VectorRenderType.js")),n=require("../obj.js"),i=require("../style/Style.js");function o(e){return e&&e.__esModule?e:{default:e}}var u={RENDER_ORDER:"renderOrder"},d=function(t){function o(i){var o=i||{},u=(0,n.assign)({},o);delete u.style,delete u.renderBuffer,delete u.updateWhileAnimating,delete u.updateWhileInteracting,t.call(this,u),this.declutter_=void 0!==o.declutter&&o.declutter,this.renderBuffer_=void 0!==o.renderBuffer?o.renderBuffer:100,this.style_=null,this.styleFunction_=void 0,this.setStyle(o.style),this.updateWhileAnimating_=void 0!==o.updateWhileAnimating&&o.updateWhileAnimating,this.updateWhileInteracting_=void 0!==o.updateWhileInteracting&&o.updateWhileInteracting,this.renderMode_=o.renderMode||r.default.VECTOR,this.type=e.default.VECTOR}return t&&(o.__proto__=t),o.prototype=Object.create(t&&t.prototype),o.prototype.constructor=o,o.prototype.getDeclutter=function(){return this.declutter_},o.prototype.setDeclutter=function(e){this.declutter_=e},o.prototype.getRenderBuffer=function(){return this.renderBuffer_},o.prototype.getRenderOrder=function(){return this.get(u.RENDER_ORDER)},o.prototype.getStyle=function(){return this.style_},o.prototype.getStyleFunction=function(){return this.styleFunction_},o.prototype.getUpdateWhileAnimating=function(){return this.updateWhileAnimating_},o.prototype.getUpdateWhileInteracting=function(){return this.updateWhileInteracting_},o.prototype.setRenderOrder=function(e){this.set(u.RENDER_ORDER,e)},o.prototype.setStyle=function(e){this.style_=void 0!==e?e:i.createDefaultStyle,this.styleFunction_=null===e?void 0:(0,i.toFunction)(this.style_),this.changed()},o.prototype.getRenderMode=function(){return this.renderMode_},o}(t.default);d.prototype.getSource;var l=d;exports.default=l;
},{"../LayerType.js":"8+bQ","./Layer.js":"GCgv","./VectorRenderType.js":"oqAD","../obj.js":"mH6q","../style/Style.js":"1he4"}],"AbO3":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={ARRAY_BUFFER:"arraybuffer",JSON:"json",TEXT:"text",XML:"xml"};exports.default=e;
},{}],"U3JP":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.loadFeaturesXhr=s,exports.xhr=n;var e=require("./functions.js"),t=r(require("./format/FormatType.js"));function r(e){return e&&e.__esModule?e:{default:e}}function s(e,r,s,n){return function(a,o,u){var i=new XMLHttpRequest;i.open("GET","function"==typeof e?e(a,o,u):e,!0),r.getType()==t.default.ARRAY_BUFFER&&(i.responseType="arraybuffer"),i.onload=function(e){if(!i.status||i.status>=200&&i.status<300){var a,o=r.getType();o==t.default.JSON||o==t.default.TEXT?a=i.responseText:o==t.default.XML?(a=i.responseXML)||(a=(new DOMParser).parseFromString(i.responseText,"application/xml")):o==t.default.ARRAY_BUFFER&&(a=i.response),a?s.call(this,r.readFeatures(a,{featureProjection:u}),r.readProjection(a),r.getLastExtent()):n.call(this)}else n.call(this)}.bind(this),i.onerror=function(){n.call(this)}.bind(this),i.send()}}function n(t,r){return s(t,r,function(e,t){"function"==typeof this.addFeatures&&this.addFeatures(e)},e.VOID)}
},{"./functions.js":"RgA2","./format/FormatType.js":"AbO3"}],"JpXE":[function(require,module,exports) {
"use strict";function e(e,t){return[[-1/0,-1/0,1/0,1/0]]}function t(e,t){return[e]}function r(e){return function(t,r){var n=e.getZForResolution(r),o=e.getTileRangeForExtentAndZ(t,n),u=[],i=[n,0,0];for(i[1]=o.minX;i[1]<=o.maxX;++i[1])for(i[2]=o.minY;i[2]<=o.maxY;++i[2])u.push(e.getTileCoordExtent(i));return u}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.all=e,exports.bbox=t,exports.tile=r;
},{}],"H38a":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../util.js"),e=i(require("../Object.js")),o=require("../proj.js"),r=i(require("./State.js"));function i(t){return t&&t.__esModule?t:{default:t}}var n=function(e){function i(t){e.call(this),this.projection_=(0,o.get)(t.projection),this.attributions_=s(t.attributions),this.attributionsCollapsible_=void 0===t.attributionsCollapsible||t.attributionsCollapsible,this.loading=!1,this.state_=void 0!==t.state?t.state:r.default.READY,this.wrapX_=void 0!==t.wrapX&&t.wrapX}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.getAttributions=function(){return this.attributions_},i.prototype.getAttributionsCollapsible=function(){return this.attributionsCollapsible_},i.prototype.getProjection=function(){return this.projection_},i.prototype.getResolutions=function(){return(0,t.abstract)()},i.prototype.getState=function(){return this.state_},i.prototype.getWrapX=function(){return this.wrapX_},i.prototype.refresh=function(){this.changed()},i.prototype.setAttributions=function(t){this.attributions_=s(t),this.changed()},i.prototype.setState=function(t){this.state_=t,this.changed()},i}(e.default);function s(t){return t?Array.isArray(t)?function(e){return t}:"function"==typeof t?t:function(e){return[t]}:null}var u=n;exports.default=u;
},{"../util.js":"KniQ","../Object.js":"PhPh","../proj.js":"Diht","./State.js":"iC8j"}],"s8Fc":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={ADDFEATURE:"addfeature",CHANGEFEATURE:"changefeature",CLEAR:"clear",REMOVEFEATURE:"removefeature"};exports.default=e;
},{}],"+5J5":[function(require,module,exports) {
var define;
var global = arguments[3];
var t,o=arguments[3];!function(o,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof t&&t.amd?t(n):o.quickselect=n()}(this,function(){"use strict";function t(t,o,n){var r=t[o];t[o]=t[n],t[n]=r}function o(t,o){return t<o?-1:t>o?1:0}return function(n,r,e,f,u){!function o(n,r,e,f,u){for(;f>e;){if(f-e>600){var a=f-e+1,i=r-e+1,c=Math.log(a),h=.5*Math.exp(2*c/3),s=.5*Math.sqrt(c*h*(a-h)/a)*(i-a/2<0?-1:1),l=Math.max(e,Math.floor(r-i*h/a+s)),M=Math.min(f,Math.floor(r+(a-i)*h/a+s));o(n,r,l,M,u)}var m=n[r],p=e,d=f;for(t(n,e,r),u(n[f],m)>0&&t(n,e,f);p<d;){for(t(n,p,d),p++,d--;u(n[p],m)<0;)p++;for(;u(n[d],m)>0;)d--}0===u(n[e],m)?t(n,e,d):t(n,++d,f),d<=r&&(e=d+1),r<=d&&(f=d-1)}}(n,r,e||0,f||n.length-1,u||o)}});
},{}],"y0Xa":[function(require,module,exports) {
"use strict";module.exports=i,module.exports.default=i;var t=require("quickselect");function i(t,n){if(!(this instanceof i))return new i(t,n);this._maxEntries=Math.max(4,t||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),n&&this._initFormat(n),this.clear()}function n(t,i,n){if(!n)return i.indexOf(t);for(var a=0;a<i.length;a++)if(n(t,i[a]))return a;return-1}function a(t,i){h(t,0,t.children.length,i,t)}function h(t,i,n,a,h){h||(h=x(null)),h.minX=1/0,h.minY=1/0,h.maxX=-1/0,h.maxY=-1/0;for(var r,o=i;o<n;o++)r=t.children[o],e(h,t.leaf?a(r):r);return h}function e(t,i){return t.minX=Math.min(t.minX,i.minX),t.minY=Math.min(t.minY,i.minY),t.maxX=Math.max(t.maxX,i.maxX),t.maxY=Math.max(t.maxY,i.maxY),t}function r(t,i){return t.minX-i.minX}function o(t,i){return t.minY-i.minY}function s(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function l(t){return t.maxX-t.minX+(t.maxY-t.minY)}function u(t,i){return(Math.max(i.maxX,t.maxX)-Math.min(i.minX,t.minX))*(Math.max(i.maxY,t.maxY)-Math.min(i.minY,t.minY))}function m(t,i){var n=Math.max(t.minX,i.minX),a=Math.max(t.minY,i.minY),h=Math.min(t.maxX,i.maxX),e=Math.min(t.maxY,i.maxY);return Math.max(0,h-n)*Math.max(0,e-a)}function c(t,i){return t.minX<=i.minX&&t.minY<=i.minY&&i.maxX<=t.maxX&&i.maxY<=t.maxY}function f(t,i){return i.minX<=t.maxX&&i.minY<=t.maxY&&i.maxX>=t.minX&&i.maxY>=t.minY}function x(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function d(i,n,a,h,e){for(var r,o=[n,a];o.length;)(a=o.pop())-(n=o.pop())<=h||(r=n+Math.ceil((a-n)/h/2)*h,t(i,r,n,a,e),o.push(n,r,r,a))}i.prototype={all:function(){return this._all(this.data,[])},search:function(t){var i=this.data,n=[],a=this.toBBox;if(!f(t,i))return n;for(var h,e,r,o,s=[];i;){for(h=0,e=i.children.length;h<e;h++)r=i.children[h],f(t,o=i.leaf?a(r):r)&&(i.leaf?n.push(r):c(t,o)?this._all(r,n):s.push(r));i=s.pop()}return n},collides:function(t){var i=this.data,n=this.toBBox;if(!f(t,i))return!1;for(var a,h,e,r,o=[];i;){for(a=0,h=i.children.length;a<h;a++)if(e=i.children[a],f(t,r=i.leaf?n(e):e)){if(i.leaf||c(t,r))return!0;o.push(e)}i=o.pop()}return!1},load:function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var i=0,n=t.length;i<n;i++)this.insert(t[i]);return this}var a=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===a.height)this._splitRoot(this.data,a);else{if(this.data.height<a.height){var h=this.data;this.data=a,a=h}this._insert(a,this.data.height-a.height-1,!0)}else this.data=a;return this},insert:function(t){return t&&this._insert(t,this.data.height-1),this},clear:function(){return this.data=x([]),this},remove:function(t,i){if(!t)return this;for(var a,h,e,r,o=this.data,s=this.toBBox(t),l=[],u=[];o||l.length;){if(o||(o=l.pop(),h=l[l.length-1],a=u.pop(),r=!0),o.leaf&&-1!==(e=n(t,o.children,i)))return o.children.splice(e,1),l.push(o),this._condense(l),this;r||o.leaf||!c(o,s)?h?(a++,o=h.children[a],r=!1):o=null:(l.push(o),u.push(a),a=0,h=o,o=o.children[0])}return this},toBBox:function(t){return t},compareMinX:r,compareMinY:o,toJSON:function(){return this.data},fromJSON:function(t){return this.data=t,this},_all:function(t,i){for(var n=[];t;)t.leaf?i.push.apply(i,t.children):n.push.apply(n,t.children),t=n.pop();return i},_build:function(t,i,n,h){var e,r=n-i+1,o=this._maxEntries;if(r<=o)return a(e=x(t.slice(i,n+1)),this.toBBox),e;h||(h=Math.ceil(Math.log(r)/Math.log(o)),o=Math.ceil(r/Math.pow(o,h-1))),(e=x([])).leaf=!1,e.height=h;var s,l,u,m,c=Math.ceil(r/o),f=c*Math.ceil(Math.sqrt(o));for(d(t,i,n,f,this.compareMinX),s=i;s<=n;s+=f)for(d(t,s,u=Math.min(s+f-1,n),c,this.compareMinY),l=s;l<=u;l+=c)m=Math.min(l+c-1,u),e.children.push(this._build(t,l,m,h-1));return a(e,this.toBBox),e},_chooseSubtree:function(t,i,n,a){for(var h,e,r,o,l,m,c,f;a.push(i),!i.leaf&&a.length-1!==n;){for(c=f=1/0,h=0,e=i.children.length;h<e;h++)l=s(r=i.children[h]),(m=u(t,r)-l)<f?(f=m,c=l<c?l:c,o=r):m===f&&l<c&&(c=l,o=r);i=o||i.children[0]}return i},_insert:function(t,i,n){var a=this.toBBox,h=n?t:a(t),r=[],o=this._chooseSubtree(h,this.data,i,r);for(o.children.push(t),e(o,h);i>=0&&r[i].children.length>this._maxEntries;)this._split(r,i),i--;this._adjustParentBBoxes(h,r,i)},_split:function(t,i){var n=t[i],h=n.children.length,e=this._minEntries;this._chooseSplitAxis(n,e,h);var r=this._chooseSplitIndex(n,e,h),o=x(n.children.splice(r,n.children.length-r));o.height=n.height,o.leaf=n.leaf,a(n,this.toBBox),a(o,this.toBBox),i?t[i-1].children.push(o):this._splitRoot(n,o)},_splitRoot:function(t,i){this.data=x([t,i]),this.data.height=t.height+1,this.data.leaf=!1,a(this.data,this.toBBox)},_chooseSplitIndex:function(t,i,n){var a,e,r,o,l,u,c,f;for(u=c=1/0,a=i;a<=n-i;a++)o=m(e=h(t,0,a,this.toBBox),r=h(t,a,n,this.toBBox)),l=s(e)+s(r),o<u?(u=o,f=a,c=l<c?l:c):o===u&&l<c&&(c=l,f=a);return f},_chooseSplitAxis:function(t,i,n){var a=t.leaf?this.compareMinX:r,h=t.leaf?this.compareMinY:o;this._allDistMargin(t,i,n,a)<this._allDistMargin(t,i,n,h)&&t.children.sort(a)},_allDistMargin:function(t,i,n,a){t.children.sort(a);var r,o,s=this.toBBox,u=h(t,0,i,s),m=h(t,n-i,n,s),c=l(u)+l(m);for(r=i;r<n-i;r++)o=t.children[r],e(u,t.leaf?s(o):o),c+=l(u);for(r=n-i-1;r>=i;r--)o=t.children[r],e(m,t.leaf?s(o):o),c+=l(m);return c},_adjustParentBBoxes:function(t,i,n){for(var a=n;a>=0;a--)e(i[a],t)},_condense:function(t){for(var i,n=t.length-1;n>=0;n--)0===t[n].children.length?n>0?(i=t[n-1].children).splice(i.indexOf(t[n]),1):this.clear():a(t[n],this.toBBox)},_initFormat:function(t){var i=["return a"," - b",";"];this.compareMinX=new Function("a","b",i.join(t[0])),this.compareMinY=new Function("a","b",i.join(t[1])),this.toBBox=new Function("a","return {minX: a"+t[0]+", minY: a"+t[1]+", maxX: a"+t[2]+", maxY: a"+t[3]+"};")}};
},{"quickselect":"+5J5"}],"MiUH":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../util.js"),e=n(require("rbush")),r=require("../extent.js"),i=require("../obj.js");function n(t){return t&&t.__esModule?t:{default:t}}var o=function(t){this.rbush_=(0,e.default)(t,void 0),this.items_={}};o.prototype.insert=function(e,r){var i={minX:e[0],minY:e[1],maxX:e[2],maxY:e[3],value:r};this.rbush_.insert(i),this.items_[(0,t.getUid)(r)]=i},o.prototype.load=function(e,r){for(var i=new Array(r.length),n=0,o=r.length;n<o;n++){var s=e[n],u=r[n],a={minX:s[0],minY:s[1],maxX:s[2],maxY:s[3],value:u};i[n]=a,this.items_[(0,t.getUid)(u)]=a}this.rbush_.load(i)},o.prototype.remove=function(e){var r=(0,t.getUid)(e),i=this.items_[r];return delete this.items_[r],null!==this.rbush_.remove(i)},o.prototype.update=function(e,i){var n=this.items_[(0,t.getUid)(i)],o=[n.minX,n.minY,n.maxX,n.maxY];(0,r.equals)(o,e)||(this.remove(i),this.insert(e,i))},o.prototype.getAll=function(){return this.rbush_.all().map(function(t){return t.value})},o.prototype.getInExtent=function(t){var e={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3]};return this.rbush_.search(e).map(function(t){return t.value})},o.prototype.forEach=function(t,e){return this.forEach_(this.getAll(),t,e)},o.prototype.forEachInExtent=function(t,e,r){return this.forEach_(this.getInExtent(t),e,r)},o.prototype.forEach_=function(t,e,r){for(var i,n=0,o=t.length;n<o;n++)if(i=e.call(r,t[n]))return i;return i},o.prototype.isEmpty=function(){return(0,i.isEmpty)(this.items_)},o.prototype.clear=function(){this.rbush_.clear(),this.items_={}},o.prototype.getExtent=function(t){var e=this.rbush_.toJSON();return(0,r.createOrUpdate)(e.minX,e.minY,e.maxX,e.maxY,t)},o.prototype.concat=function(t){for(var e in this.rbush_.load(t.rbush_.all()),t.items_)this.items_[e]=t.items_[e]};var s=o;exports.default=s;
},{"../util.js":"KniQ","rbush":"y0Xa","../extent.js":"QDir","../obj.js":"mH6q"}],"ZS12":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.VectorSourceEvent=void 0;var e=require("../util.js"),t=E(require("../Collection.js")),r=E(require("../CollectionEventType.js")),n=E(require("../ObjectEventType.js")),i=require("../array.js"),s=require("../asserts.js"),o=require("../events.js"),a=E(require("../events/Event.js")),u=E(require("../events/EventType.js")),h=require("../extent.js"),d=require("../featureloader.js"),l=require("../functions.js"),f=require("../loadingstrategy.js"),_=require("../obj.js"),c=E(require("./Source.js")),p=E(require("./State.js")),v=E(require("./VectorEventType.js")),y=E(require("../structs/RBush.js"));function E(e){return e&&e.__esModule?e:{default:e}}var g=function(e){function t(t,r){e.call(this,t),this.feature=r}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(a.default);exports.VectorSourceEvent=g;var I=function(a){function c(e){var r=e||{};a.call(this,{attributions:r.attributions,projection:void 0,state:p.default.READY,wrapX:void 0===r.wrapX||r.wrapX}),this.loader_=l.VOID,this.format_=r.format,this.overlaps_=null==r.overlaps||r.overlaps,this.url_=r.url,void 0!==r.loader?this.loader_=r.loader:void 0!==this.url_&&((0,s.assert)(this.format_,7),this.loader_=(0,d.xhr)(this.url_,this.format_)),this.strategy_=void 0!==r.strategy?r.strategy:f.all;var n,i,o=void 0===r.useSpatialIndex||r.useSpatialIndex;this.featuresRtree_=o?new y.default:null,this.loadedExtentsRtree_=new y.default,this.nullGeometryFeatures_={},this.idIndex_={},this.undefIdIndex_={},this.featureChangeKeys_={},this.featuresCollection_=null,Array.isArray(r.features)?i=r.features:r.features&&(i=(n=r.features).getArray()),o||void 0!==n||(n=new t.default(i)),void 0!==i&&this.addFeaturesInternal(i),void 0!==n&&this.bindFeaturesCollection_(n)}return a&&(c.__proto__=a),c.prototype=Object.create(a&&a.prototype),c.prototype.constructor=c,c.prototype.addFeature=function(e){this.addFeatureInternal(e),this.changed()},c.prototype.addFeatureInternal=function(t){var r=(0,e.getUid)(t);if(this.addToIndex_(r,t)){this.setupChangeEvents_(r,t);var n=t.getGeometry();if(n){var i=n.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(i,t)}else this.nullGeometryFeatures_[r]=t;this.dispatchEvent(new g(v.default.ADDFEATURE,t))}},c.prototype.setupChangeEvents_=function(e,t){this.featureChangeKeys_[e]=[(0,o.listen)(t,u.default.CHANGE,this.handleFeatureChange_,this),(0,o.listen)(t,n.default.PROPERTYCHANGE,this.handleFeatureChange_,this)]},c.prototype.addToIndex_=function(e,t){var r=!0,n=t.getId();return void 0!==n?n.toString()in this.idIndex_?r=!1:this.idIndex_[n.toString()]=t:((0,s.assert)(!(e in this.undefIdIndex_),30),this.undefIdIndex_[e]=t),r},c.prototype.addFeatures=function(e){this.addFeaturesInternal(e),this.changed()},c.prototype.addFeaturesInternal=function(t){for(var r=[],n=[],i=[],s=0,o=t.length;s<o;s++){var a=t[s],u=(0,e.getUid)(a);this.addToIndex_(u,a)&&n.push(a)}for(var h=0,d=n.length;h<d;h++){var l=n[h],f=(0,e.getUid)(l);this.setupChangeEvents_(f,l);var _=l.getGeometry();if(_){var c=_.getExtent();r.push(c),i.push(l)}else this.nullGeometryFeatures_[f]=l}this.featuresRtree_&&this.featuresRtree_.load(r,i);for(var p=0,y=n.length;p<y;p++)this.dispatchEvent(new g(v.default.ADDFEATURE,n[p]))},c.prototype.bindFeaturesCollection_=function(e){var t=!1;(0,o.listen)(this,v.default.ADDFEATURE,function(r){t||(t=!0,e.push(r.feature),t=!1)}),(0,o.listen)(this,v.default.REMOVEFEATURE,function(r){t||(t=!0,e.remove(r.feature),t=!1)}),(0,o.listen)(e,r.default.ADD,function(e){t||(t=!0,this.addFeature(e.element),t=!1)},this),(0,o.listen)(e,r.default.REMOVE,function(e){t||(t=!0,this.removeFeature(e.element),t=!1)},this),this.featuresCollection_=e},c.prototype.clear=function(e){if(e){for(var t in this.featureChangeKeys_){this.featureChangeKeys_[t].forEach(o.unlistenByKey)}this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.undefIdIndex_={})}else if(this.featuresRtree_)for(var r in this.featuresRtree_.forEach(this.removeFeatureInternal,this),this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[r]);this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.loadedExtentsRtree_.clear(),this.nullGeometryFeatures_={};var n=new g(v.default.CLEAR);this.dispatchEvent(n),this.changed()},c.prototype.forEachFeature=function(e){if(this.featuresRtree_)return this.featuresRtree_.forEach(e);this.featuresCollection_&&this.featuresCollection_.forEach(e)},c.prototype.forEachFeatureAtCoordinateDirect=function(e,t){var r=[e[0],e[1],e[0],e[1]];return this.forEachFeatureInExtent(r,function(r){return r.getGeometry().intersectsCoordinate(e)?t(r):void 0})},c.prototype.forEachFeatureInExtent=function(e,t){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(e,t);this.featuresCollection_&&this.featuresCollection_.forEach(t)},c.prototype.forEachFeatureIntersectingExtent=function(e,t){return this.forEachFeatureInExtent(e,function(r){if(r.getGeometry().intersectsExtent(e)){var n=t(r);if(n)return n}})},c.prototype.getFeaturesCollection=function(){return this.featuresCollection_},c.prototype.getFeatures=function(){var e;return this.featuresCollection_?e=this.featuresCollection_.getArray():this.featuresRtree_&&(e=this.featuresRtree_.getAll(),(0,_.isEmpty)(this.nullGeometryFeatures_)||(0,i.extend)(e,(0,_.getValues)(this.nullGeometryFeatures_))),e},c.prototype.getFeaturesAtCoordinate=function(e){var t=[];return this.forEachFeatureAtCoordinateDirect(e,function(e){t.push(e)}),t},c.prototype.getFeaturesInExtent=function(e){return this.featuresRtree_.getInExtent(e)},c.prototype.getClosestFeatureToCoordinate=function(e,t){var r=e[0],n=e[1],i=null,s=[NaN,NaN],o=1/0,a=[-1/0,-1/0,1/0,1/0],u=t||l.TRUE;return this.featuresRtree_.forEachInExtent(a,function(e){if(u(e)){var t=e.getGeometry(),h=o;if((o=t.closestPointXY(r,n,s,o))<h){i=e;var d=Math.sqrt(o);a[0]=r-d,a[1]=n-d,a[2]=r+d,a[3]=n+d}}}),i},c.prototype.getExtent=function(e){return this.featuresRtree_.getExtent(e)},c.prototype.getFeatureById=function(e){var t=this.idIndex_[e.toString()];return void 0!==t?t:null},c.prototype.getFormat=function(){return this.format_},c.prototype.getOverlaps=function(){return this.overlaps_},c.prototype.getUrl=function(){return this.url_},c.prototype.handleFeatureChange_=function(t){var r=t.target,n=(0,e.getUid)(r),i=r.getGeometry();if(i){var s=i.getExtent();n in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[n],this.featuresRtree_&&this.featuresRtree_.insert(s,r)):this.featuresRtree_&&this.featuresRtree_.update(s,r)}else n in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(r),this.nullGeometryFeatures_[n]=r);var o=r.getId();if(void 0!==o){var a=o.toString();n in this.undefIdIndex_?(delete this.undefIdIndex_[n],this.idIndex_[a]=r):this.idIndex_[a]!==r&&(this.removeFromIdIndex_(r),this.idIndex_[a]=r)}else n in this.undefIdIndex_||(this.removeFromIdIndex_(r),this.undefIdIndex_[n]=r);this.changed(),this.dispatchEvent(new g(v.default.CHANGEFEATURE,r))},c.prototype.hasFeature=function(t){var r=t.getId();return void 0!==r?r in this.idIndex_:(0,e.getUid)(t)in this.undefIdIndex_},c.prototype.isEmpty=function(){return this.featuresRtree_.isEmpty()&&(0,_.isEmpty)(this.nullGeometryFeatures_)},c.prototype.loadFeatures=function(e,t,r){var n=this,i=this.loadedExtentsRtree_,s=this.strategy_(e,t);this.loading=!1;for(var o=function(e,o){var a=s[e];i.forEachInExtent(a,function(e){return(0,h.containsExtent)(e.extent,a)})||(n.loader_.call(n,a,t,r),i.insert(a,{extent:a.slice()}),n.loading=n.loader_!==l.VOID)},a=0,u=s.length;a<u;++a)o(a)},c.prototype.removeLoadedExtent=function(e){var t,r=this.loadedExtentsRtree_;r.forEachInExtent(e,function(r){if((0,h.equals)(r.extent,e))return t=r,!0}),t&&r.remove(t)},c.prototype.removeFeature=function(t){var r=(0,e.getUid)(t);r in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[r]:this.featuresRtree_&&this.featuresRtree_.remove(t),this.removeFeatureInternal(t),this.changed()},c.prototype.removeFeatureInternal=function(t){var r=(0,e.getUid)(t);this.featureChangeKeys_[r].forEach(o.unlistenByKey),delete this.featureChangeKeys_[r];var n=t.getId();void 0!==n?delete this.idIndex_[n.toString()]:delete this.undefIdIndex_[r],this.dispatchEvent(new g(v.default.REMOVEFEATURE,t))},c.prototype.removeFromIdIndex_=function(e){var t=!1;for(var r in this.idIndex_)if(this.idIndex_[r]===e){delete this.idIndex_[r],t=!0;break}return t},c.prototype.setLoader=function(e){this.loader_=e},c}(c.default),x=I;exports.default=x;
},{"../util.js":"KniQ","../Collection.js":"FnDa","../CollectionEventType.js":"BTrx","../ObjectEventType.js":"zehl","../array.js":"luEr","../asserts.js":"fLG6","../events.js":"55Uq","../events/Event.js":"fKNg","../events/EventType.js":"C8cu","../extent.js":"QDir","../featureloader.js":"U3JP","../functions.js":"RgA2","../loadingstrategy.js":"JpXE","../obj.js":"mH6q","./Source.js":"H38a","./State.js":"iC8j","./VectorEventType.js":"s8Fc","../structs/RBush.js":"MiUH"}],"5e7i":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.createRegularPolygon=F,exports.createBox=R,exports.default=void 0;var t=N(require("../events/EventType.js")),e=N(require("../Feature.js")),i=N(require("../MapBrowserEventType.js")),s=N(require("../MapBrowserPointerEvent.js")),o=require("../Object.js"),r=require("../coordinate.js"),n=require("../events.js"),h=N(require("../events/Event.js")),a=require("../events/condition.js"),d=require("../extent.js"),u=require("../functions.js"),_=N(require("../geom/Circle.js")),l=N(require("../geom/GeometryType.js")),c=N(require("../geom/LineString.js")),f=N(require("../geom/MultiLineString.js")),p=N(require("../geom/MultiPoint.js")),y=N(require("../geom/MultiPolygon.js")),g=require("../pointer/MouseSource.js"),m=N(require("../geom/Point.js")),C=w(require("../geom/Polygon.js")),P=N(require("./Pointer.js")),k=N(require("./Property.js")),T=N(require("../layer/Vector.js")),v=N(require("../source/Vector.js")),O=require("../style/Style.js");function w(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var s=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,i):{};s.get||s.set?Object.defineProperty(e,i,s):e[i]=t[i]}return e.default=t,e}function N(t){return t&&t.__esModule?t:{default:t}}var L={POINT:"Point",LINE_STRING:"LineString",POLYGON:"Polygon",CIRCLE:"Circle"},I={DRAWSTART:"drawstart",DRAWEND:"drawend"},E=function(t){function e(e,i){t.call(this,e),this.feature=i}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(h.default),D=function(h){function d(t){var e=t;e.stopDown||(e.stopDown=u.FALSE),h.call(this,e),this.shouldHandle_=!1,this.downPx_=null,this.downTimeout_,this.lastDragTime_,this.freehand_=!1,this.source_=t.source?t.source:null,this.features_=t.features?t.features:null,this.snapTolerance_=t.snapTolerance?t.snapTolerance:12,this.type_=t.type,this.mode_=S(this.type_),this.stopClick_=!!t.stopClick,this.minPoints_=t.minPoints?t.minPoints:this.mode_===L.POLYGON?3:2,this.maxPoints_=t.maxPoints?t.maxPoints:1/0,this.finishCondition_=t.finishCondition?t.finishCondition:u.TRUE;var i=t.geometryFunction;if(!i)if(this.type_===l.default.CIRCLE)i=function(t,e){var i=e||new _.default([NaN,NaN]),s=(0,r.squaredDistance)(t[0],t[1]);return i.setCenterAndRadius(t[0],Math.sqrt(s)),i};else{var s,d=this.mode_;d===L.POINT?s=m.default:d===L.LINE_STRING?s=c.default:d===L.POLYGON&&(s=C.default),i=function(t,e){var i=e;return i?d===L.POLYGON?t[0].length?i.setCoordinates([t[0].concat([t[0][0]])]):i.setCoordinates([]):i.setCoordinates(t):i=new s(t),i}}this.geometryFunction_=i,this.dragVertexDelay_=void 0!==t.dragVertexDelay?t.dragVertexDelay:500,this.finishCoordinate_=null,this.sketchFeature_=null,this.sketchPoint_=null,this.sketchCoords_=null,this.sketchLine_=null,this.sketchLineCoords_=null,this.squaredClickTolerance_=t.clickTolerance?t.clickTolerance*t.clickTolerance:36,this.overlay_=new T.default({source:new v.default({useSpatialIndex:!1,wrapX:!!t.wrapX&&t.wrapX}),style:t.style?t.style:G(),updateWhileInteracting:!0}),this.geometryName_=t.geometryName,this.condition_=t.condition?t.condition:a.noModifierKeys,this.freehandCondition_,t.freehand?this.freehandCondition_=a.always:this.freehandCondition_=t.freehandCondition?t.freehandCondition:a.shiftKeyOnly,(0,n.listen)(this,(0,o.getChangeEventType)(k.default.ACTIVE),this.updateState_,this)}return h&&(d.__proto__=h),d.prototype=Object.create(h&&h.prototype),d.prototype.constructor=d,d.prototype.setMap=function(t){h.prototype.setMap.call(this,t),this.updateState_()},d.prototype.getOverlay=function(){return this.overlay_},d.prototype.handleEvent=function(e){e.originalEvent.type===t.default.CONTEXTMENU&&e.preventDefault(),this.freehand_=this.mode_!==L.POINT&&this.freehandCondition_(e);var s=e.type===i.default.POINTERMOVE,o=!0;!this.freehand_&&this.lastDragTime_&&e.type===i.default.POINTERDRAG&&(Date.now()-this.lastDragTime_>=this.dragVertexDelay_?(this.downPx_=e.pixel,this.shouldHandle_=!this.freehand_,s=!0):this.lastDragTime_=void 0,this.shouldHandle_&&void 0!==this.downTimeout_&&(clearTimeout(this.downTimeout_),this.downTimeout_=void 0));return this.freehand_&&e.type===i.default.POINTERDRAG&&null!==this.sketchFeature_?(this.addToDrawing_(e),o=!1):this.freehand_&&e.type===i.default.POINTERDOWN?o=!1:s?(o=e.type===i.default.POINTERMOVE)&&this.freehand_?o=this.handlePointerMove_(e):(e.pointerEvent.pointerType==g.POINTER_TYPE||e.type===i.default.POINTERDRAG&&void 0===this.downTimeout_)&&this.handlePointerMove_(e):e.type===i.default.DBLCLICK&&(o=!1),h.prototype.handleEvent.call(this,e)&&o},d.prototype.handleDownEvent=function(t){return this.shouldHandle_=!this.freehand_,this.freehand_?(this.downPx_=t.pixel,this.finishCoordinate_||this.startDrawing_(t),!0):!!this.condition_(t)&&(this.lastDragTime_=Date.now(),this.downTimeout_=setTimeout(function(){this.handlePointerMove_(new s.default(i.default.POINTERMOVE,t.map,t.pointerEvent,!1,t.frameState))}.bind(this),this.dragVertexDelay_),this.downPx_=t.pixel,!0)},d.prototype.handleUpEvent=function(t){var e=!0;this.downTimeout_&&(clearTimeout(this.downTimeout_),this.downTimeout_=void 0),this.handlePointerMove_(t);var i=this.mode_===L.CIRCLE;return this.shouldHandle_?(this.finishCoordinate_?this.freehand_||i?this.finishDrawing():this.atFinish_(t)?this.finishCondition_(t)&&this.finishDrawing():this.addToDrawing_(t):(this.startDrawing_(t),this.mode_===L.POINT&&this.finishDrawing()),e=!1):this.freehand_&&(this.finishCoordinate_=null,this.abortDrawing_()),!e&&this.stopClick_&&t.stopPropagation(),e},d.prototype.handlePointerMove_=function(t){if(this.downPx_&&(!this.freehand_&&this.shouldHandle_||this.freehand_&&!this.shouldHandle_)){var e=this.downPx_,i=t.pixel,s=e[0]-i[0],o=e[1]-i[1],r=s*s+o*o;if(this.shouldHandle_=this.freehand_?r>this.squaredClickTolerance_:r<=this.squaredClickTolerance_,!this.shouldHandle_)return!0}return this.finishCoordinate_?this.modifyDrawing_(t):this.createOrUpdateSketchPoint_(t),!0},d.prototype.atFinish_=function(t){var e=!1;if(this.sketchFeature_){var i=!1,s=[this.finishCoordinate_];if(this.mode_===L.LINE_STRING)i=this.sketchCoords_.length>this.minPoints_;else if(this.mode_===L.POLYGON){var o=this.sketchCoords_;i=o[0].length>this.minPoints_,s=[o[0][0],o[0][o[0].length-2]]}if(i)for(var r=t.map,n=0,h=s.length;n<h;n++){var a=s[n],d=r.getPixelFromCoordinate(a),u=t.pixel,_=u[0]-d[0],l=u[1]-d[1],c=this.freehand_?1:this.snapTolerance_;if(e=Math.sqrt(_*_+l*l)<=c){this.finishCoordinate_=a;break}}}return e},d.prototype.createOrUpdateSketchPoint_=function(t){var i=t.coordinate.slice();this.sketchPoint_?this.sketchPoint_.getGeometry().setCoordinates(i):(this.sketchPoint_=new e.default(new m.default(i)),this.updateSketchFeatures_())},d.prototype.startDrawing_=function(t){var i=t.coordinate;this.finishCoordinate_=i,this.mode_===L.POINT?this.sketchCoords_=i.slice():this.mode_===L.POLYGON?(this.sketchCoords_=[[i.slice(),i.slice()]],this.sketchLineCoords_=this.sketchCoords_[0]):this.sketchCoords_=[i.slice(),i.slice()],this.sketchLineCoords_&&(this.sketchLine_=new e.default(new c.default(this.sketchLineCoords_)));var s=this.geometryFunction_(this.sketchCoords_);this.sketchFeature_=new e.default,this.geometryName_&&this.sketchFeature_.setGeometryName(this.geometryName_),this.sketchFeature_.setGeometry(s),this.updateSketchFeatures_(),this.dispatchEvent(new E(I.DRAWSTART,this.sketchFeature_))},d.prototype.modifyDrawing_=function(t){var i,s,o,r=t.coordinate,n=this.sketchFeature_.getGeometry();(this.mode_===L.POINT?s=this.sketchCoords_:this.mode_===L.POLYGON?(s=(i=this.sketchCoords_[0])[i.length-1],this.atFinish_(t)&&(r=this.finishCoordinate_.slice())):s=(i=this.sketchCoords_)[i.length-1],s[0]=r[0],s[1]=r[1],this.geometryFunction_(this.sketchCoords_,n),this.sketchPoint_)&&this.sketchPoint_.getGeometry().setCoordinates(r);if(n.getType()==l.default.POLYGON&&this.mode_!==L.POLYGON){this.sketchLine_||(this.sketchLine_=new e.default);var h=n.getLinearRing(0);(o=this.sketchLine_.getGeometry())?(o.setFlatCoordinates(h.getLayout(),h.getFlatCoordinates()),o.changed()):(o=new c.default(h.getFlatCoordinates(),h.getLayout()),this.sketchLine_.setGeometry(o))}else this.sketchLineCoords_&&(o=this.sketchLine_.getGeometry()).setCoordinates(this.sketchLineCoords_);this.updateSketchFeatures_()},d.prototype.addToDrawing_=function(t){var e,i,s=t.coordinate,o=this.sketchFeature_.getGeometry();this.mode_===L.LINE_STRING?(this.finishCoordinate_=s.slice(),(i=this.sketchCoords_).length>=this.maxPoints_&&(this.freehand_?i.pop():e=!0),i.push(s.slice()),this.geometryFunction_(i,o)):this.mode_===L.POLYGON&&((i=this.sketchCoords_[0]).length>=this.maxPoints_&&(this.freehand_?i.pop():e=!0),i.push(s.slice()),e&&(this.finishCoordinate_=i[0]),this.geometryFunction_(this.sketchCoords_,o)),this.updateSketchFeatures_(),e&&this.finishDrawing()},d.prototype.removeLastPoint=function(){if(this.sketchFeature_){var t,e=this.sketchFeature_.getGeometry();this.mode_===L.LINE_STRING?((t=this.sketchCoords_).splice(-2,1),this.geometryFunction_(t,e),t.length>=2&&(this.finishCoordinate_=t[t.length-2].slice())):this.mode_===L.POLYGON&&((t=this.sketchCoords_[0]).splice(-2,1),this.sketchLine_.getGeometry().setCoordinates(t),this.geometryFunction_(this.sketchCoords_,e)),0===t.length&&(this.finishCoordinate_=null),this.updateSketchFeatures_()}},d.prototype.finishDrawing=function(){var t=this.abortDrawing_();if(t){var e=this.sketchCoords_,i=t.getGeometry();this.mode_===L.LINE_STRING?(e.pop(),this.geometryFunction_(e,i)):this.mode_===L.POLYGON&&(e[0].pop(),this.geometryFunction_(e,i),e=i.getCoordinates()),this.type_===l.default.MULTI_POINT?t.setGeometry(new p.default([e])):this.type_===l.default.MULTI_LINE_STRING?t.setGeometry(new f.default([e])):this.type_===l.default.MULTI_POLYGON&&t.setGeometry(new y.default([e])),this.dispatchEvent(new E(I.DRAWEND,t)),this.features_&&this.features_.push(t),this.source_&&this.source_.addFeature(t)}},d.prototype.abortDrawing_=function(){this.finishCoordinate_=null;var t=this.sketchFeature_;return t&&(this.sketchFeature_=null,this.sketchPoint_=null,this.sketchLine_=null,this.overlay_.getSource().clear(!0)),t},d.prototype.extend=function(t){var e=t.getGeometry();this.sketchFeature_=t,this.sketchCoords_=e.getCoordinates();var i=this.sketchCoords_[this.sketchCoords_.length-1];this.finishCoordinate_=i.slice(),this.sketchCoords_.push(i.slice()),this.updateSketchFeatures_(),this.dispatchEvent(new E(I.DRAWSTART,this.sketchFeature_))},d.prototype.updateSketchFeatures_=function(){var t=[];this.sketchFeature_&&t.push(this.sketchFeature_),this.sketchLine_&&t.push(this.sketchLine_),this.sketchPoint_&&t.push(this.sketchPoint_);var e=this.overlay_.getSource();e.clear(!0),e.addFeatures(t)},d.prototype.updateState_=function(){var t=this.getMap(),e=this.getActive();t&&e||this.abortDrawing_(),this.overlay_.setMap(e?t:null)},d}(P.default);function G(){var t=(0,O.createEditingStyle)();return function(e,i){return t[e.getGeometry().getType()]}}function F(t,e){return function(i,s){var o=i[0],n=i[1],h=Math.sqrt((0,r.squaredDistance)(o,n)),a=s||(0,C.fromCircle)(new _.default(o),t),d=e;if(!e){var u=n[0]-o[0],l=n[1]-o[1];d=Math.atan(l/u)-(u<0?Math.PI:0)}return(0,C.makeRegular)(a,o,h,d),a}}function R(){return function(t,e){var i=(0,d.boundingExtent)(t),s=[[(0,d.getBottomLeft)(i),(0,d.getBottomRight)(i),(0,d.getTopRight)(i),(0,d.getTopLeft)(i),(0,d.getBottomLeft)(i)]],o=e;return o?o.setCoordinates(s):o=new C.default(s),o}}function S(t){var e;return t===l.default.POINT||t===l.default.MULTI_POINT?e=L.POINT:t===l.default.LINE_STRING||t===l.default.MULTI_LINE_STRING?e=L.LINE_STRING:t===l.default.POLYGON||t===l.default.MULTI_POLYGON?e=L.POLYGON:t===l.default.CIRCLE&&(e=L.CIRCLE),e}var j=D;exports.default=j;
},{"../events/EventType.js":"C8cu","../Feature.js":"mYW9","../MapBrowserEventType.js":"Yh/D","../MapBrowserPointerEvent.js":"J1WQ","../Object.js":"PhPh","../coordinate.js":"nGsj","../events.js":"55Uq","../events/Event.js":"fKNg","../events/condition.js":"YcID","../extent.js":"QDir","../functions.js":"RgA2","../geom/Circle.js":"AyCw","../geom/GeometryType.js":"lmV0","../geom/LineString.js":"DfxW","../geom/MultiLineString.js":"4fbC","../geom/MultiPoint.js":"dNu5","../geom/MultiPolygon.js":"6ouh","../pointer/MouseSource.js":"Plx9","../geom/Point.js":"gLcY","../geom/Polygon.js":"6Nww","./Pointer.js":"dnA2","./Property.js":"caOi","../layer/Vector.js":"dflx","../source/Vector.js":"ZS12","../style/Style.js":"1he4"}],"1o7b":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=c(require("../Feature.js")),t=c(require("../MapBrowserEventType.js")),r=require("../coordinate.js"),n=c(require("../events/Event.js")),o=require("../extent.js"),i=c(require("../geom/GeometryType.js")),a=c(require("../geom/Point.js")),u=require("../geom/Polygon.js"),l=c(require("./Pointer.js")),s=c(require("../layer/Vector.js")),p=c(require("../source/Vector.js")),d=require("../style/Style.js");function c(e){return e&&e.__esModule?e:{default:e}}var h={EXTENTCHANGED:"extentchanged"},x=function(e){function t(t){e.call(this,h.EXTENTCHANGED),this.extent=t}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(n.default),_=function(n){function i(e){var t=e||{};n.call(this,t),this.extent_=null,this.pointerHandler_=null,this.pixelTolerance_=void 0!==t.pixelTolerance?t.pixelTolerance:10,this.snappedToVertex_=!1,this.extentFeature_=null,this.vertexFeature_=null,e||(e={}),this.extentOverlay_=new s.default({source:new p.default({useSpatialIndex:!1,wrapX:!!e.wrapX}),style:e.boxStyle?e.boxStyle:f(),updateWhileAnimating:!0,updateWhileInteracting:!0}),this.vertexOverlay_=new s.default({source:new p.default({useSpatialIndex:!1,wrapX:!!e.wrapX}),style:e.pointerStyle?e.pointerStyle:v(),updateWhileAnimating:!0,updateWhileInteracting:!0}),e.extent&&this.setExtent(e.extent)}return n&&(i.__proto__=n),i.prototype=Object.create(n&&n.prototype),i.prototype.constructor=i,i.prototype.snapToVertex_=function(e,t){var n=t.getCoordinateFromPixel(e),o=this.getExtent();if(o){var i=g(o);i.sort(function(e,t){return(0,r.squaredDistanceToSegment)(n,e)-(0,r.squaredDistanceToSegment)(n,t)});var a=i[0],u=(0,r.closestOnSegment)(n,a),l=t.getPixelFromCoordinate(u);if((0,r.distance)(e,l)<=this.pixelTolerance_){var s=t.getPixelFromCoordinate(a[0]),p=t.getPixelFromCoordinate(a[1]),d=(0,r.squaredDistance)(l,s),c=(0,r.squaredDistance)(l,p),h=Math.sqrt(Math.min(d,c));return this.snappedToVertex_=h<=this.pixelTolerance_,this.snappedToVertex_&&(u=d>c?a[1]:a[0]),u}}return null},i.prototype.handlePointerMove_=function(e){var t=e.pixel,r=e.map,n=this.snapToVertex_(t,r);n||(n=r.getCoordinateFromPixel(t)),this.createOrUpdatePointerFeature_(n)},i.prototype.createOrUpdateExtentFeature_=function(t){var r=this.extentFeature_;return r?t?r.setGeometry((0,u.fromExtent)(t)):r.setGeometry(void 0):(r=t?new e.default((0,u.fromExtent)(t)):new e.default({}),this.extentFeature_=r,this.extentOverlay_.getSource().addFeature(r)),r},i.prototype.createOrUpdatePointerFeature_=function(t){var r=this.vertexFeature_;r?r.getGeometry().setCoordinates(t):(r=new e.default(new a.default(t)),this.vertexFeature_=r,this.vertexOverlay_.getSource().addFeature(r));return r},i.prototype.handleEvent=function(e){return!e.pointerEvent||(e.type!=t.default.POINTERMOVE||this.handlingDownUpSequence||this.handlePointerMove_(e),n.prototype.handleEvent.call(this,e),!1)},i.prototype.handleDownEvent=function(e){var t=e.pixel,r=e.map,n=this.getExtent(),o=this.snapToVertex_(t,r),i=function(e){var t=null,r=null;return e[0]==n[0]?t=n[2]:e[0]==n[2]&&(t=n[0]),e[1]==n[1]?r=n[3]:e[1]==n[3]&&(r=n[1]),null!==t&&null!==r?[t,r]:null};if(o&&n){var a=o[0]==n[0]||o[0]==n[2]?o[0]:null,u=o[1]==n[1]||o[1]==n[3]?o[1]:null;null!==a&&null!==u?this.pointerHandler_=y(i(o)):null!==a?this.pointerHandler_=E(i([a,n[1]]),i([a,n[3]])):null!==u&&(this.pointerHandler_=E(i([n[0],u]),i([n[2],u])))}else o=r.getCoordinateFromPixel(t),this.setExtent([o[0],o[1],o[0],o[1]]),this.pointerHandler_=y(o);return!0},i.prototype.handleDragEvent=function(e){if(this.pointerHandler_){var t=e.coordinate;this.setExtent(this.pointerHandler_(t)),this.createOrUpdatePointerFeature_(t)}return!0},i.prototype.handleUpEvent=function(e){this.pointerHandler_=null;var t=this.getExtent();return t&&0!==(0,o.getArea)(t)||this.setExtent(null),!1},i.prototype.setMap=function(e){this.extentOverlay_.setMap(e),this.vertexOverlay_.setMap(e),n.prototype.setMap.call(this,e)},i.prototype.getExtent=function(){return this.extent_},i.prototype.setExtent=function(e){this.extent_=e||null,this.createOrUpdateExtentFeature_(e),this.dispatchEvent(new x(this.extent_))},i}(l.default);function f(){var e=(0,d.createEditingStyle)();return function(t,r){return e[i.default.POLYGON]}}function v(){var e=(0,d.createEditingStyle)();return function(t,r){return e[i.default.POINT]}}function y(e){return function(t){return(0,o.boundingExtent)([e,t])}}function E(e,t){return e[0]==t[0]?function(r){return(0,o.boundingExtent)([e,[r[0],t[1]]])}:e[1]==t[1]?function(r){return(0,o.boundingExtent)([e,[t[0],r[1]]])}:null}function g(e){return[[[e[0],e[1]],[e[0],e[3]]],[[e[0],e[3]],[e[2],e[3]]],[[e[2],e[3]],[e[2],e[1]]],[[e[2],e[1]],[e[0],e[1]]]]}var m=_;exports.default=m;
},{"../Feature.js":"mYW9","../MapBrowserEventType.js":"Yh/D","../coordinate.js":"nGsj","../events/Event.js":"fKNg","../extent.js":"QDir","../geom/GeometryType.js":"lmV0","../geom/Point.js":"gLcY","../geom/Polygon.js":"6Nww","./Pointer.js":"dnA2","../layer/Vector.js":"dflx","../source/Vector.js":"ZS12","../style/Style.js":"1he4"}],"qrxo":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.ModifyEvent=void 0;var e=require("../util.js"),t=x(require("../Collection.js")),r=x(require("../CollectionEventType.js")),i=x(require("../Feature.js")),n=x(require("../MapBrowserEventType.js")),o=require("../array.js"),s=require("../coordinate.js"),a=require("../events.js"),u=x(require("../events/Event.js")),h=x(require("../events/EventType.js")),d=require("../events/condition.js"),l=require("../extent.js"),g=x(require("../geom/GeometryType.js")),_=x(require("../geom/Point.js")),p=x(require("./Pointer.js")),f=x(require("../layer/Vector.js")),c=x(require("../source/Vector.js")),m=x(require("../source/VectorEventType.js")),v=x(require("../structs/RBush.js")),y=require("../style/Style.js");function x(e){return e&&e.__esModule?e:{default:e}}var E=0,C=1,S={MODIFYSTART:"modifystart",MODIFYEND:"modifyend"},F=function(e){function t(t,r,i){e.call(this,t),this.features=r,this.mapBrowserEvent=i}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(u.default);exports.ModifyEvent=F;var T=function(u){function p(e){var i;if(u.call(this,e),this.condition_=e.condition?e.condition:d.primaryAction,this.defaultDeleteCondition_=function(e){return(0,d.altKeyOnly)(e)&&(0,d.singleClick)(e)},this.deleteCondition_=e.deleteCondition?e.deleteCondition:this.defaultDeleteCondition_,this.insertVertexCondition_=e.insertVertexCondition?e.insertVertexCondition:d.always,this.vertexFeature_=null,this.vertexSegments_=null,this.lastPixel_=[0,0],this.ignoreNextSingleClick_=!1,this.modified_=!1,this.rBush_=new v.default,this.pixelTolerance_=void 0!==e.pixelTolerance?e.pixelTolerance:10,this.snappedToVertex_=!1,this.changingFeature_=!1,this.dragSegments_=[],this.overlay_=new f.default({source:new c.default({useSpatialIndex:!1,wrapX:!!e.wrapX}),style:e.style?e.style:M(),updateWhileAnimating:!0,updateWhileInteracting:!0}),this.SEGMENT_WRITERS_={Point:this.writePointGeometry_,LineString:this.writeLineStringGeometry_,LinearRing:this.writeLineStringGeometry_,Polygon:this.writePolygonGeometry_,MultiPoint:this.writeMultiPointGeometry_,MultiLineString:this.writeMultiLineStringGeometry_,MultiPolygon:this.writeMultiPolygonGeometry_,Circle:this.writeCircleGeometry_,GeometryCollection:this.writeGeometryCollectionGeometry_},this.source_=null,e.source?(this.source_=e.source,i=new t.default(this.source_.getFeatures()),(0,a.listen)(this.source_,m.default.ADDFEATURE,this.handleSourceAdd_,this),(0,a.listen)(this.source_,m.default.REMOVEFEATURE,this.handleSourceRemove_,this)):i=e.features,!i)throw new Error("The modify interaction requires features or a source");this.features_=i,this.features_.forEach(this.addFeature_.bind(this)),(0,a.listen)(this.features_,r.default.ADD,this.handleFeatureAdd_,this),(0,a.listen)(this.features_,r.default.REMOVE,this.handleFeatureRemove_,this),this.lastPointerEvent_=null}return u&&(p.__proto__=u),p.prototype=Object.create(u&&u.prototype),p.prototype.constructor=p,p.prototype.addFeature_=function(e){var t=e.getGeometry();t&&t.getType()in this.SEGMENT_WRITERS_&&this.SEGMENT_WRITERS_[t.getType()].call(this,e,t);var r=this.getMap();r&&r.isRendered()&&this.getActive()&&this.handlePointerAtPixel_(this.lastPixel_,r),(0,a.listen)(e,h.default.CHANGE,this.handleFeatureChange_,this)},p.prototype.willModifyFeatures_=function(e){this.modified_||(this.modified_=!0,this.dispatchEvent(new F(S.MODIFYSTART,this.features_,e)))},p.prototype.removeFeature_=function(e){this.removeFeatureSegmentData_(e),this.vertexFeature_&&0===this.features_.getLength()&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null),(0,a.unlisten)(e,h.default.CHANGE,this.handleFeatureChange_,this)},p.prototype.removeFeatureSegmentData_=function(e){var t=this.rBush_,r=[];t.forEach(function(t){e===t.feature&&r.push(t)});for(var i=r.length-1;i>=0;--i)t.remove(r[i])},p.prototype.setActive=function(e){this.vertexFeature_&&!e&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null),u.prototype.setActive.call(this,e)},p.prototype.setMap=function(e){this.overlay_.setMap(e),u.prototype.setMap.call(this,e)},p.prototype.getOverlay=function(){return this.overlay_},p.prototype.handleSourceAdd_=function(e){e.feature&&this.features_.push(e.feature)},p.prototype.handleSourceRemove_=function(e){e.feature&&this.features_.remove(e.feature)},p.prototype.handleFeatureAdd_=function(e){this.addFeature_(e.element)},p.prototype.handleFeatureChange_=function(e){if(!this.changingFeature_){var t=e.target;this.removeFeature_(t),this.addFeature_(t)}},p.prototype.handleFeatureRemove_=function(e){var t=e.element;this.removeFeature_(t)},p.prototype.writePointGeometry_=function(e,t){var r=t.getCoordinates(),i={feature:e,geometry:t,segment:[r,r]};this.rBush_.insert(t.getExtent(),i)},p.prototype.writeMultiPointGeometry_=function(e,t){for(var r=t.getCoordinates(),i=0,n=r.length;i<n;++i){var o=r[i],s={feature:e,geometry:t,depth:[i],index:i,segment:[o,o]};this.rBush_.insert(t.getExtent(),s)}},p.prototype.writeLineStringGeometry_=function(e,t){for(var r=t.getCoordinates(),i=0,n=r.length-1;i<n;++i){var o=r.slice(i,i+2),s={feature:e,geometry:t,index:i,segment:o};this.rBush_.insert((0,l.boundingExtent)(o),s)}},p.prototype.writeMultiLineStringGeometry_=function(e,t){for(var r=t.getCoordinates(),i=0,n=r.length;i<n;++i)for(var o=r[i],s=0,a=o.length-1;s<a;++s){var u=o.slice(s,s+2),h={feature:e,geometry:t,depth:[i],index:s,segment:u};this.rBush_.insert((0,l.boundingExtent)(u),h)}},p.prototype.writePolygonGeometry_=function(e,t){for(var r=t.getCoordinates(),i=0,n=r.length;i<n;++i)for(var o=r[i],s=0,a=o.length-1;s<a;++s){var u=o.slice(s,s+2),h={feature:e,geometry:t,depth:[i],index:s,segment:u};this.rBush_.insert((0,l.boundingExtent)(u),h)}},p.prototype.writeMultiPolygonGeometry_=function(e,t){for(var r=t.getCoordinates(),i=0,n=r.length;i<n;++i)for(var o=r[i],s=0,a=o.length;s<a;++s)for(var u=o[s],h=0,d=u.length-1;h<d;++h){var g=u.slice(h,h+2),_={feature:e,geometry:t,depth:[s,i],index:h,segment:g};this.rBush_.insert((0,l.boundingExtent)(g),_)}},p.prototype.writeCircleGeometry_=function(e,t){var r=t.getCenter(),i={feature:e,geometry:t,index:E,segment:[r,r]},n={feature:e,geometry:t,index:C,segment:[r,r]},o=[i,n];i.featureSegments=n.featureSegments=o,this.rBush_.insert((0,l.createOrUpdateFromCoordinate)(r),i),this.rBush_.insert(t.getExtent(),n)},p.prototype.writeGeometryCollectionGeometry_=function(e,t){for(var r=t.getGeometriesArray(),i=0;i<r.length;++i)this.SEGMENT_WRITERS_[r[i].getType()].call(this,e,r[i])},p.prototype.createOrUpdateVertexFeature_=function(e){var t=this.vertexFeature_;t?t.getGeometry().setCoordinates(e):(t=new i.default(new _.default(e)),this.vertexFeature_=t,this.overlay_.getSource().addFeature(t));return t},p.prototype.handleEvent=function(e){return!e.pointerEvent||(this.lastPointerEvent_=e,e.map.getView().getInteracting()||e.type!=n.default.POINTERMOVE||this.handlingDownUpSequence||this.handlePointerMove_(e),this.vertexFeature_&&this.deleteCondition_(e)&&(t=!(e.type!=n.default.SINGLECLICK||!this.ignoreNextSingleClick_)||this.removePoint()),e.type==n.default.SINGLECLICK&&(this.ignoreNextSingleClick_=!1),u.prototype.handleEvent.call(this,e)&&!t);var t},p.prototype.handleDragEvent=function(e){this.ignoreNextSingleClick_=!1,this.willModifyFeatures_(e);for(var t=e.coordinate,r=0,i=this.dragSegments_.length;r<i;++r){for(var n=this.dragSegments_[r],o=n[0],a=o.depth,u=o.geometry,h=void 0,d=o.segment,l=n[1];t.length<u.getStride();)t.push(d[l][t.length]);switch(u.getType()){case g.default.POINT:h=t,d[0]=d[1]=t;break;case g.default.MULTI_POINT:(h=u.getCoordinates())[o.index]=t,d[0]=d[1]=t;break;case g.default.LINE_STRING:(h=u.getCoordinates())[o.index+l]=t,d[l]=t;break;case g.default.MULTI_LINE_STRING:case g.default.POLYGON:(h=u.getCoordinates())[a[0]][o.index+l]=t,d[l]=t;break;case g.default.MULTI_POLYGON:(h=u.getCoordinates())[a[1]][a[0]][o.index+l]=t,d[l]=t;break;case g.default.CIRCLE:d[0]=d[1]=t,o.index===E?(this.changingFeature_=!0,u.setCenter(t),this.changingFeature_=!1):(this.changingFeature_=!0,u.setRadius((0,s.distance)(u.getCenter(),t)),this.changingFeature_=!1)}h&&this.setGeometryCoordinates_(u,h)}this.createOrUpdateVertexFeature_(t)},p.prototype.handleDownEvent=function(t){if(!this.condition_(t))return!1;this.handlePointerAtPixel_(t.pixel,t.map);var r=t.map.getCoordinateFromPixel(t.pixel);this.dragSegments_.length=0,this.modified_=!1;var i=this.vertexFeature_;if(i){var n=[],o=i.getGeometry().getCoordinates(),a=(0,l.boundingExtent)([o]),u=this.rBush_.getInExtent(a),h={};u.sort(I);for(var d=0,_=u.length;d<_;++d){var p=u[d],f=p.segment,c=(0,e.getUid)(p.feature),m=p.depth;if(m&&(c+="-"+m.join("-")),h[c]||(h[c]=new Array(2)),p.geometry.getType()===g.default.CIRCLE&&p.index===C){var v=P(r,p);(0,s.equals)(v,o)&&!h[c][0]&&(this.dragSegments_.push([p,0]),h[c][0]=p)}else if((0,s.equals)(f[0],o)&&!h[c][0])this.dragSegments_.push([p,0]),h[c][0]=p;else if((0,s.equals)(f[1],o)&&!h[c][1]){if((p.geometry.getType()===g.default.LINE_STRING||p.geometry.getType()===g.default.MULTI_LINE_STRING)&&h[c][0]&&0===h[c][0].index)continue;this.dragSegments_.push([p,1]),h[c][1]=p}else this.insertVertexCondition_(t)&&(0,e.getUid)(f)in this.vertexSegments_&&!h[c][0]&&!h[c][1]&&n.push([p,o])}n.length&&this.willModifyFeatures_(t);for(var y=n.length-1;y>=0;--y)this.insertVertex_.apply(this,n[y])}return!!this.vertexFeature_},p.prototype.handleUpEvent=function(e){for(var t=this.dragSegments_.length-1;t>=0;--t){var r=this.dragSegments_[t][0],i=r.geometry;if(i.getType()===g.default.CIRCLE){var n=i.getCenter(),o=r.featureSegments[0],s=r.featureSegments[1];o.segment[0]=o.segment[1]=n,s.segment[0]=s.segment[1]=n,this.rBush_.update((0,l.createOrUpdateFromCoordinate)(n),o),this.rBush_.update(i.getExtent(),s)}else this.rBush_.update((0,l.boundingExtent)(r.segment),r)}return this.modified_&&(this.dispatchEvent(new F(S.MODIFYEND,this.features_,e)),this.modified_=!1),!1},p.prototype.handlePointerMove_=function(e){this.lastPixel_=e.pixel,this.handlePointerAtPixel_(e.pixel,e.map)},p.prototype.handlePointerAtPixel_=function(t,r){var i=r.getCoordinateFromPixel(t),n=(0,l.buffer)((0,l.createOrUpdateFromCoordinate)(i),r.getView().getResolution()*this.pixelTolerance_),o=this.rBush_.getInExtent(n);if(o.length>0){o.sort(function(e,t){return G(i,e)-G(i,t)});var a=o[0],u=a.segment,h=P(i,a),d=r.getPixelFromCoordinate(h),_=(0,s.distance)(t,d);if(_<=this.pixelTolerance_){var p={};if(a.geometry.getType()===g.default.CIRCLE&&a.index===C)this.snappedToVertex_=!0,this.createOrUpdateVertexFeature_(h);else{var f=r.getPixelFromCoordinate(u[0]),c=r.getPixelFromCoordinate(u[1]),m=(0,s.squaredDistance)(d,f),v=(0,s.squaredDistance)(d,c);_=Math.sqrt(Math.min(m,v)),this.snappedToVertex_=_<=this.pixelTolerance_,this.snappedToVertex_&&(h=m>v?u[1]:u[0]),this.createOrUpdateVertexFeature_(h);for(var y=1,x=o.length;y<x;++y){var E=o[y].segment;if(!((0,s.equals)(u[0],E[0])&&(0,s.equals)(u[1],E[1])||(0,s.equals)(u[0],E[1])&&(0,s.equals)(u[1],E[0])))break;p[(0,e.getUid)(E)]=!0}}return p[(0,e.getUid)(u)]=!0,void(this.vertexSegments_=p)}}this.vertexFeature_&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null)},p.prototype.insertVertex_=function(e,t){for(var r,i=e.segment,n=e.feature,o=e.geometry,s=e.depth,a=e.index;t.length<o.getStride();)t.push(0);switch(o.getType()){case g.default.MULTI_LINE_STRING:case g.default.POLYGON:(r=o.getCoordinates())[s[0]].splice(a+1,0,t);break;case g.default.MULTI_POLYGON:(r=o.getCoordinates())[s[1]][s[0]].splice(a+1,0,t);break;case g.default.LINE_STRING:(r=o.getCoordinates()).splice(a+1,0,t);break;default:return}this.setGeometryCoordinates_(o,r);var u=this.rBush_;u.remove(e),this.updateSegmentIndices_(o,a,s,1);var h={segment:[i[0],t],feature:n,geometry:o,depth:s,index:a};u.insert((0,l.boundingExtent)(h.segment),h),this.dragSegments_.push([h,1]);var d={segment:[t,i[1]],feature:n,geometry:o,depth:s,index:a+1};u.insert((0,l.boundingExtent)(d.segment),d),this.dragSegments_.push([d,0]),this.ignoreNextSingleClick_=!0},p.prototype.removePoint=function(){if(this.lastPointerEvent_&&this.lastPointerEvent_.type!=n.default.POINTERDRAG){var e=this.lastPointerEvent_;return this.willModifyFeatures_(e),this.removeVertex_(),this.dispatchEvent(new F(S.MODIFYEND,this.features_,e)),this.modified_=!1,!0}return!1},p.prototype.removeVertex_=function(){var t,r,i,n,o,s,a,u,h,d,_,p=this.dragSegments_,f={},c=!1;for(o=p.length-1;o>=0;--o)d=(i=p[o])[0],_=(0,e.getUid)(d.feature),d.depth&&(_+="-"+d.depth.join("-")),_ in f||(f[_]={}),0===i[1]?(f[_].right=d,f[_].index=d.index):1==i[1]&&(f[_].left=d,f[_].index=d.index+1);for(_ in f){switch(h=f[_].right,a=f[_].left,(u=(s=f[_].index)-1)<0&&(u=0),t=r=(n=(d=void 0!==a?a:h).geometry).getCoordinates(),c=!1,n.getType()){case g.default.MULTI_LINE_STRING:r[d.depth[0]].length>2&&(r[d.depth[0]].splice(s,1),c=!0);break;case g.default.LINE_STRING:r.length>2&&(r.splice(s,1),c=!0);break;case g.default.MULTI_POLYGON:t=t[d.depth[1]];case g.default.POLYGON:(t=t[d.depth[0]]).length>4&&(s==t.length-1&&(s=0),t.splice(s,1),c=!0,0===s&&(t.pop(),t.push(t[0]),u=t.length-1))}if(c){this.setGeometryCoordinates_(n,r);var m=[];if(void 0!==a&&(this.rBush_.remove(a),m.push(a.segment[0])),void 0!==h&&(this.rBush_.remove(h),m.push(h.segment[1])),void 0!==a&&void 0!==h){var v={depth:d.depth,feature:d.feature,geometry:d.geometry,index:u,segment:m};this.rBush_.insert((0,l.boundingExtent)(v.segment),v)}this.updateSegmentIndices_(n,s,d.depth,-1),this.vertexFeature_&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null),p.length=0}}return c},p.prototype.setGeometryCoordinates_=function(e,t){this.changingFeature_=!0,e.setCoordinates(t),this.changingFeature_=!1},p.prototype.updateSegmentIndices_=function(e,t,r,i){this.rBush_.forEachInExtent(e.getExtent(),function(n){n.geometry===e&&(void 0===r||void 0===n.depth||(0,o.equals)(n.depth,r))&&n.index>t&&(n.index+=i)})},p}(p.default);function I(e,t){return e.index-t.index}function G(e,t){var r=t.geometry;if(r.getType()===g.default.CIRCLE){var i=r;if(t.index===C){var n=(0,s.squaredDistance)(i.getCenter(),e),o=Math.sqrt(n)-i.getRadius();return o*o}}return(0,s.squaredDistanceToSegment)(e,t.segment)}function P(e,t){var r=t.geometry;return r.getType()===g.default.CIRCLE&&t.index===C?r.getClosestPoint(e):(0,s.closestOnSegment)(e,t.segment)}function M(){var e=(0,y.createEditingStyle)();return function(t,r){return e[g.default.POINT]}}var w=T;exports.default=w;
},{"../util.js":"KniQ","../Collection.js":"FnDa","../CollectionEventType.js":"BTrx","../Feature.js":"mYW9","../MapBrowserEventType.js":"Yh/D","../array.js":"luEr","../coordinate.js":"nGsj","../events.js":"55Uq","../events/Event.js":"fKNg","../events/EventType.js":"C8cu","../events/condition.js":"YcID","../extent.js":"QDir","../geom/GeometryType.js":"lmV0","../geom/Point.js":"gLcY","./Pointer.js":"dnA2","../layer/Vector.js":"dflx","../source/Vector.js":"ZS12","../source/VectorEventType.js":"s8Fc","../structs/RBush.js":"MiUH","../style/Style.js":"1he4"}],"6SMG":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("../util.js"),t=p(require("../CollectionEventType.js")),r=require("../array.js"),i=require("../events.js"),o=p(require("../events/Event.js")),n=require("../events/condition.js"),a=require("../functions.js"),s=p(require("../geom/GeometryType.js")),u=p(require("./Interaction.js")),l=p(require("../layer/Vector.js")),c=require("../obj.js"),h=p(require("../source/Vector.js")),d=require("../style/Style.js");function p(e){return e&&e.__esModule?e:{default:e}}var f={SELECT:"select"},y=function(e){function t(t,r,i,o){e.call(this,t),this.selected=r,this.deselected=i,this.mapBrowserEvent=o}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(o.default),_=function(o){function s(e){o.call(this,{handleEvent:v});var s=e||{};this.condition_=s.condition?s.condition:n.singleClick,this.addCondition_=s.addCondition?s.addCondition:n.never,this.removeCondition_=s.removeCondition?s.removeCondition:n.never,this.toggleCondition_=s.toggleCondition?s.toggleCondition:n.shiftKeyOnly,this.multi_=!!s.multi&&s.multi,this.filter_=s.filter?s.filter:a.TRUE,this.hitTolerance_=s.hitTolerance?s.hitTolerance:0;var u,c=new l.default({source:new h.default({useSpatialIndex:!1,features:s.features,wrapX:s.wrapX}),style:s.style?s.style:g(),updateWhileAnimating:!0,updateWhileInteracting:!0});if(this.featureOverlay_=c,s.layers)if("function"==typeof s.layers)u=s.layers;else{var d=s.layers;u=function(e){return(0,r.includes)(d,e)}}else u=a.TRUE;this.layerFilter_=u,this.featureLayerAssociation_={};var p=this.getFeatures();(0,i.listen)(p,t.default.ADD,this.addFeature_,this),(0,i.listen)(p,t.default.REMOVE,this.removeFeature_,this)}return o&&(s.__proto__=o),s.prototype=Object.create(o&&o.prototype),s.prototype.constructor=s,s.prototype.addFeatureLayerAssociation_=function(t,r){this.featureLayerAssociation_[(0,e.getUid)(t)]=r},s.prototype.getFeatures=function(){return this.featureOverlay_.getSource().getFeaturesCollection()},s.prototype.getHitTolerance=function(){return this.hitTolerance_},s.prototype.getLayer=function(t){return this.featureLayerAssociation_[(0,e.getUid)(t)]},s.prototype.getOverlay=function(){return this.featureOverlay_},s.prototype.setHitTolerance=function(e){this.hitTolerance_=e},s.prototype.setMap=function(e){var t=this.getMap(),r=this.getFeatures();t&&r.forEach(t.unskipFeature.bind(t)),o.prototype.setMap.call(this,e),this.featureOverlay_.setMap(e),e&&r.forEach(e.skipFeature.bind(e))},s.prototype.addFeature_=function(e){var t=this.getMap();t&&t.skipFeature(e.element)},s.prototype.removeFeature_=function(e){var t=this.getMap();t&&t.unskipFeature(e.element)},s.prototype.removeFeatureLayerAssociation_=function(t){delete this.featureLayerAssociation_[(0,e.getUid)(t)]},s}(u.default);function v(e){if(!this.condition_(e))return!0;var t=this.addCondition_(e),i=this.removeCondition_(e),o=this.toggleCondition_(e),a=!t&&!i&&!o,s=e.map,u=this.getFeatures(),l=[],h=[];if(a){(0,c.clear)(this.featureLayerAssociation_),s.forEachFeatureAtPixel(e.pixel,function(e,t){if(this.filter_(e,t))return h.push(e),this.addFeatureLayerAssociation_(e,t),!this.multi_}.bind(this),{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_});for(var d=u.getLength()-1;d>=0;--d){var p=u.item(d),_=h.indexOf(p);_>-1?h.splice(_,1):(u.remove(p),l.push(p))}0!==h.length&&u.extend(h)}else{s.forEachFeatureAtPixel(e.pixel,function(e,n){if(this.filter_(e,n))return!t&&!o||(0,r.includes)(u.getArray(),e)?(i||o)&&(0,r.includes)(u.getArray(),e)&&(l.push(e),this.removeFeatureLayerAssociation_(e)):(h.push(e),this.addFeatureLayerAssociation_(e,n)),!this.multi_}.bind(this),{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_});for(var v=l.length-1;v>=0;--v)u.remove(l[v]);u.extend(h)}return(h.length>0||l.length>0)&&this.dispatchEvent(new y(f.SELECT,h,l,e)),(0,n.pointerMove)(e)}function g(){var e=(0,d.createEditingStyle)();return(0,r.extend)(e[s.default.POLYGON],e[s.default.LINE_STRING]),(0,r.extend)(e[s.default.GEOMETRY_COLLECTION],e[s.default.LINE_STRING]),function(t,r){return t.getGeometry()?e[t.getGeometry().getType()]:null}}var m=_;exports.default=m;
},{"../util.js":"KniQ","../CollectionEventType.js":"BTrx","../array.js":"luEr","../events.js":"55Uq","../events/Event.js":"fKNg","../events/condition.js":"YcID","../functions.js":"RgA2","../geom/GeometryType.js":"lmV0","./Interaction.js":"jB2p","../layer/Vector.js":"dflx","../obj.js":"mH6q","../source/Vector.js":"ZS12","../style/Style.js":"1he4"}],"NnGW":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("../util.js"),t=p(require("../CollectionEventType.js")),r=require("../coordinate.js"),i=require("../events.js"),n=p(require("../events/EventType.js")),o=require("../extent.js"),s=require("../functions.js"),a=p(require("../geom/GeometryType.js")),u=require("../geom/Polygon.js"),h=p(require("./Pointer.js")),l=require("../obj.js"),d=p(require("../source/VectorEventType.js")),g=p(require("../structs/RBush.js"));function p(e){return e&&e.__esModule?e:{default:e}}function _(e){return e.feature?e.feature:e.element?e.element:void 0}var c=function(h){function p(e){var t=e||{},r=t;r.handleDownEvent||(r.handleDownEvent=s.TRUE),r.stopDown||(r.stopDown=s.FALSE),h.call(this,r),this.source_=t.source?t.source:null,this.vertex_=void 0===t.vertex||t.vertex,this.edge_=void 0===t.edge||t.edge,this.features_=t.features?t.features:null,this.featuresListenerKeys_=[],this.featureChangeListenerKeys_={},this.indexedFeaturesExtents_={},this.pendingFeatures_={},this.pixelCoordinate_=null,this.pixelTolerance_=void 0!==t.pixelTolerance?t.pixelTolerance:10,this.sortByDistance_=f.bind(this),this.rBush_=new g.default,this.SEGMENT_WRITERS_={Point:this.writePointGeometry_,LineString:this.writeLineStringGeometry_,LinearRing:this.writeLineStringGeometry_,Polygon:this.writePolygonGeometry_,MultiPoint:this.writeMultiPointGeometry_,MultiLineString:this.writeMultiLineStringGeometry_,MultiPolygon:this.writeMultiPolygonGeometry_,GeometryCollection:this.writeGeometryCollectionGeometry_,Circle:this.writeCircleGeometry_}}return h&&(p.__proto__=h),p.prototype=Object.create(h&&h.prototype),p.prototype.constructor=p,p.prototype.addFeature=function(t,r){var s=void 0===r||r,a=(0,e.getUid)(t),u=t.getGeometry();if(u){var h=this.SEGMENT_WRITERS_[u.getType()];h&&(this.indexedFeaturesExtents_[a]=u.getExtent((0,o.createEmpty)()),h.call(this,t,u))}s&&(this.featureChangeListenerKeys_[a]=(0,i.listen)(t,n.default.CHANGE,this.handleFeatureChange_,this))},p.prototype.forEachFeatureAdd_=function(e){this.addFeature(e)},p.prototype.forEachFeatureRemove_=function(e){this.removeFeature(e)},p.prototype.getFeatures_=function(){var e;return this.features_?e=this.features_:this.source_&&(e=this.source_.getFeatures()),e},p.prototype.handleEvent=function(e){var t=this.snapTo(e.pixel,e.coordinate,e.map);return t.snapped&&(e.coordinate=t.vertex.slice(0,2),e.pixel=t.vertexPixel),h.prototype.handleEvent.call(this,e)},p.prototype.handleFeatureAdd_=function(e){var t=_(e);this.addFeature(t)},p.prototype.handleFeatureRemove_=function(e){var t=_(e);this.removeFeature(t)},p.prototype.handleFeatureChange_=function(t){var r=t.target;if(this.handlingDownUpSequence){var i=(0,e.getUid)(r);i in this.pendingFeatures_||(this.pendingFeatures_[i]=r)}else this.updateFeature_(r)},p.prototype.handleUpEvent=function(e){var t=(0,l.getValues)(this.pendingFeatures_);return t.length&&(t.forEach(this.updateFeature_.bind(this)),this.pendingFeatures_={}),!1},p.prototype.removeFeature=function(t,r){var n=void 0===r||r,o=(0,e.getUid)(t),s=this.indexedFeaturesExtents_[o];if(s){var a=this.rBush_,u=[];a.forEachInExtent(s,function(e){t===e.feature&&u.push(e)});for(var h=u.length-1;h>=0;--h)a.remove(u[h])}n&&((0,i.unlistenByKey)(this.featureChangeListenerKeys_[o]),delete this.featureChangeListenerKeys_[o])},p.prototype.setMap=function(e){var r=this.getMap(),n=this.featuresListenerKeys_,o=this.getFeatures_();r&&(n.forEach(i.unlistenByKey),n.length=0,o.forEach(this.forEachFeatureRemove_.bind(this))),h.prototype.setMap.call(this,e),e&&(this.features_?n.push((0,i.listen)(this.features_,t.default.ADD,this.handleFeatureAdd_,this),(0,i.listen)(this.features_,t.default.REMOVE,this.handleFeatureRemove_,this)):this.source_&&n.push((0,i.listen)(this.source_,d.default.ADDFEATURE,this.handleFeatureAdd_,this),(0,i.listen)(this.source_,d.default.REMOVEFEATURE,this.handleFeatureRemove_,this)),o.forEach(this.forEachFeatureAdd_.bind(this)))},p.prototype.snapTo=function(e,t,i){var n=i.getCoordinateFromPixel([e[0]-this.pixelTolerance_,e[1]+this.pixelTolerance_]),s=i.getCoordinateFromPixel([e[0]+this.pixelTolerance_,e[1]-this.pixelTolerance_]),u=(0,o.boundingExtent)([n,s]),h=this.rBush_.getInExtent(u);this.vertex_&&!this.edge_&&(h=h.filter(function(e){return e.feature.getGeometry().getType()!==a.default.CIRCLE}));var l,d,g,p,_=!1,c=null,f=null;if(h.length>0){this.pixelCoordinate_=t,h.sort(this.sortByDistance_);var y=h[0].segment,v=h[0].feature.getGeometry().getType()===a.default.CIRCLE;this.vertex_&&!this.edge_?(l=i.getPixelFromCoordinate(y[0]),d=i.getPixelFromCoordinate(y[1]),g=(0,r.squaredDistance)(e,l),p=(0,r.squaredDistance)(e,d),Math.sqrt(Math.min(g,p))<=this.pixelTolerance_&&(_=!0,c=g>p?y[1]:y[0],f=i.getPixelFromCoordinate(c))):this.edge_&&(c=v?(0,r.closestOnCircle)(t,h[0].feature.getGeometry()):(0,r.closestOnSegment)(t,y),f=i.getPixelFromCoordinate(c),(0,r.distance)(e,f)<=this.pixelTolerance_&&(_=!0,this.vertex_&&!v&&(l=i.getPixelFromCoordinate(y[0]),d=i.getPixelFromCoordinate(y[1]),g=(0,r.squaredDistance)(f,l),p=(0,r.squaredDistance)(f,d),Math.sqrt(Math.min(g,p))<=this.pixelTolerance_&&(c=g>p?y[1]:y[0],f=i.getPixelFromCoordinate(c))))),_&&(f=[Math.round(f[0]),Math.round(f[1])])}return{snapped:_,vertex:c,vertexPixel:f}},p.prototype.updateFeature_=function(e){this.removeFeature(e,!1),this.addFeature(e,!1)},p.prototype.writeCircleGeometry_=function(e,t){for(var r=(0,u.fromCircle)(t).getCoordinates()[0],i=0,n=r.length-1;i<n;++i){var s=r.slice(i,i+2),a={feature:e,segment:s};this.rBush_.insert((0,o.boundingExtent)(s),a)}},p.prototype.writeGeometryCollectionGeometry_=function(e,t){for(var r=t.getGeometriesArray(),i=0;i<r.length;++i){var n=this.SEGMENT_WRITERS_[r[i].getType()];n&&n.call(this,e,r[i])}},p.prototype.writeLineStringGeometry_=function(e,t){for(var r=t.getCoordinates(),i=0,n=r.length-1;i<n;++i){var s=r.slice(i,i+2),a={feature:e,segment:s};this.rBush_.insert((0,o.boundingExtent)(s),a)}},p.prototype.writeMultiLineStringGeometry_=function(e,t){for(var r=t.getCoordinates(),i=0,n=r.length;i<n;++i)for(var s=r[i],a=0,u=s.length-1;a<u;++a){var h=s.slice(a,a+2),l={feature:e,segment:h};this.rBush_.insert((0,o.boundingExtent)(h),l)}},p.prototype.writeMultiPointGeometry_=function(e,t){for(var r=t.getCoordinates(),i=0,n=r.length;i<n;++i){var o=r[i],s={feature:e,segment:[o,o]};this.rBush_.insert(t.getExtent(),s)}},p.prototype.writeMultiPolygonGeometry_=function(e,t){for(var r=t.getCoordinates(),i=0,n=r.length;i<n;++i)for(var s=r[i],a=0,u=s.length;a<u;++a)for(var h=s[a],l=0,d=h.length-1;l<d;++l){var g=h.slice(l,l+2),p={feature:e,segment:g};this.rBush_.insert((0,o.boundingExtent)(g),p)}},p.prototype.writePointGeometry_=function(e,t){var r=t.getCoordinates(),i={feature:e,segment:[r,r]};this.rBush_.insert(t.getExtent(),i)},p.prototype.writePolygonGeometry_=function(e,t){for(var r=t.getCoordinates(),i=0,n=r.length;i<n;++i)for(var s=r[i],a=0,u=s.length-1;a<u;++a){var h=s.slice(a,a+2),l={feature:e,segment:h};this.rBush_.insert((0,o.boundingExtent)(h),l)}},p}(h.default);function f(e,t){return(0,r.squaredDistanceToSegment)(this.pixelCoordinate_,e.segment)-(0,r.squaredDistanceToSegment)(this.pixelCoordinate_,t.segment)}var y=c;exports.default=y;
},{"../util.js":"KniQ","../CollectionEventType.js":"BTrx","../coordinate.js":"nGsj","../events.js":"55Uq","../events/EventType.js":"C8cu","../extent.js":"QDir","../functions.js":"RgA2","../geom/GeometryType.js":"lmV0","../geom/Polygon.js":"6Nww","./Pointer.js":"dnA2","../obj.js":"mH6q","../source/VectorEventType.js":"s8Fc","../structs/RBush.js":"MiUH"}],"dAAZ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.TranslateEvent=void 0;var t=l(require("../Collection.js")),e=require("../Object.js"),r=require("../events.js"),a=l(require("../events/Event.js")),i=require("../functions.js"),o=require("../array.js"),s=l(require("./Pointer.js")),n=l(require("./Property.js"));function l(t){return t&&t.__esModule?t:{default:t}}var u={TRANSLATESTART:"translatestart",TRANSLATING:"translating",TRANSLATEEND:"translateend"},h=function(t){function e(e,r,a){t.call(this,e),this.features=r,this.coordinate=a}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(a.default);exports.TranslateEvent=h;var c=function(a){function s(t){var s,l=t||{};if(a.call(this,l),this.lastCoordinate_=null,this.features_=void 0!==l.features?l.features:null,l.layers)if("function"==typeof l.layers)s=l.layers;else{var u=l.layers;s=function(t){return(0,o.includes)(u,t)}}else s=i.TRUE;this.layerFilter_=s,this.hitTolerance_=l.hitTolerance?l.hitTolerance:0,this.lastFeature_=null,(0,r.listen)(this,(0,e.getChangeEventType)(n.default.ACTIVE),this.handleActiveChanged_,this)}return a&&(s.__proto__=a),s.prototype=Object.create(a&&a.prototype),s.prototype.constructor=s,s.prototype.handleDownEvent=function(e){if(this.lastFeature_=this.featuresAtPixel_(e.pixel,e.map),!this.lastCoordinate_&&this.lastFeature_){this.lastCoordinate_=e.coordinate,this.handleMoveEvent(e);var r=this.features_||new t.default([this.lastFeature_]);return this.dispatchEvent(new h(u.TRANSLATESTART,r,e.coordinate)),!0}return!1},s.prototype.handleUpEvent=function(e){if(this.lastCoordinate_){this.lastCoordinate_=null,this.handleMoveEvent(e);var r=this.features_||new t.default([this.lastFeature_]);return this.dispatchEvent(new h(u.TRANSLATEEND,r,e.coordinate)),!0}return!1},s.prototype.handleDragEvent=function(e){if(this.lastCoordinate_){var r=e.coordinate,a=r[0]-this.lastCoordinate_[0],i=r[1]-this.lastCoordinate_[1],o=this.features_||new t.default([this.lastFeature_]);o.forEach(function(t){var e=t.getGeometry();e.translate(a,i),t.setGeometry(e)}),this.lastCoordinate_=r,this.dispatchEvent(new h(u.TRANSLATING,o,r))}},s.prototype.handleMoveEvent=function(t){var e=t.map.getViewport();this.featuresAtPixel_(t.pixel,t.map)?(e.classList.remove(this.lastCoordinate_?"ol-grab":"ol-grabbing"),e.classList.add(this.lastCoordinate_?"ol-grabbing":"ol-grab")):e.classList.remove("ol-grab","ol-grabbing")},s.prototype.featuresAtPixel_=function(t,e){return e.forEachFeatureAtPixel(t,function(t){if(!this.features_||(0,o.includes)(this.features_.getArray(),t))return t}.bind(this),{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_})},s.prototype.getHitTolerance=function(){return this.hitTolerance_},s.prototype.setHitTolerance=function(t){this.hitTolerance_=t},s.prototype.setMap=function(t){var e=this.getMap();a.prototype.setMap.call(this,t),this.updateState_(e)},s.prototype.handleActiveChanged_=function(){this.updateState_(null)},s.prototype.updateState_=function(t){var e=this.getMap(),r=this.getActive();e&&r||(e=e||t)&&e.getViewport().classList.remove("ol-grab","ol-grabbing")},s}(s.default),p=c;exports.default=p;
},{"../Collection.js":"FnDa","../Object.js":"PhPh","../events.js":"55Uq","../events/Event.js":"fKNg","../functions.js":"RgA2","../array.js":"luEr","./Pointer.js":"dnA2","./Property.js":"caOi"}],"aMDX":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.defaults=O,Object.defineProperty(exports,"DoubleClickZoom",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(exports,"DragPan",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(exports,"DragRotate",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(exports,"DragZoom",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(exports,"KeyboardPan",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(exports,"KeyboardZoom",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(exports,"MouseWheelZoom",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(exports,"PinchRotate",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(exports,"PinchZoom",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(exports,"DragAndDrop",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(exports,"DragBox",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(exports,"DragRotateAndZoom",{enumerable:!0,get:function(){return b.default}}),Object.defineProperty(exports,"Draw",{enumerable:!0,get:function(){return m.default}}),Object.defineProperty(exports,"Extent",{enumerable:!0,get:function(){return j.default}}),Object.defineProperty(exports,"Interaction",{enumerable:!0,get:function(){return g.default}}),Object.defineProperty(exports,"Modify",{enumerable:!0,get:function(){return P.default}}),Object.defineProperty(exports,"Pointer",{enumerable:!0,get:function(){return y.default}}),Object.defineProperty(exports,"Select",{enumerable:!0,get:function(){return D.default}}),Object.defineProperty(exports,"Snap",{enumerable:!0,get:function(){return x.default}}),Object.defineProperty(exports,"Translate",{enumerable:!0,get:function(){return h.default}});var e=q(require("./Collection.js")),t=q(require("./Kinetic.js")),r=q(require("./interaction/DoubleClickZoom.js")),n=q(require("./interaction/DragPan.js")),o=q(require("./interaction/DragRotate.js")),i=q(require("./interaction/DragZoom.js")),u=q(require("./interaction/KeyboardPan.js")),a=q(require("./interaction/KeyboardZoom.js")),c=q(require("./interaction/MouseWheelZoom.js")),d=q(require("./interaction/PinchRotate.js")),l=q(require("./interaction/PinchZoom.js")),f=require("./events/condition.js"),s=q(require("./interaction/DragAndDrop.js")),p=q(require("./interaction/DragBox.js")),b=q(require("./interaction/DragRotateAndZoom.js")),m=q(require("./interaction/Draw.js")),j=q(require("./interaction/Extent.js")),g=q(require("./interaction/Interaction.js")),P=q(require("./interaction/Modify.js")),y=q(require("./interaction/Pointer.js")),D=q(require("./interaction/Select.js")),x=q(require("./interaction/Snap.js")),h=q(require("./interaction/Translate.js"));function q(e){return e&&e.__esModule?e:{default:e}}function O(s){var p=s||{},b=new e.default,m=new t.default(-.005,.05,100);return(void 0===p.altShiftDragRotate||p.altShiftDragRotate)&&b.push(new o.default),(void 0===p.doubleClickZoom||p.doubleClickZoom)&&b.push(new r.default({delta:p.zoomDelta,duration:p.zoomDuration})),(void 0===p.dragPan||p.dragPan)&&b.push(new n.default({condition:p.onFocusOnly?f.focus:void 0,kinetic:m})),(void 0===p.pinchRotate||p.pinchRotate)&&b.push(new d.default),(void 0===p.pinchZoom||p.pinchZoom)&&b.push(new l.default({constrainResolution:p.constrainResolution,duration:p.zoomDuration})),(void 0===p.keyboard||p.keyboard)&&(b.push(new u.default),b.push(new a.default({delta:p.zoomDelta,duration:p.zoomDuration}))),(void 0===p.mouseWheelZoom||p.mouseWheelZoom)&&b.push(new c.default({condition:p.onFocusOnly?f.focus:void 0,constrainResolution:p.constrainResolution,duration:p.zoomDuration})),(void 0===p.shiftDragZoom||p.shiftDragZoom)&&b.push(new i.default({duration:p.zoomDuration})),b}
},{"./Collection.js":"FnDa","./Kinetic.js":"77gA","./interaction/DoubleClickZoom.js":"2NSa","./interaction/DragPan.js":"N4gU","./interaction/DragRotate.js":"PgBj","./interaction/DragZoom.js":"pTqW","./interaction/KeyboardPan.js":"CFRo","./interaction/KeyboardZoom.js":"7S8w","./interaction/MouseWheelZoom.js":"kPt6","./interaction/PinchRotate.js":"8hbG","./interaction/PinchZoom.js":"rcXm","./events/condition.js":"YcID","./interaction/DragAndDrop.js":"IYO6","./interaction/DragBox.js":"AQ/R","./interaction/DragRotateAndZoom.js":"0/IT","./interaction/Draw.js":"5e7i","./interaction/Extent.js":"1o7b","./interaction/Interaction.js":"jB2p","./interaction/Modify.js":"qrxo","./interaction/Pointer.js":"dnA2","./interaction/Select.js":"6SMG","./interaction/Snap.js":"NnGW","./interaction/Translate.js":"dAAZ"}],"7f+F":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ENABLE_RASTER_REPROJECTION=exports.ERROR_THRESHOLD=void 0;var R=.5;exports.ERROR_THRESHOLD=R;var E=!0;exports.ENABLE_RASTER_REPROJECTION=E;
},{}],"E+B6":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=e(require("../events/Event.js"));function e(t){return t&&t.__esModule?t:{default:t}}var o=function(t){function e(e,o,r,n,s){t.call(this,e),this.vectorContext=o,this.frameState=r,this.context=n,this.glContext=s}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(t.default),r=o;exports.default=r;
},{"../events/Event.js":"fKNg"}],"4LQ/":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=function(){};t.prototype.drawCustom=function(t,o,e){},t.prototype.drawGeometry=function(t){},t.prototype.setStyle=function(t){},t.prototype.drawCircle=function(t,o){},t.prototype.drawFeature=function(t,o){},t.prototype.drawGeometryCollection=function(t,o){},t.prototype.drawLineString=function(t,o){},t.prototype.drawMultiLineString=function(t,o){},t.prototype.drawMultiPoint=function(t,o){},t.prototype.drawMultiPolygon=function(t,o){},t.prototype.drawPoint=function(t,o){},t.prototype.drawPolygon=function(t,o){},t.prototype.drawText=function(t,o){},t.prototype.setFillStrokeStyle=function(t,o){},t.prototype.setImageStyle=function(t,o){},t.prototype.setTextStyle=function(t,o){};var o=t;exports.default=o;
},{}],"fo6K":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../../array.js"),e=require("../../colorlike.js"),i=require("../../extent.js"),s=_(require("../../geom/GeometryType.js")),a=require("../../geom/SimpleGeometry.js"),o=require("../../geom/flat/transform.js"),l=require("../../has.js"),n=_(require("../VectorContext.js")),r=require("../canvas.js"),h=require("../../transform.js");function _(t){return t&&t.__esModule?t:{default:t}}var f=function(n){function _(t,e,i,s,a){n.call(this),this.context_=t,this.pixelRatio_=e,this.extent_=i,this.transform_=s,this.viewRotation_=a,this.contextFillState_=null,this.contextStrokeState_=null,this.contextTextState_=null,this.fillState_=null,this.strokeState_=null,this.image_=null,this.imageAnchorX_=0,this.imageAnchorY_=0,this.imageHeight_=0,this.imageOpacity_=0,this.imageOriginX_=0,this.imageOriginY_=0,this.imageRotateWithView_=!1,this.imageRotation_=0,this.imageScale_=0,this.imageWidth_=0,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=!1,this.textRotation_=0,this.textScale_=0,this.textFillState_=null,this.textStrokeState_=null,this.textState_=null,this.pixelCoordinates_=[],this.tmpLocalTransform_=(0,h.create)()}return n&&(_.__proto__=n),_.prototype=Object.create(n&&n.prototype),_.prototype.constructor=_,_.prototype.drawImages_=function(t,e,i,s){if(this.image_){var a=(0,o.transform2D)(t,e,i,2,this.transform_,this.pixelCoordinates_),l=this.context_,n=this.tmpLocalTransform_,r=l.globalAlpha;1!=this.imageOpacity_&&(l.globalAlpha=r*this.imageOpacity_);var _=this.imageRotation_;this.imageRotateWithView_&&(_+=this.viewRotation_);for(var f=0,g=a.length;f<g;f+=2){var S=a[f]-this.imageAnchorX_,x=a[f+1]-this.imageAnchorY_;if(0!==_||1!=this.imageScale_){var d=S+this.imageAnchorX_,m=x+this.imageAnchorY_;(0,h.compose)(n,d,m,this.imageScale_,this.imageScale_,_,-d,-m),l.setTransform.apply(l,n)}l.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,S,x,this.imageWidth_,this.imageHeight_)}0===_&&1==this.imageScale_||l.setTransform(1,0,0,1,0,0),1!=this.imageOpacity_&&(l.globalAlpha=r)}},_.prototype.drawText_=function(t,e,i,s){if(this.textState_&&""!==this.text_){this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);var a=(0,o.transform2D)(t,e,i,s,this.transform_,this.pixelCoordinates_),l=this.context_,n=this.textRotation_;for(this.textRotateWithView_&&(n+=this.viewRotation_);e<i;e+=s){var r=a[e]+this.textOffsetX_,_=a[e+1]+this.textOffsetY_;if(0!==n||1!=this.textScale_){var f=(0,h.compose)(this.tmpLocalTransform_,r,_,this.textScale_,this.textScale_,n,-r,-_);l.setTransform.apply(l,f)}this.textStrokeState_&&l.strokeText(this.text_,r,_),this.textFillState_&&l.fillText(this.text_,r,_)}0===n&&1==this.textScale_||l.setTransform(1,0,0,1,0,0)}},_.prototype.moveToLineTo_=function(t,e,i,s,a){var l=this.context_,n=(0,o.transform2D)(t,e,i,s,this.transform_,this.pixelCoordinates_);l.moveTo(n[0],n[1]);var r=n.length;a&&(r-=2);for(var h=2;h<r;h+=2)l.lineTo(n[h],n[h+1]);return a&&l.closePath(),i},_.prototype.drawRings_=function(t,e,i,s){for(var a=0,o=i.length;a<o;++a)e=this.moveToLineTo_(t,e,i[a],s,!0);return e},_.prototype.drawCircle=function(t){if((0,i.intersects)(this.extent_,t.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=(0,a.transformGeom2D)(t,this.transform_,this.pixelCoordinates_),s=e[2]-e[0],o=e[3]-e[1],l=Math.sqrt(s*s+o*o),n=this.context_;n.beginPath(),n.arc(e[0],e[1],l,0,2*Math.PI),this.fillState_&&n.fill(),this.strokeState_&&n.stroke()}""!==this.text_&&this.drawText_(t.getCenter(),0,2,2)}},_.prototype.setStyle=function(t){this.setFillStrokeStyle(t.getFill(),t.getStroke()),this.setImageStyle(t.getImage()),this.setTextStyle(t.getText())},_.prototype.drawGeometry=function(t){switch(t.getType()){case s.default.POINT:this.drawPoint(t);break;case s.default.LINE_STRING:this.drawLineString(t);break;case s.default.POLYGON:this.drawPolygon(t);break;case s.default.MULTI_POINT:this.drawMultiPoint(t);break;case s.default.MULTI_LINE_STRING:this.drawMultiLineString(t);break;case s.default.MULTI_POLYGON:this.drawMultiPolygon(t);break;case s.default.GEOMETRY_COLLECTION:this.drawGeometryCollection(t);break;case s.default.CIRCLE:this.drawCircle(t)}},_.prototype.drawFeature=function(t,e){var s=e.getGeometryFunction()(t);s&&(0,i.intersects)(this.extent_,s.getExtent())&&(this.setStyle(e),this.drawGeometry(s))},_.prototype.drawGeometryCollection=function(t){for(var e=t.getGeometriesArray(),i=0,s=e.length;i<s;++i)this.drawGeometry(e[i])},_.prototype.drawPoint=function(t){var e=t.getFlatCoordinates(),i=t.getStride();this.image_&&this.drawImages_(e,0,e.length,i),""!==this.text_&&this.drawText_(e,0,e.length,i)},_.prototype.drawMultiPoint=function(t){var e=t.getFlatCoordinates(),i=t.getStride();this.image_&&this.drawImages_(e,0,e.length,i),""!==this.text_&&this.drawText_(e,0,e.length,i)},_.prototype.drawLineString=function(t){if((0,i.intersects)(this.extent_,t.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var e=this.context_,s=t.getFlatCoordinates();e.beginPath(),this.moveToLineTo_(s,0,s.length,t.getStride(),!1),e.stroke()}if(""!==this.text_){var a=t.getFlatMidpoint();this.drawText_(a,0,2,2)}}},_.prototype.drawMultiLineString=function(t){var e=t.getExtent();if((0,i.intersects)(this.extent_,e)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var s=this.context_,a=t.getFlatCoordinates(),o=0,l=t.getEnds(),n=t.getStride();s.beginPath();for(var r=0,h=l.length;r<h;++r)o=this.moveToLineTo_(a,o,l[r],n,!1);s.stroke()}if(""!==this.text_){var _=t.getFlatMidpoints();this.drawText_(_,0,_.length,2)}}},_.prototype.drawPolygon=function(t){if((0,i.intersects)(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=this.context_;e.beginPath(),this.drawRings_(t.getOrientedFlatCoordinates(),0,t.getEnds(),t.getStride()),this.fillState_&&e.fill(),this.strokeState_&&e.stroke()}if(""!==this.text_){var s=t.getFlatInteriorPoint();this.drawText_(s,0,2,2)}}},_.prototype.drawMultiPolygon=function(t){if((0,i.intersects)(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=this.context_,s=t.getOrientedFlatCoordinates(),a=0,o=t.getEndss(),l=t.getStride();e.beginPath();for(var n=0,r=o.length;n<r;++n){var h=o[n];a=this.drawRings_(s,a,h,l)}this.fillState_&&e.fill(),this.strokeState_&&e.stroke()}if(""!==this.text_){var _=t.getFlatInteriorPoints();this.drawText_(_,0,_.length,2)}}},_.prototype.setContextFillState_=function(t){var e=this.context_,i=this.contextFillState_;i?i.fillStyle!=t.fillStyle&&(i.fillStyle=e.fillStyle=t.fillStyle):(e.fillStyle=t.fillStyle,this.contextFillState_={fillStyle:t.fillStyle})},_.prototype.setContextStrokeState_=function(e){var i=this.context_,s=this.contextStrokeState_;s?(s.lineCap!=e.lineCap&&(s.lineCap=i.lineCap=e.lineCap),l.CANVAS_LINE_DASH&&((0,t.equals)(s.lineDash,e.lineDash)||i.setLineDash(s.lineDash=e.lineDash),s.lineDashOffset!=e.lineDashOffset&&(s.lineDashOffset=i.lineDashOffset=e.lineDashOffset)),s.lineJoin!=e.lineJoin&&(s.lineJoin=i.lineJoin=e.lineJoin),s.lineWidth!=e.lineWidth&&(s.lineWidth=i.lineWidth=e.lineWidth),s.miterLimit!=e.miterLimit&&(s.miterLimit=i.miterLimit=e.miterLimit),s.strokeStyle!=e.strokeStyle&&(s.strokeStyle=i.strokeStyle=e.strokeStyle)):(i.lineCap=e.lineCap,l.CANVAS_LINE_DASH&&(i.setLineDash(e.lineDash),i.lineDashOffset=e.lineDashOffset),i.lineJoin=e.lineJoin,i.lineWidth=e.lineWidth,i.miterLimit=e.miterLimit,i.strokeStyle=e.strokeStyle,this.contextStrokeState_={lineCap:e.lineCap,lineDash:e.lineDash,lineDashOffset:e.lineDashOffset,lineJoin:e.lineJoin,lineWidth:e.lineWidth,miterLimit:e.miterLimit,strokeStyle:e.strokeStyle})},_.prototype.setContextTextState_=function(t){var e=this.context_,i=this.contextTextState_,s=t.textAlign?t.textAlign:r.defaultTextAlign;i?(i.font!=t.font&&(i.font=e.font=t.font),i.textAlign!=s&&(i.textAlign=e.textAlign=s),i.textBaseline!=t.textBaseline&&(i.textBaseline=e.textBaseline=t.textBaseline)):(e.font=t.font,e.textAlign=s,e.textBaseline=t.textBaseline,this.contextTextState_={font:t.font,textAlign:s,textBaseline:t.textBaseline})},_.prototype.setFillStrokeStyle=function(t,i){if(t){var s=t.getColor();this.fillState_={fillStyle:(0,e.asColorLike)(s||r.defaultFillStyle)}}else this.fillState_=null;if(i){var a=i.getColor(),o=i.getLineCap(),l=i.getLineDash(),n=i.getLineDashOffset(),h=i.getLineJoin(),_=i.getWidth(),f=i.getMiterLimit();this.strokeState_={lineCap:void 0!==o?o:r.defaultLineCap,lineDash:l||r.defaultLineDash,lineDashOffset:n||r.defaultLineDashOffset,lineJoin:void 0!==h?h:r.defaultLineJoin,lineWidth:this.pixelRatio_*(void 0!==_?_:r.defaultLineWidth),miterLimit:void 0!==f?f:r.defaultMiterLimit,strokeStyle:(0,e.asColorLike)(a||r.defaultStrokeStyle)}}else this.strokeState_=null},_.prototype.setImageStyle=function(t){if(t){var e=t.getAnchor(),i=t.getImage(1),s=t.getOrigin(),a=t.getSize();this.imageAnchorX_=e[0],this.imageAnchorY_=e[1],this.imageHeight_=a[1],this.image_=i,this.imageOpacity_=t.getOpacity(),this.imageOriginX_=s[0],this.imageOriginY_=s[1],this.imageRotateWithView_=t.getRotateWithView(),this.imageRotation_=t.getRotation(),this.imageScale_=t.getScale()*this.pixelRatio_,this.imageWidth_=a[0]}else this.image_=null},_.prototype.setTextStyle=function(t){if(t){var i=t.getFill();if(i){var s=i.getColor();this.textFillState_={fillStyle:(0,e.asColorLike)(s||r.defaultFillStyle)}}else this.textFillState_=null;var a=t.getStroke();if(a){var o=a.getColor(),l=a.getLineCap(),n=a.getLineDash(),h=a.getLineDashOffset(),_=a.getLineJoin(),f=a.getWidth(),g=a.getMiterLimit();this.textStrokeState_={lineCap:void 0!==l?l:r.defaultLineCap,lineDash:n||r.defaultLineDash,lineDashOffset:h||r.defaultLineDashOffset,lineJoin:void 0!==_?_:r.defaultLineJoin,lineWidth:void 0!==f?f:r.defaultLineWidth,miterLimit:void 0!==g?g:r.defaultMiterLimit,strokeStyle:(0,e.asColorLike)(o||r.defaultStrokeStyle)}}else this.textStrokeState_=null;var S=t.getFont(),x=t.getOffsetX(),d=t.getOffsetY(),m=t.getRotateWithView(),c=t.getRotation(),p=t.getScale(),u=t.getText(),y=t.getTextAlign(),k=t.getTextBaseline();this.textState_={font:void 0!==S?S:r.defaultFont,textAlign:void 0!==y?y:r.defaultTextAlign,textBaseline:void 0!==k?k:r.defaultTextBaseline},this.text_=void 0!==u?u:"",this.textOffsetX_=void 0!==x?this.pixelRatio_*x:0,this.textOffsetY_=void 0!==d?this.pixelRatio_*d:0,this.textRotateWithView_=void 0!==m&&m,this.textRotation_=void 0!==c?c:0,this.textScale_=this.pixelRatio_*(void 0!==p?p:1)}else this.text_=""},_}(n.default),g=f;exports.default=g;
},{"../../array.js":"luEr","../../colorlike.js":"V5+X","../../extent.js":"QDir","../../geom/GeometryType.js":"lmV0","../../geom/SimpleGeometry.js":"pnrv","../../geom/flat/transform.js":"LGwr","../../has.js":"f3Nv","../VectorContext.js":"4LQ/","../canvas.js":"iAG7","../../transform.js":"P4eA"}],"6V0o":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.shared=exports.default=void 0;var e=require("../color.js"),t=function(){this.cache_={},this.cacheSize_=0,this.maxCacheSize_=32};function i(t,i,c){return i+":"+t+":"+(c?(0,e.asString)(c):"null")}t.prototype.clear=function(){this.cache_={},this.cacheSize_=0},t.prototype.expire=function(){if(this.cacheSize_>this.maxCacheSize_){var e=0;for(var t in this.cache_){var i=this.cache_[t];0!=(3&e++)||i.hasListener()||(delete this.cache_[t],--this.cacheSize_)}}},t.prototype.get=function(e,t,c){var h=i(e,t,c);return h in this.cache_?this.cache_[h]:null},t.prototype.set=function(e,t,c,h){var r=i(e,t,c);this.cache_[r]=h,++this.cacheSize_},t.prototype.setSize=function(e){this.maxCacheSize_=e,this.expire()};var c=t;exports.default=c;var h=new t;exports.shared=h;
},{"../color.js":"eucy"}],"8oIh":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.sortByZIndex=l,exports.default=void 0;var e=require("../util.js"),r=d(require("../Disposable.js")),t=require("../events.js"),n=d(require("../events/EventType.js")),o=require("../extent.js"),s=require("../functions.js"),a=require("../layer/Layer.js"),i=require("../style/IconImageCache.js"),u=require("../transform.js");function d(e){return e&&e.__esModule?e:{default:e}}var y=function(r){function i(e){r.call(this),this.map_=e,this.layerRenderers_={},this.layerRendererListeners_={},this.layerRendererConstructors_=[]}return r&&(i.__proto__=r),i.prototype=Object.create(r&&r.prototype),i.prototype.constructor=i,i.prototype.dispatchRenderEvent=function(r,t){(0,e.abstract)()},i.prototype.registerLayerRenderers=function(e){this.layerRendererConstructors_.push.apply(this.layerRendererConstructors_,e)},i.prototype.calculateMatrices2D=function(e){var r=e.viewState,t=e.coordinateToPixelTransform,n=e.pixelToCoordinateTransform;(0,u.compose)(t,e.size[0]/2,e.size[1]/2,1/r.resolution,-1/r.resolution,-r.rotation,-r.center[0],-r.center[1]),(0,u.invert)((0,u.setFromArray)(n,t))},i.prototype.removeLayerRenderers=function(){for(var e in this.layerRenderers_)this.removeLayerRendererByKey_(e).dispose()},i.prototype.forEachFeatureAtCoordinate=function(r,t,n,s,i,u,d){var y,p=t.viewState,l=p.resolution;function c(r,n){var o=t.layerStates[(0,e.getUid)(n)].managed;if(!((0,e.getUid)(r)in t.skippedFeatureUids)||o)return s.call(i,r,o?n:null)}var h=p.projection,f=r;if(h.canWrapX()){var R=h.getExtent(),_=(0,o.getWidth)(R),v=r[0];if(v<R[0]||v>R[2])f=[v+_*Math.ceil((R[0]-v)/_),r[1]]}var g,L=t.layerStatesArray;for(g=L.length-1;g>=0;--g){var m=L[g],C=m.layer;if((0,a.visibleAtResolution)(m,l)&&u.call(d,C)){var x=this.getLayerRenderer(C),j=C.getSource();if(j&&(y=x.forEachFeatureAtCoordinate(j.getWrapX()?f:r,t,n,c)),y)return y}}},i.prototype.forEachLayerAtPixel=function(r,t,n,o,s,a,i){return(0,e.abstract)()},i.prototype.hasFeatureAtCoordinate=function(e,r,t,n,o){return void 0!==this.forEachFeatureAtCoordinate(e,r,t,s.TRUE,this,n,o)},i.prototype.getLayerRenderer=function(r){var o=(0,e.getUid)(r);if(o in this.layerRenderers_)return this.layerRenderers_[o];for(var s,a=0,i=this.layerRendererConstructors_.length;a<i;++a){var u=this.layerRendererConstructors_[a];if(u.handles(r)){s=u.create(this,r);break}}if(!s)throw new Error("Unable to create renderer for layer: "+r.getType());return this.layerRenderers_[o]=s,this.layerRendererListeners_[o]=(0,t.listen)(s,n.default.CHANGE,this.handleLayerRendererChange_,this),s},i.prototype.getLayerRendererByKey=function(e){return this.layerRenderers_[e]},i.prototype.getLayerRenderers=function(){return this.layerRenderers_},i.prototype.getMap=function(){return this.map_},i.prototype.handleLayerRendererChange_=function(){this.map_.render()},i.prototype.removeLayerRendererByKey_=function(e){var r=this.layerRenderers_[e];return delete this.layerRenderers_[e],(0,t.unlistenByKey)(this.layerRendererListeners_[e]),delete this.layerRendererListeners_[e],r},i.prototype.removeUnusedLayerRenderers_=function(e,r){for(var t in this.layerRenderers_)r&&t in r.layerStates||this.removeLayerRendererByKey_(t).dispose()},i.prototype.renderFrame=function(r){(0,e.abstract)()},i.prototype.scheduleExpireIconCache=function(e){e.postRenderFunctions.push(p)},i.prototype.scheduleRemoveUnusedLayerRenderers=function(e){for(var r in this.layerRenderers_)if(!(r in e.layerStates))return void e.postRenderFunctions.push(this.removeUnusedLayerRenderers_.bind(this))},i}(r.default);function p(e,r){i.shared.expire()}function l(e,r){return e.zIndex-r.zIndex}var c=y;exports.default=c;
},{"../util.js":"KniQ","../Disposable.js":"DDda","../events.js":"55Uq","../events/EventType.js":"C8cu","../extent.js":"QDir","../functions.js":"RgA2","../layer/Layer.js":"GCgv","../style/IconImageCache.js":"6V0o","../transform.js":"P4eA"}],"vJhp":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.layerRendererConstructors=void 0;var e=require("../../transform.js"),t=require("../../array.js"),r=require("../../css.js"),s=require("../../dom.js"),a=require("../../layer/Layer.js"),i=u(require("../../render/Event.js")),n=u(require("../../render/EventType.js")),o=require("../../render/canvas.js"),c=u(require("../../render/canvas/Immediate.js")),l=h(require("../Map.js")),d=u(require("../../source/State.js"));function h(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var s=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};s.get||s.set?Object.defineProperty(t,r,s):t[r]=e[r]}return t.default=e,t}function u(e){return e&&e.__esModule?e:{default:e}}var p=[];exports.layerRendererConstructors=p;var v=function(h){function u(t){h.call(this,t);var a=t.getViewport();this.context_=(0,s.createCanvasContext2D)(),this.canvas_=this.context_.canvas,this.canvas_.style.width="100%",this.canvas_.style.height="100%",this.canvas_.style.display="block",this.canvas_.className=r.CLASS_UNSELECTABLE,a.insertBefore(this.canvas_,a.childNodes[0]||null),this.renderedVisible_=!0,this.transform_=(0,e.create)()}return h&&(u.__proto__=h),u.prototype=Object.create(h&&h.prototype),u.prototype.constructor=u,u.prototype.dispatchRenderEvent=function(e,t){var r=this.getMap(),s=this.context_;if(r.hasListener(e)){var a=t.extent,n=t.pixelRatio,o=t.viewState.rotation,l=this.getTransform(t),d=new c.default(s,n,a,l,o),h=new i.default(e,d,t,s,null);r.dispatchEvent(h)}},u.prototype.getTransform=function(t){var r=t.viewState,s=this.canvas_.width/2,a=this.canvas_.height/2,i=t.pixelRatio/r.resolution,n=-i,o=-r.rotation,c=-r.center[0],l=-r.center[1];return(0,e.compose)(this.transform_,s,a,i,n,o,c,l)},u.prototype.renderFrame=function(e){if(e){var r=this.context_,s=e.pixelRatio,i=Math.round(e.size[0]*s),c=Math.round(e.size[1]*s);this.canvas_.width!=i||this.canvas_.height!=c?(this.canvas_.width=i,this.canvas_.height=c):r.clearRect(0,0,i,c);var h=e.viewState.rotation;this.calculateMatrices2D(e),this.dispatchRenderEvent(n.default.PRECOMPOSE,e);var u=e.layerStatesArray;(0,t.stableSort)(u,l.sortByZIndex),h&&(r.save(),(0,o.rotateAtOffset)(r,h,i/2,c/2));var p,v,y=e.viewState.resolution;for(p=0,v=u.length;p<v;++p){var f=u[p],_=f.layer,R=this.getLayerRenderer(_);(0,a.visibleAtResolution)(f,y)&&f.sourceState==d.default.READY&&(R.prepareFrame(e,f)&&R.composeFrame(e,f,r))}h&&r.restore(),this.dispatchRenderEvent(n.default.POSTCOMPOSE,e),this.renderedVisible_||(this.canvas_.style.display="",this.renderedVisible_=!0),this.scheduleRemoveUnusedLayerRenderers(e),this.scheduleExpireIconCache(e)}else this.renderedVisible_&&(this.canvas_.style.display="none",this.renderedVisible_=!1)},u.prototype.forEachLayerAtPixel=function(t,r,s,i,n,o,c){var l,d,h=r.viewState.resolution,u=r.layerStatesArray,p=u.length,v=(0,e.apply)(r.pixelToCoordinateTransform,t.slice());for(d=p-1;d>=0;--d){var y=u[d],f=y.layer;if((0,a.visibleAtResolution)(y,h)&&o.call(c,f))if(l=this.getLayerRenderer(f).forEachLayerAtCoordinate(v,r,s,i,n))return l}},u.prototype.registerLayerRenderers=function(e){h.prototype.registerLayerRenderers.call(this,e);for(var r=0,s=e.length;r<s;++r){var a=e[r];(0,t.includes)(p,a)||p.push(a)}},u}(l.default),y=v;exports.default=y;
},{"../../transform.js":"P4eA","../../array.js":"luEr","../../css.js":"HgMV","../../dom.js":"Xno5","../../layer/Layer.js":"GCgv","../../render/Event.js":"E+B6","../../render/EventType.js":"z39m","../../render/canvas.js":"iAG7","../../render/canvas/Immediate.js":"fo6K","../Map.js":"8oIh","../../source/State.js":"iC8j"}],"fpOz":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("../util.js"),t=u(require("../ImageState.js")),r=u(require("../Observable.js")),i=u(require("../TileState.js")),o=require("../events.js"),n=u(require("../events/EventType.js")),a=u(require("../source/State.js"));function u(e){return e&&e.__esModule?e:{default:e}}var d=function(r){function u(e){r.call(this),this.layer_=e}return r&&(u.__proto__=r),u.prototype=Object.create(r&&r.prototype),u.prototype.constructor=u,u.prototype.createLoadedTileFinder=function(e,t,r){return function(i,o){return e.forEachLoadedTile(t,i,o,function(e){r[i]||(r[i]={}),r[i][e.tileCoord.toString()]=e})}},u.prototype.forEachFeatureAtCoordinate=function(e,t,r,i){},u.prototype.getLayer=function(){return this.layer_},u.prototype.handleImageChange_=function(e){e.target.getState()===t.default.LOADED&&this.renderIfReadyAndVisible()},u.prototype.hasFeatureAtCoordinate=function(e,t){return!1},u.prototype.loadImage=function(e){var r=e.getState();return r!=t.default.LOADED&&r!=t.default.ERROR&&(0,o.listen)(e,n.default.CHANGE,this.handleImageChange_,this),r==t.default.IDLE&&(e.load(),r=e.getState()),r==t.default.LOADED},u.prototype.renderIfReadyAndVisible=function(){var e=this.getLayer();e.getVisible()&&e.getSourceState()==a.default.READY&&this.changed()},u.prototype.scheduleExpireCache=function(t,r){if(r.canExpireCache()){var i=function(t,r,i){var o=(0,e.getUid)(t);o in i.usedTiles&&t.expireCache(i.viewState.projection,i.usedTiles[o])}.bind(null,r);t.postRenderFunctions.push(i)}},u.prototype.updateUsedTiles=function(t,r,i,o){var n=(0,e.getUid)(r),a=i.toString();n in t?a in t[n]?t[n][a].extend(o):t[n][a]=o:(t[n]={},t[n][a]=o)},u.prototype.manageTilePyramid=function(t,r,o,n,a,u,d,l,s,p){var c=(0,e.getUid)(r);c in t.wantedTiles||(t.wantedTiles[c]={});var f,g,y,h,v,T,E=t.wantedTiles[c],C=t.tileQueue;for(T=o.getMinZoom();T<=d;++T)for(g=o.getTileRangeForExtentAndZ(u,T,g),y=o.getResolution(T),h=g.minX;h<=g.maxX;++h)for(v=g.minY;v<=g.maxY;++v)d-T<=l?((f=r.getTile(T,h,v,n,a)).getState()==i.default.IDLE&&(E[f.getKey()]=!0,C.isKeyQueued(f.getKey())||C.enqueue([f,c,o.getTileCoordCenter(f.tileCoord),y])),void 0!==s&&s.call(p,f)):r.useTile(T,h,v,a)},u}(r.default),l=d;exports.default=l;
},{"../util.js":"KniQ","../ImageState.js":"u3k+","../Observable.js":"8IdS","../TileState.js":"Xz9x","../events.js":"55Uq","../events/EventType.js":"C8cu","../source/State.js":"iC8j"}],"+vPf":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("../../util.js"),t=require("../../extent.js"),o=require("../../functions.js"),r=u(require("../../render/Event.js")),i=u(require("../../render/EventType.js")),a=require("../../render/canvas.js"),n=u(require("../../render/canvas/Immediate.js")),s=u(require("../Layer.js")),p=require("../../transform.js");function u(e){return e&&e.__esModule?e:{default:e}}var f=function(s){function u(e){s.call(this,e),this.renderedResolution,this.transform_=(0,p.create)()}return s&&(u.__proto__=s),u.prototype=Object.create(s&&s.prototype),u.prototype.constructor=u,u.prototype.clip=function(e,o,r){var i=o.pixelRatio,n=o.size[0]*i,s=o.size[1]*i,u=o.viewState.rotation,f=(0,t.getTopLeft)(r),c=(0,t.getTopRight)(r),l=(0,t.getBottomRight)(r),d=(0,t.getBottomLeft)(r);(0,p.apply)(o.coordinateToPixelTransform,f),(0,p.apply)(o.coordinateToPixelTransform,c),(0,p.apply)(o.coordinateToPixelTransform,l),(0,p.apply)(o.coordinateToPixelTransform,d),e.save(),(0,a.rotateAtOffset)(e,-u,n/2,s/2),e.beginPath(),e.moveTo(f[0]*i,f[1]*i),e.lineTo(c[0]*i,c[1]*i),e.lineTo(l[0]*i,l[1]*i),e.lineTo(d[0]*i,d[1]*i),e.clip(),(0,a.rotateAtOffset)(e,u,n/2,s/2)},u.prototype.dispatchComposeEvent_=function(e,t,o,i){var s=this.getLayer();if(s.hasListener(e)){var p=o.size[0]*o.pixelRatio,u=o.size[1]*o.pixelRatio,f=o.viewState.rotation;(0,a.rotateAtOffset)(t,-f,p/2,u/2);var c=void 0!==i?i:this.getTransform(o,0),l=new n.default(t,o.pixelRatio,o.extent,c,o.viewState.rotation),d=new r.default(e,l,o,t,null);s.dispatchEvent(d),(0,a.rotateAtOffset)(t,f,p/2,u/2)}},u.prototype.forEachLayerAtCoordinate=function(e,t,r,i,a){return this.forEachFeatureAtCoordinate(e,t,r,o.TRUE)?i.call(a,this.getLayer(),null):void 0},u.prototype.postCompose=function(e,t,o,r){this.dispatchComposeEvent_(i.default.POSTCOMPOSE,e,t,r)},u.prototype.preCompose=function(e,t,o){this.dispatchComposeEvent_(i.default.PRECOMPOSE,e,t,o)},u.prototype.dispatchRenderEvent=function(e,t,o){this.dispatchComposeEvent_(i.default.RENDER,e,t,o)},u.prototype.getTransform=function(e,t){var o=e.viewState,r=e.pixelRatio,i=r*e.size[0]/2,a=r*e.size[1]/2,n=r/o.resolution,s=-n,u=-o.rotation,f=-o.center[0]+t,c=-o.center[1];return(0,p.compose)(this.transform_,i,a,n,s,u,f,c)},u.prototype.composeFrame=function(t,o,r){(0,e.abstract)()},u.prototype.prepareFrame=function(t,o){return(0,e.abstract)()},u}(s.default),c=f;exports.default=c;
},{"../../util.js":"KniQ","../../extent.js":"QDir","../../functions.js":"RgA2","../../render/Event.js":"E+B6","../../render/EventType.js":"z39m","../../render/canvas.js":"iAG7","../../render/canvas/Immediate.js":"fo6K","../Layer.js":"fpOz","../../transform.js":"P4eA"}],"F9m+":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../../util.js"),e=require("../../coordinate.js"),a=require("../../dom.js"),r=require("../../extent.js"),o=n(require("./Layer.js")),i=require("../../transform.js");function n(t){return t&&t.__esModule?t:{default:t}}var s=function(o){function n(t){o.call(this,t),this.coordinateToCanvasPixelTransform=(0,i.create)(),this.hitCanvasContext_=null}return o&&(n.__proto__=o),n.prototype=Object.create(o&&o.prototype),n.prototype.constructor=n,n.prototype.composeFrame=function(t,e,a){this.preCompose(a,t);var o=this.getImage();if(o){var i=e.extent,n=void 0!==i&&!(0,r.containsExtent)(i,t.extent)&&(0,r.intersects)(i,t.extent);n&&this.clip(a,t,i);var s=this.getImageTransform(),h=a.globalAlpha;a.globalAlpha=e.opacity;var u=s[4],c=s[5],l=o.width*s[0],p=o.height*s[3];l>=.5&&p>=.5&&a.drawImage(o,0,0,+o.width,+o.height,Math.round(u),Math.round(c),Math.round(l),Math.round(p)),a.globalAlpha=h,n&&a.restore()}this.postCompose(a,t,e)},n.prototype.getImage=function(){return(0,t.abstract)()},n.prototype.getImageTransform=function(){return(0,t.abstract)()},n.prototype.forEachLayerAtCoordinate=function(t,r,o,n,s){if(this.getImage()){var h=(0,i.apply)(this.coordinateToCanvasPixelTransform,t.slice());(0,e.scale)(h,r.viewState.resolution/this.renderedResolution),this.hitCanvasContext_||(this.hitCanvasContext_=(0,a.createCanvasContext2D)(1,1)),this.hitCanvasContext_.clearRect(0,0,1,1),this.hitCanvasContext_.drawImage(this.getImage(),h[0],h[1],1,1,0,0,1,1);var u=this.hitCanvasContext_.getImageData(0,0,1,1).data;return u[3]>0?n.call(s,this.getLayer(),u):void 0}},n}(o.default),h=s;exports.default=h;
},{"../../util.js":"KniQ","../../coordinate.js":"nGsj","../../dom.js":"Xno5","../../extent.js":"QDir","./Layer.js":"+vPf","../../transform.js":"P4eA"}],"rz/N":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("../../reproj/common.js"),t=d(require("../../ImageCanvas.js")),r=d(require("../../LayerType.js")),i=d(require("../../ViewHint.js")),o=require("../../array.js"),a=require("../../extent.js"),s=d(require("../../layer/VectorRenderType.js")),n=require("../../obj.js"),u=require("./Map.js"),p=d(require("./IntermediateCanvas.js")),c=require("../../transform.js");function d(e){return e&&e.__esModule?e:{default:e}}var l=function(s){function p(e){if(s.call(this,e),this.image_=null,this.imageTransform_=(0,c.create)(),this.skippedFeatures_=[],this.vectorRenderer_=null,e.getType()===r.default.VECTOR)for(var t=0,i=u.layerRendererConstructors.length;t<i;++t){var o=u.layerRendererConstructors[t];if(o!==p&&o.handles(e)){this.vectorRenderer_=new o(e);break}}}return s&&(p.__proto__=s),p.prototype=Object.create(s&&s.prototype),p.prototype.constructor=p,p.prototype.disposeInternal=function(){this.vectorRenderer_&&this.vectorRenderer_.dispose(),s.prototype.disposeInternal.call(this)},p.prototype.getImage=function(){return this.image_?this.image_.getImage():null},p.prototype.getImageTransform=function(){return this.imageTransform_},p.prototype.prepareFrame=function(r,s){var u,p=r.pixelRatio,d=r.size,l=r.viewState,f=l.center,g=l.resolution,h=this.getLayer().getSource(),m=r.viewHints,v=this.vectorRenderer_,_=r.extent;if(v||void 0===s.extent||(_=(0,a.getIntersection)(_,s.extent)),!m[i.default.ANIMATING]&&!m[i.default.INTERACTING]&&!(0,a.isEmpty)(_)){var y=l.projection;if(!e.ENABLE_RASTER_REPROJECTION){var R=h.getProjection();R&&(y=R)}var j=this.skippedFeatures_;if(v){var T=v.context,I=(0,n.assign)({},r,{size:[(0,a.getWidth)(_)/g,(0,a.getHeight)(_)/g],viewState:(0,n.assign)({},r.viewState,{rotation:0})}),E=Object.keys(I.skippedFeatureUids).sort();u=new t.default(_,g,p,T.canvas,function(e){!v.prepareFrame(I,s)||!v.replayGroupChanged&&(0,o.equals)(j,E)||(T.canvas.width=I.size[0]*p,T.canvas.height=I.size[1]*p,v.compose(T,I,s),j=E,e())})}else u=h.getImage(_,g,p,y);u&&this.loadImage(u)&&(this.image_=u,this.skippedFeatures_=j)}if(this.image_){var C=(u=this.image_).getExtent(),q=u.getResolution(),x=u.getPixelRatio(),A=p*q/(g*x),w=(0,c.compose)(this.imageTransform_,p*d[0]/2,p*d[1]/2,A,A,0,x*(C[0]-f[0])/q,x*(f[1]-C[3])/q);(0,c.compose)(this.coordinateToCanvasPixelTransform,p*d[0]/2-w[4],p*d[1]/2-w[5],p/g,-p/g,0,-f[0],-f[1]),this.renderedResolution=q*p/x}return!!this.image_},p.prototype.forEachFeatureAtCoordinate=function(e,t,r,i){return this.vectorRenderer_?this.vectorRenderer_.forEachFeatureAtCoordinate(e,t,r,i):s.prototype.forEachFeatureAtCoordinate.call(this,e,t,r,i)},p}(p.default);l.handles=function(e){return e.getType()===r.default.IMAGE||e.getType()===r.default.VECTOR&&e.getRenderMode()===s.default.IMAGE},l.create=function(e,t){return new l(t)};var f=l;exports.default=f;
},{"../../reproj/common.js":"7f+F","../../ImageCanvas.js":"K7j2","../../LayerType.js":"8+bQ","../../ViewHint.js":"cuLW","../../array.js":"luEr","../../extent.js":"QDir","../../layer/VectorRenderType.js":"oqAD","../../obj.js":"mH6q","./Map.js":"vJhp","./IntermediateCanvas.js":"F9m+","../../transform.js":"P4eA"}],"346s":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.createOrUpdate=i,exports.default=void 0;var t=function(t,i,n,m){this.minX=t,this.maxX=i,this.minY=n,this.maxY=m};function i(i,n,m,e,s){return void 0!==s?(s.minX=i,s.maxX=n,s.minY=m,s.maxY=e,s):new t(i,n,m,e)}t.prototype.contains=function(t){return this.containsXY(t[1],t[2])},t.prototype.containsTileRange=function(t){return this.minX<=t.minX&&t.maxX<=this.maxX&&this.minY<=t.minY&&t.maxY<=this.maxY},t.prototype.containsXY=function(t,i){return this.minX<=t&&t<=this.maxX&&this.minY<=i&&i<=this.maxY},t.prototype.equals=function(t){return this.minX==t.minX&&this.minY==t.minY&&this.maxX==t.maxX&&this.maxY==t.maxY},t.prototype.extend=function(t){t.minX<this.minX&&(this.minX=t.minX),t.maxX>this.maxX&&(this.maxX=t.maxX),t.minY<this.minY&&(this.minY=t.minY),t.maxY>this.maxY&&(this.maxY=t.maxY)},t.prototype.getHeight=function(){return this.maxY-this.minY+1},t.prototype.getSize=function(){return[this.getWidth(),this.getHeight()]},t.prototype.getWidth=function(){return this.maxX-this.minX+1},t.prototype.intersects=function(t){return this.minX<=t.maxX&&this.maxX>=t.minX&&this.minY<=t.maxY&&this.maxY>=t.minY};var n=t;exports.default=n;
},{}],"hkM/":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("../../util.js"),t=d(require("../../LayerType.js")),i=d(require("../../TileRange.js")),r=d(require("../../TileState.js")),n=d(require("../../ViewHint.js")),o=require("../../dom.js"),s=require("../../extent.js"),a=d(require("./IntermediateCanvas.js")),l=require("../../transform.js");function d(e){return e&&e.__esModule?e:{default:e}}var h=function(t){function a(e,r){t.call(this,e),this.context=r?null:(0,o.createCanvasContext2D)(),this.oversampling_,this.renderedExtent_=null,this.renderedRevision,this.renderedTiles=[],this.newTiles_=!1,this.tmpExtent=(0,s.createEmpty)(),this.tmpTileRange_=new i.default(0,0,0,0),this.imageTransform_=(0,l.create)(),this.zDirection=0}return t&&(a.__proto__=t),a.prototype=Object.create(t&&t.prototype),a.prototype.constructor=a,a.prototype.isDrawableTile_=function(e){var t=this.getLayer(),i=e.getState(),n=t.getUseInterimTilesOnError();return i==r.default.LOADED||i==r.default.EMPTY||i==r.default.ERROR&&!n},a.prototype.getTile=function(e,t,i,n,o){var s=this.getLayer(),a=s.getSource().getTile(e,t,i,n,o);return a.getState()==r.default.ERROR&&(s.getUseInterimTilesOnError()?s.getPreload()>0&&(this.newTiles_=!0):a.setState(r.default.LOADED)),this.isDrawableTile_(a)||(a=a.getInterimTile()),a},a.prototype.prepareFrame=function(t,i){var o=t.pixelRatio,a=t.size,d=t.viewState,h=d.projection,u=d.resolution,g=d.center,c=this.getLayer(),T=c.getSource(),p=T.getRevision(),f=T.getTileGridForProjection(h),m=f.getZForResolution(u,this.zDirection),v=f.getResolution(m),x=Math.round(u/v)||1,_=t.extent;if(void 0!==i.extent&&(_=(0,s.getIntersection)(_,i.extent)),(0,s.isEmpty)(_))return!1;var R=f.getTileRangeForExtentAndZ(_,m),E=f.getTileRangeExtent(m,R),y=T.getTilePixelRatio(o),w={};w[m]={};var I,j,C,D=this.createLoadedTileFinder(T,h,w),S=t.viewHints,O=S[n.default.ANIMATING]||S[n.default.INTERACTING],P=this.tmpExtent,q=this.tmpTileRange_;for(this.newTiles_=!1,j=R.minX;j<=R.maxX;++j)for(C=R.minY;C<=R.maxY;++C)if(!(Date.now()-t.time>16&&O)){if(I=this.getTile(m,j,C,o,h),this.isDrawableTile_(I)){var A=(0,e.getUid)(this);if(I.getState()==r.default.LOADED){w[m][I.tileCoord.toString()]=I;var L=I.inTransition(A);this.newTiles_||!L&&-1!==this.renderedTiles.indexOf(I)||(this.newTiles_=!0)}if(1===I.getAlpha(A,t.time))continue}var b=f.getTileCoordChildTileRange(I.tileCoord,q,P),M=!1;b&&(M=D(m+1,b)),M||f.forEachTileCoordParentTileRange(I.tileCoord,D,null,q,P)}var F=v*o/y*x;if(!(this.renderedResolution&&Date.now()-t.time>16&&O)&&(this.newTiles_||!this.renderedExtent_||!(0,s.containsExtent)(this.renderedExtent_,_)||this.renderedRevision!=p||x!=this.oversampling_||!O&&F!=this.renderedResolution)){var z=this.context;if(z){var N=T.getTilePixelSize(m,o,h),U=Math.round(R.getWidth()*N[0]/x),G=Math.round(R.getHeight()*N[1]/x),H=z.canvas;H.width!=U||H.height!=G?(this.oversampling_=x,H.width=U,H.height=G):((this.renderedExtent_&&!(0,s.equals)(E,this.renderedExtent_)||this.renderedRevision!=p)&&z.clearRect(0,0,U,G),x=this.oversampling_)}this.renderedTiles.length=0;var Y,X,Z,k,V,W,B,J,K,Q,$=Object.keys(w).map(Number);for($.sort(function(e,t){return e===m?1:t===m?-1:e>t?1:e<t?-1:0}),k=0,V=$.length;k<V;++k)for(var ee in Z=$[k],X=T.getTilePixelSize(Z,o,h),Y=f.getResolution(Z)/v,B=y*T.getGutterForProjection(h),J=w[Z])I=J[ee],j=((W=f.getTileCoordExtent(I.getTileCoord(),P))[0]-E[0])/v*y/x,C=(E[3]-W[3])/v*y/x,K=X[0]*Y/x,Q=X[1]*Y/x,this.drawTileImage(I,t,i,j,C,K,Q,B,m===Z),this.renderedTiles.push(I);this.renderedRevision=p,this.renderedResolution=v*o/y*x,this.renderedExtent_=E}var te=this.renderedResolution/u,ie=(0,l.compose)(this.imageTransform_,o*a[0]/2,o*a[1]/2,te,te,0,(this.renderedExtent_[0]-g[0])/this.renderedResolution*o,(g[1]-this.renderedExtent_[3])/this.renderedResolution*o);return(0,l.compose)(this.coordinateToCanvasPixelTransform,o*a[0]/2-ie[4],o*a[1]/2-ie[5],o/u,-o/u,0,-g[0],-g[1]),this.updateUsedTiles(t.usedTiles,T,m,R),this.manageTilePyramid(t,T,f,o,h,_,m,c.getPreload()),this.scheduleExpireCache(t,T),this.renderedTiles.length>0},a.prototype.drawTileImage=function(t,i,r,n,o,s,a,l,d){var h=this.getTileImage(t);if(h){var u=(0,e.getUid)(this),g=d?t.getAlpha(u,i.time):1,c=this.getLayer().getSource();1!==g||c.getOpaque(i.viewState.projection)||this.context.clearRect(n,o,s,a);var T=g!==this.context.globalAlpha;T&&(this.context.save(),this.context.globalAlpha=g),this.context.drawImage(h,l,l,h.width-2*l,h.height-2*l,n,o,s,a),T&&this.context.restore(),1!==g?i.animate=!0:d&&t.endTransition(u)}},a.prototype.getImage=function(){var e=this.context;return e?e.canvas:null},a.prototype.getImageTransform=function(){return this.imageTransform_},a.prototype.getTileImage=function(e){return e.getImage()},a}(a.default);h.handles=function(e){return e.getType()===t.default.TILE},h.create=function(e,t){return new h(t)},h.prototype.getLayer;var u=h;exports.default=u;
},{"../../util.js":"KniQ","../../LayerType.js":"8+bQ","../../TileRange.js":"346s","../../TileState.js":"Xz9x","../../ViewHint.js":"cuLW","../../dom.js":"Xno5","../../extent.js":"QDir","./IntermediateCanvas.js":"F9m+","../../transform.js":"P4eA"}],"TK0U":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../util.js"),e=function(){};e.prototype.getReplay=function(e,r){return(0,t.abstract)()},e.prototype.isEmpty=function(){return(0,t.abstract)()},e.prototype.addDeclutter=function(e){return(0,t.abstract)()};var r=e;exports.default=r;
},{"../util.js":"KniQ"}],"D882":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={CIRCLE:"Circle",DEFAULT:"Default",IMAGE:"Image",LINE_STRING:"LineString",POLYGON:"Polygon",TEXT:"Text"};exports.default=e;
},{}],"JxN9":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.drawTextOnPath=a;var t=require("../../math.js");function a(a,r,h,e,M,o,s,n){for(var p,u,v,i=[],P=a[r]>a[h-e],f=M.length,l=a[r],I=a[r+1],w=a[r+=e],c=a[r+1],d=0,q=Math.sqrt(Math.pow(w-l,2)+Math.pow(c-I,2)),x="",b=0,j=0;j<f;++j){u=P?f-j-1:j;var O=M.charAt(u),_=o(x=P?O+x:x+O)-b;b+=_;for(var g=s+_/2;r<h-e&&d+q<g;)l=w,I=c,w=a[r+=e],c=a[r+1],d+=q,q=Math.sqrt(Math.pow(w-l,2)+Math.pow(c-I,2));var m=g-d,y=Math.atan2(c-I,w-l);if(P&&(y+=y>0?-Math.PI:Math.PI),void 0!==v){var A=y-v;if(A+=A>Math.PI?-2*Math.PI:A<-Math.PI?2*Math.PI:0,Math.abs(A)>n)return null}var T=m/q,k=(0,t.lerp)(l,w,T),z=(0,t.lerp)(I,c,T);v==y?(P&&(p[0]=k,p[1]=z,p[2]=_/2),p[4]=x):(b=_,p=[k,z,_/2,y,x=O],P?i.unshift(p):i.push(p),v=y),s+=_}return i}
},{"../../math.js":"B96G"}],"kTJv":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.closePathInstruction=exports.beginPathInstruction=exports.strokeInstruction=exports.fillInstruction=void 0;var t={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},r=[t.FILL];exports.fillInstruction=r;var e=[t.STROKE];exports.strokeInstruction=e;var o=[t.BEGIN_PATH];exports.beginPathInstruction=o;var s=[t.CLOSE_PATH];exports.closePathInstruction=s;var E=t;exports.default=E;
},{}],"FzwX":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.TEXT_ALIGN=exports.ORDER=void 0;var e=t(require("./ReplayType.js"));function t(e){return e&&e.__esModule?e:{default:e}}var r=[e.default.POLYGON,e.default.CIRCLE,e.default.LINE_STRING,e.default.IMAGE,e.default.TEXT,e.default.DEFAULT];exports.ORDER=r;var a={};exports.TEXT_ALIGN=a,a.left=0,a.end=0,a.center=.5,a.right=1,a.start=1,a.top=0,a.middle=.5,a.hanging=.2,a.alphabetic=.8,a.ideographic=.8,a.bottom=1;
},{"./ReplayType.js":"D882"}],"zweS":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../../util.js"),e=require("../../array.js"),i=require("../../colorlike.js"),r=require("../../extent.js"),n=g(require("../../extent/Relationship.js")),o=g(require("../../geom/GeometryType.js")),a=require("../../geom/flat/inflate.js"),s=require("../../geom/flat/length.js"),l=require("../../geom/flat/textpath.js"),h=require("../../geom/flat/transform.js"),u=require("../../has.js"),d=require("../../obj.js"),f=g(require("../VectorContext.js")),p=require("../canvas.js"),c=g(require("./Instruction.js")),y=require("../replay.js"),_=require("../../transform.js");function g(t){return t&&t.__esModule?t:{default:t}}var v=(0,r.createEmpty)(),m=(0,_.create)(),x=function(f){function g(t,e,i,r,n,o){f.call(this),this.declutterTree=o,this.tolerance=t,this.maxExtent=e,this.overlaps=n,this.pixelRatio=r,this.maxLineWidth=0,this.resolution=i,this.alignFill_,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_=null,this.bufferedMaxExtent_=null,this.instructions=[],this.coordinates=[],this.coordinateCache_={},this.renderedTransform_=(0,_.create)(),this.hitDetectionInstructions=[],this.pixelCoordinates_=null,this.state={},this.viewRotation_=0}return f&&(g.__proto__=f),g.prototype=Object.create(f&&f.prototype),g.prototype.constructor=g,g.prototype.replayTextBackground_=function(t,e,i,r,n,o,a){t.beginPath(),t.moveTo.apply(t,e),t.lineTo.apply(t,i),t.lineTo.apply(t,r),t.lineTo.apply(t,n),t.lineTo.apply(t,e),o&&(this.alignFill_=o[2],this.fill_(t)),a&&(this.setStrokeStyle_(t,a),t.stroke())},g.prototype.replayImage_=function(t,e,i,n,o,a,s,l,h,u,d,f,c,y,g,x,E,L){var T=E||L;e-=o*=c,i-=a*=c;var S,C,I,O,k=g+u>n.width?n.width-u:g,b=l+d>n.height?n.height-d:l,D=x[3]+k*c+x[1],G=x[0]+b*c+x[2],M=e-x[3],R=i-x[0];(T||0!==f)&&(S=[M,R],C=[M+D,R],I=[M+D,R+G],O=[M,R+G]);var N=null;if(0!==f){var F=e+o,j=i+a;N=(0,_.compose)(m,F,j,1,1,f,-F,-j),(0,r.createOrUpdateEmpty)(v),(0,r.extendCoordinate)(v,(0,_.apply)(m,S)),(0,r.extendCoordinate)(v,(0,_.apply)(m,C)),(0,r.extendCoordinate)(v,(0,_.apply)(m,I)),(0,r.extendCoordinate)(v,(0,_.apply)(m,O))}else(0,r.createOrUpdate)(M,R,M+D,R+G,v);var q=t.canvas,w=L?L[2]*c/2:0,P=v[0]-w<=q.width&&v[2]+w>=0&&v[1]-w<=q.height&&v[3]+w>=0;if(y&&(e=Math.round(e),i=Math.round(i)),s){if(!P&&1==s[4])return;(0,r.extend)(s,v);var W=P?[t,N?N.slice(0):null,h,n,u,d,k,b,e,i,c]:null;W&&T&&W.push(E,L,S,C,I,O),s.push(W)}else P&&(T&&this.replayTextBackground_(t,S,C,I,O,E,L),(0,p.drawImage)(t,N,h,n,u,d,k,b,e,i,c))},g.prototype.applyPixelRatio=function(t){var e=this.pixelRatio;return 1==e?t:t.map(function(t){return t*e})},g.prototype.appendFlatCoordinates=function(t,e,i,o,a,s){var l=this.coordinates.length,h=this.getBufferedMaxExtent();s&&(e+=o);var u,d,f,p=[t[e],t[e+1]],c=[NaN,NaN],y=!0;for(u=e+o;u<i;u+=o)c[0]=t[u],c[1]=t[u+1],(f=(0,r.coordinateRelationship)(h,c))!==d?(y&&(this.coordinates[l++]=p[0],this.coordinates[l++]=p[1]),this.coordinates[l++]=c[0],this.coordinates[l++]=c[1],y=!1):f===n.default.INTERSECTING?(this.coordinates[l++]=c[0],this.coordinates[l++]=c[1],y=!1):y=!0,p[0]=c[0],p[1]=c[1],d=f;return(a&&y||u===e+o)&&(this.coordinates[l++]=p[0],this.coordinates[l++]=p[1]),l},g.prototype.drawCustomCoordinates_=function(t,e,i,r,n){for(var o=0,a=i.length;o<a;++o){var s=i[o],l=this.appendFlatCoordinates(t,e,s,r,!1,!1);n.push(l),e=s}return e},g.prototype.drawCustom=function(t,e,i){this.beginGeometry(t,e);var r,n,s,l,h,u=t.getType(),d=t.getStride(),f=this.coordinates.length;if(u==o.default.MULTI_POLYGON){r=(t=t).getOrientedFlatCoordinates(),l=[];var p=t.getEndss();h=0;for(var y=0,_=p.length;y<_;++y){var g=[];h=this.drawCustomCoordinates_(r,h,p[y],d,g),l.push(g)}this.instructions.push([c.default.CUSTOM,f,l,t,i,a.inflateMultiCoordinatesArray])}else u==o.default.POLYGON||u==o.default.MULTI_LINE_STRING?(s=[],r=u==o.default.POLYGON?t.getOrientedFlatCoordinates():t.getFlatCoordinates(),h=this.drawCustomCoordinates_(r,0,t.getEnds(),d,s),this.instructions.push([c.default.CUSTOM,f,s,t,i,a.inflateCoordinatesArray])):u==o.default.LINE_STRING||u==o.default.MULTI_POINT?(r=t.getFlatCoordinates(),n=this.appendFlatCoordinates(r,0,r.length,d,!1,!1),this.instructions.push([c.default.CUSTOM,f,n,t,i,a.inflateCoordinates])):u==o.default.POINT&&(r=t.getFlatCoordinates(),this.coordinates.push(r[0],r[1]),n=this.coordinates.length,this.instructions.push([c.default.CUSTOM,f,n,t,i]));this.endGeometry(t,e)},g.prototype.beginGeometry=function(t,e){this.beginGeometryInstruction1_=[c.default.BEGIN_GEOMETRY,e,0],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[c.default.BEGIN_GEOMETRY,e,0],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)},g.prototype.finish=function(){},g.prototype.fill_=function(t){if(this.alignFill_){var e=(0,_.apply)(this.renderedTransform_,[0,0]),i=512*this.pixelRatio;t.translate(e[0]%i,e[1]%i),t.rotate(this.viewRotation_)}t.fill(),this.alignFill_&&t.setTransform.apply(t,p.resetTransform)},g.prototype.setStrokeStyle_=function(t,e){t.strokeStyle=e[1],t.lineWidth=e[2],t.lineCap=e[3],t.lineJoin=e[4],t.miterLimit=e[5],u.CANVAS_LINE_DASH&&(t.lineDashOffset=e[7],t.setLineDash(e[6]))},g.prototype.renderDeclutter_=function(t,e){if(t&&t.length>5){var i=t[4];if(1==i||i==t.length-5){var n={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3],value:e};if(!this.declutterTree.collides(n)){this.declutterTree.insert(n);for(var o=5,a=t.length;o<a;++o){var s=t[o];s&&(s.length>11&&this.replayTextBackground_(s[0],s[13],s[14],s[15],s[16],s[11],s[12]),p.drawImage.apply(void 0,s))}}t.length=5,(0,r.createOrUpdateEmpty)(t)}}},g.prototype.replay_=function(i,n,o,a,u,f,g){var v;this.pixelCoordinates_&&(0,e.equals)(n,this.renderedTransform_)?v=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),v=(0,h.transform2D)(this.coordinates,0,this.coordinates.length,2,n,this.pixelCoordinates_),(0,_.setFromArray)(this.renderedTransform_,n));for(var m,x,E,L,T,S,C,I,O,k,b,D,G=!(0,d.isEmpty)(o),M=0,R=a.length,N=0,F=0,j=0,q=null,w=null,P=this.coordinateCache_,W=this.viewRotation_,Y={context:i,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:W},A=this.instructions!=a||this.overlaps?0:200;M<R;){var U=a[M];switch(U[0]){case c.default.BEGIN_GEOMETRY:k=U[1],G&&o[(0,t.getUid)(k)]||!k.getGeometry()?M=U[2]:void 0===g||(0,r.intersects)(g,k.getGeometry().getExtent())?++M:M=U[2]+1;break;case c.default.BEGIN_PATH:F>A&&(this.fill_(i),F=0),j>A&&(i.stroke(),j=0),F||j||(i.beginPath(),L=T=NaN),++M;break;case c.default.CIRCLE:var B=v[N=U[1]],J=v[N+1],H=v[N+2]-B,K=v[N+3]-J,V=Math.sqrt(H*H+K*K);i.moveTo(B+V,J),i.arc(B,J,V,0,2*Math.PI,!0),++M;break;case c.default.CLOSE_PATH:i.closePath(),++M;break;case c.default.CUSTOM:N=U[1],m=U[2];var X=U[3],z=U[4],Q=6==U.length?U[5]:void 0;Y.geometry=X,Y.feature=k,M in P||(P[M]=[]);var Z=P[M];Q?Q(v,N,m,2,Z):(Z[0]=v[N],Z[1]=v[N+1],Z.length=2),z(Z,Y),++M;break;case c.default.DRAW_IMAGE:N=U[1],m=U[2],O=U[3],x=U[4],E=U[5],I=f?null:U[6];var $=U[7],tt=U[8],et=U[9],it=U[10],rt=U[11],nt=U[12],ot=U[13],at=U[14],st=void 0,lt=void 0,ht=void 0;for(U.length>16?(st=U[15],lt=U[16],ht=U[17]):(st=p.defaultPadding,lt=ht=!1),rt&&(nt+=W);N<m;N+=2)this.replayImage_(i,v[N],v[N+1],O,x,E,I,$,tt,et,it,nt,ot,u,at,st,lt?q:null,ht?w:null);this.renderDeclutter_(I,k),++M;break;case c.default.DRAW_CHARS:var ut=U[1],dt=U[2],ft=U[3];I=f?null:U[4];var pt=U[5],ct=U[6],yt=U[7],_t=U[8],gt=U[9],vt=U[10],mt=U[11],xt=U[12],Et=U[13],Lt=U[14],Tt=(0,s.lineStringLength)(v,ut,dt,2),St=_t(xt);if(pt||St<=Tt){var Ct=this.textStates[Et].textAlign,It=(Tt-St)*y.TEXT_ALIGN[Ct],Ot=(0,l.drawTextOnPath)(v,ut,dt,2,xt,_t,It,yt);if(Ot){var kt=void 0,bt=void 0,Dt=void 0,Gt=void 0,Mt=void 0;if(vt)for(kt=0,bt=Ot.length;kt<bt;++kt)Dt=(Mt=Ot[kt])[4],Gt=this.getImage(Dt,Et,"",vt),x=Mt[2]+mt,E=ft*Gt.height+2*(.5-ft)*mt-gt,this.replayImage_(i,Mt[0],Mt[1],Gt,x,E,I,Gt.height,1,0,0,Mt[3],Lt,!1,Gt.width,p.defaultPadding,null,null);if(ct)for(kt=0,bt=Ot.length;kt<bt;++kt)Dt=(Mt=Ot[kt])[4],Gt=this.getImage(Dt,Et,ct,""),x=Mt[2],E=ft*Gt.height-gt,this.replayImage_(i,Mt[0],Mt[1],Gt,x,E,I,Gt.height,1,0,0,Mt[3],Lt,!1,Gt.width,p.defaultPadding,null,null)}}this.renderDeclutter_(I,k),++M;break;case c.default.END_GEOMETRY:if(void 0!==f){var Rt=f(k=U[1]);if(Rt)return Rt}++M;break;case c.default.FILL:A?F++:this.fill_(i),++M;break;case c.default.MOVE_TO_LINE_TO:for(N=U[1],m=U[2],b=v[N],C=(D=v[N+1])+.5|0,(S=b+.5|0)===L&&C===T||(i.moveTo(b,D),L=S,T=C),N+=2;N<m;N+=2)S=(b=v[N])+.5|0,C=(D=v[N+1])+.5|0,N!=m-2&&S===L&&C===T||(i.lineTo(b,D),L=S,T=C);++M;break;case c.default.SET_FILL_STYLE:q=U,this.alignFill_=U[2],F&&(this.fill_(i),F=0,j&&(i.stroke(),j=0)),i.fillStyle=U[1],++M;break;case c.default.SET_STROKE_STYLE:w=U,j&&(i.stroke(),j=0),this.setStrokeStyle_(i,U),++M;break;case c.default.STROKE:A?j++:i.stroke(),++M;break;default:++M}}F&&this.fill_(i),j&&i.stroke()},g.prototype.replay=function(t,e,i,r,n){this.viewRotation_=i,this.replay_(t,e,r,this.instructions,n,void 0,void 0)},g.prototype.replayHitDetection=function(t,e,i,r,n,o){return this.viewRotation_=i,this.replay_(t,e,r,this.hitDetectionInstructions,!0,n,o)},g.prototype.reverseHitDetectionInstructions=function(){var t,i=this.hitDetectionInstructions;i.reverse();var r,n,o=i.length,a=-1;for(t=0;t<o;++t)(n=(r=i[t])[0])==c.default.END_GEOMETRY?a=t:n==c.default.BEGIN_GEOMETRY&&(r[2]=t,(0,e.reverseSubArray)(this.hitDetectionInstructions,a,t),a=-1)},g.prototype.setFillStrokeStyle=function(t,e){var r=this.state;if(t){var n=t.getColor();r.fillStyle=(0,i.asColorLike)(n||p.defaultFillStyle)}else r.fillStyle=void 0;if(e){var o=e.getColor();r.strokeStyle=(0,i.asColorLike)(o||p.defaultStrokeStyle);var a=e.getLineCap();r.lineCap=void 0!==a?a:p.defaultLineCap;var s=e.getLineDash();r.lineDash=s?s.slice():p.defaultLineDash;var l=e.getLineDashOffset();r.lineDashOffset=l||p.defaultLineDashOffset;var h=e.getLineJoin();r.lineJoin=void 0!==h?h:p.defaultLineJoin;var u=e.getWidth();r.lineWidth=void 0!==u?u:p.defaultLineWidth;var d=e.getMiterLimit();r.miterLimit=void 0!==d?d:p.defaultMiterLimit,r.lineWidth>this.maxLineWidth&&(this.maxLineWidth=r.lineWidth,this.bufferedMaxExtent_=null)}else r.strokeStyle=void 0,r.lineCap=void 0,r.lineDash=null,r.lineDashOffset=void 0,r.lineJoin=void 0,r.lineWidth=void 0,r.miterLimit=void 0},g.prototype.createFill=function(t,e){var i=t.fillStyle,r=[c.default.SET_FILL_STYLE,i];return"string"!=typeof i&&r.push(!0),r},g.prototype.applyStroke=function(t){this.instructions.push(this.createStroke(t))},g.prototype.createStroke=function(t){return[c.default.SET_STROKE_STYLE,t.strokeStyle,t.lineWidth*this.pixelRatio,t.lineCap,t.lineJoin,t.miterLimit,this.applyPixelRatio(t.lineDash),t.lineDashOffset*this.pixelRatio]},g.prototype.updateFillStyle=function(t,e,i){var r=t.fillStyle;"string"==typeof r&&t.currentFillStyle==r||(void 0!==r&&this.instructions.push(e.call(this,t,i)),t.currentFillStyle=r)},g.prototype.updateStrokeStyle=function(t,i){var r=t.strokeStyle,n=t.lineCap,o=t.lineDash,a=t.lineDashOffset,s=t.lineJoin,l=t.lineWidth,h=t.miterLimit;(t.currentStrokeStyle!=r||t.currentLineCap!=n||o!=t.currentLineDash&&!(0,e.equals)(t.currentLineDash,o)||t.currentLineDashOffset!=a||t.currentLineJoin!=s||t.currentLineWidth!=l||t.currentMiterLimit!=h)&&(void 0!==r&&i.call(this,t),t.currentStrokeStyle=r,t.currentLineCap=n,t.currentLineDash=o,t.currentLineDashOffset=a,t.currentLineJoin=s,t.currentLineWidth=l,t.currentMiterLimit=h)},g.prototype.endGeometry=function(t,e){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;var i=[c.default.END_GEOMETRY,e];this.instructions.push(i),this.hitDetectionInstructions.push(i)},g.prototype.getBufferedMaxExtent=function(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=(0,r.clone)(this.maxExtent),this.maxLineWidth>0)){var t=this.resolution*(this.maxLineWidth+1)/2;(0,r.buffer)(this.bufferedMaxExtent_,t,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_},g}(f.default),E=x;exports.default=E;
},{"../../util.js":"KniQ","../../array.js":"luEr","../../colorlike.js":"V5+X","../../extent.js":"QDir","../../extent/Relationship.js":"bUAS","../../geom/GeometryType.js":"lmV0","../../geom/flat/inflate.js":"znXl","../../geom/flat/length.js":"ZZrx","../../geom/flat/textpath.js":"JxN9","../../geom/flat/transform.js":"LGwr","../../has.js":"f3Nv","../../obj.js":"mH6q","../VectorContext.js":"4LQ/","../canvas.js":"iAG7","./Instruction.js":"kTJv","../replay.js":"FzwX","../../transform.js":"P4eA"}],"+3Nw":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=h(require("./Instruction.js")),i=h(require("./Replay.js"));function h(t){return t&&t.__esModule?t:{default:t}}var e=function(i){function h(t,h,e,o,s,r){i.call(this,t,h,e,o,s,r),this.declutterGroup_=null,this.hitDetectionImage_=null,this.image_=null,this.anchorX_=void 0,this.anchorY_=void 0,this.height_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.scale_=void 0,this.width_=void 0}return i&&(h.__proto__=i),h.prototype=Object.create(i&&i.prototype),h.prototype.constructor=h,h.prototype.drawCoordinates_=function(t,i,h,e){return this.appendFlatCoordinates(t,i,h,e,!1,!1)},h.prototype.drawPoint=function(i,h){if(this.image_){this.beginGeometry(i,h);var e=i.getFlatCoordinates(),o=i.getStride(),s=this.coordinates.length,r=this.drawCoordinates_(e,0,e.length,o);this.instructions.push([t.default.DRAW_IMAGE,s,r,this.image_,this.anchorX_,this.anchorY_,this.declutterGroup_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_*this.pixelRatio,this.width_]),this.hitDetectionInstructions.push([t.default.DRAW_IMAGE,s,r,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.declutterGroup_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_]),this.endGeometry(i,h)}},h.prototype.drawMultiPoint=function(i,h){if(this.image_){this.beginGeometry(i,h);var e=i.getFlatCoordinates(),o=i.getStride(),s=this.coordinates.length,r=this.drawCoordinates_(e,0,e.length,o);this.instructions.push([t.default.DRAW_IMAGE,s,r,this.image_,this.anchorX_,this.anchorY_,this.declutterGroup_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_*this.pixelRatio,this.width_]),this.hitDetectionInstructions.push([t.default.DRAW_IMAGE,s,r,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.declutterGroup_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_]),this.endGeometry(i,h)}},h.prototype.finish=function(){this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0},h.prototype.setImageStyle=function(t,i){var h=t.getAnchor(),e=t.getSize(),o=t.getHitDetectionImage(1),s=t.getImage(1),r=t.getOrigin();this.anchorX_=h[0],this.anchorY_=h[1],this.declutterGroup_=i,this.hitDetectionImage_=o,this.image_=s,this.height_=e[1],this.opacity_=t.getOpacity(),this.originX_=r[0],this.originY_=r[1],this.rotateWithView_=t.getRotateWithView(),this.rotation_=t.getRotation(),this.scale_=t.getScale(),this.width_=e[0]},h}(i.default),o=e;exports.default=o;
},{"./Instruction.js":"kTJv","./Replay.js":"zweS"}],"Z7Pq":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=r(require("./Instruction.js")),e=i(require("./Replay.js"));function i(t){return t&&t.__esModule?t:{default:t}}function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,i):{};r.get||r.set?Object.defineProperty(e,i,r):e[i]=t[i]}return e.default=t,e}var o=function(e){function i(t,i,r,o,n,s){e.call(this,t,i,r,o,n,s)}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.drawFlatCoordinates_=function(e,i,r,o){var n=this.coordinates.length,s=this.appendFlatCoordinates(e,i,r,o,!1,!1),a=[t.default.MOVE_TO_LINE_TO,n,s];return this.instructions.push(a),this.hitDetectionInstructions.push(a),r},i.prototype.drawLineString=function(e,i){var r=this.state,o=r.strokeStyle,n=r.lineWidth;if(void 0!==o&&void 0!==n){this.updateStrokeStyle(r,this.applyStroke),this.beginGeometry(e,i),this.hitDetectionInstructions.push([t.default.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,r.lineDash,r.lineDashOffset],t.beginPathInstruction);var s=e.getFlatCoordinates(),a=e.getStride();this.drawFlatCoordinates_(s,0,s.length,a),this.hitDetectionInstructions.push(t.strokeInstruction),this.endGeometry(e,i)}},i.prototype.drawMultiLineString=function(e,i){var r=this.state,o=r.strokeStyle,n=r.lineWidth;if(void 0!==o&&void 0!==n){this.updateStrokeStyle(r,this.applyStroke),this.beginGeometry(e,i),this.hitDetectionInstructions.push([t.default.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,r.lineDash,r.lineDashOffset],t.beginPathInstruction);for(var s=e.getEnds(),a=e.getFlatCoordinates(),l=e.getStride(),h=0,u=0,p=s.length;u<p;++u)h=this.drawFlatCoordinates_(a,h,s[u],l);this.hitDetectionInstructions.push(t.strokeInstruction),this.endGeometry(e,i)}},i.prototype.finish=function(){var e=this.state;null!=e.lastStroke&&e.lastStroke!=this.coordinates.length&&this.instructions.push(t.strokeInstruction),this.reverseHitDetectionInstructions(),this.state=null},i.prototype.applyStroke=function(i){null!=i.lastStroke&&i.lastStroke!=this.coordinates.length&&(this.instructions.push(t.strokeInstruction),i.lastStroke=this.coordinates.length),i.lastStroke=0,e.prototype.applyStroke.call(this,i),this.instructions.push(t.beginPathInstruction)},i}(e.default),n=o;exports.default=n;
},{"./Instruction.js":"kTJv","./Replay.js":"zweS"}],"s4Hb":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../../color.js"),e=require("../../geom/flat/simplify.js"),i=require("../canvas.js"),s=r(require("./Instruction.js")),n=o(require("./Replay.js"));function o(t){return t&&t.__esModule?t:{default:t}}function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var s=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,i):{};s.get||s.set?Object.defineProperty(e,i,s):e[i]=t[i]}return e.default=t,e}var l=function(n){function o(t,e,i,s,o,r){n.call(this,t,e,i,s,o,r)}return n&&(o.__proto__=n),o.prototype=Object.create(n&&n.prototype),o.prototype.constructor=o,o.prototype.drawFlatCoordinatess_=function(t,e,i,n){var o=this.state,r=void 0!==o.fillStyle,l=null!=o.strokeStyle,h=i.length;this.instructions.push(s.beginPathInstruction),this.hitDetectionInstructions.push(s.beginPathInstruction);for(var u=0;u<h;++u){var a=i[u],c=this.coordinates.length,d=this.appendFlatCoordinates(t,e,a,n,!0,!l),p=[s.default.MOVE_TO_LINE_TO,c,d];this.instructions.push(p),this.hitDetectionInstructions.push(p),l&&(this.instructions.push(s.closePathInstruction),this.hitDetectionInstructions.push(s.closePathInstruction)),e=a}return r&&(this.instructions.push(s.fillInstruction),this.hitDetectionInstructions.push(s.fillInstruction)),l&&(this.instructions.push(s.strokeInstruction),this.hitDetectionInstructions.push(s.strokeInstruction)),e},o.prototype.drawCircle=function(e,n){var o=this.state,r=o.fillStyle,l=o.strokeStyle;if(void 0!==r||void 0!==l){this.setFillStrokeStyles_(e),this.beginGeometry(e,n),void 0!==o.fillStyle&&this.hitDetectionInstructions.push([s.default.SET_FILL_STYLE,(0,t.asString)(i.defaultFillStyle)]),void 0!==o.strokeStyle&&this.hitDetectionInstructions.push([s.default.SET_STROKE_STYLE,o.strokeStyle,o.lineWidth,o.lineCap,o.lineJoin,o.miterLimit,o.lineDash,o.lineDashOffset]);var h=e.getFlatCoordinates(),u=e.getStride(),a=this.coordinates.length;this.appendFlatCoordinates(h,0,h.length,u,!1,!1);var c=[s.default.CIRCLE,a];this.instructions.push(s.beginPathInstruction,c),this.hitDetectionInstructions.push(s.beginPathInstruction,c),this.hitDetectionInstructions.push(s.fillInstruction),void 0!==o.fillStyle&&this.instructions.push(s.fillInstruction),void 0!==o.strokeStyle&&(this.instructions.push(s.strokeInstruction),this.hitDetectionInstructions.push(s.strokeInstruction)),this.endGeometry(e,n)}},o.prototype.drawPolygon=function(e,n){var o=this.state,r=o.fillStyle,l=o.strokeStyle;if(void 0!==r||void 0!==l){this.setFillStrokeStyles_(e),this.beginGeometry(e,n),void 0!==o.fillStyle&&this.hitDetectionInstructions.push([s.default.SET_FILL_STYLE,(0,t.asString)(i.defaultFillStyle)]),void 0!==o.strokeStyle&&this.hitDetectionInstructions.push([s.default.SET_STROKE_STYLE,o.strokeStyle,o.lineWidth,o.lineCap,o.lineJoin,o.miterLimit,o.lineDash,o.lineDashOffset]);var h=e.getEnds(),u=e.getOrientedFlatCoordinates(),a=e.getStride();this.drawFlatCoordinatess_(u,0,h,a),this.endGeometry(e,n)}},o.prototype.drawMultiPolygon=function(e,n){var o=this.state,r=o.fillStyle,l=o.strokeStyle;if(void 0!==r||void 0!==l){this.setFillStrokeStyles_(e),this.beginGeometry(e,n),void 0!==o.fillStyle&&this.hitDetectionInstructions.push([s.default.SET_FILL_STYLE,(0,t.asString)(i.defaultFillStyle)]),void 0!==o.strokeStyle&&this.hitDetectionInstructions.push([s.default.SET_STROKE_STYLE,o.strokeStyle,o.lineWidth,o.lineCap,o.lineJoin,o.miterLimit,o.lineDash,o.lineDashOffset]);for(var h=e.getEndss(),u=e.getOrientedFlatCoordinates(),a=e.getStride(),c=0,d=0,p=h.length;d<p;++d)c=this.drawFlatCoordinatess_(u,c,h[d],a);this.endGeometry(e,n)}},o.prototype.finish=function(){this.reverseHitDetectionInstructions(),this.state=null;var t=this.tolerance;if(0!==t)for(var i=this.coordinates,s=0,n=i.length;s<n;++s)i[s]=(0,e.snap)(i[s],t)},o.prototype.setFillStrokeStyles_=function(t){var e=this.state;void 0!==e.fillStyle&&this.updateFillStyle(e,this.createFill,t),void 0!==e.strokeStyle&&this.updateStrokeStyle(e,this.applyStroke)},o}(n.default),h=l;exports.default=h;
},{"../../color.js":"eucy","../../geom/flat/simplify.js":"IEpt","../canvas.js":"iAG7","./Instruction.js":"kTJv","./Replay.js":"zweS"}],"96hC":[function(require,module,exports) {
"use strict";function t(t,e,r,o,a){var s,i,n,u,c,v,d,h,f,p=r,M=r,l=0,x=0,_=r;for(s=r;s<o;s+=a){var b=e[s],g=e[s+1];void 0!==u&&(h=b-u,f=g-c,n=Math.sqrt(h*h+f*f),void 0!==v&&(x+=i,Math.acos((v*h+d*f)/(i*n))>t&&(x>l&&(l=x,p=_,M=s),x=0,_=s-a)),i=n,v=h,d=f),u=b,c=g}return(x+=n)>l?[_,s]:[p,M]}Object.defineProperty(exports,"__esModule",{value:!0}),exports.matchingChunk=t;
},{}],"0Bp2":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.measureTextWidths=x,exports.default=void 0;var t=require("../../util.js"),e=require("../../colorlike.js"),i=require("../../dom.js"),s=require("../../extent.js"),l=require("../../geom/flat/straightchunk.js"),a=d(require("../../geom/GeometryType.js")),n=require("../../has.js"),r=require("../canvas.js"),o=d(require("./Instruction.js")),h=d(require("./Replay.js")),f=require("../replay.js"),u=d(require("../../style/TextPlacement.js"));function d(t){return t&&t.__esModule?t:{default:t}}var g=function(h){function d(t,e,i,s,l,a){h.call(this,t,e,i,s,l,a),this.declutterGroup_,this.labels_=null,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=void 0,this.textRotation_=0,this.textFillState_=null,this.fillStates={},this.textStrokeState_=null,this.strokeStates={},this.textState_={},this.textStates={},this.textKey_="",this.fillKey_="",this.strokeKey_="",this.widths_={},r.labelCache.prune()}return h&&(d.__proto__=h),d.prototype=Object.create(h&&h.prototype),d.prototype.constructor=d,d.prototype.drawText=function(t,e){var i=this.textFillState_,n=this.textStrokeState_,r=this.textState_;if(""!==this.text_&&r&&(i||n)){var o,h,f=this.coordinates.length,d=t.getType(),g=null,x=2,_=2;if(r.placement===u.default.LINE){if(!(0,s.intersects)(this.getBufferedMaxExtent(),t.getExtent()))return;var c;if(g=t.getFlatCoordinates(),_=t.getStride(),d==a.default.LINE_STRING)c=[g.length];else if(d==a.default.MULTI_LINE_STRING)c=t.getEnds();else if(d==a.default.POLYGON)c=t.getEnds().slice(0,1);else if(d==a.default.MULTI_POLYGON){var S=t.getEndss();for(c=[],o=0,h=S.length;o<h;++o)c.push(S[o][0])}this.beginGeometry(t,e);for(var p,k=r.textAlign,y=0,v=0,m=c.length;v<m;++v){if(null==k){var L=(0,l.matchingChunk)(r.maxAngle,g,y,c[v],_);y=L[0],p=L[1]}else p=c[v];for(o=y;o<p;o+=_)this.coordinates.push(g[o],g[o+1]);x=this.coordinates.length,y=c[v],this.drawChars_(f,x,this.declutterGroup_),f=x}this.endGeometry(t,e)}else{var T=this.getImage(this.text_,this.textKey_,this.fillKey_,this.strokeKey_),I=T.width/this.pixelRatio;switch(d){case a.default.POINT:case a.default.MULTI_POINT:x=(g=t.getFlatCoordinates()).length;break;case a.default.LINE_STRING:g=t.getFlatMidpoint();break;case a.default.CIRCLE:g=t.getCenter();break;case a.default.MULTI_LINE_STRING:x=(g=t.getFlatMidpoints()).length;break;case a.default.POLYGON:if(g=t.getFlatInteriorPoint(),!r.overflow&&g[2]/this.resolution<I)return;_=3;break;case a.default.MULTI_POLYGON:var A=t.getFlatInteriorPoints();for(g=[],o=0,h=A.length;o<h;o+=3)(r.overflow||A[o+2]/this.resolution>=I)&&g.push(A[o],A[o+1]);if(0==(x=g.length))return}x=this.appendFlatCoordinates(g,0,x,_,!1,!1),(r.backgroundFill||r.backgroundStroke)&&(this.setFillStrokeStyle(r.backgroundFill,r.backgroundStroke),r.backgroundFill&&(this.updateFillStyle(this.state,this.createFill,t),this.hitDetectionInstructions.push(this.createFill(this.state,t))),r.backgroundStroke&&(this.updateStrokeStyle(this.state,this.applyStroke),this.hitDetectionInstructions.push(this.createStroke(this.state)))),this.beginGeometry(t,e),this.drawTextImage_(T,f,x),this.endGeometry(t,e)}}},d.prototype.getImage=function(t,e,s,l){var a,o=l+e+t+s+this.pixelRatio;if(!r.labelCache.containsKey(o)){var h=l?this.strokeStates[l]||this.textStrokeState_:null,u=s?this.fillStates[s]||this.textFillState_:null,d=this.textStates[e]||this.textState_,g=this.pixelRatio,_=d.scale*g,c=f.TEXT_ALIGN[d.textAlign||r.defaultTextAlign],S=l&&h.lineWidth?h.lineWidth:0,p=t.split("\n"),k=p.length,y=[],v=x(d.font,p,y),m=(0,r.measureTextHeight)(d.font),L=m*k,T=v+S,I=(0,i.createCanvasContext2D)(Math.ceil(T*_),Math.ceil((L+S)*_));a=I.canvas,r.labelCache.set(o,a),1!=_&&I.scale(_,_),I.font=d.font,l&&(I.strokeStyle=h.strokeStyle,I.lineWidth=S,I.lineCap=h.lineCap,I.lineJoin=h.lineJoin,I.miterLimit=h.miterLimit,n.CANVAS_LINE_DASH&&h.lineDash.length&&(I.setLineDash(h.lineDash),I.lineDashOffset=h.lineDashOffset)),s&&(I.fillStyle=u.fillStyle),I.textBaseline="middle",I.textAlign="center";var A,O=.5-c,C=c*a.width/_+O*S;if(l)for(A=0;A<k;++A)I.strokeText(p[A],C+O*y[A],.5*(S+m)+A*m);if(s)for(A=0;A<k;++A)I.fillText(p[A],C+O*y[A],.5*(S+m)+A*m)}return r.labelCache.get(o)},d.prototype.drawTextImage_=function(t,e,i){var s=this.textState_,l=this.textStrokeState_,a=this.pixelRatio,n=f.TEXT_ALIGN[s.textAlign||r.defaultTextAlign],h=f.TEXT_ALIGN[s.textBaseline],u=l&&l.lineWidth?l.lineWidth:0,d=n*t.width/a+2*(.5-n)*u,g=h*t.height/a+2*(.5-h)*u;this.instructions.push([o.default.DRAW_IMAGE,e,i,t,(d-this.textOffsetX_)*a,(g-this.textOffsetY_)*a,this.declutterGroup_,t.height,1,0,0,this.textRotateWithView_,this.textRotation_,1,t.width,s.padding==r.defaultPadding?r.defaultPadding:s.padding.map(function(t){return t*a}),!!s.backgroundFill,!!s.backgroundStroke]),this.hitDetectionInstructions.push([o.default.DRAW_IMAGE,e,i,t,(d-this.textOffsetX_)*a,(g-this.textOffsetY_)*a,this.declutterGroup_,t.height,1,0,0,this.textRotateWithView_,this.textRotation_,1/a,t.width,s.padding,!!s.backgroundFill,!!s.backgroundStroke])},d.prototype.drawChars_=function(t,e,i){var s=this.textStrokeState_,l=this.textState_,a=this.textFillState_,n=this.strokeKey_;s&&(n in this.strokeStates||(this.strokeStates[n]={strokeStyle:s.strokeStyle,lineCap:s.lineCap,lineDashOffset:s.lineDashOffset,lineWidth:s.lineWidth,lineJoin:s.lineJoin,miterLimit:s.miterLimit,lineDash:s.lineDash}));var h=this.textKey_;this.textKey_ in this.textStates||(this.textStates[this.textKey_]={font:l.font,textAlign:l.textAlign||r.defaultTextAlign,scale:l.scale});var u=this.fillKey_;a&&(u in this.fillStates||(this.fillStates[u]={fillStyle:a.fillStyle}));var d=this.pixelRatio,g=f.TEXT_ALIGN[l.textBaseline],x=this.textOffsetY_*d,_=this.text_,c=l.font,S=l.scale,p=s?s.lineWidth*S/2:0,k=this.widths_[c];k||(this.widths_[c]=k={}),this.instructions.push([o.default.DRAW_CHARS,t,e,g,i,l.overflow,u,l.maxAngle,function(t){var e=k[t];return e||(e=k[t]=(0,r.measureTextWidth)(c,t)),e*S*d},x,n,p*d,_,h,1]),this.hitDetectionInstructions.push([o.default.DRAW_CHARS,t,e,g,i,l.overflow,u,l.maxAngle,function(t){var e=k[t];return e||(e=k[t]=(0,r.measureTextWidth)(c,t)),e*S},x,n,p,_,h,1/d])},d.prototype.setTextStyle=function(i,s){var l,a,n;if(i){this.declutterGroup_=s;var o=i.getFill();o?((a=this.textFillState_)||(a=this.textFillState_={}),a.fillStyle=(0,e.asColorLike)(o.getColor()||r.defaultFillStyle)):a=this.textFillState_=null;var h=i.getStroke();if(h){(n=this.textStrokeState_)||(n=this.textStrokeState_={});var f=h.getLineDash(),u=h.getLineDashOffset(),d=h.getWidth(),g=h.getMiterLimit();n.lineCap=h.getLineCap()||r.defaultLineCap,n.lineDash=f?f.slice():r.defaultLineDash,n.lineDashOffset=void 0===u?r.defaultLineDashOffset:u,n.lineJoin=h.getLineJoin()||r.defaultLineJoin,n.lineWidth=void 0===d?r.defaultLineWidth:d,n.miterLimit=void 0===g?r.defaultMiterLimit:g,n.strokeStyle=(0,e.asColorLike)(h.getColor()||r.defaultStrokeStyle)}else n=this.textStrokeState_=null;l=this.textState_;var x=i.getFont()||r.defaultFont;(0,r.checkFont)(x);var _=i.getScale();l.overflow=i.getOverflow(),l.font=x,l.maxAngle=i.getMaxAngle(),l.placement=i.getPlacement(),l.textAlign=i.getTextAlign(),l.textBaseline=i.getTextBaseline()||r.defaultTextBaseline,l.backgroundFill=i.getBackgroundFill(),l.backgroundStroke=i.getBackgroundStroke(),l.padding=i.getPadding()||r.defaultPadding,l.scale=void 0===_?1:_;var c=i.getOffsetX(),S=i.getOffsetY(),p=i.getRotateWithView(),k=i.getRotation();this.text_=i.getText()||"",this.textOffsetX_=void 0===c?0:c,this.textOffsetY_=void 0===S?0:S,this.textRotateWithView_=void 0!==p&&p,this.textRotation_=void 0===k?0:k,this.strokeKey_=n?("string"==typeof n.strokeStyle?n.strokeStyle:(0,t.getUid)(n.strokeStyle))+n.lineCap+n.lineDashOffset+"|"+n.lineWidth+n.lineJoin+n.miterLimit+"["+n.lineDash.join()+"]":"",this.textKey_=l.font+l.scale+(l.textAlign||"?"),this.fillKey_=a?"string"==typeof a.fillStyle?a.fillStyle:"|"+(0,t.getUid)(a.fillStyle):""}else this.text_=""},d}(h.default);function x(t,e,i){for(var s=e.length,l=0,a=0;a<s;++a){var n=(0,r.measureTextWidth)(t,e[a]);l=Math.max(l,n),i.push(n)}return l}var _=g;exports.default=_;
},{"../../util.js":"KniQ","../../colorlike.js":"V5+X","../../dom.js":"Xno5","../../extent.js":"QDir","../../geom/flat/straightchunk.js":"96hC","../../geom/GeometryType.js":"lmV0","../../has.js":"f3Nv","../canvas.js":"iAG7","./Instruction.js":"kTJv","./Replay.js":"zweS","../replay.js":"FzwX","../../style/TextPlacement.js":"AXKs"}],"TGed":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getCircleArray=m,exports.replayDeclutter=g,exports.default=void 0;var e=require("../../array.js"),t=require("../../dom.js"),r=require("../../extent.js"),i=require("../../geom/flat/transform.js"),o=require("../../obj.js"),a=y(require("../ReplayGroup.js")),n=y(require("../ReplayType.js")),s=y(require("./Replay.js")),l=y(require("./ImageReplay.js")),u=y(require("./LineStringReplay.js")),p=y(require("./PolygonReplay.js")),f=y(require("./TextReplay.js")),c=require("../replay.js"),h=require("../../transform.js");function y(e){return e&&e.__esModule?e:{default:e}}var d={Circle:p.default,Default:s.default,Image:l.default,LineString:u.default,Polygon:p.default,Text:f.default},v=function(a){function s(e,r,i,o,n,s,l){a.call(this),this.declutterTree_=s,this.declutterGroup_=null,this.tolerance_=e,this.maxExtent_=r,this.overlaps_=n,this.pixelRatio_=o,this.resolution_=i,this.renderBuffer_=l,this.replaysByZIndex_={},this.hitDetectionContext_=(0,t.createCanvasContext2D)(1,1),this.hitDetectionTransform_=(0,h.create)()}return a&&(s.__proto__=a),s.prototype=Object.create(a&&a.prototype),s.prototype.constructor=s,s.prototype.addDeclutter=function(e){var t=null;return this.declutterTree_&&(e?(t=this.declutterGroup_)[4]++:(t=this.declutterGroup_=(0,r.createEmpty)()).push(1)),t},s.prototype.clip=function(e,t){var r=this.getClipCoords(t);e.beginPath(),e.moveTo(r[0],r[1]),e.lineTo(r[2],r[3]),e.lineTo(r[4],r[5]),e.lineTo(r[6],r[7]),e.clip()},s.prototype.hasReplays=function(e){for(var t in this.replaysByZIndex_)for(var r=this.replaysByZIndex_[t],i=0,o=e.length;i<o;++i)if(e[i]in r)return!0;return!1},s.prototype.finish=function(){for(var e in this.replaysByZIndex_){var t=this.replaysByZIndex_[e];for(var r in t)t[r].finish()}},s.prototype.forEachFeatureAtCoordinate=function(t,i,o,a,s,l,u){var p,f=2*(a=Math.round(a))+1,y=(0,h.compose)(this.hitDetectionTransform_,a+.5,a+.5,1/i,-1/i,-o,-t[0],-t[1]),d=this.hitDetectionContext_;d.canvas.width!==f||d.canvas.height!==f?(d.canvas.width=f,d.canvas.height=f):d.clearRect(0,0,f,f),void 0!==this.renderBuffer_&&(p=(0,r.createEmpty)(),(0,r.extendCoordinate)(p,t),(0,r.buffer)(p,i*(this.renderBuffer_+a),p));var v,_,x=m(a);function g(e){for(var t=d.getImageData(0,0,f,f).data,r=0;r<f;r++)for(var i=0;i<f;i++)if(x[r][i]&&t[4*(i*f+r)+3]>0){var o=void 0;return(!v||_!=n.default.IMAGE&&_!=n.default.TEXT||-1!==v.indexOf(e))&&(o=l(e)),o||void d.clearRect(0,0,f,f)}}this.declutterTree_&&(v=this.declutterTree_.all().map(function(e){return e.value}));var j,R,T,I,E,B=Object.keys(this.replaysByZIndex_).map(Number);for(B.sort(e.numberSafeCompareFunction),j=B.length-1;j>=0;--j){var C=B[j].toString();for(T=this.replaysByZIndex_[C],R=c.ORDER.length-1;R>=0;--R)if(void 0!==(I=T[_=c.ORDER[R]]))if(!u||_!=n.default.IMAGE&&_!=n.default.TEXT){if(E=I.replayHitDetection(d,y,o,s,g,p))return E}else{var b=u[C];b?b.push(I,y.slice(0)):u[C]=[I,y.slice(0)]}}},s.prototype.getClipCoords=function(e){var t=this.maxExtent_,r=t[0],o=t[1],a=t[2],n=t[3],s=[r,o,r,n,a,n,a,o];return(0,i.transform2D)(s,0,8,2,e,s),s},s.prototype.getReplay=function(e,t){var r=void 0!==e?e.toString():"0",i=this.replaysByZIndex_[r];void 0===i&&(i={},this.replaysByZIndex_[r]=i);var o=i[t];void 0===o&&(o=new(0,d[t])(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_,this.overlaps_,this.declutterTree_),i[t]=o);return o},s.prototype.getReplays=function(){return this.replaysByZIndex_},s.prototype.isEmpty=function(){return(0,o.isEmpty)(this.replaysByZIndex_)},s.prototype.replay=function(t,r,i,o,a,s,l){var u=Object.keys(this.replaysByZIndex_).map(Number);u.sort(e.numberSafeCompareFunction),t.save(),this.clip(t,r);var p,f,h,y,d,v,_=s||c.ORDER;for(p=0,f=u.length;p<f;++p){var x=u[p].toString();for(d=this.replaysByZIndex_[x],h=0,y=_.length;h<y;++h){var m=_[h];if(v=d[m],void 0!==v)if(!l||m!=n.default.IMAGE&&m!=n.default.TEXT)v.replay(t,r,i,o,a);else{var g=l[x];g?g.push(v,r.slice(0)):l[x]=[v,r.slice(0)]}}}t.restore()},s}(a.default),_={0:[[!0]]};function x(e,t,r){var i,o=Math.floor(e.length/2);if(t>=o)for(i=o;i<t;i++)e[i][r]=!0;else if(t<o)for(i=t+1;i<o;i++)e[i][r]=!0}function m(e){if(void 0!==_[e])return _[e];for(var t=2*e+1,r=new Array(t),i=0;i<t;i++)r[i]=new Array(t);for(var o=e,a=0,n=0;o>=a;)x(r,e+o,e+a),x(r,e+a,e+o),x(r,e-a,e+o),x(r,e-o,e+a),x(r,e-o,e-a),x(r,e-a,e-o),x(r,e+a,e-o),x(r,e+o,e-a),2*((n+=1+2*++a)-o)+1>0&&(n+=1-2*(o-=1));return _[e]=r,r}function g(t,r,i,o){for(var a=Object.keys(t).map(Number).sort(e.numberSafeCompareFunction),n={},s=0,l=a.length;s<l;++s)for(var u=t[a[s].toString()],p=0,f=u.length;p<f;){var c=u[p++],h=u[p++];c.replay(r,h,i,n,o)}}var j=v;exports.default=j;
},{"../../array.js":"luEr","../../dom.js":"Xno5","../../extent.js":"QDir","../../geom/flat/transform.js":"LGwr","../../obj.js":"mH6q","../ReplayGroup.js":"TK0U","../ReplayType.js":"D882","./Replay.js":"zweS","./ImageReplay.js":"+3Nw","./LineStringReplay.js":"Z7Pq","./PolygonReplay.js":"s4Hb","./TextReplay.js":"0Bp2","../replay.js":"FzwX","../../transform.js":"P4eA"}],"UCah":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.defaultOrder=d,exports.getSquaredTolerance=i,exports.getTolerance=u,exports.renderFeature=o;var e=require("../util.js"),t=l(require("../ImageState.js")),r=l(require("../geom/GeometryType.js")),a=l(require("../render/ReplayType.js"));function l(e){return e&&e.__esModule?e:{default:e}}var g=.5,n={Point:s,LineString:v,Polygon:p,MultiPoint:c,MultiLineString:I,MultiPolygon:S,GeometryCollection:x,Circle:f};function d(t,r){return parseInt((0,e.getUid)(t),10)-parseInt((0,e.getUid)(r),10)}function i(e,t){var r=u(e,t);return r*r}function u(e,t){return g*e/t}function f(e,t,r,l){var g=r.getFill(),n=r.getStroke();if(g||n){var d=e.getReplay(r.getZIndex(),a.default.CIRCLE);d.setFillStrokeStyle(g,n),d.drawCircle(t,l)}var i=r.getText();if(i){var u=e.getReplay(r.getZIndex(),a.default.TEXT);u.setTextStyle(i,e.addDeclutter(!1)),u.drawText(t,l)}}function o(e,r,a,l,g,n){var d=!1,i=a.getImage();if(i){var u=i.getImageState();u==t.default.LOADED||u==t.default.ERROR?i.unlistenImageChange(g,n):(u==t.default.IDLE&&i.load(),u=i.getImageState(),i.listenImageChange(g,n),d=!0)}return T(e,r,a,l),d}function T(e,t,r,a){var l=r.getGeometryFunction()(t);if(l){var g=l.getSimplifiedGeometry(a);if(r.getRenderer())y(e,g,r,t);else(0,n[g.getType()])(e,g,r,t)}}function y(e,t,l,g){if(t.getType()!=r.default.GEOMETRY_COLLECTION)e.getReplay(l.getZIndex(),a.default.DEFAULT).drawCustom(t,g,l.getRenderer());else for(var n=t.getGeometries(),d=0,i=n.length;d<i;++d)y(e,n[d],l,g)}function x(e,t,r,a){var l,g,d=t.getGeometriesArray();for(l=0,g=d.length;l<g;++l){(0,n[d[l].getType()])(e,d[l],r,a)}}function v(e,t,r,l){var g=r.getStroke();if(g){var n=e.getReplay(r.getZIndex(),a.default.LINE_STRING);n.setFillStrokeStyle(null,g),n.drawLineString(t,l)}var d=r.getText();if(d){var i=e.getReplay(r.getZIndex(),a.default.TEXT);i.setTextStyle(d,e.addDeclutter(!1)),i.drawText(t,l)}}function I(e,t,r,l){var g=r.getStroke();if(g){var n=e.getReplay(r.getZIndex(),a.default.LINE_STRING);n.setFillStrokeStyle(null,g),n.drawMultiLineString(t,l)}var d=r.getText();if(d){var i=e.getReplay(r.getZIndex(),a.default.TEXT);i.setTextStyle(d,e.addDeclutter(!1)),i.drawText(t,l)}}function S(e,t,r,l){var g=r.getFill(),n=r.getStroke();if(n||g){var d=e.getReplay(r.getZIndex(),a.default.POLYGON);d.setFillStrokeStyle(g,n),d.drawMultiPolygon(t,l)}var i=r.getText();if(i){var u=e.getReplay(r.getZIndex(),a.default.TEXT);u.setTextStyle(i,e.addDeclutter(!1)),u.drawText(t,l)}}function s(e,r,l,g){var n=l.getImage();if(n){if(n.getImageState()!=t.default.LOADED)return;var d=e.getReplay(l.getZIndex(),a.default.IMAGE);d.setImageStyle(n,e.addDeclutter(!1)),d.drawPoint(r,g)}var i=l.getText();if(i){var u=e.getReplay(l.getZIndex(),a.default.TEXT);u.setTextStyle(i,e.addDeclutter(!!n)),u.drawText(r,g)}}function c(e,r,l,g){var n=l.getImage();if(n){if(n.getImageState()!=t.default.LOADED)return;var d=e.getReplay(l.getZIndex(),a.default.IMAGE);d.setImageStyle(n,e.addDeclutter(!1)),d.drawMultiPoint(r,g)}var i=l.getText();if(i){var u=e.getReplay(l.getZIndex(),a.default.TEXT);u.setTextStyle(i,e.addDeclutter(!!n)),u.drawText(r,g)}}function p(e,t,r,l){var g=r.getFill(),n=r.getStroke();if(g||n){var d=e.getReplay(r.getZIndex(),a.default.POLYGON);d.setFillStrokeStyle(g,n),d.drawPolygon(t,l)}var i=r.getText();if(i){var u=e.getReplay(r.getZIndex(),a.default.TEXT);u.setTextStyle(i,e.addDeclutter(!1)),u.drawText(t,l)}}
},{"../util.js":"KniQ","../ImageState.js":"u3k+","../geom/GeometryType.js":"lmV0","../render/ReplayType.js":"D882"}],"F2e3":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("../../util.js"),t=c(require("../../LayerType.js")),r=c(require("../../ViewHint.js")),a=require("../../dom.js"),i=require("../../events.js"),n=c(require("../../events/EventType.js")),o=c(require("rbush")),s=require("../../extent.js"),l=c(require("../../render/EventType.js")),d=require("../../render/canvas.js"),h=c(require("../../render/canvas/ReplayGroup.js")),u=c(require("./Layer.js")),p=require("../vector.js");function c(e){return e&&e.__esModule?e:{default:e}}var f=function(t){function u(e){t.call(this,e),this.declutterTree_=e.getDeclutter()?(0,o.default)(9,void 0):null,this.dirty_=!1,this.renderedRevision_=-1,this.renderedResolution_=NaN,this.renderedExtent_=(0,s.createEmpty)(),this.renderedRenderOrder_=null,this.replayGroup_=null,this.replayGroupChanged=!0,this.context=(0,a.createCanvasContext2D)(),(0,i.listen)(d.labelCache,n.default.CLEAR,this.handleFontsChanged_,this)}return t&&(u.__proto__=t),u.prototype=Object.create(t&&t.prototype),u.prototype.constructor=u,u.prototype.disposeInternal=function(){(0,i.unlisten)(d.labelCache,n.default.CLEAR,this.handleFontsChanged_,this),t.prototype.disposeInternal.call(this)},u.prototype.compose=function(e,t,a){var i=t.extent,n=t.pixelRatio,o=a.managed?t.skippedFeatureUids:{},h=t.viewState,u=h.projection,p=h.rotation,c=u.getExtent(),f=this.getLayer().getSource(),g=this.getTransform(t,0),v=a.extent,y=void 0!==v;y&&this.clip(e,t,v);var _=this.replayGroup_;if(_&&!_.isEmpty()){this.declutterTree_&&this.declutterTree_.clear();var x,E=this.getLayer(),R=0,m=0,A=1!==a.opacity,C=E.hasListener(l.default.RENDER);if(A||C){var T=e.canvas.width,I=e.canvas.height;if(p){var j=Math.round(Math.sqrt(T*T+I*I));R=(j-T)/2,m=(j-I)/2,T=I=j}this.context.canvas.width=T,this.context.canvas.height=I,x=this.context}else x=e;var F=x.globalAlpha;A||(x.globalAlpha=a.opacity),x!=e&&x.translate(R,m);var q=t.viewHints,b=!(q[r.default.ANIMATING]||q[r.default.INTERACTING]),G=t.size[0]*n,w=t.size[1]*n;if((0,d.rotateAtOffset)(x,-p,G/2,w/2),_.replay(x,g,p,o,b),f.getWrapX()&&u.canWrapX()&&!(0,s.containsExtent)(c,i)){for(var S,N=i[0],O=(0,s.getWidth)(c),L=0;N<c[0];)S=O*--L,g=this.getTransform(t,S),_.replay(x,g,p,o,b),N+=O;for(L=0,N=i[2];N>c[2];)S=O*++L,g=this.getTransform(t,S),_.replay(x,g,p,o,b),N-=O}if((0,d.rotateAtOffset)(x,p,G/2,w/2),C&&this.dispatchRenderEvent(x,t,g),x!=e){if(A){var W=e.globalAlpha;e.globalAlpha=a.opacity,e.drawImage(x.canvas,-R,-m),e.globalAlpha=W}else e.drawImage(x.canvas,-R,-m);x.translate(-R,-m)}A||(x.globalAlpha=F)}y&&e.restore()},u.prototype.composeFrame=function(e,t,r){var a=this.getTransform(e,0);this.preCompose(r,e,a),this.compose(r,e,t),this.postCompose(r,e,t,a)},u.prototype.forEachFeatureAtCoordinate=function(t,r,a,i,n){if(this.replayGroup_){var o=r.viewState.resolution,s=r.viewState.rotation,l=this.getLayer(),d={};return this.replayGroup_.forEachFeatureAtCoordinate(t,o,s,a,{},function(t){var r=(0,e.getUid)(t);if(!(r in d))return d[r]=!0,i.call(n,t,l)},null)}},u.prototype.handleFontsChanged_=function(e){var t=this.getLayer();t.getVisible()&&this.replayGroup_&&t.changed()},u.prototype.handleStyleImageChange_=function(e){this.renderIfReadyAndVisible()},u.prototype.prepareFrame=function(e,t){var a=this.getLayer(),i=a.getSource(),n=e.viewHints[r.default.ANIMATING],o=e.viewHints[r.default.INTERACTING],l=a.getUpdateWhileAnimating(),d=a.getUpdateWhileInteracting();if(!this.dirty_&&!l&&n||!d&&o)return!0;var u=e.extent,c=e.viewState,f=c.projection,g=c.resolution,v=e.pixelRatio,y=a.getRevision(),_=a.getRenderBuffer(),x=a.getRenderOrder();void 0===x&&(x=p.defaultOrder);var E=(0,s.buffer)(u,_*g),R=c.projection.getExtent();if(i.getWrapX()&&c.projection.canWrapX()&&!(0,s.containsExtent)(R,e.extent)){var m=(0,s.getWidth)(R),A=Math.max((0,s.getWidth)(E)/2,m);E[0]=R[0]-A,E[2]=R[2]+A}if(!this.dirty_&&this.renderedResolution_==g&&this.renderedRevision_==y&&this.renderedRenderOrder_==x&&(0,s.containsExtent)(this.renderedExtent_,E))return this.replayGroupChanged=!1,!0;this.replayGroup_=null,this.dirty_=!1;var C=new h.default((0,p.getTolerance)(g,v),E,g,v,i.getOverlaps(),this.declutterTree_,a.getRenderBuffer());i.loadFeatures(E,g,f);var T=function(e){var t,r=e.getStyleFunction()||a.getStyleFunction();if(r&&(t=r(e,g)),t){var i=this.renderFeature(e,g,v,t,C);this.dirty_=this.dirty_||i}}.bind(this);if(x){var I=[];i.forEachFeatureInExtent(E,function(e){I.push(e)}),I.sort(x);for(var j=0,F=I.length;j<F;++j)T(I[j])}else i.forEachFeatureInExtent(E,T);return C.finish(),this.renderedResolution_=g,this.renderedRevision_=y,this.renderedRenderOrder_=x,this.renderedExtent_=E,this.replayGroup_=C,this.replayGroupChanged=!0,!0},u.prototype.renderFeature=function(e,t,r,a,i){if(!a)return!1;var n=!1;if(Array.isArray(a))for(var o=0,s=a.length;o<s;++o)n=(0,p.renderFeature)(i,e,a[o],(0,p.getSquaredTolerance)(t,r),this.handleStyleImageChange_,this)||n;else n=(0,p.renderFeature)(i,e,a,(0,p.getSquaredTolerance)(t,r),this.handleStyleImageChange_,this);return n},u}(u.default);f.handles=function(e){return e.getType()===t.default.VECTOR},f.create=function(e,t){return new f(t)};var g=f;exports.default=g;
},{"../../util.js":"KniQ","../../LayerType.js":"8+bQ","../../ViewHint.js":"cuLW","../../dom.js":"Xno5","../../events.js":"55Uq","../../events/EventType.js":"C8cu","rbush":"y0Xa","../../extent.js":"QDir","../../render/EventType.js":"z39m","../../render/canvas.js":"iAG7","../../render/canvas/ReplayGroup.js":"TGed","./Layer.js":"+vPf","../vector.js":"UCah"}],"Q2C4":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={IMAGE:"image",HYBRID:"hybrid",VECTOR:"vector"};exports.default=e;
},{}],"UST7":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("../../util.js"),t=E(require("../../LayerType.js")),r=E(require("../../TileState.js")),i=E(require("../../ViewHint.js")),o=require("../../dom.js"),n=require("../../events.js"),a=E(require("../../events/EventType.js")),l=E(require("rbush")),s=require("../../extent.js"),d=E(require("../../layer/VectorTileRenderType.js")),u=require("../../proj.js"),p=E(require("../../proj/Units.js")),g=E(require("../../render/ReplayType.js")),f=require("../../render/canvas.js"),h=R(require("../../render/canvas/ReplayGroup.js")),c=require("../../render/replay.js"),y=E(require("./TileLayer.js")),v=require("../vector.js"),T=require("../../transform.js");function R(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};i.get||i.set?Object.defineProperty(t,r,i):t[r]=e[r]}return t.default=e,t}function E(e){return e&&e.__esModule?e:{default:e}}var C={image:[g.default.POLYGON,g.default.CIRCLE,g.default.LINE_STRING,g.default.IMAGE,g.default.TEXT],hybrid:[g.default.POLYGON,g.default.LINE_STRING]},_={image:[g.default.DEFAULT],hybrid:[g.default.IMAGE,g.default.TEXT,g.default.DEFAULT],vector:c.ORDER},j=function(t){function g(e){t.call(this,e,!0),this.declutterTree_=e.getDeclutter()?(0,l.default)(9,void 0):null,this.dirty_=!1,this.renderedLayerRevision_,this.tmpTransform_=(0,T.create)();var r=e.getRenderMode();this.zDirection=r===d.default.VECTOR?1:0,r!==d.default.VECTOR&&(this.context=(0,o.createCanvasContext2D)()),(0,n.listen)(f.labelCache,a.default.CLEAR,this.handleFontsChanged_,this)}return t&&(g.__proto__=t),g.prototype=Object.create(t&&t.prototype),g.prototype.constructor=g,g.prototype.disposeInternal=function(){(0,n.unlisten)(f.labelCache,a.default.CLEAR,this.handleFontsChanged_,this),t.prototype.disposeInternal.call(this)},g.prototype.getTile=function(e,i,o,n,a){var l=t.prototype.getTile.call(this,e,i,o,n,a);return l.getState()===r.default.LOADED&&(this.createReplayGroup_(l,n,a),this.context&&this.renderTileImage_(l,n,a)),l},g.prototype.getTileImage=function(e){var t=this.getLayer();return e.getImage(t)},g.prototype.prepareFrame=function(e,r){var i=this.getLayer().getRevision();return this.renderedLayerRevision_!=i&&(this.renderedTiles.length=0),this.renderedLayerRevision_=i,t.prototype.prepareFrame.call(this,e,r)},g.prototype.createReplayGroup_=function(e,t,i){var o=this,n=this.getLayer(),a=n.getRevision(),l=n.getRenderOrder()||null,d=e.getReplayState(n);if(d.dirty||d.renderedRevision!=a||d.renderedRenderOrder!=l){for(var g=n.getSource(),f=g.getTileGrid(),c=g.getTileGridForProjection(i).getResolution(e.tileCoord[0]),y=e.extent,T=function(a,T){var R=e.getTile(e.tileKeys[a]);if(R.getState()==r.default.LOADED){var E=R.tileCoord,C=f.getTileCoordExtent(E),_=(0,s.getIntersection)(y,C),j=(0,s.equals)(C,_)?null:(0,s.buffer)(_,n.getRenderBuffer()*c,o.tmpExtent),m=R.getProjection(),L=!1;(0,u.equivalent)(i,m)||(L=!0,R.setProjection(i)),d.dirty=!1;var S=new h.default(0,_,c,t,g.getOverlaps(),o.declutterTree_,n.getRenderBuffer()),O=(0,v.getSquaredTolerance)(c,t),x=function(e){var t,r=e.getStyleFunction()||n.getStyleFunction();if(r&&(t=r(e,c)),t){var i=this.renderFeature(e,O,t,S);this.dirty_=this.dirty_||i,d.dirty=d.dirty||i}},I=R.getFeatures();l&&l!==d.renderedRenderOrder&&I.sort(l);for(var A=0,G=I.length;A<G;++A){var q=I[A];L&&(m.getUnits()==p.default.TILE_PIXELS&&(m.setWorldExtent(C),m.setExtent(R.getExtent())),q.getGeometry().transform(m,i)),j&&!(0,s.intersects)(j,q.getGeometry().getExtent())||x.call(o,q)}S.finish(),R.setReplayGroup(n,e.tileCoord.toString(),S)}},R=0,E=e.tileKeys.length;R<E;++R)T(R);d.renderedRevision=a,d.renderedRenderOrder=l}},g.prototype.forEachFeatureAtCoordinate=function(t,i,o,n,a){var l=i.viewState.resolution,d=i.viewState.rotation;o=null==o?0:o;var u,p,g,f,h=this.getLayer(),c={},y=this.renderedTiles;for(g=0,f=y.length;g<f;++g){var v=y[g];if(u=(0,s.buffer)(v.extent,o*l,u),(0,s.containsCoordinate)(u,t))for(var T=0,R=v.tileKeys.length;T<R;++T){var E=v.getTile(v.tileKeys[T]);if(E.getState()==r.default.LOADED){var C=E.getReplayGroup(h,v.tileCoord.toString());p=p||C.forEachFeatureAtCoordinate(t,l,d,o,{},function(t){var r=(0,e.getUid)(t);if(!(r in c))return c[r]=!0,n.call(a,t,h)},null)}}}return p},g.prototype.getReplayTransform_=function(e,t){var r=this.getLayer().getSource().getTileGrid(),i=e.tileCoord,o=r.getResolution(i[0]),n=t.viewState,a=t.pixelRatio,l=n.resolution/a,d=r.getTileCoordExtent(i,this.tmpExtent),u=n.center,p=(0,s.getTopLeft)(d),g=t.size,f=Math.round(a*g[0]/2),h=Math.round(a*g[1]/2);return(0,T.compose)(this.tmpTransform_,f,h,o/l,o/l,n.rotation,(p[0]-u[0])/o,(u[1]-p[1])/o)},g.prototype.handleFontsChanged_=function(e){var t=this.getLayer();t.getVisible()&&void 0!==this.renderedLayerRevision_&&t.changed()},g.prototype.handleStyleImageChange_=function(e){this.renderIfReadyAndVisible()},g.prototype.postCompose=function(e,o,n){var a=this.getLayer(),l=a.getRenderMode();if(l!=d.default.IMAGE){var s,u,p=a.getDeclutter()?{}:null,g=a.getSource(),c=_[l],y=o.pixelRatio,v=o.viewState.rotation,T=o.size;v&&(s=Math.round(y*T[0]/2),u=Math.round(y*T[1]/2),(0,f.rotateAtOffset)(e,-v,s,u)),p&&this.declutterTree_.clear();for(var R=o.viewHints,E=!(R[i.default.ANIMATING]||R[i.default.INTERACTING]),C=this.renderedTiles,j=g.getTileGridForProjection(o.viewState.projection),m=[],L=[],S=C.length-1;S>=0;--S){var O=C[S];if(O.getState()!=r.default.ABORT)for(var x=O.tileCoord,I=j.getTileCoordExtent(x,this.tmpExtent)[0]-O.extent[0],A=void 0,G=0,q=O.tileKeys.length;G<q;++G){var D=O.getTile(O.tileKeys[G]);if(D.getState()==r.default.LOADED){var F=D.getReplayGroup(a,x.toString());if(F&&F.hasReplays(c)){A||(A=this.getTransform(o,I));var b=D.tileCoord[0],P=F.getClipCoords(A);e.save(),e.globalAlpha=n.opacity;for(var w=0,M=m.length;w<M;++w){var N=m[w];b<L[w]&&(e.beginPath(),e.moveTo(P[0],P[1]),e.lineTo(P[2],P[3]),e.lineTo(P[4],P[5]),e.lineTo(P[6],P[7]),e.moveTo(N[6],N[7]),e.lineTo(N[4],N[5]),e.lineTo(N[2],N[3]),e.lineTo(N[0],N[1]),e.clip())}F.replay(e,A,v,{},E,c,p),e.restore(),m.push(P),L.push(b)}}}}p&&(0,h.replayDeclutter)(p,e,v,E),v&&(0,f.rotateAtOffset)(e,v,s,u)}t.prototype.postCompose.call(this,e,o,n)},g.prototype.renderFeature=function(e,t,r,i){if(!r)return!1;var o=!1;if(Array.isArray(r))for(var n=0,a=r.length;n<a;++n)o=(0,v.renderFeature)(i,e,r[n],t,this.handleStyleImageChange_,this)||o;else o=(0,v.renderFeature)(i,e,r,t,this.handleStyleImageChange_,this);return o},g.prototype.renderTileImage_=function(e,t,i){var o=this.getLayer(),n=e.getReplayState(o),a=o.getRevision(),l=C[o.getRenderMode()];if(l&&n.renderedTileRevision!==a){n.renderedTileRevision=a;var s=e.wrappedTileCoord,d=s[0],u=o.getSource(),p=u.getTileGridForProjection(i),g=p.getResolution(d),f=e.getContext(o),h=u.getTilePixelSize(d,t,i);f.canvas.width=h[0],f.canvas.height=h[1];for(var c=p.getTileCoordExtent(s,this.tmpExtent),y=0,v=e.tileKeys.length;y<v;++y){var R=e.getTile(e.tileKeys[y]);if(R.getState()==r.default.LOADED){var E=t/g,_=(0,T.reset)(this.tmpTransform_);(0,T.scale)(_,E,-E),(0,T.translate)(_,-c[0],-c[3]),R.getReplayGroup(o,e.tileCoord.toString()).replay(f,_,0,{},!0,l)}}}},g}(y.default);j.handles=function(e){return e.getType()===t.default.VECTOR_TILE},j.create=function(e,t){return new j(t)};var m=j;exports.default=m;
},{"../../util.js":"KniQ","../../LayerType.js":"8+bQ","../../TileState.js":"Xz9x","../../ViewHint.js":"cuLW","../../dom.js":"Xno5","../../events.js":"55Uq","../../events/EventType.js":"C8cu","rbush":"y0Xa","../../extent.js":"QDir","../../layer/VectorTileRenderType.js":"Q2C4","../../proj.js":"Diht","../../proj/Units.js":"yZx6","../../render/ReplayType.js":"D882","../../render/canvas.js":"iAG7","../../render/canvas/ReplayGroup.js":"TGed","../../render/replay.js":"FzwX","./TileLayer.js":"hkM/","../vector.js":"UCah","../../transform.js":"P4eA"}],"8kYy":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=c(require("./PluggableMap.js")),r=require("./control/util.js"),t=require("./interaction.js"),a=require("./obj.js"),n=c(require("./renderer/canvas/ImageLayer.js")),o=c(require("./renderer/canvas/Map.js")),s=c(require("./renderer/canvas/TileLayer.js")),u=c(require("./renderer/canvas/VectorLayer.js")),i=c(require("./renderer/canvas/VectorTileLayer.js"));function c(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function c(n){(n=(0,a.assign)({},n)).controls||(n.controls=(0,r.defaults)()),n.interactions||(n.interactions=(0,t.defaults)()),e.call(this,n)}return e&&(c.__proto__=e),c.prototype=Object.create(e&&e.prototype),c.prototype.constructor=c,c.prototype.createRenderer=function(){var e=new o.default(this);return e.registerLayerRenderers([n.default,s.default,u.default,i.default]),e},c}(e.default),d=l;exports.default=d;
},{"./PluggableMap.js":"kRwz","./control/util.js":"uzb+","./interaction.js":"aMDX","./obj.js":"mH6q","./renderer/canvas/ImageLayer.js":"rz/N","./renderer/canvas/Map.js":"vJhp","./renderer/canvas/TileLayer.js":"hkM/","./renderer/canvas/VectorLayer.js":"F2e3","./renderer/canvas/VectorTileLayer.js":"UST7"}],"VpAM":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t={BOTTOM_LEFT:"bottom-left",BOTTOM_CENTER:"bottom-center",BOTTOM_RIGHT:"bottom-right",CENTER_LEFT:"center-left",CENTER_CENTER:"center-center",CENTER_RIGHT:"center-right",TOP_LEFT:"top-left",TOP_CENTER:"top-center",TOP_RIGHT:"top-right"};exports.default=t;
},{}],"/qWc":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=h(require("./MapEventType.js")),e=a(require("./Object.js")),i=h(require("./OverlayPositioning.js")),n=require("./css.js"),o=require("./dom.js"),s=require("./events.js"),r=require("./extent.js");function a(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,i):{};n.get||n.set?Object.defineProperty(e,i,n):e[i]=t[i]}return e.default=t,e}function h(t){return t&&t.__esModule?t:{default:t}}var d={ELEMENT:"element",MAP:"map",OFFSET:"offset",POSITION:"position",POSITIONING:"positioning"},p=function(a){function h(t){a.call(this),this.options=t,this.id=t.id,this.insertFirst=void 0===t.insertFirst||t.insertFirst,this.stopEvent=void 0===t.stopEvent||t.stopEvent,this.element=document.createElement("div"),this.element.className=void 0!==t.className?t.className:"ol-overlay-container "+n.CLASS_SELECTABLE,this.element.style.position="absolute",this.autoPan=void 0!==t.autoPan&&t.autoPan,this.autoPanAnimation=t.autoPanAnimation||{},this.autoPanMargin=void 0!==t.autoPanMargin?t.autoPanMargin:20,this.rendered={bottom_:"",left_:"",right_:"",top_:"",visible:!0},this.mapPostrenderListenerKey=null,(0,s.listen)(this,(0,e.getChangeEventType)(d.ELEMENT),this.handleElementChanged,this),(0,s.listen)(this,(0,e.getChangeEventType)(d.MAP),this.handleMapChanged,this),(0,s.listen)(this,(0,e.getChangeEventType)(d.OFFSET),this.handleOffsetChanged,this),(0,s.listen)(this,(0,e.getChangeEventType)(d.POSITION),this.handlePositionChanged,this),(0,s.listen)(this,(0,e.getChangeEventType)(d.POSITIONING),this.handlePositioningChanged,this),void 0!==t.element&&this.setElement(t.element),this.setOffset(void 0!==t.offset?t.offset:[0,0]),this.setPositioning(void 0!==t.positioning?t.positioning:i.default.TOP_LEFT),void 0!==t.position&&this.setPosition(t.position)}return a&&(h.__proto__=a),h.prototype=Object.create(a&&a.prototype),h.prototype.constructor=h,h.prototype.getElement=function(){return this.get(d.ELEMENT)},h.prototype.getId=function(){return this.id},h.prototype.getMap=function(){return this.get(d.MAP)},h.prototype.getOffset=function(){return this.get(d.OFFSET)},h.prototype.getPosition=function(){return this.get(d.POSITION)},h.prototype.getPositioning=function(){return this.get(d.POSITIONING)},h.prototype.handleElementChanged=function(){(0,o.removeChildren)(this.element);var t=this.getElement();t&&this.element.appendChild(t)},h.prototype.handleMapChanged=function(){this.mapPostrenderListenerKey&&((0,o.removeNode)(this.element),(0,s.unlistenByKey)(this.mapPostrenderListenerKey),this.mapPostrenderListenerKey=null);var e=this.getMap();if(e){this.mapPostrenderListenerKey=(0,s.listen)(e,t.default.POSTRENDER,this.render,this),this.updatePixelPosition();var i=this.stopEvent?e.getOverlayContainerStopEvent():e.getOverlayContainer();this.insertFirst?i.insertBefore(this.element,i.childNodes[0]||null):i.appendChild(this.element)}},h.prototype.render=function(){this.updatePixelPosition()},h.prototype.handleOffsetChanged=function(){this.updatePixelPosition()},h.prototype.handlePositionChanged=function(){this.updatePixelPosition(),this.get(d.POSITION)&&this.autoPan&&this.panIntoView()},h.prototype.handlePositioningChanged=function(){this.updatePixelPosition()},h.prototype.setElement=function(t){this.set(d.ELEMENT,t)},h.prototype.setMap=function(t){this.set(d.MAP,t)},h.prototype.setOffset=function(t){this.set(d.OFFSET,t)},h.prototype.setPosition=function(t){this.set(d.POSITION,t)},h.prototype.panIntoView=function(){var t=this.getMap();if(t&&t.getTargetElement()){var e=this.getRect(t.getTargetElement(),t.getSize()),i=this.getElement(),n=this.getRect(i,[(0,o.outerWidth)(i),(0,o.outerHeight)(i)]),s=this.autoPanMargin;if(!(0,r.containsExtent)(e,n)){var a=n[0]-e[0],h=e[2]-n[2],d=n[1]-e[1],p=e[3]-n[3],l=[0,0];if(a<0?l[0]=a-s:h<0&&(l[0]=Math.abs(h)+s),d<0?l[1]=d-s:p<0&&(l[1]=Math.abs(p)+s),0!==l[0]||0!==l[1]){var u=t.getView().getCenter(),f=t.getPixelFromCoordinate(u),g=[f[0]+l[0],f[1]+l[1]];t.getView().animate({center:t.getCoordinateFromPixel(g),duration:this.autoPanAnimation.duration,easing:this.autoPanAnimation.easing})}}}},h.prototype.getRect=function(t,e){var i=t.getBoundingClientRect(),n=i.left+window.pageXOffset,o=i.top+window.pageYOffset;return[n,o,n+e[0],o+e[1]]},h.prototype.setPositioning=function(t){this.set(d.POSITIONING,t)},h.prototype.setVisible=function(t){this.rendered.visible!==t&&(this.element.style.display=t?"":"none",this.rendered.visible=t)},h.prototype.updatePixelPosition=function(){var t=this.getMap(),e=this.getPosition();if(t&&t.isRendered()&&e){var i=t.getPixelFromCoordinate(e),n=t.getSize();this.updateRenderedPosition(i,n)}else this.setVisible(!1)},h.prototype.updateRenderedPosition=function(t,e){var n=this.element.style,o=this.getOffset(),s=this.getPositioning();this.setVisible(!0);var r=o[0],a=o[1];if(s==i.default.BOTTOM_RIGHT||s==i.default.CENTER_RIGHT||s==i.default.TOP_RIGHT){""!==this.rendered.left_&&(this.rendered.left_=n.left="");var h=Math.round(e[0]-t[0]-r)+"px";this.rendered.right_!=h&&(this.rendered.right_=n.right=h)}else{""!==this.rendered.right_&&(this.rendered.right_=n.right=""),s!=i.default.BOTTOM_CENTER&&s!=i.default.CENTER_CENTER&&s!=i.default.TOP_CENTER||(r-=this.element.offsetWidth/2);var d=Math.round(t[0]+r)+"px";this.rendered.left_!=d&&(this.rendered.left_=n.left=d)}if(s==i.default.BOTTOM_LEFT||s==i.default.BOTTOM_CENTER||s==i.default.BOTTOM_RIGHT){""!==this.rendered.top_&&(this.rendered.top_=n.top="");var p=Math.round(e[1]-t[1]-a)+"px";this.rendered.bottom_!=p&&(this.rendered.bottom_=n.bottom=p)}else{""!==this.rendered.bottom_&&(this.rendered.bottom_=n.bottom=""),s!=i.default.CENTER_LEFT&&s!=i.default.CENTER_CENTER&&s!=i.default.CENTER_RIGHT||(a-=this.element.offsetHeight/2);var l=Math.round(t[1]+a)+"px";this.rendered.top_!=l&&(this.rendered.top_=n.top=l)}},h.prototype.getOptions=function(){return this.options},h}(e.default),l=p;exports.default=l;
},{"./MapEventType.js":"xLGm","./Object.js":"PhPh","./OverlayPositioning.js":"VpAM","./css.js":"HgMV","./dom.js":"Xno5","./events.js":"55Uq","./extent.js":"QDir"}],"2faT":[function(require,module,exports) {
"use strict";function e(e,t,r,n){return void 0!==n?(n[0]=e,n[1]=t,n[2]=r,n):[e,t,r]}function t(e,t,r){return e+"/"+t+"/"+r}function r(e){return t(e[0],e[1],e[2])}function n(e){return e.split("/").map(Number)}function o(e){return(e[1]<<e[0])+e[2]}function u(e){var t,r,n=e[0],o=new Array(n),u=1<<n-1;for(t=0;t<n;++t)r=48,e[1]&u&&(r+=1),e[2]&u&&(r+=2),o[t]=String.fromCharCode(r),u>>=1;return o.join("")}function i(e,t){var r=e[0],n=e[1],o=e[2];if(t.getMinZoom()>r||r>t.getMaxZoom())return!1;var u,i=t.getExtent();return!(u=i?t.getTileRangeForExtentAndZ(i,r):t.getFullTileRange(r))||u.containsXY(n,o)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.createOrUpdate=e,exports.getKeyZXY=t,exports.getKey=r,exports.fromKey=n,exports.hash=o,exports.quadKey=u,exports.withinExtentAndZ=i;
},{}],"YFDe":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=o(require("./structs/LRUCache.js")),t=require("./tilecoord.js");function o(e){return e&&e.__esModule?e:{default:e}}var r=function(e){function o(t){e.call(this,t)}return e&&(o.__proto__=e),o.prototype=Object.create(e&&e.prototype),o.prototype.constructor=o,o.prototype.expireCache=function(e){for(;this.canExpireCache();){var t=this.peekLast(),o=t.tileCoord[0].toString();if(o in e&&e[o].contains(t.tileCoord))break;this.pop().dispose()}},o.prototype.pruneExceptNewestZ=function(){if(0!==this.getCount()){var e=this.peekFirstKey(),o=(0,t.fromKey)(e)[0];this.forEach(function(e){e.tileCoord[0]!==o&&(this.remove((0,t.getKey)(e.tileCoord)),e.dispose())},this)}},o}(e.default),i=r;exports.default=i;
},{"./structs/LRUCache.js":"oMDz","./tilecoord.js":"2faT"}],"xDao":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.defaultLoadFunction=f,exports.default=void 0;var e=require("./util.js"),t=u(require("./Tile.js")),i=u(require("./TileState.js")),s=require("./dom.js"),r=require("./events.js"),n=require("./extent.js"),o=u(require("./events/EventType.js")),l=require("./featureloader.js"),a=require("./functions.js");function u(e){return e&&e.__esModule?e:{default:e}}var h=function(t){function l(e,s,u,h,d,f,c,y,g,p,_,v,L,T,E){if(t.call(this,e,s,{transition:0}),this.context_={},this.loader_,this.replayState_={},this.sourceTiles_=p,this.tileKeys=[],this.extent=null,this.sourceRevision_=u,this.wrappedTileCoord=f,this.loadListenerKeys_=[],this.sourceTileListenerKeys_=[],f){var K=this.extent=g.getTileCoordExtent(f),D=g.getResolution(E),R=y.getZForResolution(D),O=E!=e[0],x=0;if(y.forEachTileCoord(K,R,function(e){var t=(0,n.getIntersection)(K,y.getTileCoordExtent(e)),s=y.getExtent();if(s&&(t=(0,n.getIntersection)(t,s,t)),(0,n.getWidth)(t)/D>=.5&&(0,n.getHeight)(t)/D>=.5){++x;var l=e.toString(),a=p[l];if(!a&&!O){var u=c(e,_,v);a=p[l]=new L(e,null==u?i.default.EMPTY:i.default.IDLE,null==u?"":u,h,d),this.sourceTileListenerKeys_.push((0,r.listen)(a,o.default.CHANGE,T))}!a||O&&a.getState()!=i.default.LOADED||(a.consumers++,this.tileKeys.push(l))}}.bind(this)),O&&x==this.tileKeys.length&&this.finishLoading_(),E<=e[0]&&this.state!=i.default.LOADED)for(;E>g.getMinZoom();){var j=new l(e,s,u,h,d,f,c,y,g,p,_,v,L,a.VOID,--E);if(j.state==i.default.LOADED){this.interimTile=j;break}}}}return t&&(l.__proto__=t),l.prototype=Object.create(t&&t.prototype),l.prototype.constructor=l,l.prototype.disposeInternal=function(){this.state=i.default.ABORT,this.changed(),this.interimTile&&this.interimTile.dispose();for(var e=0,s=this.tileKeys.length;e<s;++e){var n=this.tileKeys[e],o=this.getTile(n);o.consumers--,0==o.consumers&&(delete this.sourceTiles_[n],o.dispose())}this.tileKeys.length=0,this.sourceTiles_=null,this.loadListenerKeys_.forEach(r.unlistenByKey),this.loadListenerKeys_.length=0,this.sourceTileListenerKeys_.forEach(r.unlistenByKey),this.sourceTileListenerKeys_.length=0,t.prototype.disposeInternal.call(this)},l.prototype.getContext=function(t){var i=(0,e.getUid)(t);return i in this.context_||(this.context_[i]=(0,s.createCanvasContext2D)()),this.context_[i]},l.prototype.getImage=function(e){return-1==this.getReplayState(e).renderedTileRevision?null:this.getContext(e).canvas},l.prototype.getReplayState=function(t){var i=(0,e.getUid)(t);return i in this.replayState_||(this.replayState_[i]={dirty:!1,renderedRenderOrder:null,renderedRevision:-1,renderedTileRevision:-1}),this.replayState_[i]},l.prototype.getKey=function(){return this.tileKeys.join("/")+"-"+this.sourceRevision_},l.prototype.getTile=function(e){return this.sourceTiles_[e]},l.prototype.load=function(){var t=0,s={};this.state==i.default.IDLE&&this.setState(i.default.LOADING),this.state==i.default.LOADING&&this.tileKeys.forEach(function(n){var l=this.getTile(n);if(l.state==i.default.IDLE&&(l.setLoader(this.loader_),l.load()),l.state==i.default.LOADING){var a=(0,r.listen)(l,o.default.CHANGE,function(r){var n=l.getState();if(n==i.default.LOADED||n==i.default.ERROR){var o=(0,e.getUid)(l);n==i.default.ERROR?s[o]=!0:(--t,delete s[o]),t-Object.keys(s).length==0&&this.finishLoading_()}}.bind(this));this.loadListenerKeys_.push(a),++t}}.bind(this)),t-Object.keys(s).length==0&&setTimeout(this.finishLoading_.bind(this),0)},l.prototype.finishLoading_=function(){for(var e=this.tileKeys.length,t=0,s=e-1;s>=0;--s){var n=this.getTile(this.tileKeys[s]).getState();n!=i.default.LOADED&&--e,n==i.default.EMPTY&&++t}e==this.tileKeys.length?(this.loadListenerKeys_.forEach(r.unlistenByKey),this.loadListenerKeys_.length=0,this.setState(i.default.LOADED)):this.setState(t==this.tileKeys.length?i.default.EMPTY:i.default.ERROR)},l}(t.default),d=h;function f(e,t){var i=(0,l.loadFeaturesXhr)(t,e.getFormat(),e.onLoad.bind(e),e.onError.bind(e));e.setLoader(i)}exports.default=d;
},{"./util.js":"KniQ","./Tile.js":"IWZI","./TileState.js":"Xz9x","./dom.js":"Xno5","./events.js":"55Uq","./extent.js":"QDir","./events/EventType.js":"C8cu","./featureloader.js":"U3JP","./functions.js":"RgA2"}],"yj80":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("./util.js"),e=r(require("./Tile.js")),o=r(require("./TileState.js"));function r(t){return t&&t.__esModule?t:{default:t}}var i=[0,0,4096,4096],s=function(e){function r(t,o,r,i,s,n){e.call(this,t,o,n),this.consumers=0,this.extent_=null,this.format_=i,this.features_=null,this.loader_,this.projection_=null,this.replayGroups_={},this.tileLoadFunction_=s,this.url_=r}return e&&(r.__proto__=e),r.prototype=Object.create(e&&e.prototype),r.prototype.constructor=r,r.prototype.disposeInternal=function(){this.features_=null,this.replayGroups_={},this.state=o.default.ABORT,this.changed(),e.prototype.disposeInternal.call(this)},r.prototype.getExtent=function(){return this.extent_||i},r.prototype.getFormat=function(){return this.format_},r.prototype.getFeatures=function(){return this.features_},r.prototype.getKey=function(){return this.url_},r.prototype.getProjection=function(){return this.projection_},r.prototype.getReplayGroup=function(e,o){return this.replayGroups_[(0,t.getUid)(e)+","+o]},r.prototype.load=function(){this.state==o.default.IDLE&&(this.setState(o.default.LOADING),this.tileLoadFunction_(this,this.url_),this.loader_(null,NaN,null))},r.prototype.onLoad=function(t,e,o){this.setProjection(e),this.setFeatures(t),this.setExtent(o)},r.prototype.onError=function(){this.setState(o.default.ERROR)},r.prototype.setExtent=function(t){this.extent_=t},r.prototype.setFeatures=function(t){this.features_=t,this.setState(o.default.LOADED)},r.prototype.setProjection=function(t){this.projection_=t},r.prototype.setReplayGroup=function(e,o,r){this.replayGroups_[(0,t.getUid)(e)+","+o]=r},r.prototype.setLoader=function(t){this.loader_=t},r}(e.default),n=s;exports.default=n;
},{"./util.js":"KniQ","./Tile.js":"IWZI","./TileState.js":"Xz9x"}],"dOoh":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=u(require("./Control.js")),t=require("../css.js"),s=require("../dom.js"),l=require("../events.js"),n=u(require("../events/EventType.js"));function u(e){return e&&e.__esModule?e:{default:e}}var r=function(){var e;return function(){if(!e){var t=document.body;t.webkitRequestFullscreen?e="webkitfullscreenchange":t.mozRequestFullScreen?e="mozfullscreenchange":t.msRequestFullscreen?e="MSFullscreenChange":t.requestFullscreen&&(e="fullscreenchange")}return e}}(),c=function(e){function u(s){var u=s||{};e.call(this,{element:document.createElement("div"),target:u.target}),this.cssClassName_=void 0!==u.className?u.className:"ol-full-screen";var r=void 0!==u.label?u.label:"⤢";this.labelNode_="string"==typeof r?document.createTextNode(r):r;var c=void 0!==u.labelActive?u.labelActive:"×";this.labelActiveNode_="string"==typeof c?document.createTextNode(c):c,this.button_=document.createElement("button");var a=u.tipLabel?u.tipLabel:"Toggle full-screen";this.setClassName_(this.button_,i()),this.button_.setAttribute("type","button"),this.button_.title=a,this.button_.appendChild(this.labelNode_),(0,l.listen)(this.button_,n.default.CLICK,this.handleClick_,this);var d=this.cssClassName_+" "+t.CLASS_UNSELECTABLE+" "+t.CLASS_CONTROL+" "+(o()?"":t.CLASS_UNSUPPORTED),m=this.element;m.className=d,m.appendChild(this.button_),this.keys_=void 0!==u.keys&&u.keys,this.source_=u.source}return e&&(u.__proto__=e),u.prototype=Object.create(e&&e.prototype),u.prototype.constructor=u,u.prototype.handleClick_=function(e){e.preventDefault(),this.handleFullScreen_()},u.prototype.handleFullScreen_=function(){if(o()){var e,t=this.getMap();if(t)if(i())m();else e=this.source_?"string"==typeof this.source_?document.getElementById(this.source_):this.source_:t.getTargetElement(),this.keys_?d(e):a(e)}},u.prototype.handleFullScreenChange_=function(){var e=this.getMap();i()?(this.setClassName_(this.button_,!0),(0,s.replaceNode)(this.labelActiveNode_,this.labelNode_)):(this.setClassName_(this.button_,!1),(0,s.replaceNode)(this.labelNode_,this.labelActiveNode_)),e&&e.updateSize()},u.prototype.setClassName_=function(e,t){var s=this.cssClassName_+"-true",l=this.cssClassName_+"-false",n=t?s:l;e.classList.remove(s),e.classList.remove(l),e.classList.add(n)},u.prototype.setMap=function(t){e.prototype.setMap.call(this,t),t&&this.listenerKeys.push((0,l.listen)(document,r(),this.handleFullScreenChange_,this))},u}(e.default);function o(){var e=document.body;return!!(e.webkitRequestFullscreen||e.mozRequestFullScreen&&document.mozFullScreenEnabled||e.msRequestFullscreen&&document.msFullscreenEnabled||e.requestFullscreen&&document.fullscreenEnabled)}function i(){return!!(document.webkitIsFullScreen||document.mozFullScreen||document.msFullscreenElement||document.fullscreenElement)}function a(e){e.requestFullscreen?e.requestFullscreen():e.msRequestFullscreen?e.msRequestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen&&e.webkitRequestFullscreen()}function d(e){e.mozRequestFullScreenWithKeys?e.mozRequestFullScreenWithKeys():e.webkitRequestFullscreen?e.webkitRequestFullscreen():a(e)}function m(){document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen()}var h=c;exports.default=h;
},{"./Control.js":"+/xx","../css.js":"HgMV","../dom.js":"Xno5","../events.js":"55Uq","../events/EventType.js":"C8cu"}],"Cbl8":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.render=h,exports.default=void 0;var t=require("../events.js"),e=n(require("../events/EventType.js")),o=require("../Object.js"),i=n(require("./Control.js")),r=require("../proj.js");function n(t){return t&&t.__esModule?t:{default:t}}var s="projection",a="coordinateFormat",u=function(i){function n(e){var r=e||{},n=document.createElement("div");n.className=void 0!==r.className?r.className:"ol-mouse-position",i.call(this,{element:n,render:r.render||h,target:r.target}),(0,t.listen)(this,(0,o.getChangeEventType)(s),this.handleProjectionChanged_,this),r.coordinateFormat&&this.setCoordinateFormat(r.coordinateFormat),r.projection&&this.setProjection(r.projection),this.undefinedHTML_=void 0!==r.undefinedHTML?r.undefinedHTML:"&#160;",this.renderOnMouseOut_=!!this.undefinedHTML_,this.renderedHTML_=n.innerHTML,this.mapProjection_=null,this.transform_=null,this.lastMouseMovePixel_=null}return i&&(n.__proto__=i),n.prototype=Object.create(i&&i.prototype),n.prototype.constructor=n,n.prototype.handleProjectionChanged_=function(){this.transform_=null},n.prototype.getCoordinateFormat=function(){return this.get(a)},n.prototype.getProjection=function(){return this.get(s)},n.prototype.handleMouseMove=function(t){var e=this.getMap();this.lastMouseMovePixel_=e.getEventPixel(t),this.updateHTML_(this.lastMouseMovePixel_)},n.prototype.handleMouseOut=function(t){this.updateHTML_(null),this.lastMouseMovePixel_=null},n.prototype.setMap=function(o){if(i.prototype.setMap.call(this,o),o){var r=o.getViewport();this.listenerKeys.push((0,t.listen)(r,e.default.MOUSEMOVE,this.handleMouseMove,this),(0,t.listen)(r,e.default.TOUCHSTART,this.handleMouseMove,this)),this.renderOnMouseOut_&&this.listenerKeys.push((0,t.listen)(r,e.default.MOUSEOUT,this.handleMouseOut,this),(0,t.listen)(r,e.default.TOUCHEND,this.handleMouseOut,this))}},n.prototype.setCoordinateFormat=function(t){this.set(a,t)},n.prototype.setProjection=function(t){this.set(s,(0,r.get)(t))},n.prototype.updateHTML_=function(t){var e=this.undefinedHTML_;if(t&&this.mapProjection_){if(!this.transform_){var o=this.getProjection();this.transform_=o?(0,r.getTransformFromProjections)(this.mapProjection_,o):r.identityTransform}var i=this.getMap().getCoordinateFromPixel(t);if(i){this.transform_(i,i);var n=this.getCoordinateFormat();e=n?n(i):i.toString()}}this.renderedHTML_&&e===this.renderedHTML_||(this.element.innerHTML=e,this.renderedHTML_=e)},n}(i.default);function h(t){var e=t.frameState;e?this.mapProjection_!=e.viewState.projection&&(this.mapProjection_=e.viewState.projection,this.transform_=null):this.mapProjection_=null}var l=u;exports.default=l;
},{"../events.js":"55Uq","../events/EventType.js":"C8cu","../Object.js":"PhPh","./Control.js":"+/xx","../proj.js":"Diht"}],"KMhA":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.render=y,exports.default=void 0;var e=g(require("../Collection.js")),t=g(require("../Map.js")),i=g(require("../MapEventType.js")),o=g(require("../MapProperty.js")),a=require("../Object.js"),s=g(require("../ObjectEventType.js")),l=g(require("../Overlay.js")),n=g(require("../OverlayPositioning.js")),r=g(require("../ViewProperty.js")),p=g(require("./Control.js")),h=require("../coordinate.js"),d=require("../css.js"),c=require("../dom.js"),u=require("../events.js"),v=g(require("../events/EventType.js")),_=require("../extent.js");function g(e){return e&&e.__esModule?e:{default:e}}var m=.75,b=.1,f=function(p){function g(i){var o=i||{};p.call(this,{element:document.createElement("div"),render:o.render||y,target:o.target}),this.collapsed_=void 0===o.collapsed||o.collapsed,this.collapsible_=void 0===o.collapsible||o.collapsible,this.collapsible_||(this.collapsed_=!1);var a=void 0!==o.className?o.className:"ol-overviewmap",s=void 0!==o.tipLabel?o.tipLabel:"Overview map",r=void 0!==o.collapseLabel?o.collapseLabel:"«";"string"==typeof r?(this.collapseLabel_=document.createElement("span"),this.collapseLabel_.textContent=r):this.collapseLabel_=r;var h=void 0!==o.label?o.label:"»";"string"==typeof h?(this.label_=document.createElement("span"),this.label_.textContent=h):this.label_=h;var c=this.collapsible_&&!this.collapsed_?this.collapseLabel_:this.label_,_=document.createElement("button");_.setAttribute("type","button"),_.title=s,_.appendChild(c),(0,u.listen)(_,v.default.CLICK,this.handleClick_,this),this.ovmapDiv_=document.createElement("div"),this.ovmapDiv_.className="ol-overviewmap-map",this.ovmap_=new t.default({controls:new e.default,interactions:new e.default,view:o.view});var g=this.ovmap_;o.layers&&o.layers.forEach(function(e){g.addLayer(e)}.bind(this));var m=document.createElement("div");m.className="ol-overviewmap-box",m.style.boxSizing="border-box",this.boxOverlay_=new l.default({position:[0,0],positioning:n.default.BOTTOM_LEFT,element:m}),this.ovmap_.addOverlay(this.boxOverlay_);var b=a+" "+d.CLASS_UNSELECTABLE+" "+d.CLASS_CONTROL+(this.collapsed_&&this.collapsible_?" "+d.CLASS_COLLAPSED:"")+(this.collapsible_?"":" ol-uncollapsible"),f=this.element;f.className=b,f.appendChild(this.ovmapDiv_),f.appendChild(_);var w=this,E=this.boxOverlay_,C=this.boxOverlay_.getElement(),L=function(e){var t,i={clientX:(t=e).clientX-C.offsetWidth/2,clientY:t.clientY+C.offsetHeight/2},o=g.getEventCoordinate(i);E.setPosition(o)},x=function(e){var t=g.getEventCoordinate(e);w.getMap().getView().setCenter(t),window.removeEventListener("mousemove",L),window.removeEventListener("mouseup",x)};C.addEventListener("mousedown",function(){window.addEventListener("mousemove",L),window.addEventListener("mouseup",x)})}return p&&(g.__proto__=p),g.prototype=Object.create(p&&p.prototype),g.prototype.constructor=g,g.prototype.setMap=function(e){var t=this.getMap();if(e!==t){if(t){var i=t.getView();i&&this.unbindView_(i),this.ovmap_.setTarget(null)}if(p.prototype.setMap.call(this,e),e){this.ovmap_.setTarget(this.ovmapDiv_),this.listenerKeys.push((0,u.listen)(e,s.default.PROPERTYCHANGE,this.handleMapPropertyChange_,this)),0===this.ovmap_.getLayers().getLength()&&this.ovmap_.setLayerGroup(e.getLayerGroup());var o=e.getView();o&&(this.bindView_(o),o.isDef()&&(this.ovmap_.updateSize(),this.resetExtent_()))}}},g.prototype.handleMapPropertyChange_=function(e){if(e.key===o.default.VIEW){var t=e.oldValue;t&&this.unbindView_(t);var i=this.getMap().getView();this.bindView_(i)}},g.prototype.bindView_=function(e){(0,u.listen)(e,(0,a.getChangeEventType)(r.default.ROTATION),this.handleRotationChanged_,this)},g.prototype.unbindView_=function(e){(0,u.unlisten)(e,(0,a.getChangeEventType)(r.default.ROTATION),this.handleRotationChanged_,this)},g.prototype.handleRotationChanged_=function(){this.ovmap_.getView().setRotation(this.getMap().getView().getRotation())},g.prototype.validateExtent_=function(){var e=this.getMap(),t=this.ovmap_;if(e.isRendered()&&t.isRendered()){var i=e.getSize(),o=e.getView().calculateExtent(i),a=t.getSize(),s=t.getView().calculateExtent(a),l=t.getPixelFromCoordinate((0,_.getTopLeft)(o)),n=t.getPixelFromCoordinate((0,_.getBottomRight)(o)),r=Math.abs(l[0]-n[0]),p=Math.abs(l[1]-n[1]),h=a[0],d=a[1];r<h*b||p<d*b||r>h*m||p>d*m?this.resetExtent_():(0,_.containsExtent)(s,o)||this.recenter_()}},g.prototype.resetExtent_=function(){if(0!==m&&0!==b){var e=this.getMap(),t=this.ovmap_,i=e.getSize(),o=e.getView().calculateExtent(i),a=t.getView(),s=Math.log(m/b)/Math.LN2,l=1/(Math.pow(2,s/2)*b);(0,_.scaleFromCenter)(o,l),a.fit(o)}},g.prototype.recenter_=function(){var e=this.getMap(),t=this.ovmap_,i=e.getView();t.getView().setCenter(i.getCenter())},g.prototype.updateBox_=function(){var e=this.getMap(),t=this.ovmap_;if(e.isRendered()&&t.isRendered()){var i=e.getSize(),o=e.getView(),a=t.getView(),s=o.getRotation(),l=this.boxOverlay_,n=this.boxOverlay_.getElement(),r=o.calculateExtent(i),p=a.getResolution(),h=(0,_.getBottomLeft)(r),d=(0,_.getTopRight)(r),c=this.calculateCoordinateRotate_(s,h);l.setPosition(c),n&&(n.style.width=Math.abs((h[0]-d[0])/p)+"px",n.style.height=Math.abs((d[1]-h[1])/p)+"px")}},g.prototype.calculateCoordinateRotate_=function(e,t){var i,o=this.getMap().getView().getCenter();return o&&(i=[t[0]-o[0],t[1]-o[1]],(0,h.rotate)(i,e),(0,h.add)(i,o)),i},g.prototype.handleClick_=function(e){e.preventDefault(),this.handleToggle_()},g.prototype.handleToggle_=function(){this.element.classList.toggle(d.CLASS_COLLAPSED),this.collapsed_?(0,c.replaceNode)(this.collapseLabel_,this.label_):(0,c.replaceNode)(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_;var e=this.ovmap_;this.collapsed_||e.isRendered()||(e.updateSize(),this.resetExtent_(),(0,u.listenOnce)(e,i.default.POSTRENDER,function(e){this.updateBox_()},this))},g.prototype.getCollapsible=function(){return this.collapsible_},g.prototype.setCollapsible=function(e){this.collapsible_!==e&&(this.collapsible_=e,this.element.classList.toggle("ol-uncollapsible"),!e&&this.collapsed_&&this.handleToggle_())},g.prototype.setCollapsed=function(e){this.collapsible_&&this.collapsed_!==e&&this.handleToggle_()},g.prototype.getCollapsed=function(){return this.collapsed_},g.prototype.getOverviewMap=function(){return this.ovmap_},g}(p.default);function y(e){this.validateExtent_(),this.updateBox_()}var w=f;exports.default=w;
},{"../Collection.js":"FnDa","../Map.js":"8kYy","../MapEventType.js":"xLGm","../MapProperty.js":"zlNQ","../Object.js":"PhPh","../ObjectEventType.js":"zehl","../Overlay.js":"/qWc","../OverlayPositioning.js":"VpAM","../ViewProperty.js":"0/98","./Control.js":"+/xx","../coordinate.js":"nGsj","../css.js":"HgMV","../dom.js":"Xno5","../events.js":"55Uq","../events/EventType.js":"C8cu","../extent.js":"QDir"}],"DK5d":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.render=E,exports.default=exports.Units=void 0;var e=require("../Object.js"),t=require("../asserts.js"),i=l(require("./Control.js")),n=require("../css.js"),r=require("../events.js"),s=require("../proj.js"),d=l(require("../proj/Units.js"));function l(e){return e&&e.__esModule?e:{default:e}}var a="units",o={DEGREES:"degrees",IMPERIAL:"imperial",NAUTICAL:"nautical",METRIC:"metric",US:"us"};exports.Units=o;var h=[1,2,5],u=function(i){function l(t){var s=t||{},d=void 0!==s.className?s.className:"ol-scale-line";i.call(this,{element:document.createElement("div"),render:s.render||E,target:s.target}),this.innerElement_=document.createElement("div"),this.innerElement_.className=d+"-inner",this.element.className=d+" "+n.CLASS_UNSELECTABLE,this.element.appendChild(this.innerElement_),this.viewState_=null,this.minWidth_=void 0!==s.minWidth?s.minWidth:64,this.renderedVisible_=!1,this.renderedWidth_=void 0,this.renderedHTML_="",(0,r.listen)(this,(0,e.getChangeEventType)(a),this.handleUnitsChanged_,this),this.setUnits(s.units||o.METRIC)}return i&&(l.__proto__=i),l.prototype=Object.create(i&&i.prototype),l.prototype.constructor=l,l.prototype.getUnits=function(){return this.get(a)},l.prototype.handleUnitsChanged_=function(){this.updateElement_()},l.prototype.setUnits=function(e){this.set(a,e)},l.prototype.updateElement_=function(){var e=this.viewState_;if(e){var i=e.center,n=e.projection,r=this.getUnits(),l=r==o.DEGREES?d.default.DEGREES:d.default.METERS,a=(0,s.getPointResolution)(n,e.resolution,i,l);n.getUnits()!=d.default.DEGREES&&n.getMetersPerUnit()&&l==d.default.METERS&&(a*=n.getMetersPerUnit());var u=this.minWidth_*a,E="";if(r==o.DEGREES){var _=s.METERS_PER_UNIT[d.default.DEGREES];n.getUnits()==d.default.DEGREES?u*=_:a/=_,u<_/60?(E="″",a*=3600):u<_?(E="′",a*=60):E="°"}else r==o.IMPERIAL?u<.9144?(E="in",a/=.0254):u<1609.344?(E="ft",a/=.3048):(E="mi",a/=1609.344):r==o.NAUTICAL?(a/=1852,E="nm"):r==o.METRIC?u<.001?(E="μm",a*=1e6):u<1?(E="mm",a*=1e3):u<1e3?E="m":(E="km",a/=1e3):r==o.US?u<.9144?(E="in",a*=39.37):u<1609.344?(E="ft",a/=.30480061):(E="mi",a/=1609.3472):(0,t.assert)(!1,33);for(var m,p,c=3*Math.floor(Math.log(this.minWidth_*a)/Math.log(10));;){if(m=h[(c%3+3)%3]*Math.pow(10,Math.floor(c/3)),p=Math.round(m/a),isNaN(p))return this.element.style.display="none",void(this.renderedVisible_=!1);if(p>=this.minWidth_)break;++c}var f=m+" "+E;this.renderedHTML_!=f&&(this.innerElement_.innerHTML=f,this.renderedHTML_=f),this.renderedWidth_!=p&&(this.innerElement_.style.width=p+"px",this.renderedWidth_=p),this.renderedVisible_||(this.element.style.display="",this.renderedVisible_=!0)}else this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1)},l}(i.default);function E(e){var t=e.frameState;this.viewState_=t?t.viewState:null,this.updateElement_()}var _=u;exports.default=_;
},{"../Object.js":"PhPh","../asserts.js":"fLG6","./Control.js":"+/xx","../css.js":"HgMV","../events.js":"55Uq","../proj.js":"Diht","../proj/Units.js":"yZx6"}],"A/Kw":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.render=_,exports.default=void 0;var t=u(require("../ViewHint.js")),e=u(require("./Control.js")),i=require("../css.js"),s=require("../easing.js"),r=require("../events.js"),n=require("../events/Event.js"),o=u(require("../events/EventType.js")),a=require("../math.js"),h=u(require("../pointer/EventType.js")),l=u(require("../pointer/PointerEventHandler.js"));function u(t){return t&&t.__esModule?t:{default:t}}var d={VERTICAL:0,HORIZONTAL:1},g=function(e){function u(t){var s=t||{};e.call(this,{element:document.createElement("div"),render:s.render||_}),this.dragListenerKeys_=[],this.currentResolution_=void 0,this.direction_=d.VERTICAL,this.dragging_,this.heightLimit_=0,this.widthLimit_=0,this.previousX_,this.previousY_,this.thumbSize_=null,this.sliderInitialized_=!1,this.duration_=void 0!==s.duration?s.duration:200;var a=void 0!==s.className?s.className:"ol-zoomslider",u=document.createElement("button");u.setAttribute("type","button"),u.className=a+"-thumb "+i.CLASS_UNSELECTABLE;var g=this.element;g.className=a+" "+i.CLASS_UNSELECTABLE+" "+i.CLASS_CONTROL,g.appendChild(u),this.dragger_=new l.default(g),(0,r.listen)(this.dragger_,h.default.POINTERDOWN,this.handleDraggerStart_,this),(0,r.listen)(this.dragger_,h.default.POINTERMOVE,this.handleDraggerDrag_,this),(0,r.listen)(this.dragger_,h.default.POINTERUP,this.handleDraggerEnd_,this),(0,r.listen)(g,o.default.CLICK,this.handleContainerClick_,this),(0,r.listen)(u,o.default.CLICK,n.stopPropagation)}return e&&(u.__proto__=e),u.prototype=Object.create(e&&e.prototype),u.prototype.constructor=u,u.prototype.disposeInternal=function(){this.dragger_.dispose(),e.prototype.disposeInternal.call(this)},u.prototype.setMap=function(t){e.prototype.setMap.call(this,t),t&&t.render()},u.prototype.initSlider_=function(){var t=this.element,e=t.offsetWidth,i=t.offsetHeight,s=t.firstElementChild,r=getComputedStyle(s),n=s.offsetWidth+parseFloat(r.marginRight)+parseFloat(r.marginLeft),o=s.offsetHeight+parseFloat(r.marginTop)+parseFloat(r.marginBottom);this.thumbSize_=[n,o],e>i?(this.direction_=d.HORIZONTAL,this.widthLimit_=e-n):(this.direction_=d.VERTICAL,this.heightLimit_=i-o),this.sliderInitialized_=!0},u.prototype.handleContainerClick_=function(t){var e=this.getMap().getView(),i=this.getRelativePosition_(t.offsetX-this.thumbSize_[0]/2,t.offsetY-this.thumbSize_[1]/2),r=this.getResolutionForPosition_(i);e.animate({resolution:e.constrainResolution(r),duration:this.duration_,easing:s.easeOut})},u.prototype.handleDraggerStart_=function(e){if(!this.dragging_&&e.originalEvent.target===this.element.firstElementChild&&(this.getMap().getView().setHint(t.default.INTERACTING,1),this.previousX_=e.clientX,this.previousY_=e.clientY,this.dragging_=!0,0===this.dragListenerKeys_.length)){var i=this.handleDraggerDrag_,s=this.handleDraggerEnd_;this.dragListenerKeys_.push((0,r.listen)(document,o.default.MOUSEMOVE,i,this),(0,r.listen)(document,h.default.POINTERMOVE,i,this),(0,r.listen)(document,o.default.MOUSEUP,s,this),(0,r.listen)(document,h.default.POINTERUP,s,this))}},u.prototype.handleDraggerDrag_=function(t){if(this.dragging_){var e=this.element.firstElementChild,i=t.clientX-this.previousX_+parseFloat(e.style.left),s=t.clientY-this.previousY_+parseFloat(e.style.top),r=this.getRelativePosition_(i,s);this.currentResolution_=this.getResolutionForPosition_(r),this.getMap().getView().setResolution(this.currentResolution_),this.setThumbPosition_(this.currentResolution_),this.previousX_=t.clientX,this.previousY_=t.clientY}},u.prototype.handleDraggerEnd_=function(e){if(this.dragging_){var i=this.getMap().getView();i.setHint(t.default.INTERACTING,-1),i.animate({resolution:i.constrainResolution(this.currentResolution_),duration:this.duration_,easing:s.easeOut}),this.dragging_=!1,this.previousX_=void 0,this.previousY_=void 0,this.dragListenerKeys_.forEach(r.unlistenByKey),this.dragListenerKeys_.length=0}},u.prototype.setThumbPosition_=function(t){var e=this.getPositionForResolution_(t),i=this.element.firstElementChild;this.direction_==d.HORIZONTAL?i.style.left=this.widthLimit_*e+"px":i.style.top=this.heightLimit_*e+"px"},u.prototype.getRelativePosition_=function(t,e){var i;return i=this.direction_===d.HORIZONTAL?t/this.widthLimit_:e/this.heightLimit_,(0,a.clamp)(i,0,1)},u.prototype.getResolutionForPosition_=function(t){return this.getMap().getView().getResolutionForValueFunction()(1-t)},u.prototype.getPositionForResolution_=function(t){return 1-this.getMap().getView().getValueForResolutionFunction()(t)},u}(e.default);function _(t){if(t.frameState){this.sliderInitialized_||this.initSlider_();var e=t.frameState.viewState.resolution;e!==this.currentResolution_&&(this.currentResolution_=e,this.setThumbPosition_(e))}}var p=g;exports.default=p;
},{"../ViewHint.js":"cuLW","./Control.js":"+/xx","../css.js":"HgMV","../easing.js":"IeCz","../events.js":"55Uq","../events/Event.js":"fKNg","../events/EventType.js":"C8cu","../math.js":"B96G","../pointer/EventType.js":"TaSm","../pointer/PointerEventHandler.js":"zTqe"}],"W4Y0":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("../events.js"),t=r(require("../events/EventType.js")),o=r(require("./Control.js")),n=require("../css.js");function r(e){return e&&e.__esModule?e:{default:e}}var i=function(o){function r(r){var i=r||{};o.call(this,{element:document.createElement("div"),target:i.target}),this.extent=i.extent?i.extent:null;var l=void 0!==i.className?i.className:"ol-zoom-extent",a=void 0!==i.label?i.label:"E",s=void 0!==i.tipLabel?i.tipLabel:"Fit to extent",u=document.createElement("button");u.setAttribute("type","button"),u.title=s,u.appendChild("string"==typeof a?document.createTextNode(a):a),(0,e.listen)(u,t.default.CLICK,this.handleClick_,this);var p=l+" "+n.CLASS_UNSELECTABLE+" "+n.CLASS_CONTROL,c=this.element;c.className=p,c.appendChild(u)}return o&&(r.__proto__=o),r.prototype=Object.create(o&&o.prototype),r.prototype.constructor=r,r.prototype.handleClick_=function(e){e.preventDefault(),this.handleZoomToExtent()},r.prototype.handleZoomToExtent=function(){var e=this.getMap().getView(),t=this.extent?this.extent:e.getProjection().getExtent();e.fit(t)},r}(o.default),l=i;exports.default=l;
},{"../events.js":"55Uq","../events/EventType.js":"C8cu","./Control.js":"+/xx","../css.js":"HgMV"}],"95uc":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"Attribution",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(exports,"Control",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(exports,"FullScreen",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(exports,"MousePosition",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(exports,"OverviewMap",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(exports,"Rotate",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(exports,"ScaleLine",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(exports,"Zoom",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(exports,"ZoomSlider",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(exports,"ZoomToExtent",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(exports,"defaults",{enumerable:!0,get:function(){return s.defaults}});var e=a(require("./control/Attribution.js")),r=a(require("./control/Control.js")),t=a(require("./control/FullScreen.js")),o=a(require("./control/MousePosition.js")),n=a(require("./control/OverviewMap.js")),u=a(require("./control/Rotate.js")),i=a(require("./control/ScaleLine.js")),l=a(require("./control/Zoom.js")),c=a(require("./control/ZoomSlider.js")),f=a(require("./control/ZoomToExtent.js")),s=require("./control/util.js");function a(e){return e&&e.__esModule?e:{default:e}}
},{"./control/Attribution.js":"Q4Cf","./control/Control.js":"+/xx","./control/FullScreen.js":"dOoh","./control/MousePosition.js":"Cbl8","./control/OverviewMap.js":"KMhA","./control/Rotate.js":"sCgw","./control/ScaleLine.js":"DK5d","./control/Zoom.js":"L3+c","./control/ZoomSlider.js":"A/Kw","./control/ZoomToExtent.js":"W4Y0","./control/util.js":"uzb+"}],"+jwT":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../util.js"),e=function(t){this.source_=t};e.prototype.isAnimated=function(){return!1},e.prototype.getType=function(){return(0,t.abstract)()},e.prototype.getSource=function(){return this.source_};var r=e;exports.default=r;
},{"../util.js":"KniQ"}],"SAYv":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("../webgl.js"),t=r(require("../webgl/Shader.js"));function r(e){return e&&e.__esModule?e:{default:e}}var o=function(t){function r(e){t.call(this,e)}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype.getType=function(){return e.FRAGMENT_SHADER},r}(t.default),u=o;exports.default=u;
},{"../webgl.js":"SCyv","../webgl/Shader.js":"+jwT"}],"mo14":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("../webgl.js"),t=r(require("../webgl/Shader.js"));function r(e){return e&&e.__esModule?e:{default:e}}var o=function(t){function r(e){t.call(this,e)}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype.getType=function(){return e.VERTEX_SHADER},r}(t.default),u=o;exports.default=u;
},{"../webgl.js":"SCyv","../webgl/Shader.js":"+jwT"}],"GZAE":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.vertex=exports.fragment=void 0;var i=require("../../../webgl.js"),e=o(require("../../../webgl/Fragment.js")),t=o(require("../../../webgl/Vertex.js"));function o(i){return i&&i.__esModule?i:{default:i}}var a=new e.default(i.DEBUG?"precision mediump float;\nvarying vec2 v_center;\nvarying vec2 v_offset;\nvarying float v_halfWidth;\nvarying float v_pixelRatio;\n\n\n\nuniform float u_opacity;\nuniform vec4 u_fillColor;\nuniform vec4 u_strokeColor;\nuniform vec2 u_size;\n\nvoid main(void) {\n  vec2 windowCenter = vec2((v_center.x + 1.0) / 2.0 * u_size.x * v_pixelRatio,\n      (v_center.y + 1.0) / 2.0 * u_size.y * v_pixelRatio);\n  vec2 windowOffset = vec2((v_offset.x + 1.0) / 2.0 * u_size.x * v_pixelRatio,\n      (v_offset.y + 1.0) / 2.0 * u_size.y * v_pixelRatio);\n  float radius = length(windowCenter - windowOffset);\n  float dist = length(windowCenter - gl_FragCoord.xy);\n  if (dist > radius + v_halfWidth) {\n    if (u_strokeColor.a == 0.0) {\n      gl_FragColor = u_fillColor;\n    } else {\n      gl_FragColor = u_strokeColor;\n    }\n    gl_FragColor.a = gl_FragColor.a - (dist - (radius + v_halfWidth));\n  } else if (u_fillColor.a == 0.0) {\n    // Hooray, no fill, just stroke. We can use real antialiasing.\n    gl_FragColor = u_strokeColor;\n    if (dist < radius - v_halfWidth) {\n      gl_FragColor.a = gl_FragColor.a - (radius - v_halfWidth - dist);\n    }\n  } else {\n    gl_FragColor = u_fillColor;\n    float strokeDist = radius - v_halfWidth;\n    float antialias = 2.0 * v_pixelRatio;\n    if (dist > strokeDist) {\n      gl_FragColor = u_strokeColor;\n    } else if (dist >= strokeDist - antialias) {\n      float step = smoothstep(strokeDist - antialias, strokeDist, dist);\n      gl_FragColor = mix(u_fillColor, u_strokeColor, step);\n    }\n  }\n  gl_FragColor.a = gl_FragColor.a * u_opacity;\n  if (gl_FragColor.a <= 0.0) {\n    discard;\n  }\n}\n":"precision mediump float;varying vec2 a;varying vec2 b;varying float c;varying float d;uniform float m;uniform vec4 n;uniform vec4 o;uniform vec2 p;void main(void){vec2 windowCenter=vec2((a.x+1.0)/2.0*p.x*d,(a.y+1.0)/2.0*p.y*d);vec2 windowOffset=vec2((b.x+1.0)/2.0*p.x*d,(b.y+1.0)/2.0*p.y*d);float radius=length(windowCenter-windowOffset);float dist=length(windowCenter-gl_FragCoord.xy);if(dist>radius+c){if(o.a==0.0){gl_FragColor=n;}else{gl_FragColor=o;}gl_FragColor.a=gl_FragColor.a-(dist-(radius+c));}else if(n.a==0.0){gl_FragColor=o;if(dist<radius-c){gl_FragColor.a=gl_FragColor.a-(radius-c-dist);}} else{gl_FragColor=n;float strokeDist=radius-c;float antialias=2.0*d;if(dist>strokeDist){gl_FragColor=o;}else if(dist>=strokeDist-antialias){float step=smoothstep(strokeDist-antialias,strokeDist,dist);gl_FragColor=mix(n,o,step);}} gl_FragColor.a=gl_FragColor.a*m;if(gl_FragColor.a<=0.0){discard;}}");exports.fragment=a;var n=new t.default(i.DEBUG?"varying vec2 v_center;\nvarying vec2 v_offset;\nvarying float v_halfWidth;\nvarying float v_pixelRatio;\n\n\nattribute vec2 a_position;\nattribute float a_instruction;\nattribute float a_radius;\n\nuniform mat4 u_projectionMatrix;\nuniform mat4 u_offsetScaleMatrix;\nuniform mat4 u_offsetRotateMatrix;\nuniform float u_lineWidth;\nuniform float u_pixelRatio;\n\nvoid main(void) {\n  mat4 offsetMatrix = u_offsetScaleMatrix * u_offsetRotateMatrix;\n  v_center = vec4(u_projectionMatrix * vec4(a_position, 0.0, 1.0)).xy;\n  v_pixelRatio = u_pixelRatio;\n  float lineWidth = u_lineWidth * u_pixelRatio;\n  v_halfWidth = lineWidth / 2.0;\n  if (lineWidth == 0.0) {\n    lineWidth = 2.0 * u_pixelRatio;\n  }\n  vec2 offset;\n  // Radius with anitaliasing (roughly).\n  float radius = a_radius + 3.0 * u_pixelRatio;\n  // Until we get gl_VertexID in WebGL, we store an instruction.\n  if (a_instruction == 0.0) {\n    // Offsetting the edges of the triangle by lineWidth / 2 is necessary, however\n    // we should also leave some space for the antialiasing, thus we offset by lineWidth.\n    offset = vec2(-1.0, 1.0);\n  } else if (a_instruction == 1.0) {\n    offset = vec2(-1.0, -1.0);\n  } else if (a_instruction == 2.0) {\n    offset = vec2(1.0, -1.0);\n  } else {\n    offset = vec2(1.0, 1.0);\n  }\n\n  gl_Position = u_projectionMatrix * vec4(a_position + offset * radius, 0.0, 1.0) +\n      offsetMatrix * vec4(offset * lineWidth, 0.0, 0.0);\n  v_offset = vec4(u_projectionMatrix * vec4(a_position.x + a_radius, a_position.y,\n      0.0, 1.0)).xy;\n\n  if (distance(v_center, v_offset) > 20000.0) {\n    gl_Position = vec4(v_center, 0.0, 1.0);\n  }\n}\n\n\n":"varying vec2 a;varying vec2 b;varying float c;varying float d;attribute vec2 e;attribute float f;attribute float g;uniform mat4 h;uniform mat4 i;uniform mat4 j;uniform float k;uniform float l;void main(void){mat4 offsetMatrix=i*j;a=vec4(h*vec4(e,0.0,1.0)).xy;d=l;float lineWidth=k*l;c=lineWidth/2.0;if(lineWidth==0.0){lineWidth=2.0*l;}vec2 offset;float radius=g+3.0*l;if(f==0.0){offset=vec2(-1.0,1.0);}else if(f==1.0){offset=vec2(-1.0,-1.0);}else if(f==2.0){offset=vec2(1.0,-1.0);}else{offset=vec2(1.0,1.0);}gl_Position=h*vec4(e+offset*radius,0.0,1.0)+offsetMatrix*vec4(offset*lineWidth,0.0,0.0);b=vec4(h*vec4(e.x+g,e.y,0.0,1.0)).xy;if(distance(a,b)>20000.0){gl_Position=vec4(a,0.0,1.0);}}");exports.vertex=n;
},{"../../../webgl.js":"SCyv","../../../webgl/Fragment.js":"SAYv","../../../webgl/Vertex.js":"mo14"}],"K5HK":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../../../../webgl.js"),i=function(i,o){this.u_projectionMatrix=i.getUniformLocation(o,t.DEBUG?"u_projectionMatrix":"h"),this.u_offsetScaleMatrix=i.getUniformLocation(o,t.DEBUG?"u_offsetScaleMatrix":"i"),this.u_offsetRotateMatrix=i.getUniformLocation(o,t.DEBUG?"u_offsetRotateMatrix":"j"),this.u_lineWidth=i.getUniformLocation(o,t.DEBUG?"u_lineWidth":"k"),this.u_pixelRatio=i.getUniformLocation(o,t.DEBUG?"u_pixelRatio":"l"),this.u_opacity=i.getUniformLocation(o,t.DEBUG?"u_opacity":"m"),this.u_fillColor=i.getUniformLocation(o,t.DEBUG?"u_fillColor":"n"),this.u_strokeColor=i.getUniformLocation(o,t.DEBUG?"u_strokeColor":"o"),this.u_size=i.getUniformLocation(o,t.DEBUG?"u_size":"p"),this.a_position=i.getAttribLocation(o,t.DEBUG?"a_position":"e"),this.a_instruction=i.getAttribLocation(o,t.DEBUG?"a_instruction":"f"),this.a_radius=i.getAttribLocation(o,t.DEBUG?"a_radius":"g")},o=i;exports.default=o;
},{"../../../../webgl.js":"SCyv"}],"UkOi":[function(require,module,exports) {
"use strict";function e(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function r(e,r){return e[0]=r[0],e[1]=r[1],e[4]=r[2],e[5]=r[3],e[12]=r[4],e[13]=r[5],e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.create=e,exports.fromTransform=r;
},{}],"HMSc":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../../util.js"),e=require("../../extent.js"),r=s(require("../VectorContext.js")),i=require("../../transform.js"),a=require("../../vec/mat4.js"),n=require("../../webgl.js");function s(t){return t&&t.__esModule?t:{default:t}}var o=function(r){function s(t,n){r.call(this),this.tolerance=t,this.maxExtent=n,this.origin=(0,e.getCenter)(n),this.projectionMatrix_=(0,i.create)(),this.offsetRotateMatrix_=(0,i.create)(),this.offsetScaleMatrix_=(0,i.create)(),this.tmpMat4_=(0,a.create)(),this.indices=[],this.indicesBuffer=null,this.startIndices=[],this.startIndicesFeature=[],this.vertices=[],this.verticesBuffer=null,this.lineStringReplay=void 0}return r&&(s.__proto__=r),s.prototype=Object.create(r&&r.prototype),s.prototype.constructor=s,s.prototype.getDeleteResourcesFunction=function(e){return(0,t.abstract)()},s.prototype.finish=function(e){(0,t.abstract)()},s.prototype.setUpProgram=function(e,r,i,a){return(0,t.abstract)()},s.prototype.shutDownProgram=function(e,r){(0,t.abstract)()},s.prototype.drawReplay=function(e,r,i,a){(0,t.abstract)()},s.prototype.drawHitDetectionReplayOneByOne=function(e,r,i,a,n){return(0,t.abstract)()},s.prototype.drawHitDetectionReplay=function(t,e,r,i,a,n){return a?this.drawHitDetectionReplayOneByOne(t,e,r,i,n):this.drawHitDetectionReplayAll(t,e,r,i)},s.prototype.drawHitDetectionReplayAll=function(t,e,r,i){t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT),this.drawReplay(t,e,r,!0);var a=i(null);return a||void 0},s.prototype.replay=function(t,e,r,s,o,c,l,u,f,p,_){var E,h,S,T,d,R,m,y,I=t.getGL();this.lineStringReplay&&(E=I.isEnabled(I.STENCIL_TEST),h=I.getParameter(I.STENCIL_FUNC),S=I.getParameter(I.STENCIL_VALUE_MASK),T=I.getParameter(I.STENCIL_REF),d=I.getParameter(I.STENCIL_WRITEMASK),R=I.getParameter(I.STENCIL_FAIL),m=I.getParameter(I.STENCIL_PASS_DEPTH_PASS),y=I.getParameter(I.STENCIL_PASS_DEPTH_FAIL),I.enable(I.STENCIL_TEST),I.clear(I.STENCIL_BUFFER_BIT),I.stencilMask(255),I.stencilFunc(I.ALWAYS,1,255),I.stencilOp(I.KEEP,I.KEEP,I.REPLACE),this.lineStringReplay.replay(t,e,r,s,o,c,l,u,f,p,_),I.stencilMask(0),I.stencilFunc(I.NOTEQUAL,1,255)),t.bindBuffer(n.ARRAY_BUFFER,this.verticesBuffer),t.bindBuffer(n.ELEMENT_ARRAY_BUFFER,this.indicesBuffer);var M=this.setUpProgram(I,t,o,c),g=(0,i.reset)(this.projectionMatrix_);(0,i.scale)(g,2/(r*o[0]),2/(r*o[1])),(0,i.rotate)(g,-s),(0,i.translate)(g,-(e[0]-this.origin[0]),-(e[1]-this.origin[1]));var L=(0,i.reset)(this.offsetScaleMatrix_);(0,i.scale)(L,2/o[0],2/o[1]);var x,F=(0,i.reset)(this.offsetRotateMatrix_);return 0!==s&&(0,i.rotate)(F,-s),I.uniformMatrix4fv(M.u_projectionMatrix,!1,(0,a.fromTransform)(this.tmpMat4_,g)),I.uniformMatrix4fv(M.u_offsetScaleMatrix,!1,(0,a.fromTransform)(this.tmpMat4_,L)),I.uniformMatrix4fv(M.u_offsetRotateMatrix,!1,(0,a.fromTransform)(this.tmpMat4_,F)),I.uniform1f(M.u_opacity,l),void 0===f?this.drawReplay(I,t,u,!1):x=this.drawHitDetectionReplay(I,t,u,f,p,_),this.shutDownProgram(I,M),this.lineStringReplay&&(E||I.disable(I.STENCIL_TEST),I.clear(I.STENCIL_BUFFER_BIT),I.stencilFunc(h,T,S),I.stencilMask(d),I.stencilOp(R,y,m)),x},s.prototype.drawElements=function(t,e,r,i){var a=e.hasOESElementIndexUint?n.UNSIGNED_INT:n.UNSIGNED_SHORT,s=i-r,o=r*(e.hasOESElementIndexUint?4:2);t.drawElements(n.TRIANGLES,s,a,o)},s}(r.default),c=o;exports.default=c;
},{"../../util.js":"KniQ","../../extent.js":"QDir","../VectorContext.js":"4LQ/","../../transform.js":"P4eA","../../vec/mat4.js":"UkOi","../../webgl.js":"SCyv"}],"7DIo":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.triangleIsCounterClockwise=exports.EPSILON=exports.DEFAULT_LINEWIDTH=exports.DEFAULT_TEXTBASELINE=exports.DEFAULT_TEXTALIGN=exports.DEFAULT_STROKESTYLE=exports.DEFAULT_MITERLIMIT=exports.DEFAULT_LINEJOIN=exports.DEFAULT_LINEDASHOFFSET=exports.DEFAULT_LINEDASH=exports.DEFAULT_LINECAP=exports.DEFAULT_FILLSTYLE=exports.DEFAULT_FONT=void 0;var r="10px sans-serif";exports.DEFAULT_FONT=r;var E=[0,0,0,1];exports.DEFAULT_FILLSTYLE=E;var L="round";exports.DEFAULT_LINECAP=L;var T=[];exports.DEFAULT_LINEDASH=T;var e=0;exports.DEFAULT_LINEDASHOFFSET=e;var o="round";exports.DEFAULT_LINEJOIN=o;var s=10;exports.DEFAULT_MITERLIMIT=s;var t=[0,0,0,1];exports.DEFAULT_STROKESTYLE=t;var A=.5;exports.DEFAULT_TEXTALIGN=A;var I=.5;exports.DEFAULT_TEXTBASELINE=I;var F=1;exports.DEFAULT_LINEWIDTH=F;var p=Number.EPSILON||2.220446049250313e-16;exports.EPSILON=p;var x=function(r,E,L,T,e,o){var s=(L-r)*(o-E)-(e-r)*(T-E);return s<=p&&s>=-p?void 0:s>0};exports.triangleIsCounterClockwise=x;
},{}],"zsRd":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("../webgl.js"),t={STATIC_DRAW:e.STATIC_DRAW,STREAM_DRAW:e.STREAM_DRAW,DYNAMIC_DRAW:e.DYNAMIC_DRAW},r=function(e,r){this.arr_=void 0!==e?e:[],this.usage_=void 0!==r?r:t.STATIC_DRAW};r.prototype.getArray=function(){return this.arr_},r.prototype.getUsage=function(){return this.usage_};var o=r;exports.default=o;
},{"../webgl.js":"SCyv"}],"sHZH":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../../util.js"),e=require("../../array.js"),s=require("../../color.js"),i=require("../../extent.js"),r=require("../../obj.js"),n=require("../../geom/flat/transform.js"),a=require("./circlereplay/defaultshader.js"),o=u(require("./circlereplay/defaultshader/Locations.js")),l=u(require("./Replay.js")),h=require("../webgl.js"),c=require("../../webgl.js"),d=u(require("../../webgl/Buffer.js"));function u(t){return t&&t.__esModule?t:{default:t}}var _=function(l){function u(t,e){l.call(this,t,e),this.defaultLocations_=null,this.styles_=[],this.styleIndices_=[],this.radius_=0,this.state_={fillColor:null,strokeColor:null,lineDash:null,lineDashOffset:void 0,lineWidth:void 0,changed:!1}}return l&&(u.__proto__=l),u.prototype=Object.create(l&&l.prototype),u.prototype.constructor=u,u.prototype.drawCoordinates_=function(t,e,s,i){var r,n,a=this.vertices.length,o=this.indices.length,l=a/4;for(r=e,n=s;r<n;r+=i)this.vertices[a++]=t[r],this.vertices[a++]=t[r+1],this.vertices[a++]=0,this.vertices[a++]=this.radius_,this.vertices[a++]=t[r],this.vertices[a++]=t[r+1],this.vertices[a++]=1,this.vertices[a++]=this.radius_,this.vertices[a++]=t[r],this.vertices[a++]=t[r+1],this.vertices[a++]=2,this.vertices[a++]=this.radius_,this.vertices[a++]=t[r],this.vertices[a++]=t[r+1],this.vertices[a++]=3,this.vertices[a++]=this.radius_,this.indices[o++]=l,this.indices[o++]=l+1,this.indices[o++]=l+2,this.indices[o++]=l+2,this.indices[o++]=l+3,this.indices[o++]=l,l+=4},u.prototype.drawCircle=function(t,e){var s=t.getRadius(),i=t.getStride();if(s){this.startIndices.push(this.indices.length),this.startIndicesFeature.push(e),this.state_.changed&&(this.styleIndices_.push(this.indices.length),this.state_.changed=!1),this.radius_=s;var r=t.getFlatCoordinates();r=(0,n.translate)(r,0,2,i,-this.origin[0],-this.origin[1]),this.drawCoordinates_(r,0,2,i)}else if(this.state_.changed&&(this.styles_.pop(),this.styles_.length)){var a=this.styles_[this.styles_.length-1];this.state_.fillColor=a[0],this.state_.strokeColor=a[1],this.state_.lineWidth=a[2],this.state_.changed=!1}},u.prototype.finish=function(t){this.verticesBuffer=new d.default(this.vertices),this.indicesBuffer=new d.default(this.indices),this.startIndices.push(this.indices.length),0===this.styleIndices_.length&&this.styles_.length>0&&(this.styles_=[]),this.vertices=null,this.indices=null},u.prototype.getDeleteResourcesFunction=function(t){var e=this.verticesBuffer,s=this.indicesBuffer;return function(){t.deleteBuffer(e),t.deleteBuffer(s)}},u.prototype.setUpProgram=function(t,e,s,i){var r,n=e.getProgram(a.fragment,a.vertex);return this.defaultLocations_?r=this.defaultLocations_:(r=new o.default(t,n),this.defaultLocations_=r),e.useProgram(n),t.enableVertexAttribArray(r.a_position),t.vertexAttribPointer(r.a_position,2,c.FLOAT,!1,16,0),t.enableVertexAttribArray(r.a_instruction),t.vertexAttribPointer(r.a_instruction,1,c.FLOAT,!1,16,8),t.enableVertexAttribArray(r.a_radius),t.vertexAttribPointer(r.a_radius,1,c.FLOAT,!1,16,12),t.uniform2fv(r.u_size,s),t.uniform1f(r.u_pixelRatio,i),r},u.prototype.shutDownProgram=function(t,e){t.disableVertexAttribArray(e.a_position),t.disableVertexAttribArray(e.a_instruction),t.disableVertexAttribArray(e.a_radius)},u.prototype.drawReplay=function(t,e,s,i){var n,a,o,l;if((0,r.isEmpty)(s))for(o=this.startIndices[this.startIndices.length-1],n=this.styleIndices_.length-1;n>=0;--n)a=this.styleIndices_[n],l=this.styles_[n],this.setFillStyle_(t,l[0]),this.setStrokeStyle_(t,l[1],l[2]),this.drawElements(t,e,a,o),o=a;else this.drawReplaySkipping_(t,e,s)},u.prototype.drawHitDetectionReplayOneByOne=function(e,s,r,n,a){var o,l,h,c,d,u,_;for(_=this.startIndices.length-2,h=this.startIndices[_+1],o=this.styleIndices_.length-1;o>=0;--o)for(c=this.styles_[o],this.setFillStyle_(e,c[0]),this.setStrokeStyle_(e,c[1],c[2]),d=this.styleIndices_[o];_>=0&&this.startIndices[_]>=d;){if(l=this.startIndices[_],u=this.startIndicesFeature[_],void 0===r[(0,t.getUid)(u)]&&u.getGeometry()&&(void 0===a||(0,i.intersects)(a,u.getGeometry().getExtent()))){e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT),this.drawElements(e,s,l,h);var f=n(u);if(f)return f}_--,h=l}},u.prototype.drawReplaySkipping_=function(e,s,i){var r,n,a,o,l,h,c,d;for(c=this.startIndices.length-2,a=n=this.startIndices[c+1],r=this.styleIndices_.length-1;r>=0;--r){for(o=this.styles_[r],this.setFillStyle_(e,o[0]),this.setStrokeStyle_(e,o[1],o[2]),l=this.styleIndices_[r];c>=0&&this.startIndices[c]>=l;)d=this.startIndices[c],h=this.startIndicesFeature[c],i[(0,t.getUid)(h)]&&(n!==a&&this.drawElements(e,s,n,a),a=d),c--,n=d;n!==a&&this.drawElements(e,s,n,a),n=a=l}},u.prototype.setFillStyle_=function(t,e){t.uniform4fv(this.defaultLocations_.u_fillColor,e)},u.prototype.setStrokeStyle_=function(t,e,s){t.uniform4fv(this.defaultLocations_.u_strokeColor,e),t.uniform1f(this.defaultLocations_.u_lineWidth,s)},u.prototype.setFillStrokeStyle=function(t,i){var r,n;if(i){var a=i.getLineDash();this.state_.lineDash=a||h.DEFAULT_LINEDASH;var o=i.getLineDashOffset();this.state_.lineDashOffset=o||h.DEFAULT_LINEDASHOFFSET,r=(r=i.getColor())instanceof CanvasGradient||r instanceof CanvasPattern?h.DEFAULT_STROKESTYLE:(0,s.asArray)(r).map(function(t,e){return 3!=e?t/255:t})||h.DEFAULT_STROKESTYLE,n=void 0!==(n=i.getWidth())?n:h.DEFAULT_LINEWIDTH}else r=[0,0,0,0],n=0;var l=t?t.getColor():[0,0,0,0];l=l instanceof CanvasGradient||l instanceof CanvasPattern?h.DEFAULT_FILLSTYLE:(0,s.asArray)(l).map(function(t,e){return 3!=e?t/255:t})||h.DEFAULT_FILLSTYLE,this.state_.strokeColor&&(0,e.equals)(this.state_.strokeColor,r)&&this.state_.fillColor&&(0,e.equals)(this.state_.fillColor,l)&&this.state_.lineWidth===n||(this.state_.changed=!0,this.state_.fillColor=l,this.state_.strokeColor=r,this.state_.lineWidth=n,this.styles_.push([l,r,n]))},u}(l.default),f=_;exports.default=f;
},{"../../util.js":"KniQ","../../array.js":"luEr","../../color.js":"eucy","../../extent.js":"QDir","../../obj.js":"mH6q","../../geom/flat/transform.js":"LGwr","./circlereplay/defaultshader.js":"GZAE","./circlereplay/defaultshader/Locations.js":"K5HK","./Replay.js":"HMSc","../webgl.js":"7DIo","../../webgl.js":"SCyv","../../webgl/Buffer.js":"zsRd"}],"DqLP":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.vertex=exports.fragment=void 0;var t=require("../../../webgl.js"),a=o(require("../../../webgl/Fragment.js")),e=o(require("../../../webgl/Vertex.js"));function o(t){return t&&t.__esModule?t:{default:t}}var r=new a.default(t.DEBUG?"precision mediump float;\nvarying vec2 v_texCoord;\nvarying float v_opacity;\n\nuniform float u_opacity;\nuniform sampler2D u_image;\n\nvoid main(void) {\n  vec4 texColor = texture2D(u_image, v_texCoord);\n  gl_FragColor.rgb = texColor.rgb;\n  float alpha = texColor.a * v_opacity * u_opacity;\n  if (alpha == 0.0) {\n    discard;\n  }\n  gl_FragColor.a = alpha;\n}\n":"precision mediump float;varying vec2 a;varying float b;uniform float k;uniform sampler2D l;void main(void){vec4 texColor=texture2D(l,a);gl_FragColor.rgb=texColor.rgb;float alpha=texColor.a*b*k;if(alpha==0.0){discard;}gl_FragColor.a=alpha;}");exports.fragment=r;var i=new e.default(t.DEBUG?"varying vec2 v_texCoord;\nvarying float v_opacity;\n\nattribute vec2 a_position;\nattribute vec2 a_texCoord;\nattribute vec2 a_offsets;\nattribute float a_opacity;\nattribute float a_rotateWithView;\n\nuniform mat4 u_projectionMatrix;\nuniform mat4 u_offsetScaleMatrix;\nuniform mat4 u_offsetRotateMatrix;\n\nvoid main(void) {\n  mat4 offsetMatrix = u_offsetScaleMatrix;\n  if (a_rotateWithView == 1.0) {\n    offsetMatrix = u_offsetScaleMatrix * u_offsetRotateMatrix;\n  }\n  vec4 offsets = offsetMatrix * vec4(a_offsets, 0.0, 0.0);\n  gl_Position = u_projectionMatrix * vec4(a_position, 0.0, 1.0) + offsets;\n  v_texCoord = a_texCoord;\n  v_opacity = a_opacity;\n}\n\n\n":"varying vec2 a;varying float b;attribute vec2 c;attribute vec2 d;attribute vec2 e;attribute float f;attribute float g;uniform mat4 h;uniform mat4 i;uniform mat4 j;void main(void){mat4 offsetMatrix=i;if(g==1.0){offsetMatrix=i*j;}vec4 offsets=offsetMatrix*vec4(e,0.0,0.0);gl_Position=h*vec4(c,0.0,1.0)+offsets;a=d;b=f;}");exports.vertex=i;
},{"../../../webgl.js":"SCyv","../../../webgl/Fragment.js":"SAYv","../../../webgl/Vertex.js":"mo14"}],"ieq5":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../../../../webgl.js"),i=function(i,o){this.u_projectionMatrix=i.getUniformLocation(o,t.DEBUG?"u_projectionMatrix":"h"),this.u_offsetScaleMatrix=i.getUniformLocation(o,t.DEBUG?"u_offsetScaleMatrix":"i"),this.u_offsetRotateMatrix=i.getUniformLocation(o,t.DEBUG?"u_offsetRotateMatrix":"j"),this.u_opacity=i.getUniformLocation(o,t.DEBUG?"u_opacity":"k"),this.u_image=i.getUniformLocation(o,t.DEBUG?"u_image":"l"),this.a_position=i.getAttribLocation(o,t.DEBUG?"a_position":"c"),this.a_texCoord=i.getAttribLocation(o,t.DEBUG?"a_texCoord":"d"),this.a_offsets=i.getAttribLocation(o,t.DEBUG?"a_offsets":"e"),this.a_opacity=i.getAttribLocation(o,t.DEBUG?"a_opacity":"f"),this.a_rotateWithView=i.getAttribLocation(o,t.DEBUG?"a_rotateWithView":"g")},o=i;exports.default=o;
},{"../../../../webgl.js":"SCyv"}],"HqWy":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={LOST:"webglcontextlost",RESTORED:"webglcontextrestored"};exports.default=e;
},{}],"2nJO":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.createEmptyTexture=s,exports.createTexture=c,exports.default=void 0;var e=require("../util.js"),t=require("../webgl.js"),r=h(require("../Disposable.js")),i=require("../array.js"),n=require("../events.js"),a=require("../obj.js"),u=h(require("../webgl/ContextEventType.js"));function h(e){return e&&e.__esModule?e:{default:e}}var f=function(r){function h(e,a){r.call(this),this.canvas_=e,this.gl_=a,this.bufferCache_={},this.shaderCache_={},this.programCache_={},this.currentProgram_=null,this.hitDetectionFramebuffer_=null,this.hitDetectionTexture_=null,this.hitDetectionRenderbuffer_=null,this.hasOESElementIndexUint=(0,i.includes)(t.EXTENSIONS,"OES_element_index_uint"),this.hasOESElementIndexUint&&a.getExtension("OES_element_index_uint"),(0,n.listen)(this.canvas_,u.default.LOST,this.handleWebGLContextLost,this),(0,n.listen)(this.canvas_,u.default.RESTORED,this.handleWebGLContextRestored,this)}return r&&(h.__proto__=r),h.prototype=Object.create(r&&r.prototype),h.prototype.constructor=h,h.prototype.bindBuffer=function(r,i){var n=this.getGL(),a=i.getArray(),u=(0,e.getUid)(i);if(u in this.bufferCache_){var h=this.bufferCache_[u];n.bindBuffer(r,h.buffer)}else{var f,o=n.createBuffer();n.bindBuffer(r,o),r==t.ARRAY_BUFFER?f=new Float32Array(a):r==t.ELEMENT_ARRAY_BUFFER&&(f=this.hasOESElementIndexUint?new Uint32Array(a):new Uint16Array(a)),n.bufferData(r,f,i.getUsage()),this.bufferCache_[u]={buf:i,buffer:o}}},h.prototype.deleteBuffer=function(t){var r=this.getGL(),i=(0,e.getUid)(t),n=this.bufferCache_[i];r.isContextLost()||r.deleteBuffer(n.buffer),delete this.bufferCache_[i]},h.prototype.disposeInternal=function(){(0,n.unlistenAll)(this.canvas_);var e=this.getGL();if(!e.isContextLost()){for(var t in this.bufferCache_)e.deleteBuffer(this.bufferCache_[t].buffer);for(var r in this.programCache_)e.deleteProgram(this.programCache_[r]);for(var i in this.shaderCache_)e.deleteShader(this.shaderCache_[i]);e.deleteFramebuffer(this.hitDetectionFramebuffer_),e.deleteRenderbuffer(this.hitDetectionRenderbuffer_),e.deleteTexture(this.hitDetectionTexture_)}},h.prototype.getCanvas=function(){return this.canvas_},h.prototype.getGL=function(){return this.gl_},h.prototype.getHitDetectionFramebuffer=function(){return this.hitDetectionFramebuffer_||this.initHitDetectionFramebuffer_(),this.hitDetectionFramebuffer_},h.prototype.getShader=function(t){var r=(0,e.getUid)(t);if(r in this.shaderCache_)return this.shaderCache_[r];var i=this.getGL(),n=i.createShader(t.getType());return i.shaderSource(n,t.getSource()),i.compileShader(n),this.shaderCache_[r]=n,n},h.prototype.getProgram=function(t,r){var i=(0,e.getUid)(t)+"/"+(0,e.getUid)(r);if(i in this.programCache_)return this.programCache_[i];var n=this.getGL(),a=n.createProgram();return n.attachShader(a,this.getShader(t)),n.attachShader(a,this.getShader(r)),n.linkProgram(a),this.programCache_[i]=a,a},h.prototype.handleWebGLContextLost=function(){(0,a.clear)(this.bufferCache_),(0,a.clear)(this.shaderCache_),(0,a.clear)(this.programCache_),this.currentProgram_=null,this.hitDetectionFramebuffer_=null,this.hitDetectionTexture_=null,this.hitDetectionRenderbuffer_=null},h.prototype.handleWebGLContextRestored=function(){},h.prototype.initHitDetectionFramebuffer_=function(){var e=this.gl_,t=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,t);var r=s(e,1,1),i=e.createRenderbuffer();e.bindRenderbuffer(e.RENDERBUFFER,i),e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_COMPONENT16,1,1),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,r,0),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.RENDERBUFFER,i),e.bindTexture(e.TEXTURE_2D,null),e.bindRenderbuffer(e.RENDERBUFFER,null),e.bindFramebuffer(e.FRAMEBUFFER,null),this.hitDetectionFramebuffer_=t,this.hitDetectionTexture_=r,this.hitDetectionRenderbuffer_=i},h.prototype.useProgram=function(e){return e!=this.currentProgram_&&(this.getGL().useProgram(e),this.currentProgram_=e,!0)},h}(r.default);function o(e,r,i){var n=e.createTexture();return e.bindTexture(e.TEXTURE_2D,n),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),void 0!==r&&e.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,r),void 0!==i&&e.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,i),n}function s(e,t,r,i,n){var a=o(e,i,n);return e.texImage2D(e.TEXTURE_2D,0,e.RGBA,t,r,0,e.RGBA,e.UNSIGNED_BYTE,null),a}function c(e,t,r,i){var n=o(e,r,i);return e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,t),n}var _=f;exports.default=_;
},{"../util.js":"KniQ","../webgl.js":"SCyv","../Disposable.js":"DDda","../array.js":"luEr","../events.js":"55Uq","../obj.js":"mH6q","../webgl/ContextEventType.js":"HqWy"}],"rtlq":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../../util.js"),e=require("../../extent.js"),i=require("../../obj.js"),r=require("./texturereplay/defaultshader.js"),s=a(require("./texturereplay/defaultshader/Locations.js")),o=a(require("./Replay.js")),h=require("../../webgl.js"),n=require("../../webgl/Context.js");function a(t){return t&&t.__esModule?t:{default:t}}var c=function(o){function a(t,e){o.call(this,t,e),this.anchorX=void 0,this.anchorY=void 0,this.groupIndices=[],this.hitDetectionGroupIndices=[],this.height=void 0,this.imageHeight=void 0,this.imageWidth=void 0,this.defaultLocations=null,this.opacity=void 0,this.originX=void 0,this.originY=void 0,this.rotateWithView=void 0,this.rotation=void 0,this.scale=void 0,this.width=void 0}return o&&(a.__proto__=o),a.prototype=Object.create(o&&o.prototype),a.prototype.constructor=a,a.prototype.getDeleteResourcesFunction=function(t){var e=this.verticesBuffer,i=this.indicesBuffer,r=this.getTextures(!0),s=t.getGL();return function(){var o,h;if(!s.isContextLost())for(o=0,h=r.length;o<h;++o)s.deleteTexture(r[o]);t.deleteBuffer(e),t.deleteBuffer(i)}},a.prototype.drawCoordinates=function(t,e,i,r){var s,o,h,n,a,c,d=this.anchorX,v=this.anchorY,u=this.height,l=this.imageHeight,p=this.imageWidth,g=this.opacity,f=this.originX,y=this.originY,x=this.rotateWithView?1:0,b=-this.rotation,_=this.scale,A=this.width,T=Math.cos(b),w=Math.sin(b),E=this.indices.length,I=this.vertices.length;for(s=e;s<i;s+=r)a=t[s]-this.origin[0],c=t[s+1]-this.origin[1],o=I/8,h=-_*d,n=-_*(u-v),this.vertices[I++]=a,this.vertices[I++]=c,this.vertices[I++]=h*T-n*w,this.vertices[I++]=h*w+n*T,this.vertices[I++]=f/p,this.vertices[I++]=(y+u)/l,this.vertices[I++]=g,this.vertices[I++]=x,h=_*(A-d),n=-_*(u-v),this.vertices[I++]=a,this.vertices[I++]=c,this.vertices[I++]=h*T-n*w,this.vertices[I++]=h*w+n*T,this.vertices[I++]=(f+A)/p,this.vertices[I++]=(y+u)/l,this.vertices[I++]=g,this.vertices[I++]=x,h=_*(A-d),n=_*v,this.vertices[I++]=a,this.vertices[I++]=c,this.vertices[I++]=h*T-n*w,this.vertices[I++]=h*w+n*T,this.vertices[I++]=(f+A)/p,this.vertices[I++]=y/l,this.vertices[I++]=g,this.vertices[I++]=x,h=-_*d,n=_*v,this.vertices[I++]=a,this.vertices[I++]=c,this.vertices[I++]=h*T-n*w,this.vertices[I++]=h*w+n*T,this.vertices[I++]=f/p,this.vertices[I++]=y/l,this.vertices[I++]=g,this.vertices[I++]=x,this.indices[E++]=o,this.indices[E++]=o+1,this.indices[E++]=o+2,this.indices[E++]=o,this.indices[E++]=o+2,this.indices[E++]=o+3;return I},a.prototype.createTextures=function(e,i,r,s){var o,a,c,d,v=i.length;for(d=0;d<v;++d)a=i[d],(c=(0,t.getUid)(a))in r?o=r[c]:(o=(0,n.createTexture)(s,a,h.CLAMP_TO_EDGE,h.CLAMP_TO_EDGE),r[c]=o),e[d]=o},a.prototype.setUpProgram=function(t,e,i,o){var n,a=e.getProgram(r.fragment,r.vertex);return this.defaultLocations?n=this.defaultLocations:(n=new s.default(t,a),this.defaultLocations=n),e.useProgram(a),t.enableVertexAttribArray(n.a_position),t.vertexAttribPointer(n.a_position,2,h.FLOAT,!1,32,0),t.enableVertexAttribArray(n.a_offsets),t.vertexAttribPointer(n.a_offsets,2,h.FLOAT,!1,32,8),t.enableVertexAttribArray(n.a_texCoord),t.vertexAttribPointer(n.a_texCoord,2,h.FLOAT,!1,32,16),t.enableVertexAttribArray(n.a_opacity),t.vertexAttribPointer(n.a_opacity,1,h.FLOAT,!1,32,24),t.enableVertexAttribArray(n.a_rotateWithView),t.vertexAttribPointer(n.a_rotateWithView,1,h.FLOAT,!1,32,28),n},a.prototype.shutDownProgram=function(t,e){t.disableVertexAttribArray(e.a_position),t.disableVertexAttribArray(e.a_offsets),t.disableVertexAttribArray(e.a_texCoord),t.disableVertexAttribArray(e.a_opacity),t.disableVertexAttribArray(e.a_rotateWithView)},a.prototype.drawReplay=function(t,e,r,s){var o,n,a,c=s?this.getHitDetectionTextures():this.getTextures(),d=s?this.hitDetectionGroupIndices:this.groupIndices;if((0,i.isEmpty)(r))for(o=0,n=c.length,a=0;o<n;++o){t.bindTexture(h.TEXTURE_2D,c[o]);var v=d[o];this.drawElements(t,e,a,v),a=v}else this.drawReplaySkipping(t,e,r,c,d)},a.prototype.drawReplaySkipping=function(e,i,r,s,o){var n,a,c=0;for(n=0,a=s.length;n<a;++n){e.bindTexture(h.TEXTURE_2D,s[n]);for(var d=n>0?o[n-1]:0,v=o[n],u=d,l=d;c<this.startIndices.length&&this.startIndices[c]<=v;){var p=this.startIndicesFeature[c];void 0!==r[(0,t.getUid)(p)]?(u!==l&&this.drawElements(e,i,u,l),l=u=c===this.startIndices.length-1?v:this.startIndices[c+1]):l=c===this.startIndices.length-1?v:this.startIndices[c+1],c++}u!==l&&this.drawElements(e,i,u,l)}},a.prototype.drawHitDetectionReplayOneByOne=function(i,r,s,o,n){var a,c,d,v,u,l=this.startIndices.length-1,p=this.getHitDetectionTextures();for(a=p.length-1;a>=0;--a)for(i.bindTexture(h.TEXTURE_2D,p[a]),c=a>0?this.hitDetectionGroupIndices[a-1]:0,v=this.hitDetectionGroupIndices[a];l>=0&&this.startIndices[l]>=c;){if(d=this.startIndices[l],u=this.startIndicesFeature[l],void 0===s[(0,t.getUid)(u)]&&u.getGeometry()&&(void 0===n||(0,e.intersects)(n,u.getGeometry().getExtent()))){i.clear(i.COLOR_BUFFER_BIT|i.DEPTH_BUFFER_BIT),this.drawElements(i,r,d,v);var g=o(u);if(g)return g}v=d,l--}},a.prototype.finish=function(t){this.anchorX=void 0,this.anchorY=void 0,this.height=void 0,this.imageHeight=void 0,this.imageWidth=void 0,this.indices=null,this.opacity=void 0,this.originX=void 0,this.originY=void 0,this.rotateWithView=void 0,this.rotation=void 0,this.scale=void 0,this.vertices=null,this.width=void 0},a.prototype.getTextures=function(e){return(0,t.abstract)()},a.prototype.getHitDetectionTextures=function(){return(0,t.abstract)()},a}(o.default),d=c;exports.default=d;
},{"../../util.js":"KniQ","../../extent.js":"QDir","../../obj.js":"mH6q","./texturereplay/defaultshader.js":"DqLP","./texturereplay/defaultshader/Locations.js":"ieq5","./Replay.js":"HMSc","../../webgl.js":"SCyv","../../webgl/Context.js":"2nJO"}],"cwcG":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../../util.js"),e=s(require("./TextureReplay.js")),i=s(require("../../webgl/Buffer.js"));function s(t){return t&&t.__esModule?t:{default:t}}var h=function(e){function s(t,i){e.call(this,t,i),this.images_=[],this.hitDetectionImages_=[],this.textures_=[],this.hitDetectionTextures_=[]}return e&&(s.__proto__=e),s.prototype=Object.create(e&&e.prototype),s.prototype.constructor=s,s.prototype.drawMultiPoint=function(t,e){this.startIndices.push(this.indices.length),this.startIndicesFeature.push(e);var i=t.getFlatCoordinates(),s=t.getStride();this.drawCoordinates(i,0,i.length,s)},s.prototype.drawPoint=function(t,e){this.startIndices.push(this.indices.length),this.startIndicesFeature.push(e);var i=t.getFlatCoordinates(),s=t.getStride();this.drawCoordinates(i,0,i.length,s)},s.prototype.finish=function(t){var s=t.getGL();this.groupIndices.push(this.indices.length),this.hitDetectionGroupIndices.push(this.indices.length),this.verticesBuffer=new i.default(this.vertices);var h=this.indices;this.indicesBuffer=new i.default(h);var r={};this.createTextures(this.textures_,this.images_,r,s),this.createTextures(this.hitDetectionTextures_,this.hitDetectionImages_,r,s),this.images_=null,this.hitDetectionImages_=null,e.prototype.finish.call(this,t)},s.prototype.setImageStyle=function(e){var i,s=e.getAnchor(),h=e.getImage(1),r=e.getImageSize(),n=e.getHitDetectionImage(1),o=e.getOpacity(),a=e.getOrigin(),u=e.getRotateWithView(),g=e.getRotation(),c=e.getSize(),p=e.getScale();0===this.images_.length?this.images_.push(h):(i=this.images_[this.images_.length-1],(0,t.getUid)(i)!=(0,t.getUid)(h)&&(this.groupIndices.push(this.indices.length),this.images_.push(h))),0===this.hitDetectionImages_.length?this.hitDetectionImages_.push(n):(i=this.hitDetectionImages_[this.hitDetectionImages_.length-1],(0,t.getUid)(i)!=(0,t.getUid)(n)&&(this.hitDetectionGroupIndices.push(this.indices.length),this.hitDetectionImages_.push(n))),this.anchorX=s[0],this.anchorY=s[1],this.height=c[1],this.imageHeight=r[1],this.imageWidth=r[0],this.opacity=o,this.originX=a[0],this.originY=a[1],this.rotation=g,this.rotateWithView=u,this.scale=p,this.width=c[0]},s.prototype.getTextures=function(t){return t?this.textures_.concat(this.hitDetectionTextures_):this.textures_},s.prototype.getHitDetectionTextures=function(){return this.hitDetectionTextures_},s}(e.default),r=h;exports.default=r;
},{"../../util.js":"KniQ","./TextureReplay.js":"rtlq","../../webgl/Buffer.js":"zsRd"}],"p6xK":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.lineStringIsClosed=r;var e=require("./area.js");function r(r,t,i,n){var s=i-n;return r[t]===r[s]&&r[t+1]===r[s+1]&&(i-t)/n>3&&!!(0,e.linearRing)(r,t,i,n)}
},{"./area.js":"EOSm"}],"7YtU":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.vertex=exports.fragment=void 0;var e=require("../../../webgl.js"),o=n(require("../../../webgl/Fragment.js")),t=n(require("../../../webgl/Vertex.js"));function n(e){return e&&e.__esModule?e:{default:e}}var r=new o.default(e.DEBUG?"precision mediump float;\nvarying float v_round;\nvarying vec2 v_roundVertex;\nvarying float v_halfWidth;\n\n\n\nuniform float u_opacity;\nuniform vec4 u_color;\nuniform vec2 u_size;\nuniform float u_pixelRatio;\n\nvoid main(void) {\n  if (v_round > 0.0) {\n    vec2 windowCoords = vec2((v_roundVertex.x + 1.0) / 2.0 * u_size.x * u_pixelRatio,\n        (v_roundVertex.y + 1.0) / 2.0 * u_size.y * u_pixelRatio);\n    if (length(windowCoords - gl_FragCoord.xy) > v_halfWidth * u_pixelRatio) {\n      discard;\n    }\n  }\n  gl_FragColor = u_color;\n  float alpha = u_color.a * u_opacity;\n  if (alpha == 0.0) {\n    discard;\n  }\n  gl_FragColor.a = alpha;\n}\n":"precision mediump float;varying float a;varying vec2 aVertex;varying float c;uniform float m;uniform vec4 n;uniform vec2 o;uniform float p;void main(void){if(a>0.0){vec2 windowCoords=vec2((aVertex.x+1.0)/2.0*o.x*p,(aVertex.y+1.0)/2.0*o.y*p);if(length(windowCoords-gl_FragCoord.xy)>c*p){discard;}} gl_FragColor=n;float alpha=n.a*m;if(alpha==0.0){discard;}gl_FragColor.a=alpha;}");exports.fragment=r;var i=new t.default(e.DEBUG?"varying float v_round;\nvarying vec2 v_roundVertex;\nvarying float v_halfWidth;\n\n\nattribute vec2 a_lastPos;\nattribute vec2 a_position;\nattribute vec2 a_nextPos;\nattribute float a_direction;\n\nuniform mat4 u_projectionMatrix;\nuniform mat4 u_offsetScaleMatrix;\nuniform mat4 u_offsetRotateMatrix;\nuniform float u_lineWidth;\nuniform float u_miterLimit;\n\nbool nearlyEquals(in float value, in float ref) {\n  float epsilon = 0.000000000001;\n  return value >= ref - epsilon && value <= ref + epsilon;\n}\n\nvoid alongNormal(out vec2 offset, in vec2 nextP, in float turnDir, in float direction) {\n  vec2 dirVect = nextP - a_position;\n  vec2 normal = normalize(vec2(-turnDir * dirVect.y, turnDir * dirVect.x));\n  offset = u_lineWidth / 2.0 * normal * direction;\n}\n\nvoid miterUp(out vec2 offset, out float round, in bool isRound, in float direction) {\n  float halfWidth = u_lineWidth / 2.0;\n  vec2 tangent = normalize(normalize(a_nextPos - a_position) + normalize(a_position - a_lastPos));\n  vec2 normal = vec2(-tangent.y, tangent.x);\n  vec2 dirVect = a_nextPos - a_position;\n  vec2 tmpNormal = normalize(vec2(-dirVect.y, dirVect.x));\n  float miterLength = abs(halfWidth / dot(normal, tmpNormal));\n  offset = normal * direction * miterLength;\n  round = 0.0;\n  if (isRound) {\n    round = 1.0;\n  } else if (miterLength > u_miterLimit + u_lineWidth) {\n    offset = halfWidth * tmpNormal * direction;\n  }\n}\n\nbool miterDown(out vec2 offset, in vec4 projPos, in mat4 offsetMatrix, in float direction) {\n  bool degenerate = false;\n  vec2 tangent = normalize(normalize(a_nextPos - a_position) + normalize(a_position - a_lastPos));\n  vec2 normal = vec2(-tangent.y, tangent.x);\n  vec2 dirVect = a_lastPos - a_position;\n  vec2 tmpNormal = normalize(vec2(-dirVect.y, dirVect.x));\n  vec2 longOffset, shortOffset, longVertex;\n  vec4 shortProjVertex;\n  float halfWidth = u_lineWidth / 2.0;\n  if (length(a_nextPos - a_position) > length(a_lastPos - a_position)) {\n    longOffset = tmpNormal * direction * halfWidth;\n    shortOffset = normalize(vec2(dirVect.y, -dirVect.x)) * direction * halfWidth;\n    longVertex = a_nextPos;\n    shortProjVertex = u_projectionMatrix * vec4(a_lastPos, 0.0, 1.0);\n  } else {\n    shortOffset = tmpNormal * direction * halfWidth;\n    longOffset = normalize(vec2(dirVect.y, -dirVect.x)) * direction * halfWidth;\n    longVertex = a_lastPos;\n    shortProjVertex = u_projectionMatrix * vec4(a_nextPos, 0.0, 1.0);\n  }\n  //Intersection algorithm based on theory by Paul Bourke (http://paulbourke.net/geometry/pointlineplane/).\n  vec4 p1 = u_projectionMatrix * vec4(longVertex, 0.0, 1.0) + offsetMatrix * vec4(longOffset, 0.0, 0.0);\n  vec4 p2 = projPos + offsetMatrix * vec4(longOffset, 0.0, 0.0);\n  vec4 p3 = shortProjVertex + offsetMatrix * vec4(-shortOffset, 0.0, 0.0);\n  vec4 p4 = shortProjVertex + offsetMatrix * vec4(shortOffset, 0.0, 0.0);\n  float denom = (p4.y - p3.y) * (p2.x - p1.x) - (p4.x - p3.x) * (p2.y - p1.y);\n  float firstU = ((p4.x - p3.x) * (p1.y - p3.y) - (p4.y - p3.y) * (p1.x - p3.x)) / denom;\n  float secondU = ((p2.x - p1.x) * (p1.y - p3.y) - (p2.y - p1.y) * (p1.x - p3.x)) / denom;\n  float epsilon = 0.000000000001;\n  if (firstU > epsilon && firstU < 1.0 - epsilon && secondU > epsilon && secondU < 1.0 - epsilon) {\n    shortProjVertex.x = p1.x + firstU * (p2.x - p1.x);\n    shortProjVertex.y = p1.y + firstU * (p2.y - p1.y);\n    offset = shortProjVertex.xy;\n    degenerate = true;\n  } else {\n    float miterLength = abs(halfWidth / dot(normal, tmpNormal));\n    offset = normal * direction * miterLength;\n  }\n  return degenerate;\n}\n\nvoid squareCap(out vec2 offset, out float round, in bool isRound, in vec2 nextP,\n    in float turnDir, in float direction) {\n  round = 0.0;\n  vec2 dirVect = a_position - nextP;\n  vec2 firstNormal = normalize(dirVect);\n  vec2 secondNormal = vec2(turnDir * firstNormal.y * direction, -turnDir * firstNormal.x * direction);\n  vec2 hypotenuse = normalize(firstNormal - secondNormal);\n  vec2 normal = vec2(turnDir * hypotenuse.y * direction, -turnDir * hypotenuse.x * direction);\n  float length = sqrt(v_halfWidth * v_halfWidth * 2.0);\n  offset = normal * length;\n  if (isRound) {\n    round = 1.0;\n  }\n}\n\nvoid main(void) {\n  bool degenerate = false;\n  float direction = float(sign(a_direction));\n  mat4 offsetMatrix = u_offsetScaleMatrix * u_offsetRotateMatrix;\n  vec2 offset;\n  vec4 projPos = u_projectionMatrix * vec4(a_position, 0.0, 1.0);\n  bool round = nearlyEquals(mod(a_direction, 2.0), 0.0);\n\n  v_round = 0.0;\n  v_halfWidth = u_lineWidth / 2.0;\n  v_roundVertex = projPos.xy;\n\n  if (nearlyEquals(mod(a_direction, 3.0), 0.0) || nearlyEquals(mod(a_direction, 17.0), 0.0)) {\n    alongNormal(offset, a_nextPos, 1.0, direction);\n  } else if (nearlyEquals(mod(a_direction, 5.0), 0.0) || nearlyEquals(mod(a_direction, 13.0), 0.0)) {\n    alongNormal(offset, a_lastPos, -1.0, direction);\n  } else if (nearlyEquals(mod(a_direction, 23.0), 0.0)) {\n    miterUp(offset, v_round, round, direction);\n  } else if (nearlyEquals(mod(a_direction, 19.0), 0.0)) {\n    degenerate = miterDown(offset, projPos, offsetMatrix, direction);\n  } else if (nearlyEquals(mod(a_direction, 7.0), 0.0)) {\n    squareCap(offset, v_round, round, a_nextPos, 1.0, direction);\n  } else if (nearlyEquals(mod(a_direction, 11.0), 0.0)) {\n    squareCap(offset, v_round, round, a_lastPos, -1.0, direction);\n  }\n  if (!degenerate) {\n    vec4 offsets = offsetMatrix * vec4(offset, 0.0, 0.0);\n    gl_Position = projPos + offsets;\n  } else {\n    gl_Position = vec4(offset, 0.0, 1.0);\n  }\n}\n\n\n":"varying float a;varying vec2 aVertex;varying float c;attribute vec2 d;attribute vec2 e;attribute vec2 f;attribute float g;uniform mat4 h;uniform mat4 i;uniform mat4 j;uniform float k;uniform float l;bool nearlyEquals(in float value,in float ref){float epsilon=0.000000000001;return value>=ref-epsilon&&value<=ref+epsilon;}void alongNormal(out vec2 offset,in vec2 nextP,in float turnDir,in float direction){vec2 dirVect=nextP-e;vec2 normal=normalize(vec2(-turnDir*dirVect.y,turnDir*dirVect.x));offset=k/2.0*normal*direction;}void miterUp(out vec2 offset,out float round,in bool isRound,in float direction){float halfWidth=k/2.0;vec2 tangent=normalize(normalize(f-e)+normalize(e-d));vec2 normal=vec2(-tangent.y,tangent.x);vec2 dirVect=f-e;vec2 tmpNormal=normalize(vec2(-dirVect.y,dirVect.x));float miterLength=abs(halfWidth/dot(normal,tmpNormal));offset=normal*direction*miterLength;round=0.0;if(isRound){round=1.0;}else if(miterLength>l+k){offset=halfWidth*tmpNormal*direction;}} bool miterDown(out vec2 offset,in vec4 projPos,in mat4 offsetMatrix,in float direction){bool degenerate=false;vec2 tangent=normalize(normalize(f-e)+normalize(e-d));vec2 normal=vec2(-tangent.y,tangent.x);vec2 dirVect=d-e;vec2 tmpNormal=normalize(vec2(-dirVect.y,dirVect.x));vec2 longOffset,shortOffset,longVertex;vec4 shortProjVertex;float halfWidth=k/2.0;if(length(f-e)>length(d-e)){longOffset=tmpNormal*direction*halfWidth;shortOffset=normalize(vec2(dirVect.y,-dirVect.x))*direction*halfWidth;longVertex=f;shortProjVertex=h*vec4(d,0.0,1.0);}else{shortOffset=tmpNormal*direction*halfWidth;longOffset=normalize(vec2(dirVect.y,-dirVect.x))*direction*halfWidth;longVertex=d;shortProjVertex=h*vec4(f,0.0,1.0);}vec4 p1=h*vec4(longVertex,0.0,1.0)+offsetMatrix*vec4(longOffset,0.0,0.0);vec4 p2=projPos+offsetMatrix*vec4(longOffset,0.0,0.0);vec4 p3=shortProjVertex+offsetMatrix*vec4(-shortOffset,0.0,0.0);vec4 p4=shortProjVertex+offsetMatrix*vec4(shortOffset,0.0,0.0);float denom=(p4.y-p3.y)*(p2.x-p1.x)-(p4.x-p3.x)*(p2.y-p1.y);float firstU=((p4.x-p3.x)*(p1.y-p3.y)-(p4.y-p3.y)*(p1.x-p3.x))/denom;float secondU=((p2.x-p1.x)*(p1.y-p3.y)-(p2.y-p1.y)*(p1.x-p3.x))/denom;float epsilon=0.000000000001;if(firstU>epsilon&&firstU<1.0-epsilon&&secondU>epsilon&&secondU<1.0-epsilon){shortProjVertex.x=p1.x+firstU*(p2.x-p1.x);shortProjVertex.y=p1.y+firstU*(p2.y-p1.y);offset=shortProjVertex.xy;degenerate=true;}else{float miterLength=abs(halfWidth/dot(normal,tmpNormal));offset=normal*direction*miterLength;}return degenerate;}void squareCap(out vec2 offset,out float round,in bool isRound,in vec2 nextP,in float turnDir,in float direction){round=0.0;vec2 dirVect=e-nextP;vec2 firstNormal=normalize(dirVect);vec2 secondNormal=vec2(turnDir*firstNormal.y*direction,-turnDir*firstNormal.x*direction);vec2 hypotenuse=normalize(firstNormal-secondNormal);vec2 normal=vec2(turnDir*hypotenuse.y*direction,-turnDir*hypotenuse.x*direction);float length=sqrt(c*c*2.0);offset=normal*length;if(isRound){round=1.0;}} void main(void){bool degenerate=false;float direction=float(sign(g));mat4 offsetMatrix=i*j;vec2 offset;vec4 projPos=h*vec4(e,0.0,1.0);bool round=nearlyEquals(mod(g,2.0),0.0);a=0.0;c=k/2.0;aVertex=projPos.xy;if(nearlyEquals(mod(g,3.0),0.0)||nearlyEquals(mod(g,17.0),0.0)){alongNormal(offset,f,1.0,direction);}else if(nearlyEquals(mod(g,5.0),0.0)||nearlyEquals(mod(g,13.0),0.0)){alongNormal(offset,d,-1.0,direction);}else if(nearlyEquals(mod(g,23.0),0.0)){miterUp(offset,a,round,direction);}else if(nearlyEquals(mod(g,19.0),0.0)){degenerate=miterDown(offset,projPos,offsetMatrix,direction);}else if(nearlyEquals(mod(g,7.0),0.0)){squareCap(offset,a,round,f,1.0,direction);}else if(nearlyEquals(mod(g,11.0),0.0)){squareCap(offset,a,round,d,-1.0,direction);}if(!degenerate){vec4 offsets=offsetMatrix*vec4(offset,0.0,0.0);gl_Position=projPos+offsets;}else{gl_Position=vec4(offset,0.0,1.0);}}");exports.vertex=i;
},{"../../../webgl.js":"SCyv","../../../webgl/Fragment.js":"SAYv","../../../webgl/Vertex.js":"mo14"}],"EnqV":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../../../../webgl.js"),i=function(i,o){this.u_projectionMatrix=i.getUniformLocation(o,t.DEBUG?"u_projectionMatrix":"h"),this.u_offsetScaleMatrix=i.getUniformLocation(o,t.DEBUG?"u_offsetScaleMatrix":"i"),this.u_offsetRotateMatrix=i.getUniformLocation(o,t.DEBUG?"u_offsetRotateMatrix":"j"),this.u_lineWidth=i.getUniformLocation(o,t.DEBUG?"u_lineWidth":"k"),this.u_miterLimit=i.getUniformLocation(o,t.DEBUG?"u_miterLimit":"l"),this.u_opacity=i.getUniformLocation(o,t.DEBUG?"u_opacity":"m"),this.u_color=i.getUniformLocation(o,t.DEBUG?"u_color":"n"),this.u_size=i.getUniformLocation(o,t.DEBUG?"u_size":"o"),this.u_pixelRatio=i.getUniformLocation(o,t.DEBUG?"u_pixelRatio":"p"),this.a_lastPos=i.getAttribLocation(o,t.DEBUG?"a_lastPos":"d"),this.a_position=i.getAttribLocation(o,t.DEBUG?"a_position":"e"),this.a_nextPos=i.getAttribLocation(o,t.DEBUG?"a_nextPos":"f"),this.a_direction=i.getAttribLocation(o,t.DEBUG?"a_direction":"g")},o=i;exports.default=o;
},{"../../../../webgl.js":"SCyv"}],"Nu72":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../../util.js"),e=require("../../array.js"),i=require("../../color.js"),s=require("../../extent.js"),r=require("../../geom/flat/orient.js"),n=require("../../geom/flat/transform.js"),a=require("../../geom/flat/topology.js"),h=require("../../obj.js"),o=require("../webgl.js"),d=f(require("./Replay.js")),l=require("./linestringreplay/defaultshader.js"),c=f(require("./linestringreplay/defaultshader/Locations.js")),_=require("../../webgl.js"),u=f(require("../../webgl/Buffer.js"));function f(t){return t&&t.__esModule?t:{default:t}}var g={ROUND:2,BEGIN_LINE:3,END_LINE:5,BEGIN_LINE_CAP:7,END_LINE_CAP:11,BEVEL_FIRST:13,BEVEL_SECOND:17,MITER_BOTTOM:19,MITER_TOP:23},p=function(d){function f(t,e){d.call(this,t,e),this.defaultLocations_=null,this.styles_=[],this.styleIndices_=[],this.state_={strokeColor:null,lineCap:void 0,lineDash:null,lineDashOffset:void 0,lineJoin:void 0,lineWidth:void 0,miterLimit:void 0,changed:!1}}return d&&(f.__proto__=d),f.prototype=Object.create(d&&d.prototype),f.prototype.constructor=f,f.prototype.drawCoordinates_=function(t,i,s,n){var h,d,l,c,_,u,f,p,E=this.vertices.length,I=this.indices.length,y="bevel"===this.state_.lineJoin?0:"miter"===this.state_.lineJoin?1:2,v="butt"===this.state_.lineCap?0:"square"===this.state_.lineCap?1:2,L=(0,a.lineStringIsClosed)(t,i,s,n),T=I,A=1;for(h=i,d=s;h<d;h+=n){if(_=E/7,u=f,f=p||[t[h],t[h+1]],h===i){if(p=[t[h+n],t[h+n+1]],s-i==2*n&&(0,e.equals)(f,p))break;if(!L){v&&(E=this.addVertices_([0,0],f,p,A*g.BEGIN_LINE_CAP*v,E),E=this.addVertices_([0,0],f,p,-A*g.BEGIN_LINE_CAP*v,E),this.indices[I++]=_+2,this.indices[I++]=_,this.indices[I++]=_+1,this.indices[I++]=_+1,this.indices[I++]=_+3,this.indices[I++]=_+2),E=this.addVertices_([0,0],f,p,A*g.BEGIN_LINE*(v||1),E),T=(E=this.addVertices_([0,0],f,p,-A*g.BEGIN_LINE*(v||1),E))/7-1;continue}u=[t[s-2*n],t[s-2*n+1]],l=p}else{if(h===s-n){if(L){p=l;break}u=u||[0,0],E=this.addVertices_(u,f,[0,0],A*g.END_LINE*(v||1),E),E=this.addVertices_(u,f,[0,0],-A*g.END_LINE*(v||1),E),this.indices[I++]=_,this.indices[I++]=T-1,this.indices[I++]=T,this.indices[I++]=T,this.indices[I++]=_+1,this.indices[I++]=_,v&&(E=this.addVertices_(u,f,[0,0],A*g.END_LINE_CAP*v,E),E=this.addVertices_(u,f,[0,0],-A*g.END_LINE_CAP*v,E),this.indices[I++]=_+2,this.indices[I++]=_,this.indices[I++]=_+1,this.indices[I++]=_+1,this.indices[I++]=_+3,this.indices[I++]=_+2);break}p=[t[h+n],t[h+n+1]]}c=(0,o.triangleIsCounterClockwise)(u[0],u[1],f[0],f[1],p[0],p[1])?-1:1,E=this.addVertices_(u,f,p,c*g.BEVEL_FIRST*(y||1),E),E=this.addVertices_(u,f,p,c*g.BEVEL_SECOND*(y||1),E),E=this.addVertices_(u,f,p,-c*g.MITER_BOTTOM*(y||1),E),h>i&&(this.indices[I++]=_,this.indices[I++]=T-1,this.indices[I++]=T,this.indices[I++]=_+2,this.indices[I++]=_,this.indices[I++]=A*c>0?T:T-1),this.indices[I++]=_,this.indices[I++]=_+2,this.indices[I++]=_+1,T=_+2,A=c,y&&(E=this.addVertices_(u,f,p,c*g.MITER_TOP*y,E),this.indices[I++]=_+1,this.indices[I++]=_+3,this.indices[I++]=_)}L&&(_=_||E/7,c=(0,r.linearRingIsClockwise)([u[0],u[1],f[0],f[1],p[0],p[1]],0,6,2)?1:-1,E=this.addVertices_(u,f,p,c*g.BEVEL_FIRST*(y||1),E),E=this.addVertices_(u,f,p,-c*g.MITER_BOTTOM*(y||1),E),this.indices[I++]=_,this.indices[I++]=T-1,this.indices[I++]=T,this.indices[I++]=_+1,this.indices[I++]=_,this.indices[I++]=A*c>0?T:T-1)},f.prototype.addVertices_=function(t,e,i,s,r){return this.vertices[r++]=t[0],this.vertices[r++]=t[1],this.vertices[r++]=e[0],this.vertices[r++]=e[1],this.vertices[r++]=i[0],this.vertices[r++]=i[1],this.vertices[r++]=s,r},f.prototype.isValid_=function(t,i,s,r){var n=s-i;if(n<2*r)return!1;if(n===2*r){var a=[t[i],t[i+1]],h=[t[i+r],t[i+r+1]];return!(0,e.equals)(a,h)}return!0},f.prototype.drawLineString=function(t,e){var i=t.getFlatCoordinates(),s=t.getStride();this.isValid_(i,0,i.length,s)&&(i=(0,n.translate)(i,0,i.length,s,-this.origin[0],-this.origin[1]),this.state_.changed&&(this.styleIndices_.push(this.indices.length),this.state_.changed=!1),this.startIndices.push(this.indices.length),this.startIndicesFeature.push(e),this.drawCoordinates_(i,0,i.length,s))},f.prototype.drawMultiLineString=function(t,e){var i=this.indices.length,s=t.getEnds();s.unshift(0);var r,a,h=t.getFlatCoordinates(),o=t.getStride();if(s.length>1)for(r=1,a=s.length;r<a;++r)if(this.isValid_(h,s[r-1],s[r],o)){var d=(0,n.translate)(h,s[r-1],s[r],o,-this.origin[0],-this.origin[1]);this.drawCoordinates_(d,0,d.length,o)}this.indices.length>i&&(this.startIndices.push(i),this.startIndicesFeature.push(e),this.state_.changed&&(this.styleIndices_.push(i),this.state_.changed=!1))},f.prototype.drawPolygonCoordinates=function(t,e,i){var s,r;if((0,a.lineStringIsClosed)(t,0,t.length,i)||(t.push(t[0]),t.push(t[1])),this.drawCoordinates_(t,0,t.length,i),e.length)for(s=0,r=e.length;s<r;++s)(0,a.lineStringIsClosed)(e[s],0,e[s].length,i)||(e[s].push(e[s][0]),e[s].push(e[s][1])),this.drawCoordinates_(e[s],0,e[s].length,i)},f.prototype.setPolygonStyle=function(t,e){var i=void 0===e?this.indices.length:e;this.startIndices.push(i),this.startIndicesFeature.push(t),this.state_.changed&&(this.styleIndices_.push(i),this.state_.changed=!1)},f.prototype.getCurrentIndex=function(){return this.indices.length},f.prototype.finish=function(t){this.verticesBuffer=new u.default(this.vertices),this.indicesBuffer=new u.default(this.indices),this.startIndices.push(this.indices.length),0===this.styleIndices_.length&&this.styles_.length>0&&(this.styles_=[]),this.vertices=null,this.indices=null},f.prototype.getDeleteResourcesFunction=function(t){var e=this.verticesBuffer,i=this.indicesBuffer;return function(){t.deleteBuffer(e),t.deleteBuffer(i)}},f.prototype.setUpProgram=function(t,e,i,s){var r,n=e.getProgram(l.fragment,l.vertex);return this.defaultLocations_?r=this.defaultLocations_:(r=new c.default(t,n),this.defaultLocations_=r),e.useProgram(n),t.enableVertexAttribArray(r.a_lastPos),t.vertexAttribPointer(r.a_lastPos,2,_.FLOAT,!1,28,0),t.enableVertexAttribArray(r.a_position),t.vertexAttribPointer(r.a_position,2,_.FLOAT,!1,28,8),t.enableVertexAttribArray(r.a_nextPos),t.vertexAttribPointer(r.a_nextPos,2,_.FLOAT,!1,28,16),t.enableVertexAttribArray(r.a_direction),t.vertexAttribPointer(r.a_direction,1,_.FLOAT,!1,28,24),t.uniform2fv(r.u_size,i),t.uniform1f(r.u_pixelRatio,s),r},f.prototype.shutDownProgram=function(t,e){t.disableVertexAttribArray(e.a_lastPos),t.disableVertexAttribArray(e.a_position),t.disableVertexAttribArray(e.a_nextPos),t.disableVertexAttribArray(e.a_direction)},f.prototype.drawReplay=function(t,e,i,s){var r,n,a,o,d=t.getParameter(t.DEPTH_FUNC),l=t.getParameter(t.DEPTH_WRITEMASK);if(s||(t.enable(t.DEPTH_TEST),t.depthMask(!0),t.depthFunc(t.NOTEQUAL)),(0,h.isEmpty)(i))for(a=this.startIndices[this.startIndices.length-1],r=this.styleIndices_.length-1;r>=0;--r)n=this.styleIndices_[r],o=this.styles_[r],this.setStrokeStyle_(t,o[0],o[1],o[2]),this.drawElements(t,e,n,a),t.clear(t.DEPTH_BUFFER_BIT),a=n;else this.drawReplaySkipping_(t,e,i);s||(t.disable(t.DEPTH_TEST),t.clear(t.DEPTH_BUFFER_BIT),t.depthMask(l),t.depthFunc(d))},f.prototype.drawReplaySkipping_=function(e,i,s){var r,n,a,h,o,d,l,c;for(l=this.startIndices.length-2,a=n=this.startIndices[l+1],r=this.styleIndices_.length-1;r>=0;--r){for(h=this.styles_[r],this.setStrokeStyle_(e,h[0],h[1],h[2]),o=this.styleIndices_[r];l>=0&&this.startIndices[l]>=o;)c=this.startIndices[l],d=this.startIndicesFeature[l],s[(0,t.getUid)(d)]&&(n!==a&&(this.drawElements(e,i,n,a),e.clear(e.DEPTH_BUFFER_BIT)),a=c),l--,n=c;n!==a&&(this.drawElements(e,i,n,a),e.clear(e.DEPTH_BUFFER_BIT)),n=a=o}},f.prototype.drawHitDetectionReplayOneByOne=function(e,i,r,n,a){var h,o,d,l,c,_,u;for(u=this.startIndices.length-2,d=this.startIndices[u+1],h=this.styleIndices_.length-1;h>=0;--h)for(l=this.styles_[h],this.setStrokeStyle_(e,l[0],l[1],l[2]),c=this.styleIndices_[h];u>=0&&this.startIndices[u]>=c;){if(o=this.startIndices[u],_=this.startIndicesFeature[u],void 0===r[(0,t.getUid)(_)]&&_.getGeometry()&&(void 0===a||(0,s.intersects)(a,_.getGeometry().getExtent()))){e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT),this.drawElements(e,i,o,d);var f=n(_);if(f)return f}u--,d=o}},f.prototype.setStrokeStyle_=function(t,e,i,s){t.uniform4fv(this.defaultLocations_.u_color,e),t.uniform1f(this.defaultLocations_.u_lineWidth,i),t.uniform1f(this.defaultLocations_.u_miterLimit,s)},f.prototype.setFillStrokeStyle=function(t,s){var r=s.getLineCap();this.state_.lineCap=void 0!==r?r:o.DEFAULT_LINECAP;var n=s.getLineDash();this.state_.lineDash=n||o.DEFAULT_LINEDASH;var a=s.getLineDashOffset();this.state_.lineDashOffset=a||o.DEFAULT_LINEDASHOFFSET;var h=s.getLineJoin();this.state_.lineJoin=void 0!==h?h:o.DEFAULT_LINEJOIN;var d=s.getColor();d=d instanceof CanvasGradient||d instanceof CanvasPattern?o.DEFAULT_STROKESTYLE:(0,i.asArray)(d).map(function(t,e){return 3!=e?t/255:t})||o.DEFAULT_STROKESTYLE;var l=s.getWidth();l=void 0!==l?l:o.DEFAULT_LINEWIDTH;var c=s.getMiterLimit();c=void 0!==c?c:o.DEFAULT_MITERLIMIT,this.state_.strokeColor&&(0,e.equals)(this.state_.strokeColor,d)&&this.state_.lineWidth===l&&this.state_.miterLimit===c||(this.state_.changed=!0,this.state_.strokeColor=d,this.state_.lineWidth=l,this.state_.miterLimit=c,this.styles_.push([d,l,c]))},f}(d.default),E=p;exports.default=E;
},{"../../util.js":"KniQ","../../array.js":"luEr","../../color.js":"eucy","../../extent.js":"QDir","../../geom/flat/orient.js":"2/8c","../../geom/flat/transform.js":"LGwr","../../geom/flat/topology.js":"p6xK","../../obj.js":"mH6q","../webgl.js":"7DIo","./Replay.js":"HMSc","./linestringreplay/defaultshader.js":"7YtU","./linestringreplay/defaultshader/Locations.js":"EnqV","../../webgl.js":"SCyv","../../webgl/Buffer.js":"zsRd"}],"KUzN":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.vertex=exports.fragment=void 0;var o=require("../../../webgl.js"),a=n(require("../../../webgl/Fragment.js")),e=n(require("../../../webgl/Vertex.js"));function n(o){return o&&o.__esModule?o:{default:o}}var r=new a.default(o.DEBUG?"precision mediump float;\n\n\n\nuniform vec4 u_color;\nuniform float u_opacity;\n\nvoid main(void) {\n  gl_FragColor = u_color;\n  float alpha = u_color.a * u_opacity;\n  if (alpha == 0.0) {\n    discard;\n  }\n  gl_FragColor.a = alpha;\n}\n":"precision mediump float;uniform vec4 e;uniform float f;void main(void){gl_FragColor=e;float alpha=e.a*f;if(alpha==0.0){discard;}gl_FragColor.a=alpha;}");exports.fragment=r;var i=new e.default(o.DEBUG?"\n\nattribute vec2 a_position;\n\nuniform mat4 u_projectionMatrix;\nuniform mat4 u_offsetScaleMatrix;\nuniform mat4 u_offsetRotateMatrix;\n\nvoid main(void) {\n  gl_Position = u_projectionMatrix * vec4(a_position, 0.0, 1.0);\n}\n\n\n":"attribute vec2 a;uniform mat4 b;uniform mat4 c;uniform mat4 d;void main(void){gl_Position=b*vec4(a,0.0,1.0);}");exports.vertex=i;
},{"../../../webgl.js":"SCyv","../../../webgl/Fragment.js":"SAYv","../../../webgl/Vertex.js":"mo14"}],"mO11":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../../../../webgl.js"),o=function(o,i){this.u_projectionMatrix=o.getUniformLocation(i,t.DEBUG?"u_projectionMatrix":"b"),this.u_offsetScaleMatrix=o.getUniformLocation(i,t.DEBUG?"u_offsetScaleMatrix":"c"),this.u_offsetRotateMatrix=o.getUniformLocation(i,t.DEBUG?"u_offsetRotateMatrix":"d"),this.u_color=o.getUniformLocation(i,t.DEBUG?"u_color":"e"),this.u_opacity=o.getUniformLocation(i,t.DEBUG?"u_opacity":"f"),this.a_position=o.getAttribLocation(i,t.DEBUG?"a_position":"a")},i=o;exports.default=i;
},{"../../../../webgl.js":"SCyv"}],"2gDc":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=function(t){this.first_,this.last_,this.head_,this.circular_=void 0===t||t,this.length_=0};t.prototype.insertItem=function(t){var e={prev:void 0,next:void 0,data:t},i=this.head_;if(i){var h=i.next;e.prev=i,e.next=h,i.next=e,h&&(h.prev=e),i===this.last_&&(this.last_=e)}else this.first_=e,this.last_=e,this.circular_&&(e.next=e,e.prev=e);this.head_=e,this.length_++},t.prototype.removeItem=function(){var t=this.head_;if(t){var e=t.next,i=t.prev;e&&(e.prev=i),i&&(i.next=e),this.head_=e||i,this.first_===this.last_?(this.head_=void 0,this.first_=void 0,this.last_=void 0):this.first_===t?this.first_=this.head_:this.last_===t&&(this.last_=i?this.head_.prev:this.head_),this.length_--}},t.prototype.firstItem=function(){if(this.head_=this.first_,this.head_)return this.head_.data},t.prototype.lastItem=function(){if(this.head_=this.last_,this.head_)return this.head_.data},t.prototype.nextItem=function(){if(this.head_&&this.head_.next)return this.head_=this.head_.next,this.head_.data},t.prototype.getNextItem=function(){if(this.head_&&this.head_.next)return this.head_.next.data},t.prototype.prevItem=function(){if(this.head_&&this.head_.prev)return this.head_=this.head_.prev,this.head_.data},t.prototype.getPrevItem=function(){if(this.head_&&this.head_.prev)return this.head_.prev.data},t.prototype.getCurrItem=function(){if(this.head_)return this.head_.data},t.prototype.setFirstItem=function(){this.circular_&&this.head_&&(this.first_=this.head_,this.last_=this.head_.prev)},t.prototype.concat=function(t){if(t.head_){if(this.head_){var e=this.head_.next;this.head_.next=t.first_,t.first_.prev=this.head_,e.prev=t.last_,t.last_.next=e,this.length_+=t.length_}else this.head_=t.head_,this.first_=t.first_,this.last_=t.last_,this.length_=t.length_;t.head_=void 0,t.first_=void 0,t.last_=void 0,t.length_=0}},t.prototype.getLength=function(){return this.length_};var e=t;exports.default=e;
},{}],"Cbiy":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../../util.js"),e=require("../../array.js"),i=require("../../color.js"),s=require("../../extent.js"),r=require("../../obj.js"),n=require("../../geom/flat/contains.js"),a=require("../../geom/flat/orient.js"),o=require("../../geom/flat/transform.js"),h=require("./polygonreplay/defaultshader.js"),l=m(require("./polygonreplay/defaultshader/Locations.js")),p=m(require("./LineStringReplay.js")),y=m(require("./Replay.js")),x=require("../webgl.js"),c=m(require("../../style/Stroke.js")),u=m(require("../../structs/LinkedList.js")),d=m(require("../../structs/RBush.js")),f=require("../../webgl.js"),g=m(require("../../webgl/Buffer.js"));function m(t){return t&&t.__esModule?t:{default:t}}var _=function(y){function m(t,e){y.call(this,t,e),this.lineStringReplay=new p.default(t,e),this.defaultLocations_=null,this.styles_=[],this.styleIndices_=[],this.state_={fillColor:null,changed:!1}}return y&&(m.__proto__=y),m.prototype=Object.create(y&&y.prototype),m.prototype.constructor=m,m.prototype.drawCoordinates_=function(t,e,i){var s=new u.default,r=new d.default;this.processFlatCoordinates_(t,i,s,r,!0);var n=this.getMaxCoords_(s);if(e.length){var a,o,h=[];for(a=0,o=e.length;a<o;++a){var l={list:new u.default,maxCoords:void 0,rtree:new d.default};h.push(l),this.processFlatCoordinates_(e[a],i,l.list,l.rtree,!1),this.classifyPoints_(l.list,l.rtree,!0),l.maxCoords=this.getMaxCoords_(l.list)}for(h.sort(function(t,e){return e.maxCoords[0]===t.maxCoords[0]?t.maxCoords[1]-e.maxCoords[1]:e.maxCoords[0]-t.maxCoords[0]}),a=0;a<h.length;++a){var p=h[a].list,y=p.firstItem(),x=y,c=void 0;do{if(this.getIntersections_(x,r).length){c=!0;break}x=p.nextItem()}while(y!==x);c||this.bridgeHole_(p,h[a].maxCoords[0],s,n[0],r)&&(r.concat(h[a].rtree),this.classifyPoints_(s,r,!1))}}else this.classifyPoints_(s,r,!1);this.triangulate_(s,r)},m.prototype.processFlatCoordinates_=function(t,e,i,s,r){var n,o,h,l,p,y=(0,a.linearRingIsClockwise)(t,0,t.length,e),x=this.vertices.length/2,c=[],u=[];if(r===y){for(l=h=this.createPoint_(t[0],t[1],x++),n=e,o=t.length;n<o;n+=e)p=this.createPoint_(t[n],t[n+1],x++),u.push(this.insertItem_(l,p,i)),c.push([Math.min(l.x,p.x),Math.min(l.y,p.y),Math.max(l.x,p.x),Math.max(l.y,p.y)]),l=p;u.push(this.insertItem_(p,h,i)),c.push([Math.min(l.x,p.x),Math.min(l.y,p.y),Math.max(l.x,p.x),Math.max(l.y,p.y)])}else{var d=t.length-e;for(l=h=this.createPoint_(t[d],t[d+1],x++),n=d-e,o=0;n>=o;n-=e)p=this.createPoint_(t[n],t[n+1],x++),u.push(this.insertItem_(l,p,i)),c.push([Math.min(l.x,p.x),Math.min(l.y,p.y),Math.max(l.x,p.x),Math.max(l.y,p.y)]),l=p;u.push(this.insertItem_(p,h,i)),c.push([Math.min(l.x,p.x),Math.min(l.y,p.y),Math.max(l.x,p.x),Math.max(l.y,p.y)])}s.load(c,u)},m.prototype.getMaxCoords_=function(t){var e=t.firstItem(),i=e,s=[i.p0.x,i.p0.y];do{(i=t.nextItem()).p0.x>s[0]&&(s=[i.p0.x,i.p0.y])}while(i!==e);return s},m.prototype.classifyPoints_=function(t,e,i){var s=t.firstItem(),r=s,n=t.nextItem(),a=!1;do{var o=i?(0,x.triangleIsCounterClockwise)(n.p1.x,n.p1.y,r.p1.x,r.p1.y,r.p0.x,r.p0.y):(0,x.triangleIsCounterClockwise)(r.p0.x,r.p0.y,r.p1.x,r.p1.y,n.p1.x,n.p1.y);void 0===o?(this.removeItem_(r,n,t,e),a=!0,n===s&&(s=t.getNextItem()),n=r,t.prevItem()):r.p1.reflex!==o&&(r.p1.reflex=o,a=!0),r=n,n=t.nextItem()}while(r!==s);return a},m.prototype.bridgeHole_=function(t,e,i,s,r){for(var n=t.firstItem();n.p1.x!==e;)n=t.nextItem();var a,o,h,l,p=n.p1,y={x:s,y:p.y,i:-1},c=1/0,u=this.getIntersections_({p0:p,p1:y},r,!0);for(a=0,o=u.length;a<o;++a){var d=u[a],f=this.calculateIntersection_(p,y,d.p0,d.p1,!0),g=Math.abs(p.x-f[0]);g<c&&void 0!==(0,x.triangleIsCounterClockwise)(p.x,p.y,d.p0.x,d.p0.y,d.p1.x,d.p1.y)&&(c=g,l={x:f[0],y:f[1],i:-1},n=d)}if(c===1/0)return!1;if(h=n.p1,c>0){var m=this.getPointsInTriangle_(p,l,n.p1,r);if(m.length){var _=1/0;for(a=0,o=m.length;a<o;++a){var I=m[a],v=Math.atan2(p.y-I.y,y.x-I.x);(v<_||v===_&&I.x<h.x)&&(_=v,h=I)}}}for(n=i.firstItem();n.p1.x!==h.x||n.p1.y!==h.y;)n=i.nextItem();var M={x:p.x,y:p.y,i:p.i,reflex:void 0},P={x:n.p1.x,y:n.p1.y,i:n.p1.i,reflex:void 0};return t.getNextItem().p0=M,this.insertItem_(p,n.p1,t,r),this.insertItem_(P,M,t,r),n.p1=P,t.setFirstItem(),i.concat(t),!0},m.prototype.triangulate_=function(t,e){for(var i=!1,s=this.isSimple_(t,e);t.getLength()>3;)if(s){if(!this.clipEars_(t,e,s,i)&&!this.classifyPoints_(t,e,i)&&!this.resolveSelfIntersections_(t,e,!0))break}else if(!this.clipEars_(t,e,s,i)&&!this.classifyPoints_(t,e,i)&&!this.resolveSelfIntersections_(t,e)){if(!(s=this.isSimple_(t,e))){this.splitPolygon_(t,e);break}i=!this.isClockwise_(t),this.classifyPoints_(t,e,i)}if(3===t.getLength()){var r=this.indices.length;this.indices[r++]=t.getPrevItem().p0.i,this.indices[r++]=t.getCurrItem().p0.i,this.indices[r++]=t.getNextItem().p0.i}},m.prototype.clipEars_=function(t,e,i,s){var r,n,o,h=this.indices.length,l=t.firstItem(),p=t.getPrevItem(),y=l,x=t.nextItem(),c=t.getNextItem(),u=!1;do{if(r=y.p0,n=y.p1,o=x.p1,!1===n.reflex){var d=void 0;d=i?0===this.getPointsInTriangle_(r,n,o,e,!0).length:s?this.diagonalIsInside_(c.p1,o,n,r,p.p0):this.diagonalIsInside_(p.p0,r,n,o,c.p1),(i||0===this.getIntersections_({p0:r,p1:o},e).length)&&d&&(i||!1===r.reflex||!1===o.reflex||(0,a.linearRingIsClockwise)([p.p0.x,p.p0.y,r.x,r.y,n.x,n.y,o.x,o.y,c.p1.x,c.p1.y],0,10,2)===!s)&&(this.indices[h++]=r.i,this.indices[h++]=n.i,this.indices[h++]=o.i,this.removeItem_(y,x,t,e),x===l&&(l=c),u=!0)}p=t.getPrevItem(),y=t.getCurrItem(),x=t.nextItem(),c=t.getNextItem()}while(y!==l&&t.getLength()>3);return u},m.prototype.resolveSelfIntersections_=function(t,e,i){var s=t.firstItem();t.nextItem();var r=s,n=t.nextItem(),a=!1;do{var o=this.calculateIntersection_(r.p0,r.p1,n.p0,n.p1,i);if(o){var h=!1,l=this.vertices.length,p=this.indices.length,y=l/2,x=t.prevItem();t.removeItem(),e.remove(x),h=x===s;var c=void 0;if(i?(o[0]===r.p0.x&&o[1]===r.p0.y?(t.prevItem(),c=r.p0,n.p0=c,e.remove(r),h=h||r===s):(c=n.p1,r.p1=c,e.remove(n),h=h||n===s),t.removeItem()):(c=this.createPoint_(o[0],o[1],y),r.p1=c,n.p0=c,e.update([Math.min(r.p0.x,r.p1.x),Math.min(r.p0.y,r.p1.y),Math.max(r.p0.x,r.p1.x),Math.max(r.p0.y,r.p1.y)],r),e.update([Math.min(n.p0.x,n.p1.x),Math.min(n.p0.y,n.p1.y),Math.max(n.p0.x,n.p1.x),Math.max(n.p0.y,n.p1.y)],n)),this.indices[p++]=x.p0.i,this.indices[p++]=x.p1.i,this.indices[p++]=c.i,a=!0,h)break}r=t.getPrevItem(),n=t.nextItem()}while(r!==s);return a},m.prototype.isSimple_=function(t,e){var i=t.firstItem(),s=i;do{if(this.getIntersections_(s,e).length)return!1;s=t.nextItem()}while(s!==i);return!0},m.prototype.isClockwise_=function(t){var e=2*t.getLength(),i=new Array(e),s=t.firstItem(),r=s,n=0;do{i[n++]=r.p0.x,i[n++]=r.p0.y,r=t.nextItem()}while(r!==s);return(0,a.linearRingIsClockwise)(i,0,e,2)},m.prototype.splitPolygon_=function(t,e){var i=t.firstItem(),s=i;do{var r=this.getIntersections_(s,e);if(r.length){var n=r[0],a=this.vertices.length/2,o=this.calculateIntersection_(s.p0,s.p1,n.p0,n.p1),h=this.createPoint_(o[0],o[1],a),l=new u.default,p=new d.default;this.insertItem_(h,s.p1,l,p),s.p1=h,e.update([Math.min(s.p0.x,h.x),Math.min(s.p0.y,h.y),Math.max(s.p0.x,h.x),Math.max(s.p0.y,h.y)],s);for(var y=t.nextItem();y!==n;)this.insertItem_(y.p0,y.p1,l,p),e.remove(y),t.removeItem(),y=t.getCurrItem();this.insertItem_(n.p0,h,l,p),n.p0=h,e.update([Math.min(n.p1.x,h.x),Math.min(n.p1.y,h.y),Math.max(n.p1.x,h.x),Math.max(n.p1.y,h.y)],n),this.classifyPoints_(t,e,!1),this.triangulate_(t,e),this.classifyPoints_(l,p,!1),this.triangulate_(l,p);break}s=t.nextItem()}while(s!==i)},m.prototype.createPoint_=function(t,e,i){var s=this.vertices.length;return this.vertices[s++]=t,this.vertices[s++]=e,{x:t,y:e,i:i,reflex:void 0}},m.prototype.insertItem_=function(t,e,i,s){var r={p0:t,p1:e};return i.insertItem(r),s&&s.insert([Math.min(t.x,e.x),Math.min(t.y,e.y),Math.max(t.x,e.x),Math.max(t.y,e.y)],r),r},m.prototype.removeItem_=function(t,e,i,s){i.getCurrItem()===e&&(i.removeItem(),t.p1=e.p1,s.remove(e),s.update([Math.min(t.p0.x,t.p1.x),Math.min(t.p0.y,t.p1.y),Math.max(t.p0.x,t.p1.x),Math.max(t.p0.y,t.p1.y)],t))},m.prototype.getPointsInTriangle_=function(t,e,i,s,r){for(var a=[],o=s.getInExtent([Math.min(t.x,e.x,i.x),Math.min(t.y,e.y,i.y),Math.max(t.x,e.x,i.x),Math.max(t.y,e.y,i.y)]),h=0,l=o.length;h<l;++h)for(var p in o[h]){var y=o[h][p];"object"!=typeof y||r&&!y.reflex||y.x===t.x&&y.y===t.y||y.x===e.x&&y.y===e.y||y.x===i.x&&y.y===i.y||-1!==a.indexOf(y)||!(0,n.linearRingContainsXY)([t.x,t.y,e.x,e.y,i.x,i.y],0,6,2,y.x,y.y)||a.push(y)}return a},m.prototype.getIntersections_=function(t,e,i){for(var s=t.p0,r=t.p1,n=e.getInExtent([Math.min(s.x,r.x),Math.min(s.y,r.y),Math.max(s.x,r.x),Math.max(s.y,r.y)]),a=[],o=0,h=n.length;o<h;++o){var l=n[o];t!==l&&(i||l.p0!==r||l.p1!==s)&&this.calculateIntersection_(s,r,l.p0,l.p1,i)&&a.push(l)}return a},m.prototype.calculateIntersection_=function(t,e,i,s,r){var n=(s.y-i.y)*(e.x-t.x)-(s.x-i.x)*(e.y-t.y);if(0!==n){var a=((s.x-i.x)*(t.y-i.y)-(s.y-i.y)*(t.x-i.x))/n,o=((e.x-t.x)*(t.y-i.y)-(e.y-t.y)*(t.x-i.x))/n;if(!r&&a>x.EPSILON&&a<1-x.EPSILON&&o>x.EPSILON&&o<1-x.EPSILON||r&&a>=0&&a<=1&&o>=0&&o<=1)return[t.x+a*(e.x-t.x),t.y+a*(e.y-t.y)]}},m.prototype.diagonalIsInside_=function(t,e,i,s,r){if(void 0===e.reflex||void 0===s.reflex)return!1;var n=(i.x-s.x)*(e.y-s.y)>(i.y-s.y)*(e.x-s.x),a=(r.x-s.x)*(e.y-s.y)<(r.y-s.y)*(e.x-s.x),o=(t.x-e.x)*(s.y-e.y)>(t.y-e.y)*(s.x-e.x),h=(i.x-e.x)*(s.y-e.y)<(i.y-e.y)*(s.x-e.x),l=s.reflex?a||n:a&&n,p=e.reflex?h||o:h&&o;return l&&p},m.prototype.drawMultiPolygon=function(t,e){var i,s,r,n,a=t.getEndss(),h=t.getStride(),l=this.indices.length,p=this.lineStringReplay.getCurrentIndex(),y=t.getFlatCoordinates(),x=0;for(i=0,s=a.length;i<s;++i){var c=a[i];if(c.length>0){var u=(0,o.translate)(y,x,c[0],h,-this.origin[0],-this.origin[1]);if(u.length){var d=[],f=void 0;for(r=1,n=c.length;r<n;++r)c[r]!==c[r-1]&&(f=(0,o.translate)(y,c[r-1],c[r],h,-this.origin[0],-this.origin[1]),d.push(f));this.lineStringReplay.drawPolygonCoordinates(u,d,h),this.drawCoordinates_(u,d,h)}}x=c[c.length-1]}this.indices.length>l&&(this.startIndices.push(l),this.startIndicesFeature.push(e),this.state_.changed&&(this.styleIndices_.push(l),this.state_.changed=!1)),this.lineStringReplay.getCurrentIndex()>p&&this.lineStringReplay.setPolygonStyle(e,p)},m.prototype.drawPolygon=function(t,e){var i=t.getEnds(),s=t.getStride();if(i.length>0){var r=t.getFlatCoordinates().map(Number),n=(0,o.translate)(r,0,i[0],s,-this.origin[0],-this.origin[1]);if(n.length){var a,h,l,p=[];for(a=1,h=i.length;a<h;++a)i[a]!==i[a-1]&&(l=(0,o.translate)(r,i[a-1],i[a],s,-this.origin[0],-this.origin[1]),p.push(l));this.startIndices.push(this.indices.length),this.startIndicesFeature.push(e),this.state_.changed&&(this.styleIndices_.push(this.indices.length),this.state_.changed=!1),this.lineStringReplay.setPolygonStyle(e),this.lineStringReplay.drawPolygonCoordinates(n,p,s),this.drawCoordinates_(n,p,s)}}},m.prototype.finish=function(t){this.verticesBuffer=new g.default(this.vertices),this.indicesBuffer=new g.default(this.indices),this.startIndices.push(this.indices.length),this.lineStringReplay.finish(t),0===this.styleIndices_.length&&this.styles_.length>0&&(this.styles_=[]),this.vertices=null,this.indices=null},m.prototype.getDeleteResourcesFunction=function(t){var e=this.verticesBuffer,i=this.indicesBuffer,s=this.lineStringReplay.getDeleteResourcesFunction(t);return function(){t.deleteBuffer(e),t.deleteBuffer(i),s()}},m.prototype.setUpProgram=function(t,e,i,s){var r,n=e.getProgram(h.fragment,h.vertex);return this.defaultLocations_?r=this.defaultLocations_:(r=new l.default(t,n),this.defaultLocations_=r),e.useProgram(n),t.enableVertexAttribArray(r.a_position),t.vertexAttribPointer(r.a_position,2,f.FLOAT,!1,8,0),r},m.prototype.shutDownProgram=function(t,e){t.disableVertexAttribArray(e.a_position)},m.prototype.drawReplay=function(t,e,i,s){var n,a,o,h,l=t.getParameter(t.DEPTH_FUNC),p=t.getParameter(t.DEPTH_WRITEMASK);if(s||(t.enable(t.DEPTH_TEST),t.depthMask(!0),t.depthFunc(t.NOTEQUAL)),(0,r.isEmpty)(i))for(o=this.startIndices[this.startIndices.length-1],n=this.styleIndices_.length-1;n>=0;--n)a=this.styleIndices_[n],h=this.styles_[n],this.setFillStyle_(t,h),this.drawElements(t,e,a,o),o=a;else this.drawReplaySkipping_(t,e,i);s||(t.disable(t.DEPTH_TEST),t.clear(t.DEPTH_BUFFER_BIT),t.depthMask(p),t.depthFunc(l))},m.prototype.drawHitDetectionReplayOneByOne=function(e,i,r,n,a){var o,h,l,p,y,x,c;for(c=this.startIndices.length-2,l=this.startIndices[c+1],o=this.styleIndices_.length-1;o>=0;--o)for(p=this.styles_[o],this.setFillStyle_(e,p),y=this.styleIndices_[o];c>=0&&this.startIndices[c]>=y;){if(h=this.startIndices[c],x=this.startIndicesFeature[c],void 0===r[(0,t.getUid)(x)]&&x.getGeometry()&&(void 0===a||(0,s.intersects)(a,x.getGeometry().getExtent()))){e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT),this.drawElements(e,i,h,l);var u=n(x);if(u)return u}c--,l=h}},m.prototype.drawReplaySkipping_=function(e,i,s){var r,n,a,o,h,l,p,y;for(p=this.startIndices.length-2,a=n=this.startIndices[p+1],r=this.styleIndices_.length-1;r>=0;--r){for(o=this.styles_[r],this.setFillStyle_(e,o),h=this.styleIndices_[r];p>=0&&this.startIndices[p]>=h;)y=this.startIndices[p],l=this.startIndicesFeature[p],s[(0,t.getUid)(l)]&&(n!==a&&(this.drawElements(e,i,n,a),e.clear(e.DEPTH_BUFFER_BIT)),a=y),p--,n=y;n!==a&&(this.drawElements(e,i,n,a),e.clear(e.DEPTH_BUFFER_BIT)),n=a=h}},m.prototype.setFillStyle_=function(t,e){t.uniform4fv(this.defaultLocations_.u_color,e)},m.prototype.setFillStrokeStyle=function(t,s){var r=t?t.getColor():[0,0,0,0];if(r=r instanceof CanvasGradient||r instanceof CanvasPattern?x.DEFAULT_FILLSTYLE:(0,i.asArray)(r).map(function(t,e){return 3!=e?t/255:t})||x.DEFAULT_FILLSTYLE,this.state_.fillColor&&(0,e.equals)(r,this.state_.fillColor)||(this.state_.fillColor=r,this.state_.changed=!0,this.styles_.push(r)),s)this.lineStringReplay.setFillStrokeStyle(null,s);else{var n=new c.default({color:[0,0,0,0],width:0});this.lineStringReplay.setFillStrokeStyle(null,n)}},m}(y.default),I=_;exports.default=I;
},{"../../util.js":"KniQ","../../array.js":"luEr","../../color.js":"eucy","../../extent.js":"QDir","../../obj.js":"mH6q","../../geom/flat/contains.js":"dzdN","../../geom/flat/orient.js":"2/8c","../../geom/flat/transform.js":"LGwr","./polygonreplay/defaultshader.js":"KUzN","./polygonreplay/defaultshader/Locations.js":"mO11","./LineStringReplay.js":"Nu72","./Replay.js":"HMSc","../webgl.js":"7DIo","../../style/Stroke.js":"TXDt","../../structs/LinkedList.js":"2gDc","../../structs/RBush.js":"MiUH","../../webgl.js":"SCyv","../../webgl/Buffer.js":"zsRd"}],"N0HK":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../dom.js"),e=function(e,i){this.space_=i,this.emptyBlocks_=[{x:0,y:0,width:e,height:e}],this.entries_={},this.context_=(0,t.createCanvasContext2D)(e,e),this.canvas_=this.context_.canvas};e.prototype.get=function(t){return this.entries_[t]||null},e.prototype.add=function(t,e,i,h,s){for(var p=0,a=this.emptyBlocks_.length;p<a;++p){var o=this.emptyBlocks_[p];if(o.width>=e+this.space_&&o.height>=i+this.space_){var c={offsetX:o.x+this.space_,offsetY:o.y+this.space_,image:this.canvas_};return this.entries_[t]=c,h.call(s,this.context_,o.x+this.space_,o.y+this.space_),this.split_(p,o,e+this.space_,i+this.space_),c}}return null},e.prototype.split_=function(t,e,i,h){var s,p;e.width-i>e.height-h?(s={x:e.x+i,y:e.y,width:e.width-i,height:e.height},p={x:e.x,y:e.y+h,width:i,height:e.height-h},this.updateBlocks_(t,s,p)):(s={x:e.x+i,y:e.y,width:e.width-i,height:h},p={x:e.x,y:e.y+h,width:e.width,height:e.height-h},this.updateBlocks_(t,s,p))},e.prototype.updateBlocks_=function(t,e,i){var h=[t,1];e.width>0&&e.height>0&&h.push(e),i.width>0&&i.height>0&&h.push(i),this.emptyBlocks_.splice.apply(this.emptyBlocks_,h)};var i=e;exports.default=i;
},{"../dom.js":"Xno5"}],"SyS8":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../webgl.js"),e=require("../functions.js"),i=r(require("./Atlas.js"));function r(t){return t&&t.__esModule?t:{default:t}}var s=256,n=-1,a=function(e){var r=e||{};this.currentSize_=void 0!==r.initialSize?r.initialSize:s,this.maxSize_=void 0!==r.maxSize?r.maxSize:-1!=n?n:void 0!==t.MAX_TEXTURE_SIZE?t.MAX_TEXTURE_SIZE:2048,this.space_=void 0!==r.space?r.space:1,this.atlases_=[new i.default(this.currentSize_,this.space_)],this.currentHitSize_=this.currentSize_,this.hitAtlases_=[new i.default(this.currentHitSize_,this.space_)]};a.prototype.getInfo=function(t){var e=this.getInfo_(this.atlases_,t);if(!e)return null;var i=this.getInfo_(this.hitAtlases_,t);return this.mergeInfos_(e,i)},a.prototype.getInfo_=function(t,e){for(var i=0,r=t.length;i<r;++i){var s=t[i].get(e);if(s)return s}return null},a.prototype.mergeInfos_=function(t,e){return{offsetX:t.offsetX,offsetY:t.offsetY,image:t.image,hitImage:e.image}},a.prototype.add=function(t,i,r,s,n,a){if(i+this.space_>this.maxSize_||r+this.space_>this.maxSize_)return null;var u=this.add_(!1,t,i,r,s,a);if(!u)return null;var o=void 0!==n?n:e.VOID,_=this.add_(!0,t,i,r,o,a);return this.mergeInfos_(u,_)},a.prototype.add_=function(t,e,r,s,n,a){var u,o,_,h,f=t?this.hitAtlases_:this.atlases_;for(_=0,h=f.length;_<h;++_){if(o=(u=f[_]).add(e,r,s,n,a))return o;if(!o&&_===h-1){var l=void 0;t?(l=Math.min(2*this.currentHitSize_,this.maxSize_),this.currentHitSize_=l):(l=Math.min(2*this.currentSize_,this.maxSize_),this.currentSize_=l),u=new i.default(l,this.space_),f.push(u),++h}}return null};var u=a;exports.default=u;
},{"../webgl.js":"SCyv","../functions.js":"RgA2","./Atlas.js":"N0HK"}],"0Vdg":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../../util.js"),e=require("../../colorlike.js"),i=require("../../dom.js"),s=f(require("../../geom/GeometryType.js")),a=require("../../has.js"),r=require("../replay.js"),o=require("../webgl.js"),l=f(require("./TextureReplay.js")),h=f(require("../../style/AtlasManager.js")),n=f(require("../../webgl/Buffer.js"));function f(t){return t&&t.__esModule?t:{default:t}}var u=function(l){function f(t,e){l.call(this,t,e),this.images_=[],this.textures_=[],this.measureCanvas_=(0,i.createCanvasContext2D)(0,0).canvas,this.state_={strokeColor:null,lineCap:void 0,lineDash:null,lineDashOffset:void 0,lineJoin:void 0,lineWidth:0,miterLimit:void 0,fillColor:null,font:void 0,scale:void 0},this.text_="",this.textAlign_=void 0,this.textBaseline_=void 0,this.offsetX_=void 0,this.offsetY_=void 0,this.atlases_={},this.currAtlas_=void 0,this.scale=1,this.opacity=1}return l&&(f.__proto__=l),f.prototype=Object.create(l&&l.prototype),f.prototype.constructor=f,f.prototype.drawText=function(e,i){if(this.text_){var a=null,r=2,o=2;switch(e.getType()){case s.default.POINT:case s.default.MULTI_POINT:r=(a=e.getFlatCoordinates()).length,o=e.getStride();break;case s.default.CIRCLE:a=e.getCenter();break;case s.default.LINE_STRING:a=e.getFlatMidpoint();break;case s.default.MULTI_LINE_STRING:r=(a=e.getFlatMidpoints()).length;break;case s.default.POLYGON:a=e.getFlatInteriorPoint();break;case s.default.MULTI_POLYGON:r=(a=e.getFlatInteriorPoints()).length}this.startIndices.push(this.indices.length),this.startIndicesFeature.push(i);var l,h,n,f,u,d,_,g,c=this.currAtlas_,p=this.text_.split("\n"),v=this.getTextSize_(p),T=Math.round(v[0]*this.textAlign_-this.offsetX_),L=Math.round(v[1]*this.textBaseline_-this.offsetY_),x=this.state_.lineWidth/2*this.state_.scale;for(l=0,h=p.length;l<h;++l)for(u=0,d=c.height*l,n=0,f=(_=p[l].split("")).length;n<f;++n){if(g=c.atlas.getInfo(_[n])){var A=g.image;if(this.anchorX=T-u,this.anchorY=L-d,this.originX=0===n?g.offsetX-x:g.offsetX,this.originY=g.offsetY,this.height=c.height,this.width=0===n||n===_.length-1?c.width[_[n]]+x:c.width[_[n]],this.imageHeight=A.height,this.imageWidth=A.width,0===this.images_.length)this.images_.push(A);else{var C=this.images_[this.images_.length-1];(0,t.getUid)(C)!=(0,t.getUid)(A)&&(this.groupIndices.push(this.indices.length),this.images_.push(A))}this.drawText_(a,0,r,o)}u+=this.width}}},f.prototype.getTextSize_=function(t){var e=this,i=this.currAtlas_,s=t.length*i.height;return[t.map(function(t){for(var s=0,a=0,r=t.length;a<r;++a){var o=t[a];i.width[o]||e.addCharToAtlas_(o),s+=i.width[o]?i.width[o]:0}return s}).reduce(function(t,e){return Math.max(t,e)}),s]},f.prototype.drawText_=function(t,e,i,s){for(var a=e,r=i;a<r;a+=s)this.drawCoordinates(t,e,i,s)},f.prototype.addCharToAtlas_=function(t){if(1===t.length){var e=this.currAtlas_,i=this.state_,s=this.measureCanvas_.getContext("2d");s.font=i.font;var r=Math.ceil(s.measureText(t).width*i.scale);e.atlas.add(t,r,e.height,function(e,s,r){e.font=i.font,e.fillStyle=i.fillColor,e.strokeStyle=i.strokeColor,e.lineWidth=i.lineWidth,e.lineCap=i.lineCap,e.lineJoin=i.lineJoin,e.miterLimit=i.miterLimit,e.textAlign="left",e.textBaseline="top",a.CANVAS_LINE_DASH&&i.lineDash&&(e.setLineDash(i.lineDash),e.lineDashOffset=i.lineDashOffset),1!==i.scale&&e.setTransform(i.scale,0,0,i.scale,0,0),i.strokeColor&&e.strokeText(t,s,r),i.fillColor&&e.fillText(t,s,r)})&&(e.width[t]=r)}},f.prototype.finish=function(t){var e=t.getGL();this.groupIndices.push(this.indices.length),this.hitDetectionGroupIndices=this.groupIndices,this.verticesBuffer=new n.default(this.vertices),this.indicesBuffer=new n.default(this.indices);this.createTextures(this.textures_,this.images_,{},e),this.state_={strokeColor:null,lineCap:void 0,lineDash:null,lineDashOffset:void 0,lineJoin:void 0,lineWidth:0,miterLimit:void 0,fillColor:null,font:void 0,scale:void 0},this.text_="",this.textAlign_=void 0,this.textBaseline_=void 0,this.offsetX_=void 0,this.offsetY_=void 0,this.images_=null,this.atlases_={},this.currAtlas_=void 0,l.prototype.finish.call(this,t)},f.prototype.setTextStyle=function(t){var i=this.state_,s=t.getFill(),a=t.getStroke();if(t&&t.getText()&&(s||a)){if(s){var l=s.getColor();i.fillColor=(0,e.asColorLike)(l||o.DEFAULT_FILLSTYLE)}else i.fillColor=null;if(a){var h=a.getColor();i.strokeColor=(0,e.asColorLike)(h||o.DEFAULT_STROKESTYLE),i.lineWidth=a.getWidth()||o.DEFAULT_LINEWIDTH,i.lineCap=a.getLineCap()||o.DEFAULT_LINECAP,i.lineDashOffset=a.getLineDashOffset()||o.DEFAULT_LINEDASHOFFSET,i.lineJoin=a.getLineJoin()||o.DEFAULT_LINEJOIN,i.miterLimit=a.getMiterLimit()||o.DEFAULT_MITERLIMIT;var n=a.getLineDash();i.lineDash=n?n.slice():o.DEFAULT_LINEDASH}else i.strokeColor=null,i.lineWidth=0;i.font=t.getFont()||o.DEFAULT_FONT,i.scale=t.getScale()||1,this.text_=t.getText();var f=r.TEXT_ALIGN[t.getTextAlign()],u=r.TEXT_ALIGN[t.getTextBaseline()];this.textAlign_=void 0===f?o.DEFAULT_TEXTALIGN:f,this.textBaseline_=void 0===u?o.DEFAULT_TEXTBASELINE:u,this.offsetX_=t.getOffsetX()||0,this.offsetY_=t.getOffsetY()||0,this.rotateWithView=!!t.getRotateWithView(),this.rotation=t.getRotation()||0,this.currAtlas_=this.getAtlas_(i)}else this.text_=""},f.prototype.getAtlas_=function(t){var e=[];for(var i in t)(t[i]||0===t[i])&&(Array.isArray(t[i])?e=e.concat(t[i]):e.push(t[i]));var s=this.calculateHash_(e);if(!this.atlases_[s]){var a=this.measureCanvas_.getContext("2d");a.font=t.font;var r=Math.ceil((1.5*a.measureText("M").width+t.lineWidth/2)*t.scale);this.atlases_[s]={atlas:new h.default({space:t.lineWidth+1}),width:{},height:r}}return this.atlases_[s]},f.prototype.calculateHash_=function(t){for(var e="",i=0,s=t.length;i<s;++i)e+=t[i];return e},f.prototype.getTextures=function(t){return this.textures_},f.prototype.getHitDetectionTextures=function(){return this.textures_},f}(l.default),d=u;exports.default=d;
},{"../../util.js":"KniQ","../../colorlike.js":"V5+X","../../dom.js":"Xno5","../../geom/GeometryType.js":"lmV0","../../has.js":"f3Nv","../replay.js":"FzwX","../webgl.js":"7DIo","./TextureReplay.js":"rtlq","../../style/AtlasManager.js":"SyS8","../../webgl/Buffer.js":"zsRd"}],"aOHC":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("../../array.js"),r=require("../../extent.js"),t=require("../../obj.js"),n=require("../replay.js"),i=y(require("../ReplayGroup.js")),o=y(require("./CircleReplay.js")),a=y(require("./ImageReplay.js")),u=y(require("./LineStringReplay.js")),s=y(require("./PolygonReplay.js")),p=y(require("./TextReplay.js"));function y(e){return e&&e.__esModule?e:{default:e}}var f=[1,1],l={Circle:o.default,Image:a.default,LineString:u.default,Polygon:s.default,Text:p.default},d=function(i){function o(e,r,t){i.call(this),this.maxExtent_=r,this.tolerance_=e,this.renderBuffer_=t,this.replaysByZIndex_={}}return i&&(o.__proto__=i),o.prototype=Object.create(i&&i.prototype),o.prototype.constructor=o,o.prototype.addDeclutter=function(e){return[]},o.prototype.getDeleteResourcesFunction=function(e){var r,t=[];for(r in this.replaysByZIndex_){var n=this.replaysByZIndex_[r];for(var i in n)t.push(n[i].getDeleteResourcesFunction(e))}return function(){for(var e,r=arguments,n=t.length,i=0;i<n;i++)e=t[i].apply(this,r);return e}},o.prototype.finish=function(e){var r;for(r in this.replaysByZIndex_){var t=this.replaysByZIndex_[r];for(var n in t)t[n].finish(e)}},o.prototype.getReplay=function(e,r){var t=void 0!==e?e.toString():"0",n=this.replaysByZIndex_[t];void 0===n&&(n={},this.replaysByZIndex_[t]=n);var i=n[r];void 0===i&&(i=new(0,l[r])(this.tolerance_,this.maxExtent_),n[r]=i);return i},o.prototype.isEmpty=function(){return(0,t.isEmpty)(this.replaysByZIndex_)},o.prototype.replay=function(r,t,i,o,a,u,s,p){var y,f,l,d,c,h,_=Object.keys(this.replaysByZIndex_).map(Number);for(_.sort(e.numberSafeCompareFunction),y=0,f=_.length;y<f;++y)for(c=this.replaysByZIndex_[_[y].toString()],l=0,d=n.ORDER.length;l<d;++l)h=c[n.ORDER[l]],void 0!==h&&h.replay(r,t,i,o,a,u,s,p,void 0,!1)},o.prototype.replayHitDetection_=function(e,r,t,i,o,a,u,s,p,y,f){var l,d,c,h,_,v,x=Object.keys(this.replaysByZIndex_).map(Number);for(x.sort(function(e,r){return r-e}),l=0,d=x.length;l<d;++l)for(h=this.replaysByZIndex_[x[l].toString()],c=n.ORDER.length-1;c>=0;--c)if(void 0!==(_=h[n.ORDER[c]])&&(v=_.replay(e,r,t,i,o,a,u,s,p,y,f)))return v},o.prototype.forEachFeatureAtCoordinate=function(e,t,n,i,o,a,u,s,p,y){var l,d=t.getGL();return d.bindFramebuffer(d.FRAMEBUFFER,t.getHitDetectionFramebuffer()),void 0!==this.renderBuffer_&&(l=(0,r.buffer)((0,r.createOrUpdateFromCoordinate)(e),i*this.renderBuffer_)),this.replayHitDetection_(t,e,i,o,f,u,s,p,function(e){var r=new Uint8Array(4);if(d.readPixels(0,0,1,1,d.RGBA,d.UNSIGNED_BYTE,r),r[3]>0){var t=y(e);if(t)return t}},!0,l)},o.prototype.hasFeatureAtCoordinate=function(e,r,t,n,i,o,a,u,s){var p=r.getGL();return p.bindFramebuffer(p.FRAMEBUFFER,r.getHitDetectionFramebuffer()),void 0!==this.replayHitDetection_(r,e,n,i,f,a,u,s,function(e){var r=new Uint8Array(4);return p.readPixels(0,0,1,1,p.RGBA,p.UNSIGNED_BYTE,r),r[3]>0},!1)},o}(i.default),c=d;exports.default=c;
},{"../../array.js":"luEr","../../extent.js":"QDir","../../obj.js":"mH6q","../replay.js":"FzwX","../ReplayGroup.js":"TK0U","./CircleReplay.js":"sHZH","./ImageReplay.js":"cwcG","./LineStringReplay.js":"Nu72","./PolygonReplay.js":"Cbiy","./TextReplay.js":"0Vdg"}],"PT5w":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../../extent.js"),e=l(require("../../geom/GeometryType.js")),i=l(require("../ReplayType.js")),s=l(require("../VectorContext.js")),o=l(require("./ReplayGroup.js"));function l(t){return t&&t.__esModule?t:{default:t}}var r=function(s){function l(t,e,i,o,l,r,n){s.call(this),this.context_=t,this.center_=e,this.extent_=r,this.pixelRatio_=n,this.size_=l,this.rotation_=o,this.resolution_=i,this.imageStyle_=null,this.fillStyle_=null,this.strokeStyle_=null,this.textStyle_=null}return s&&(l.__proto__=s),l.prototype=Object.create(s&&s.prototype),l.prototype.constructor=l,l.prototype.drawText_=function(t,e){var s=this.context_,o=t.getReplay(0,i.default.TEXT);o.setTextStyle(this.textStyle_),o.drawText(e,null),o.finish(s);o.replay(this.context_,this.center_,this.resolution_,this.rotation_,this.size_,this.pixelRatio_,1,{},void 0,!1),o.getDeleteResourcesFunction(s)()},l.prototype.setStyle=function(t){this.setFillStrokeStyle(t.getFill(),t.getStroke()),this.setImageStyle(t.getImage()),this.setTextStyle(t.getText())},l.prototype.drawGeometry=function(t){switch(t.getType()){case e.default.POINT:this.drawPoint(t,null);break;case e.default.LINE_STRING:this.drawLineString(t,null);break;case e.default.POLYGON:this.drawPolygon(t,null);break;case e.default.MULTI_POINT:this.drawMultiPoint(t,null);break;case e.default.MULTI_LINE_STRING:this.drawMultiLineString(t,null);break;case e.default.MULTI_POLYGON:this.drawMultiPolygon(t,null);break;case e.default.GEOMETRY_COLLECTION:this.drawGeometryCollection(t,null);break;case e.default.CIRCLE:this.drawCircle(t,null)}},l.prototype.drawFeature=function(e,i){var s=i.getGeometryFunction()(e);s&&(0,t.intersects)(this.extent_,s.getExtent())&&(this.setStyle(i),this.drawGeometry(s))},l.prototype.drawGeometryCollection=function(t,e){var i,s,o=t.getGeometriesArray();for(i=0,s=o.length;i<s;++i)this.drawGeometry(o[i])},l.prototype.drawPoint=function(t,e){var s=this.context_,l=new o.default(1,this.extent_),r=l.getReplay(0,i.default.IMAGE);r.setImageStyle(this.imageStyle_),r.drawPoint(t,e),r.finish(s);r.replay(this.context_,this.center_,this.resolution_,this.rotation_,this.size_,this.pixelRatio_,1,{},void 0,!1),r.getDeleteResourcesFunction(s)(),this.textStyle_&&this.drawText_(l,t)},l.prototype.drawMultiPoint=function(t,e){var s=this.context_,l=new o.default(1,this.extent_),r=l.getReplay(0,i.default.IMAGE);r.setImageStyle(this.imageStyle_),r.drawMultiPoint(t,e),r.finish(s);r.replay(this.context_,this.center_,this.resolution_,this.rotation_,this.size_,this.pixelRatio_,1,{},void 0,!1),r.getDeleteResourcesFunction(s)(),this.textStyle_&&this.drawText_(l,t)},l.prototype.drawLineString=function(t,e){var s=this.context_,l=new o.default(1,this.extent_),r=l.getReplay(0,i.default.LINE_STRING);r.setFillStrokeStyle(null,this.strokeStyle_),r.drawLineString(t,e),r.finish(s);r.replay(this.context_,this.center_,this.resolution_,this.rotation_,this.size_,this.pixelRatio_,1,{},void 0,!1),r.getDeleteResourcesFunction(s)(),this.textStyle_&&this.drawText_(l,t)},l.prototype.drawMultiLineString=function(t,e){var s=this.context_,l=new o.default(1,this.extent_),r=l.getReplay(0,i.default.LINE_STRING);r.setFillStrokeStyle(null,this.strokeStyle_),r.drawMultiLineString(t,e),r.finish(s);r.replay(this.context_,this.center_,this.resolution_,this.rotation_,this.size_,this.pixelRatio_,1,{},void 0,!1),r.getDeleteResourcesFunction(s)(),this.textStyle_&&this.drawText_(l,t)},l.prototype.drawPolygon=function(t,e){var s=this.context_,l=new o.default(1,this.extent_),r=l.getReplay(0,i.default.POLYGON);r.setFillStrokeStyle(this.fillStyle_,this.strokeStyle_),r.drawPolygon(t,e),r.finish(s);r.replay(this.context_,this.center_,this.resolution_,this.rotation_,this.size_,this.pixelRatio_,1,{},void 0,!1),r.getDeleteResourcesFunction(s)(),this.textStyle_&&this.drawText_(l,t)},l.prototype.drawMultiPolygon=function(t,e){var s=this.context_,l=new o.default(1,this.extent_),r=l.getReplay(0,i.default.POLYGON);r.setFillStrokeStyle(this.fillStyle_,this.strokeStyle_),r.drawMultiPolygon(t,e),r.finish(s);r.replay(this.context_,this.center_,this.resolution_,this.rotation_,this.size_,this.pixelRatio_,1,{},void 0,!1),r.getDeleteResourcesFunction(s)(),this.textStyle_&&this.drawText_(l,t)},l.prototype.drawCircle=function(t,e){var s=this.context_,l=new o.default(1,this.extent_),r=l.getReplay(0,i.default.CIRCLE);r.setFillStrokeStyle(this.fillStyle_,this.strokeStyle_),r.drawCircle(t,e),r.finish(s);r.replay(this.context_,this.center_,this.resolution_,this.rotation_,this.size_,this.pixelRatio_,1,{},void 0,!1),r.getDeleteResourcesFunction(s)(),this.textStyle_&&this.drawText_(l,t)},l.prototype.setImageStyle=function(t){this.imageStyle_=t},l.prototype.setFillStrokeStyle=function(t,e){this.fillStyle_=t,this.strokeStyle_=e},l.prototype.setTextStyle=function(t){this.textStyle_=t},l}(s.default),n=r;exports.default=n;
},{"../../extent.js":"QDir","../../geom/GeometryType.js":"lmV0","../ReplayType.js":"D882","../VectorContext.js":"4LQ/","./ReplayGroup.js":"aOHC"}],"6MfN":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.vertex=exports.fragment=void 0;var e=require("../../webgl.js"),o=t(require("../../webgl/Fragment.js")),r=t(require("../../webgl/Vertex.js"));function t(e){return e&&e.__esModule?e:{default:e}}var n=new o.default(e.DEBUG?"precision mediump float;\nvarying vec2 v_texCoord;\n\n\nuniform float u_opacity;\nuniform sampler2D u_texture;\n\nvoid main(void) {\n  vec4 texColor = texture2D(u_texture, v_texCoord);\n  gl_FragColor.rgb = texColor.rgb;\n  gl_FragColor.a = texColor.a * u_opacity;\n}\n":"precision mediump float;varying vec2 a;uniform float f;uniform sampler2D g;void main(void){vec4 texColor=texture2D(g,a);gl_FragColor.rgb=texColor.rgb;gl_FragColor.a=texColor.a*f;}");exports.fragment=n;var i=new r.default(e.DEBUG?"varying vec2 v_texCoord;\n\n\nattribute vec2 a_position;\nattribute vec2 a_texCoord;\n\nuniform mat4 u_texCoordMatrix;\nuniform mat4 u_projectionMatrix;\n\nvoid main(void) {\n  gl_Position = u_projectionMatrix * vec4(a_position, 0., 1.);\n  v_texCoord = (u_texCoordMatrix * vec4(a_texCoord, 0., 1.)).st;\n}\n\n\n":"varying vec2 a;attribute vec2 b;attribute vec2 c;uniform mat4 d;uniform mat4 e;void main(void){gl_Position=e*vec4(b,0.,1.);a=(d*vec4(c,0.,1.)).st;}");exports.vertex=i;
},{"../../webgl.js":"SCyv","../../webgl/Fragment.js":"SAYv","../../webgl/Vertex.js":"mo14"}],"jKm2":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../../../webgl.js"),o=function(o,i){this.u_texCoordMatrix=o.getUniformLocation(i,t.DEBUG?"u_texCoordMatrix":"d"),this.u_projectionMatrix=o.getUniformLocation(i,t.DEBUG?"u_projectionMatrix":"e"),this.u_opacity=o.getUniformLocation(i,t.DEBUG?"u_opacity":"f"),this.u_texture=o.getUniformLocation(i,t.DEBUG?"u_texture":"g"),this.a_position=o.getAttribLocation(i,t.DEBUG?"a_position":"b"),this.a_texCoord=o.getAttribLocation(i,t.DEBUG?"a_texCoord":"c")},i=o;exports.default=i;
},{"../../../webgl.js":"SCyv"}],"7nUx":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("../../util.js"),t=m(require("../../render/Event.js")),r=m(require("../../render/EventType.js")),i=m(require("../../render/webgl/Immediate.js")),o=m(require("../Layer.js")),a=require("./defaultmapshader.js"),n=m(require("./defaultmapshader/Locations.js")),u=require("../../transform.js"),f=require("../../vec/mat4.js"),s=require("../../webgl.js"),p=m(require("../../webgl/Buffer.js")),d=require("../../webgl/Context.js");function m(e){return e&&e.__esModule?e:{default:e}}var l=function(o){function m(e,t){o.call(this,t),this.mapRenderer=e,this.arrayBuffer_=new p.default([-1,-1,0,0,1,-1,1,0,-1,1,0,1,1,1,1,1]),this.texture=null,this.framebuffer=null,this.framebufferDimension=void 0,this.texCoordMatrix=(0,u.create)(),this.projectionMatrix=(0,u.create)(),this.tmpMat4_=(0,f.create)(),this.defaultLocations_=null}return o&&(m.__proto__=o),m.prototype=Object.create(o&&o.prototype),m.prototype.constructor=m,m.prototype.bindFramebuffer=function(e,t){var r=this.mapRenderer.getGL();if(void 0===this.framebufferDimension||this.framebufferDimension!=t){var i=function(e,t,r){e.isContextLost()||(e.deleteFramebuffer(t),e.deleteTexture(r))}.bind(null,r,this.framebuffer,this.texture);e.postRenderFunctions.push(i);var o=(0,d.createEmptyTexture)(r,t,t),a=r.createFramebuffer();r.bindFramebuffer(s.FRAMEBUFFER,a),r.framebufferTexture2D(s.FRAMEBUFFER,s.COLOR_ATTACHMENT0,s.TEXTURE_2D,o,0),this.texture=o,this.framebuffer=a,this.framebufferDimension=t}else r.bindFramebuffer(s.FRAMEBUFFER,this.framebuffer)},m.prototype.composeFrame=function(e,t,i){this.dispatchComposeEvent_(r.default.PRECOMPOSE,i,e),i.bindBuffer(s.ARRAY_BUFFER,this.arrayBuffer_);var o,u=i.getGL(),p=i.getProgram(a.fragment,a.vertex);this.defaultLocations_?o=this.defaultLocations_:(o=new n.default(u,p),this.defaultLocations_=o),i.useProgram(p)&&(u.enableVertexAttribArray(o.a_position),u.vertexAttribPointer(o.a_position,2,s.FLOAT,!1,16,0),u.enableVertexAttribArray(o.a_texCoord),u.vertexAttribPointer(o.a_texCoord,2,s.FLOAT,!1,16,8),u.uniform1i(o.u_texture,0)),u.uniformMatrix4fv(o.u_texCoordMatrix,!1,(0,f.fromTransform)(this.tmpMat4_,this.getTexCoordMatrix())),u.uniformMatrix4fv(o.u_projectionMatrix,!1,(0,f.fromTransform)(this.tmpMat4_,this.getProjectionMatrix())),u.uniform1f(o.u_opacity,t.opacity),u.bindTexture(s.TEXTURE_2D,this.getTexture()),u.drawArrays(s.TRIANGLE_STRIP,0,4),this.dispatchComposeEvent_(r.default.POSTCOMPOSE,i,e)},m.prototype.dispatchComposeEvent_=function(e,r,o){var a=this.getLayer();if(a.hasListener(e)){var n=o.viewState,u=n.resolution,f=o.pixelRatio,s=o.extent,p=n.center,d=n.rotation,m=o.size,l=new i.default(r,p,u,d,m,s,f),c=new t.default(e,l,o,null,r);a.dispatchEvent(c)}},m.prototype.getTexCoordMatrix=function(){return this.texCoordMatrix},m.prototype.getTexture=function(){return this.texture},m.prototype.getProjectionMatrix=function(){return this.projectionMatrix},m.prototype.handleWebGLContextLost=function(){this.texture=null,this.framebuffer=null,this.framebufferDimension=void 0},m.prototype.prepareFrame=function(t,r,i){return(0,e.abstract)()},m.prototype.forEachLayerAtPixel=function(t,r,i,o){return(0,e.abstract)()},m}(o.default),c=l;exports.default=c;
},{"../../util.js":"KniQ","../../render/Event.js":"E+B6","../../render/EventType.js":"z39m","../../render/webgl/Immediate.js":"PT5w","../Layer.js":"fpOz","./defaultmapshader.js":"6MfN","./defaultmapshader/Locations.js":"jKm2","../../transform.js":"P4eA","../../vec/mat4.js":"UkOi","../../webgl.js":"SCyv","../../webgl/Buffer.js":"zsRd","../../webgl/Context.js":"2nJO"}],"w+NT":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../../reproj/common.js"),e=h(require("../../LayerType.js")),r=h(require("../../ViewHint.js")),a=require("../../dom.js"),i=require("../../extent.js"),n=h(require("./Layer.js")),s=require("../../transform.js"),o=require("../../webgl.js"),u=require("../../webgl/Context.js");function h(t){return t&&t.__esModule?t:{default:t}}var l=function(e){function n(t,r){e.call(this,t,r),this.image_=null,this.hitCanvasContext_=null,this.hitTransformationMatrix_=null}return e&&(n.__proto__=e),n.prototype=Object.create(e&&e.prototype),n.prototype.constructor=n,n.prototype.createTexture_=function(t){var e=t.getImage(),r=this.mapRenderer.getGL();return(0,u.createTexture)(r,e,o.CLAMP_TO_EDGE,o.CLAMP_TO_EDGE)},n.prototype.prepareFrame=function(e,a,n){var o=this.mapRenderer.getGL(),u=e.pixelRatio,h=e.viewState,l=h.center,c=h.resolution,p=h.rotation,g=this.image_,x=this.texture,_=this.getLayer().getSource(),f=e.viewHints,m=e.extent;if(void 0!==a.extent&&(m=(0,i.getIntersection)(m,a.extent)),!f[r.default.ANIMATING]&&!f[r.default.INTERACTING]&&!(0,i.isEmpty)(m)){var v=h.projection;if(!t.ENABLE_RASTER_REPROJECTION){var d=_.getProjection();d&&(v=d)}var C=_.getImage(m,c,u,v);if(C)if(this.loadImage(C)&&(g=C,x=this.createTexture_(C),this.texture)){var y=function(t,e){t.isContextLost()||t.deleteTexture(e)}.bind(null,o,this.texture);e.postRenderFunctions.push(y)}}if(g){var T=this.mapRenderer.getContext().getCanvas();this.updateProjectionMatrix_(T.width,T.height,u,l,c,p,g.getExtent()),this.hitTransformationMatrix_=null;var j=this.texCoordMatrix;(0,s.reset)(j),(0,s.scale)(j,1,-1),(0,s.translate)(j,0,-1),this.image_=g,this.texture=x}return!!g},n.prototype.updateProjectionMatrix_=function(t,e,r,a,i,n,o){var u=t*i,h=e*i,l=this.projectionMatrix;(0,s.reset)(l),(0,s.scale)(l,2*r/u,2*r/h),(0,s.rotate)(l,-n),(0,s.translate)(l,o[0]-a[0],o[1]-a[1]),(0,s.scale)(l,(o[2]-o[0])/2,(o[3]-o[1])/2),(0,s.translate)(l,1,1)},n.prototype.forEachLayerAtPixel=function(t,e,r,i){if(this.image_&&this.image_.getImage()){var n=[this.image_.getImage().width,this.image_.getImage().height];this.hitTransformationMatrix_||(this.hitTransformationMatrix_=this.getHitTransformationMatrix_(e.size,n));var o=(0,s.apply)(this.hitTransformationMatrix_,t.slice());if(!(o[0]<0||o[0]>n[0]||o[1]<0||o[1]>n[1])){this.hitCanvasContext_||(this.hitCanvasContext_=(0,a.createCanvasContext2D)(1,1)),this.hitCanvasContext_.clearRect(0,0,1,1),this.hitCanvasContext_.drawImage(this.image_.getImage(),o[0],o[1],1,1,0,0,1,1);var u=this.hitCanvasContext_.getImageData(0,0,1,1).data;return u[3]>0?r.call(i,this.getLayer(),u):void 0}}},n.prototype.getHitTransformationMatrix_=function(t,e){var r=(0,s.create)();(0,s.translate)(r,-1,-1),(0,s.scale)(r,2/t[0],2/t[1]),(0,s.translate)(r,0,t[1]),(0,s.scale)(r,1,-1);var a=(0,s.invert)(this.projectionMatrix.slice()),i=(0,s.create)();return(0,s.translate)(i,0,e[1]),(0,s.scale)(i,1,-1),(0,s.scale)(i,e[0]/2,e[1]/2),(0,s.translate)(i,1,1),(0,s.multiply)(i,a),(0,s.multiply)(i,r),i},n}(n.default);l.handles=function(t){return t.getType()===e.default.IMAGE},l.create=function(t,e){return new l(t,e)};var c=l;exports.default=c;
},{"../../reproj/common.js":"7f+F","../../LayerType.js":"8+bQ","../../ViewHint.js":"cuLW","../../dom.js":"Xno5","../../extent.js":"QDir","./Layer.js":"7nUx","../../transform.js":"P4eA","../../webgl.js":"SCyv","../../webgl/Context.js":"2nJO"}],"VyQL":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("../../array.js"),t=require("../../css.js"),r=require("../../dom.js"),i=require("../../events.js"),a=require("../../layer/Layer.js"),s=f(require("../../render/Event.js")),n=f(require("../../render/EventType.js")),o=f(require("../../render/webgl/Immediate.js")),u=T(require("../Map.js")),h=f(require("../../source/State.js")),l=f(require("../../structs/LRUCache.js")),c=f(require("../../structs/PriorityQueue.js")),_=require("../../webgl.js"),d=f(require("../../webgl/Context.js")),p=f(require("../../webgl/ContextEventType.js"));function T(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};i.get||i.set?Object.defineProperty(t,r,i):t[r]=e[r]}return t.default=e,t}function f(e){return e&&e.__esModule?e:{default:e}}var x=1024,E=function(T){function f(e){T.call(this,e);var a=e.getViewport();this.canvas_=document.createElement("canvas"),this.canvas_.style.width="100%",this.canvas_.style.height="100%",this.canvas_.style.display="block",this.canvas_.className=t.CLASS_UNSELECTABLE,a.insertBefore(this.canvas_,a.childNodes[0]||null),this.clipTileCanvasWidth_=0,this.clipTileCanvasHeight_=0,this.clipTileContext_=(0,r.createCanvasContext2D)(),this.renderedVisible_=!0,this.gl_=(0,_.getContext)(this.canvas_,{antialias:!0,depth:!0,failIfMajorPerformanceCaveat:!0,preserveDrawingBuffer:!1,stencil:!0}),this.context_=new d.default(this.canvas_,this.gl_),(0,i.listen)(this.canvas_,p.default.LOST,this.handleWebGLContextLost,this),(0,i.listen)(this.canvas_,p.default.RESTORED,this.handleWebGLContextRestored,this),this.textureCache_=new l.default,this.focus_=null,this.tileTextureQueue_=new c.default(function(e){var t=e[1],r=e[2],i=t[0]-this.focus_[0],a=t[1]-this.focus_[1];return 65536*Math.log(r)+Math.sqrt(i*i+a*a)/r}.bind(this),function(e){return e[0].getKey()}),this.loadNextTileTexture_=function(e,t){if(!this.tileTextureQueue_.isEmpty()){this.tileTextureQueue_.reprioritize();var r=this.tileTextureQueue_.dequeue(),i=r[0],a=r[3],s=r[4];this.bindTileTexture(i,a,s,_.LINEAR,_.LINEAR)}return!1}.bind(this),this.textureCacheFrameMarkerCount_=0,this.initializeGL_()}return T&&(f.__proto__=T),f.prototype=Object.create(T&&T.prototype),f.prototype.constructor=f,f.prototype.bindTileTexture=function(e,t,r,i,a){var s=this.getGL(),n=e.getKey();if(this.textureCache_.containsKey(n)){var o=this.textureCache_.get(n);s.bindTexture(_.TEXTURE_2D,o.texture),o.magFilter!=i&&(s.texParameteri(_.TEXTURE_2D,_.TEXTURE_MAG_FILTER,i),o.magFilter=i),o.minFilter!=a&&(s.texParameteri(_.TEXTURE_2D,_.TEXTURE_MIN_FILTER,a),o.minFilter=a)}else{var u=s.createTexture(),h=e;if(s.bindTexture(_.TEXTURE_2D,u),r>0){var l=this.clipTileContext_.canvas,c=this.clipTileContext_;this.clipTileCanvasWidth_!==t[0]||this.clipTileCanvasHeight_!==t[1]?(l.width=t[0],l.height=t[1],this.clipTileCanvasWidth_=t[0],this.clipTileCanvasHeight_=t[1]):c.clearRect(0,0,t[0],t[1]),c.drawImage(h.getImage(),r,r,t[0],t[1],0,0,t[0],t[1]),s.texImage2D(_.TEXTURE_2D,0,_.RGBA,_.RGBA,_.UNSIGNED_BYTE,l)}else s.texImage2D(_.TEXTURE_2D,0,_.RGBA,_.RGBA,_.UNSIGNED_BYTE,h.getImage());s.texParameteri(_.TEXTURE_2D,_.TEXTURE_MAG_FILTER,i),s.texParameteri(_.TEXTURE_2D,_.TEXTURE_MIN_FILTER,a),s.texParameteri(_.TEXTURE_2D,_.TEXTURE_WRAP_S,_.CLAMP_TO_EDGE),s.texParameteri(_.TEXTURE_2D,_.TEXTURE_WRAP_T,_.CLAMP_TO_EDGE),this.textureCache_.set(n,{texture:u,magFilter:i,minFilter:a})}},f.prototype.dispatchRenderEvent=function(e,t){var r=this.getMap();if(r.hasListener(e)){var i=this.context_,a=t.extent,n=t.size,u=t.viewState,h=t.pixelRatio,l=u.resolution,c=u.center,_=u.rotation,d=new o.default(i,c,l,_,n,a,h),p=new s.default(e,d,t,null,i);r.dispatchEvent(p)}},f.prototype.disposeInternal=function(){var e=this.getGL();e.isContextLost()||this.textureCache_.forEach(function(t){t&&e.deleteTexture(t.texture)}),this.context_.dispose(),T.prototype.disposeInternal.call(this)},f.prototype.expireCache_=function(e,t){for(var r,i=this.getGL();this.textureCache_.getCount()-this.textureCacheFrameMarkerCount_>x;){if(r=this.textureCache_.peekLast())i.deleteTexture(r.texture);else{if(+this.textureCache_.peekLastKey()==t.index)break;--this.textureCacheFrameMarkerCount_}this.textureCache_.pop()}},f.prototype.getContext=function(){return this.context_},f.prototype.getGL=function(){return this.gl_},f.prototype.getTileTextureQueue=function(){return this.tileTextureQueue_},f.prototype.handleWebGLContextLost=function(e){e.preventDefault(),this.textureCache_.clear(),this.textureCacheFrameMarkerCount_=0;var t=this.getLayerRenderers();for(var r in t){t[r].handleWebGLContextLost()}},f.prototype.handleWebGLContextRestored=function(){this.initializeGL_(),this.getMap().render()},f.prototype.initializeGL_=function(){var e=this.gl_;e.activeTexture(_.TEXTURE0),e.blendFuncSeparate(_.SRC_ALPHA,_.ONE_MINUS_SRC_ALPHA,_.ONE,_.ONE_MINUS_SRC_ALPHA),e.disable(_.CULL_FACE),e.disable(_.DEPTH_TEST),e.disable(_.SCISSOR_TEST),e.disable(_.STENCIL_TEST)},f.prototype.isTileTextureLoaded=function(e){return this.textureCache_.containsKey(e.getKey())},f.prototype.renderFrame=function(t){var r=this.getContext(),i=this.getGL();if(i.isContextLost())return!1;if(!t)return this.renderedVisible_&&(this.canvas_.style.display="none",this.renderedVisible_=!1),!1;this.focus_=t.focus,this.textureCache_.set((-t.index).toString(),null),++this.textureCacheFrameMarkerCount_,this.dispatchRenderEvent(n.default.PRECOMPOSE,t);var s=[],o=t.layerStatesArray;(0,e.stableSort)(o,u.sortByZIndex);var l,c,d=t.viewState.resolution;for(l=0,c=o.length;l<c;++l){var p=o[l];if((0,a.visibleAtResolution)(p,d)&&p.sourceState==h.default.READY)this.getLayerRenderer(p.layer).prepareFrame(t,p,r)&&s.push(p)}var T=t.size[0]*t.pixelRatio,f=t.size[1]*t.pixelRatio;for(this.canvas_.width==T&&this.canvas_.height==f||(this.canvas_.width=T,this.canvas_.height=f),i.bindFramebuffer(_.FRAMEBUFFER,null),i.clearColor(0,0,0,0),i.clear(_.COLOR_BUFFER_BIT),i.enable(_.BLEND),i.viewport(0,0,this.canvas_.width,this.canvas_.height),l=0,c=s.length;l<c;++l){var E=s[l];this.getLayerRenderer(E.layer).composeFrame(t,E,r)}this.renderedVisible_||(this.canvas_.style.display="",this.renderedVisible_=!0),this.calculateMatrices2D(t),this.textureCache_.getCount()-this.textureCacheFrameMarkerCount_>x&&t.postRenderFunctions.push(this.expireCache_.bind(this)),this.tileTextureQueue_.isEmpty()||(t.postRenderFunctions.push(this.loadNextTileTexture_),t.animate=!0),this.dispatchRenderEvent(n.default.POSTCOMPOSE,t),this.scheduleRemoveUnusedLayerRenderers(t),this.scheduleExpireIconCache(t)},f.prototype.forEachFeatureAtCoordinate=function(e,t,r,i,s,n,o){var u;if(this.getGL().isContextLost())return!1;var h,l=t.viewState,c=t.layerStatesArray;for(h=c.length-1;h>=0;--h){var _=c[h],d=_.layer;if((0,a.visibleAtResolution)(_,l.resolution)&&n.call(o,d))if(u=this.getLayerRenderer(d).forEachFeatureAtCoordinate(e,t,r,i))return u}},f.prototype.hasFeatureAtCoordinate=function(e,t,r,i,s){var n=!1;if(this.getGL().isContextLost())return!1;var o,u=t.viewState,h=t.layerStatesArray;for(o=h.length-1;o>=0;--o){var l=h[o],c=l.layer;if((0,a.visibleAtResolution)(l,u.resolution)&&i.call(s,c))if(n=this.getLayerRenderer(c).hasFeatureAtCoordinate(e,t))return!0}return n},f.prototype.forEachLayerAtPixel=function(e,t,r,i,s,n,o){if(this.getGL().isContextLost())return!1;var u,h,l=t.viewState,c=t.layerStatesArray;for(h=c.length-1;h>=0;--h){var _=c[h],d=_.layer;if((0,a.visibleAtResolution)(_,l.resolution)&&n.call(s,d))if(u=this.getLayerRenderer(d).forEachLayerAtPixel(e,t,i,s))return u}},f}(u.default),v=E;exports.default=v;
},{"../../array.js":"luEr","../../css.js":"HgMV","../../dom.js":"Xno5","../../events.js":"55Uq","../../layer/Layer.js":"GCgv","../../render/Event.js":"E+B6","../../render/EventType.js":"z39m","../../render/webgl/Immediate.js":"PT5w","../Map.js":"8oIh","../../source/State.js":"iC8j","../../structs/LRUCache.js":"oMDz","../../structs/PriorityQueue.js":"RQLY","../../webgl.js":"SCyv","../../webgl/Context.js":"2nJO","../../webgl/ContextEventType.js":"HqWy"}],"5dp/":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("./common.js"),e=require("../asserts.js"),i=h(require("../TileRange.js")),o=require("../array.js"),r=require("../extent.js"),n=require("../math.js"),s=require("../size.js"),l=require("../tilecoord.js");function h(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var o=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,i):{};o.get||o.set?Object.defineProperty(e,i,o):e[i]=t[i]}return e.default=t,e}var a=[0,0,0],u=function(n){var s;if(this.minZoom=void 0!==n.minZoom?n.minZoom:0,this.resolutions_=n.resolutions,(0,e.assert)((0,o.isSorted)(this.resolutions_,function(t,e){return e-t},!0),17),!n.origins)for(var l=0,h=this.resolutions_.length-1;l<h;++l)if(s){if(this.resolutions_[l]/this.resolutions_[l+1]!==s){s=void 0;break}}else s=this.resolutions_[l]/this.resolutions_[l+1];this.zoomFactor_=s,this.maxZoom=this.resolutions_.length-1,this.origin_=void 0!==n.origin?n.origin:null,this.origins_=null,void 0!==n.origins&&(this.origins_=n.origins,(0,e.assert)(this.origins_.length==this.resolutions_.length,20));var a=n.extent;void 0===a||this.origin_||this.origins_||(this.origin_=(0,r.getTopLeft)(a)),(0,e.assert)(!this.origin_&&this.origins_||this.origin_&&!this.origins_,18),this.tileSizes_=null,void 0!==n.tileSizes&&(this.tileSizes_=n.tileSizes,(0,e.assert)(this.tileSizes_.length==this.resolutions_.length,19)),this.tileSize_=void 0!==n.tileSize?n.tileSize:this.tileSizes_?null:t.DEFAULT_TILE_SIZE,(0,e.assert)(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,22),this.extent_=void 0!==a?a:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],void 0!==n.sizes?this.fullTileRanges_=n.sizes.map(function(t,e){return new i.default(Math.min(0,t[0]),Math.max(t[0]-1,-1),Math.min(0,t[1]),Math.max(t[1]-1,-1))},this):a&&this.calculateTileRanges_(a)};u.prototype.forEachTileCoord=function(t,e,i){for(var o=this.getTileRangeForExtentAndZ(t,e),r=o.minX,n=o.maxX;r<=n;++r)for(var s=o.minY,l=o.maxY;s<=l;++s)i([e,r,s])},u.prototype.forEachTileCoordParentTileRange=function(t,e,o,r,n){var s,l,h,a=null,u=t[0]-1;for(2===this.zoomFactor_?(l=t[1],h=t[2]):a=this.getTileCoordExtent(t,n);u>=this.minZoom;){if(2===this.zoomFactor_?(l=Math.floor(l/2),h=Math.floor(h/2),s=(0,i.createOrUpdate)(l,l,h,h,r)):s=this.getTileRangeForExtentAndZ(a,u,r),e.call(o,u,s))return!0;--u}return!1},u.prototype.getExtent=function(){return this.extent_},u.prototype.getMaxZoom=function(){return this.maxZoom},u.prototype.getMinZoom=function(){return this.minZoom},u.prototype.getOrigin=function(t){return this.origin_?this.origin_:this.origins_[t]},u.prototype.getResolution=function(t){return this.resolutions_[t]},u.prototype.getResolutions=function(){return this.resolutions_},u.prototype.getTileCoordChildTileRange=function(t,e,o){if(t[0]<this.maxZoom){if(2===this.zoomFactor_){var r=2*t[1],n=2*t[2];return(0,i.createOrUpdate)(r,r+1,n,n+1,e)}var s=this.getTileCoordExtent(t,o);return this.getTileRangeForExtentAndZ(s,t[0]+1,e)}return null},u.prototype.getTileRangeExtent=function(t,e,i){var o=this.getOrigin(t),n=this.getResolution(t),l=(0,s.toSize)(this.getTileSize(t),this.tmpSize_),h=o[0]+e.minX*l[0]*n,a=o[0]+(e.maxX+1)*l[0]*n,u=o[1]+e.minY*l[1]*n,g=o[1]+(e.maxY+1)*l[1]*n;return(0,r.createOrUpdate)(h,u,a,g,i)},u.prototype.getTileRangeForExtentAndZ=function(t,e,o){var r=a;this.getTileCoordForXYAndZ_(t[0],t[1],e,!1,r);var n=r[1],s=r[2];return this.getTileCoordForXYAndZ_(t[2],t[3],e,!0,r),(0,i.createOrUpdate)(n,r[1],s,r[2],o)},u.prototype.getTileCoordCenter=function(t){var e=this.getOrigin(t[0]),i=this.getResolution(t[0]),o=(0,s.toSize)(this.getTileSize(t[0]),this.tmpSize_);return[e[0]+(t[1]+.5)*o[0]*i,e[1]+(t[2]+.5)*o[1]*i]},u.prototype.getTileCoordExtent=function(t,e){var i=this.getOrigin(t[0]),o=this.getResolution(t[0]),n=(0,s.toSize)(this.getTileSize(t[0]),this.tmpSize_),l=i[0]+t[1]*n[0]*o,h=i[1]+t[2]*n[1]*o,a=l+n[0]*o,u=h+n[1]*o;return(0,r.createOrUpdate)(l,h,a,u,e)},u.prototype.getTileCoordForCoordAndResolution=function(t,e,i){return this.getTileCoordForXYAndResolution_(t[0],t[1],e,!1,i)},u.prototype.getTileCoordForXYAndResolution_=function(t,e,i,o,r){var n=this.getZForResolution(i),h=i/this.getResolution(n),a=this.getOrigin(n),u=(0,s.toSize)(this.getTileSize(n),this.tmpSize_),g=o?.5:0,p=o?0:.5,_=Math.floor((t-a[0])/i+g),f=Math.floor((e-a[1])/i+p),c=h*_/u[0],d=h*f/u[1];return o?(c=Math.ceil(c)-1,d=Math.ceil(d)-1):(c=Math.floor(c),d=Math.floor(d)),(0,l.createOrUpdate)(n,c,d,r)},u.prototype.getTileCoordForXYAndZ_=function(t,e,i,o,r){var n=this.getOrigin(i),h=this.getResolution(i),a=(0,s.toSize)(this.getTileSize(i),this.tmpSize_),u=o?.5:0,g=o?0:.5,p=Math.floor((t-n[0])/h+u),_=Math.floor((e-n[1])/h+g),f=p/a[0],c=_/a[1];return o?(f=Math.ceil(f)-1,c=Math.ceil(c)-1):(f=Math.floor(f),c=Math.floor(c)),(0,l.createOrUpdate)(i,f,c,r)},u.prototype.getTileCoordForCoordAndZ=function(t,e,i){return this.getTileCoordForXYAndZ_(t[0],t[1],e,!1,i)},u.prototype.getTileCoordResolution=function(t){return this.resolutions_[t[0]]},u.prototype.getTileSize=function(t){return this.tileSize_?this.tileSize_:this.tileSizes_[t]},u.prototype.getFullTileRange=function(t){return this.fullTileRanges_?this.fullTileRanges_[t]:null},u.prototype.getZForResolution=function(t,e){var i=(0,o.linearFindNearest)(this.resolutions_,t,e||0);return(0,n.clamp)(i,this.minZoom,this.maxZoom)},u.prototype.calculateTileRanges_=function(t){for(var e=this.resolutions_.length,i=new Array(e),o=this.minZoom;o<e;++o)i[o]=this.getTileRangeForExtentAndZ(t,o);this.fullTileRanges_=i};var g=u;exports.default=g;
},{"./common.js":"mOEX","../asserts.js":"fLG6","../TileRange.js":"346s","../array.js":"luEr","../extent.js":"QDir","../math.js":"B96G","../size.js":"TAHd","../tilecoord.js":"2faT"}],"ExRx":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getForProjection=s,exports.wrapX=d,exports.createForExtent=l,exports.createXYZ=c,exports.createForProjection=x,exports.extentFromProjection=g;var e=require("./tilegrid/common.js"),t=require("./size.js"),r=require("./extent.js"),i=a(require("./extent/Corner.js")),o=require("./proj.js"),n=a(require("./proj/Units.js")),u=a(require("./tilegrid/TileGrid.js"));function a(e){return e&&e.__esModule?e:{default:e}}function s(e){var t=e.getDefaultTileGrid();return t||(t=x(e),e.setDefaultTileGrid(t)),t}function d(e,t,i){var o=t[0],n=e.getTileCoordCenter(t),u=g(i);if((0,r.containsCoordinate)(u,n))return t;var a=(0,r.getWidth)(u),s=Math.ceil((u[0]-n[0])/a);return n[0]+=a*s,e.getTileCoordForCoordAndZ(n,o)}function l(e,t,o,n){var a=void 0!==n?n:i.default.TOP_LEFT,s=f(e,t,o);return new u.default({extent:e,origin:(0,r.getCorner)(e,a),resolutions:s,tileSize:o})}function c(e){var t=e||{},r=t.extent||(0,o.get)("EPSG:3857").getExtent(),i={extent:r,minZoom:t.minZoom,tileSize:t.tileSize,resolutions:f(r,t.maxZoom,t.tileSize)};return new u.default(i)}function f(i,o,n){for(var u=void 0!==o?o:e.DEFAULT_MAX_ZOOM,a=(0,r.getHeight)(i),s=(0,r.getWidth)(i),d=(0,t.toSize)(void 0!==n?n:e.DEFAULT_TILE_SIZE),l=Math.max(s/d[0],a/d[1]),c=u+1,f=new Array(c),x=0;x<c;++x)f[x]=l/Math.pow(2,x);return f}function x(e,t,r,i){return l(g(e),t,r,i)}function g(e){var t=(e=(0,o.get)(e)).getExtent();if(!t){var i=180*o.METERS_PER_UNIT[n.default.DEGREES]/e.getMetersPerUnit();t=(0,r.createOrUpdate)(-i,-i,i,i)}return t}
},{"./tilegrid/common.js":"mOEX","./size.js":"TAHd","./extent.js":"QDir","./extent/Corner.js":"urGY","./proj.js":"Diht","./proj/Units.js":"yZx6","./tilegrid/TileGrid.js":"5dp/"}],"JECm":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.TileSourceEvent=void 0;var t=require("../util.js"),e=a(require("../TileCache.js")),i=a(require("../TileState.js")),r=a(require("../events/Event.js")),o=require("../proj.js"),n=require("../size.js"),u=a(require("./Source.js")),l=require("../tilecoord.js"),s=require("../tilegrid.js");function a(t){return t&&t.__esModule?t:{default:t}}var p=function(r){function u(t){r.call(this,{attributions:t.attributions,attributionsCollapsible:t.attributionsCollapsible,projection:t.projection,state:t.state,wrapX:t.wrapX}),this.opaque_=void 0!==t.opaque&&t.opaque,this.tilePixelRatio_=void 0!==t.tilePixelRatio?t.tilePixelRatio:1,this.tileGrid=void 0!==t.tileGrid?t.tileGrid:null,this.tileCache=new e.default(t.cacheSize),this.tmpSize=[0,0],this.key_=t.key||"",this.tileOptions={transition:t.transition}}return r&&(u.__proto__=r),u.prototype=Object.create(r&&r.prototype),u.prototype.constructor=u,u.prototype.canExpireCache=function(){return this.tileCache.canExpireCache()},u.prototype.expireCache=function(t,e){var i=this.getTileCacheForProjection(t);i&&i.expireCache(e)},u.prototype.forEachLoadedTile=function(t,e,r,o){var n=this.getTileCacheForProjection(t);if(!n)return!1;for(var u,s,a,p=!0,c=r.minX;c<=r.maxX;++c)for(var h=r.minY;h<=r.maxY;++h)s=(0,l.getKeyZXY)(e,c,h),a=!1,n.containsKey(s)&&(a=(u=n.get(s)).getState()===i.default.LOADED)&&(a=!1!==o(u)),a||(p=!1);return p},u.prototype.getGutterForProjection=function(t){return 0},u.prototype.getKey=function(){return this.key_},u.prototype.setKey=function(t){this.key_!==t&&(this.key_=t,this.changed())},u.prototype.getOpaque=function(t){return this.opaque_},u.prototype.getResolutions=function(){return this.tileGrid.getResolutions()},u.prototype.getTile=function(e,i,r,o,n){return(0,t.abstract)()},u.prototype.getTileGrid=function(){return this.tileGrid},u.prototype.getTileGridForProjection=function(t){return this.tileGrid?this.tileGrid:(0,s.getForProjection)(t)},u.prototype.getTileCacheForProjection=function(t){var e=this.getProjection();return e&&!(0,o.equivalent)(e,t)?null:this.tileCache},u.prototype.getTilePixelRatio=function(t){return this.tilePixelRatio_},u.prototype.getTilePixelSize=function(t,e,i){var r=this.getTileGridForProjection(i),o=this.getTilePixelRatio(e),u=(0,n.toSize)(r.getTileSize(t),this.tmpSize);return 1==o?u:(0,n.scale)(u,o,this.tmpSize)},u.prototype.getTileCoordForTileUrlFunction=function(t,e){var i=void 0!==e?e:this.getProjection(),r=this.getTileGridForProjection(i);return this.getWrapX()&&i.isGlobal()&&(t=(0,s.wrapX)(r,t,i)),(0,l.withinExtentAndZ)(t,r)?t:null},u.prototype.refresh=function(){this.tileCache.clear(),this.changed()},u.prototype.useTile=function(t,e,i,r){},u}(u.default),c=function(t){function e(e,i){t.call(this,e),this.tile=i}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(r.default);exports.TileSourceEvent=c;var h=p;exports.default=h;
},{"../util.js":"KniQ","../TileCache.js":"YFDe","../TileState.js":"Xz9x","../events/Event.js":"fKNg","../proj.js":"Diht","../size.js":"TAHd","./Source.js":"H38a","../tilecoord.js":"2faT","../tilegrid.js":"ExRx"}],"POLO":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.vertex=exports.fragment=void 0;var e=require("../../webgl.js"),t=o(require("../../webgl/Fragment.js")),r=o(require("../../webgl/Vertex.js"));function o(e){return e&&e.__esModule?e:{default:e}}var n=new t.default(e.DEBUG?"precision mediump float;\nvarying vec2 v_texCoord;\n\n\nuniform sampler2D u_texture;\n\nvoid main(void) {\n  gl_FragColor = texture2D(u_texture, v_texCoord);\n}\n":"precision mediump float;varying vec2 a;uniform sampler2D e;void main(void){gl_FragColor=texture2D(e,a);}");exports.fragment=n;var i=new r.default(e.DEBUG?"varying vec2 v_texCoord;\n\n\nattribute vec2 a_position;\nattribute vec2 a_texCoord;\nuniform vec4 u_tileOffset;\n\nvoid main(void) {\n  gl_Position = vec4(a_position * u_tileOffset.xy + u_tileOffset.zw, 0., 1.);\n  v_texCoord = a_texCoord;\n}\n\n\n":"varying vec2 a;attribute vec2 b;attribute vec2 c;uniform vec4 d;void main(void){gl_Position=vec4(b*d.xy+d.zw,0.,1.);a=c;}");exports.vertex=i;
},{"../../webgl.js":"SCyv","../../webgl/Fragment.js":"SAYv","../../webgl/Vertex.js":"mo14"}],"t0kf":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../../../webgl.js"),e=function(e,o){this.u_tileOffset=e.getUniformLocation(o,t.DEBUG?"u_tileOffset":"d"),this.u_texture=e.getUniformLocation(o,t.DEBUG?"u_texture":"e"),this.a_position=e.getAttribLocation(o,t.DEBUG?"a_position":"b"),this.a_texCoord=e.getAttribLocation(o,t.DEBUG?"a_texCoord":"c")},o=e;exports.default=o;
},{"../../../webgl.js":"SCyv"}],"colh":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=T(require("../../LayerType.js")),t=T(require("../../ImageTile.js")),r=T(require("../../TileRange.js")),i=T(require("../../TileState.js")),o=T(require("../../source/Tile.js")),n=require("../../array.js"),a=require("../../extent.js"),s=require("../../math.js"),l=T(require("./Layer.js")),u=require("./tilelayershader.js"),d=T(require("./tilelayershader/Locations.js")),f=require("../../size.js"),h=require("../../transform.js"),c=require("../../webgl.js"),g=T(require("../../webgl/Buffer.js"));function T(e){return e&&e.__esModule?e:{default:e}}var _=function(e){function l(t,r){e.call(this,t,r),this.fragmentShader_=u.fragment,this.vertexShader_=u.vertex,this.locations_=null,this.renderArrayBuffer_=new g.default([0,0,0,1,1,0,1,1,0,1,0,0,1,1,1,0]),this.renderedTileRange_=null,this.renderedFramebufferExtent_=null,this.renderedRevision_=-1,this.tmpSize_=[0,0]}return e&&(l.__proto__=e),l.prototype=Object.create(e&&e.prototype),l.prototype.constructor=l,l.prototype.disposeInternal=function(){this.mapRenderer.getContext().deleteBuffer(this.renderArrayBuffer_),e.prototype.disposeInternal.call(this)},l.prototype.createLoadedTileFinder=function(e,t,r){var i=this.mapRenderer;return function(o,n){return e.forEachLoadedTile(t,o,n,function(e){var t=i.isTileTextureLoaded(e);return t&&(r[o]||(r[o]={}),r[o][e.tileCoord.toString()]=e),t})}},l.prototype.handleWebGLContextLost=function(){e.prototype.handleWebGLContextLost.call(this),this.locations_=null},l.prototype.prepareFrame=function(e,l,u){var g=this.mapRenderer,T=u.getGL(),_=e.viewState,p=_.projection,m=this.getLayer(),x=m.getSource();if(!(x instanceof o.default))return!0;var R,v=x.getTileGridForProjection(p),y=v.getZForResolution(_.resolution),E=v.getResolution(y),b=x.getTilePixelSize(y,e.pixelRatio,p),L=b[0]/(0,f.toSize)(v.getTileSize(y),this.tmpSize_)[0],C=E/L,A=x.getTilePixelRatio(L)*x.getGutterForProjection(p),F=_.center,j=e.extent,S=v.getTileRangeForExtentAndZ(j,y);if(this.renderedTileRange_&&this.renderedTileRange_.equals(S)&&this.renderedRevision_==x.getRevision())R=this.renderedFramebufferExtent_;else{var P=S.getSize(),q=Math.max(P[0]*b[0],P[1]*b[1]),O=(0,s.roundUpToPowerOfTwo)(q),w=C*O,B=v.getOrigin(y),z=B[0]+S.minX*b[0]*C,I=B[1]+S.minY*b[1]*C;R=[z,I,z+w,I+w],this.bindFramebuffer(e,O),T.viewport(0,0,O,O),T.clearColor(0,0,0,0),T.clear(c.COLOR_BUFFER_BIT),T.disable(c.BLEND);var D=u.getProgram(this.fragmentShader_,this.vertexShader_);u.useProgram(D),this.locations_||(this.locations_=new d.default(T,D)),u.bindBuffer(c.ARRAY_BUFFER,this.renderArrayBuffer_),T.enableVertexAttribArray(this.locations_.a_position),T.vertexAttribPointer(this.locations_.a_position,2,c.FLOAT,!1,16,0),T.enableVertexAttribArray(this.locations_.a_texCoord),T.vertexAttribPointer(this.locations_.a_texCoord,2,c.FLOAT,!1,16,8),T.uniform1i(this.locations_.u_texture,0);var M={};M[y]={};var G,U,N,Y,X,K,Q=this.createLoadedTileFinder(x,p,M),V=m.getUseInterimTilesOnError(),W=!0,Z=(0,a.createEmpty)(),k=new r.default(0,0,0,0);for(Y=S.minX;Y<=S.maxX;++Y)for(X=S.minY;X<=S.maxY;++X)if(U=x.getTile(y,Y,X,L,p),void 0===l.extent||(K=v.getTileCoordExtent(U.tileCoord,Z),(0,a.intersects)(K,l.extent))){if((N=U.getState())==i.default.LOADED||N==i.default.EMPTY||N==i.default.ERROR&&!V||(U=U.getInterimTile()),(N=U.getState())==i.default.LOADED){if(g.isTileTextureLoaded(U)){M[y][U.tileCoord.toString()]=U;continue}}else if(N==i.default.EMPTY||N==i.default.ERROR&&!V)continue;W=!1,v.forEachTileCoordParentTileRange(U.tileCoord,Q,null,k,Z)||(G=v.getTileCoordChildTileRange(U.tileCoord,k,Z))&&Q(y+1,G)}var H=Object.keys(M).map(Number);H.sort(n.numberSafeCompareFunction);for(var J=new Float32Array(4),$=0,ee=H.length;$<ee;++$){var te=M[H[$]];for(var re in te)(U=te[re])instanceof t.default&&(K=v.getTileCoordExtent(U.tileCoord,Z),J[0]=2*(K[2]-K[0])/w,J[1]=2*(K[3]-K[1])/w,J[2]=2*(K[0]-R[0])/w-1,J[3]=2*(K[1]-R[1])/w-1,T.uniform4fv(this.locations_.u_tileOffset,J),g.bindTileTexture(U,b,A*L,c.LINEAR,c.LINEAR),T.drawArrays(c.TRIANGLE_STRIP,0,4))}W?(this.renderedTileRange_=S,this.renderedFramebufferExtent_=R,this.renderedRevision_=x.getRevision()):(this.renderedTileRange_=null,this.renderedFramebufferExtent_=null,this.renderedRevision_=-1,e.animate=!0)}this.updateUsedTiles(e.usedTiles,x,y,S);var ie=g.getTileTextureQueue();this.manageTilePyramid(e,x,v,L,p,j,y,m.getPreload(),function(e){e.getState()!=i.default.LOADED||g.isTileTextureLoaded(e)||ie.isKeyQueued(e.getKey())||ie.enqueue([e,v.getTileCoordCenter(e.tileCoord),v.getResolution(e.tileCoord[0]),b,A*L])},this),this.scheduleExpireCache(e,x);var oe=this.texCoordMatrix;return(0,h.reset)(oe),(0,h.translate)(oe,(Math.round(F[0]/E)*E-R[0])/(R[2]-R[0]),(Math.round(F[1]/E)*E-R[1])/(R[3]-R[1])),0!==_.rotation&&(0,h.rotate)(oe,_.rotation),(0,h.scale)(oe,e.size[0]*_.resolution/(R[2]-R[0]),e.size[1]*_.resolution/(R[3]-R[1])),(0,h.translate)(oe,-.5,-.5),!0},l.prototype.forEachLayerAtPixel=function(e,t,r,i){if(this.framebuffer){var o=[e[0]/t.size[0],(t.size[1]-e[1])/t.size[1]],n=(0,h.apply)(this.texCoordMatrix,o.slice()),a=[n[0]*this.framebufferDimension,n[1]*this.framebufferDimension],s=this.mapRenderer.getContext().getGL();s.bindFramebuffer(s.FRAMEBUFFER,this.framebuffer);var l=new Uint8Array(4);return s.readPixels(a[0],a[1],1,1,s.RGBA,s.UNSIGNED_BYTE,l),l[3]>0?r.call(i,this.getLayer(),l):void 0}},l}(l.default);_.handles=function(t){return t.getType()===e.default.TILE},_.create=function(e,t){return new _(e,t)};var p=_;exports.default=p;
},{"../../LayerType.js":"8+bQ","../../ImageTile.js":"T/Os","../../TileRange.js":"346s","../../TileState.js":"Xz9x","../../source/Tile.js":"JECm","../../array.js":"luEr","../../extent.js":"QDir","../../math.js":"B96G","./Layer.js":"7nUx","./tilelayershader.js":"POLO","./tilelayershader/Locations.js":"t0kf","../../size.js":"TAHd","../../transform.js":"P4eA","../../webgl.js":"SCyv","../../webgl/Buffer.js":"zsRd"}],"u0w/":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("../../util.js"),t=u(require("../../LayerType.js")),r=u(require("../../ViewHint.js")),i=require("../../extent.js"),n=u(require("../../render/webgl/ReplayGroup.js")),a=require("../vector.js"),o=u(require("./Layer.js")),s=require("../../transform.js");function u(e){return e&&e.__esModule?e:{default:e}}var d=function(t){function o(e,r){t.call(this,e,r),this.dirty_=!1,this.renderedRevision_=-1,this.renderedResolution_=NaN,this.renderedExtent_=(0,i.createEmpty)(),this.renderedRenderOrder_=null,this.replayGroup_=null,this.layerState_=null}return t&&(o.__proto__=t),o.prototype=Object.create(t&&t.prototype),o.prototype.constructor=o,o.prototype.composeFrame=function(e,t,r){this.layerState_=t;var i=e.viewState,n=this.replayGroup_,a=e.size,o=e.pixelRatio,s=this.mapRenderer.getGL();n&&!n.isEmpty()&&(s.enable(s.SCISSOR_TEST),s.scissor(0,0,a[0]*o,a[1]*o),n.replay(r,i.center,i.resolution,i.rotation,a,o,t.opacity,t.managed?e.skippedFeatureUids:{}),s.disable(s.SCISSOR_TEST))},o.prototype.disposeInternal=function(){var e=this.replayGroup_;if(e){var r=this.mapRenderer.getContext();e.getDeleteResourcesFunction(r)(),this.replayGroup_=null}t.prototype.disposeInternal.call(this)},o.prototype.forEachFeatureAtCoordinate=function(t,r,i,n,a){if(this.replayGroup_&&this.layerState_){var o=this.mapRenderer.getContext(),s=r.viewState,u=this.getLayer(),d=this.layerState_,l={};return this.replayGroup_.forEachFeatureAtCoordinate(t,o,s.center,s.resolution,s.rotation,r.size,r.pixelRatio,d.opacity,{},function(t){var r=(0,e.getUid)(t);if(!(r in l))return l[r]=!0,n.call(a,t,u)})}},o.prototype.hasFeatureAtCoordinate=function(e,t){if(this.replayGroup_&&this.layerState_){var r=this.mapRenderer.getContext(),i=t.viewState,n=this.layerState_;return this.replayGroup_.hasFeatureAtCoordinate(e,r,i.center,i.resolution,i.rotation,t.size,t.pixelRatio,n.opacity,t.skippedFeatureUids)}return!1},o.prototype.forEachLayerAtPixel=function(e,t,r,i){var n=(0,s.apply)(t.pixelToCoordinateTransform,e.slice());return this.hasFeatureAtCoordinate(n,t)?r.call(i,this.getLayer(),null):void 0},o.prototype.handleStyleImageChange_=function(e){this.renderIfReadyAndVisible()},o.prototype.prepareFrame=function(e,t,o){var s=this.getLayer(),u=s.getSource(),d=e.viewHints[r.default.ANIMATING],l=e.viewHints[r.default.INTERACTING],p=s.getUpdateWhileAnimating(),h=s.getUpdateWhileInteracting();if(!this.dirty_&&!p&&d||!h&&l)return!0;var y=e.extent,c=e.viewState,f=c.projection,_=c.resolution,v=e.pixelRatio,g=s.getRevision(),R=s.getRenderBuffer(),S=s.getRenderOrder();void 0===S&&(S=a.defaultOrder);var F=(0,i.buffer)(y,R*_);if(!this.dirty_&&this.renderedResolution_==_&&this.renderedRevision_==g&&this.renderedRenderOrder_==S&&(0,i.containsExtent)(this.renderedExtent_,F))return!0;this.replayGroup_&&e.postRenderFunctions.push(this.replayGroup_.getDeleteResourcesFunction(o)),this.dirty_=!1;var x=new n.default((0,a.getTolerance)(_,v),F,s.getRenderBuffer());u.loadFeatures(F,_,f);var E=function(e){var t,r=e.getStyleFunction()||s.getStyleFunction();if(r&&(t=r(e,_)),t){var i=this.renderFeature(e,_,v,t,x);this.dirty_=this.dirty_||i}}.bind(this);if(S){var m=[];u.forEachFeatureInExtent(F,function(e){m.push(e)}),m.sort(S),m.forEach(E.bind(this))}else u.forEachFeatureInExtent(F,E);return x.finish(o),this.renderedResolution_=_,this.renderedRevision_=g,this.renderedRenderOrder_=S,this.renderedExtent_=F,this.replayGroup_=x,!0},o.prototype.renderFeature=function(e,t,r,i,n){if(!i)return!1;var o=!1;if(Array.isArray(i))for(var s=i.length-1;s>=0;--s)o=(0,a.renderFeature)(n,e,i[s],(0,a.getSquaredTolerance)(t,r),this.handleStyleImageChange_,this)||o;else o=(0,a.renderFeature)(n,e,i,(0,a.getSquaredTolerance)(t,r),this.handleStyleImageChange_,this)||o;return o},o}(o.default);d.handles=function(e){return e.getType()===t.default.VECTOR},d.create=function(e,t){return new d(e,t)};var l=d;exports.default=l;
},{"../../util.js":"KniQ","../../LayerType.js":"8+bQ","../../ViewHint.js":"cuLW","../../extent.js":"QDir","../../render/webgl/ReplayGroup.js":"aOHC","../vector.js":"UCah","./Layer.js":"7nUx","../../transform.js":"P4eA"}],"4/P8":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=i(require("./PluggableMap.js")),r=require("./control.js"),t=require("./interaction.js"),o=require("./obj.js"),u=i(require("./renderer/webgl/ImageLayer.js")),n=i(require("./renderer/webgl/Map.js")),a=i(require("./renderer/webgl/TileLayer.js")),s=i(require("./renderer/webgl/VectorLayer.js"));function i(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function i(u){(u=(0,o.assign)({},u)).controls||(u.controls=(0,r.defaults)()),u.interactions||(u.interactions=(0,t.defaults)()),e.call(this,u)}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.createRenderer=function(){var e=new n.default(this);return e.registerLayerRenderers([u.default,a.default,s.default]),e},i}(e.default),d=l;exports.default=d;
},{"./PluggableMap.js":"kRwz","./control.js":"95uc","./interaction.js":"aMDX","./obj.js":"mH6q","./renderer/webgl/ImageLayer.js":"w+NT","./renderer/webgl/Map.js":"VyQL","./renderer/webgl/TileLayer.js":"colh","./renderer/webgl/VectorLayer.js":"u0w/"}],"DRei":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"AssertionError",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(exports,"Collection",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(exports,"Disposable",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(exports,"Feature",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(exports,"Geolocation",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(exports,"Graticule",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(exports,"Image",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(exports,"ImageBase",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(exports,"ImageCanvas",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(exports,"ImageTile",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(exports,"Kinetic",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(exports,"Map",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(exports,"MapBrowserEvent",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(exports,"MapBrowserEventHandler",{enumerable:!0,get:function(){return b.default}}),Object.defineProperty(exports,"MapBrowserPointerEvent",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(exports,"MapEvent",{enumerable:!0,get:function(){return j.default}}),Object.defineProperty(exports,"Object",{enumerable:!0,get:function(){return g.default}}),Object.defineProperty(exports,"Observable",{enumerable:!0,get:function(){return m.default}}),Object.defineProperty(exports,"Overlay",{enumerable:!0,get:function(){return O.default}}),Object.defineProperty(exports,"PluggableMap",{enumerable:!0,get:function(){return P.default}}),Object.defineProperty(exports,"Tile",{enumerable:!0,get:function(){return y.default}}),Object.defineProperty(exports,"TileCache",{enumerable:!0,get:function(){return x.default}}),Object.defineProperty(exports,"TileQueue",{enumerable:!0,get:function(){return q.default}}),Object.defineProperty(exports,"TileRange",{enumerable:!0,get:function(){return v.default}}),Object.defineProperty(exports,"VectorImageTile",{enumerable:!0,get:function(){return M.default}}),Object.defineProperty(exports,"VectorTile",{enumerable:!0,get:function(){return T.default}}),Object.defineProperty(exports,"View",{enumerable:!0,get:function(){return E.default}}),Object.defineProperty(exports,"WebGLMap",{enumerable:!0,get:function(){return I.default}}),Object.defineProperty(exports,"getUid",{enumerable:!0,get:function(){return w.getUid}}),Object.defineProperty(exports,"inherits",{enumerable:!0,get:function(){return w.inherits}}),Object.defineProperty(exports,"VERSION",{enumerable:!0,get:function(){return w.VERSION}});var e=B(require("./AssertionError.js")),r=B(require("./Collection.js")),t=B(require("./Disposable.js")),n=B(require("./Feature.js")),u=B(require("./Geolocation.js")),i=B(require("./Graticule.js")),o=B(require("./Image.js")),a=B(require("./ImageBase.js")),l=B(require("./ImageCanvas.js")),f=B(require("./ImageTile.js")),s=B(require("./Kinetic.js")),c=B(require("./Map.js")),p=B(require("./MapBrowserEvent.js")),b=B(require("./MapBrowserEventHandler.js")),d=B(require("./MapBrowserPointerEvent.js")),j=B(require("./MapEvent.js")),g=B(require("./Object.js")),m=B(require("./Observable.js")),O=B(require("./Overlay.js")),P=B(require("./PluggableMap.js")),y=B(require("./Tile.js")),x=B(require("./TileCache.js")),q=B(require("./TileQueue.js")),v=B(require("./TileRange.js")),M=B(require("./VectorImageTile.js")),T=B(require("./VectorTile.js")),E=B(require("./View.js")),I=B(require("./WebGLMap.js")),w=require("./util.js");function B(e){return e&&e.__esModule?e:{default:e}}
},{"./AssertionError.js":"ygGQ","./Collection.js":"FnDa","./Disposable.js":"DDda","./Feature.js":"mYW9","./Geolocation.js":"X4ix","./Graticule.js":"/QUi","./Image.js":"DHWK","./ImageBase.js":"Ojbp","./ImageCanvas.js":"K7j2","./ImageTile.js":"T/Os","./Kinetic.js":"77gA","./Map.js":"8kYy","./MapBrowserEvent.js":"HMLS","./MapBrowserEventHandler.js":"ohHk","./MapBrowserPointerEvent.js":"J1WQ","./MapEvent.js":"vFcA","./Object.js":"PhPh","./Observable.js":"8IdS","./Overlay.js":"/qWc","./PluggableMap.js":"kRwz","./Tile.js":"IWZI","./TileCache.js":"YFDe","./TileQueue.js":"0tHO","./TileRange.js":"346s","./VectorImageTile.js":"xDao","./VectorTile.js":"yj80","./View.js":"hNqE","./WebGLMap.js":"4/P8","./util.js":"KniQ"}],"0Kyl":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.transformWithOptions=a,exports.default=void 0;var t=require("../obj.js"),r=require("../util.js"),e=require("../proj.js"),o=function(){this.dataProjection=null,this.defaultFeatureProjection=null};o.prototype.getReadOptions=function(t,r){var e;return r&&(e={dataProjection:r.dataProjection?r.dataProjection:this.readProjection(t),featureProjection:r.featureProjection}),this.adaptOptions(e)},o.prototype.adaptOptions=function(r){return(0,t.assign)({dataProjection:this.dataProjection,featureProjection:this.defaultFeatureProjection},r)},o.prototype.getLastExtent=function(){return null},o.prototype.getType=function(){return(0,r.abstract)()},o.prototype.readFeature=function(t,e){return(0,r.abstract)()},o.prototype.readFeatures=function(t,e){return(0,r.abstract)()},o.prototype.readGeometry=function(t,e){return(0,r.abstract)()},o.prototype.readProjection=function(t){return(0,r.abstract)()},o.prototype.writeFeature=function(t,e){return(0,r.abstract)()},o.prototype.writeFeatures=function(t,e){return(0,r.abstract)()},o.prototype.writeGeometry=function(t,e){return(0,r.abstract)()};var n=o;function a(t,r,o){var n,a=o?(0,e.get)(o.featureProjection):null,i=o?(0,e.get)(o.dataProjection):null;if(n=a&&i&&!(0,e.equivalent)(a,i)?Array.isArray(t)?(0,e.transformExtent)(t,i,a):(r?t.clone():t).transform(r?a:i,r?i:a):t,r&&o&&void 0!==o.decimals&&!Array.isArray(n)){var u=Math.pow(10,o.decimals);n===t&&(n=t.clone()),n.applyTransform(function(t){for(var r=0,e=t.length;r<e;++r)t[r]=Math.round(t[r]*u)/u;return t})}return n}exports.default=n;
},{"../obj.js":"mH6q","../util.js":"KniQ","../proj.js":"Diht"}],"RA7M":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../util.js"),e=o(require("./Feature.js")),r=o(require("./FormatType.js"));function o(t){return t&&t.__esModule?t:{default:t}}var n=function(e){function o(){e.call(this)}return e&&(o.__proto__=e),o.prototype=Object.create(e&&e.prototype),o.prototype.constructor=o,o.prototype.getType=function(){return r.default.JSON},o.prototype.readFeature=function(t,e){return this.readFeatureFromObject(u(t),this.getReadOptions(t,e))},o.prototype.readFeatures=function(t,e){return this.readFeaturesFromObject(u(t),this.getReadOptions(t,e))},o.prototype.readFeatureFromObject=function(e,r){return(0,t.abstract)()},o.prototype.readFeaturesFromObject=function(e,r){return(0,t.abstract)()},o.prototype.readGeometry=function(t,e){return this.readGeometryFromObject(u(t),this.getReadOptions(t,e))},o.prototype.readGeometryFromObject=function(e,r){return(0,t.abstract)()},o.prototype.readProjection=function(t){return this.readProjectionFromObject(u(t))},o.prototype.readProjectionFromObject=function(e){return(0,t.abstract)()},o.prototype.writeFeature=function(t,e){return JSON.stringify(this.writeFeatureObject(t,e))},o.prototype.writeFeatureObject=function(e,r){return(0,t.abstract)()},o.prototype.writeFeatures=function(t,e){return JSON.stringify(this.writeFeaturesObject(t,e))},o.prototype.writeFeaturesObject=function(e,r){return(0,t.abstract)()},o.prototype.writeGeometry=function(t,e){return JSON.stringify(this.writeGeometryObject(t,e))},o.prototype.writeGeometryObject=function(e,r){return(0,t.abstract)()},o}(e.default);function u(t){if("string"==typeof t){var e=JSON.parse(t);return e||null}return null!==t?t:null}var i=n;exports.default=i;
},{"../util.js":"KniQ","./Feature.js":"0Kyl","./FormatType.js":"AbO3"}],"HvLT":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("../events.js"),t=n(require("../events/EventType.js")),r=require("../extent.js"),i=n(require("./Geometry.js")),o=n(require("./GeometryType.js")),s=require("../obj.js");function n(e){return e&&e.__esModule?e:{default:e}}var a=function(i){function n(e){i.call(this),this.geometries_=e||null,this.listenGeometriesChange_()}return i&&(n.__proto__=i),n.prototype=Object.create(i&&i.prototype),n.prototype.constructor=n,n.prototype.unlistenGeometriesChange_=function(){if(this.geometries_)for(var r=0,i=this.geometries_.length;r<i;++r)(0,e.unlisten)(this.geometries_[r],t.default.CHANGE,this.changed,this)},n.prototype.listenGeometriesChange_=function(){if(this.geometries_)for(var r=0,i=this.geometries_.length;r<i;++r)(0,e.listen)(this.geometries_[r],t.default.CHANGE,this.changed,this)},n.prototype.clone=function(){var e=new n(null);return e.setGeometries(this.geometries_),e},n.prototype.closestPointXY=function(e,t,i,o){if(o<(0,r.closestSquaredDistanceXY)(this.getExtent(),e,t))return o;for(var s=this.geometries_,n=0,a=s.length;n<a;++n)o=s[n].closestPointXY(e,t,i,o);return o},n.prototype.containsXY=function(e,t){for(var r=this.geometries_,i=0,o=r.length;i<o;++i)if(r[i].containsXY(e,t))return!0;return!1},n.prototype.computeExtent=function(e){(0,r.createOrUpdateEmpty)(e);for(var t=this.geometries_,i=0,o=t.length;i<o;++i)(0,r.extend)(e,t[i].getExtent());return e},n.prototype.getGeometries=function(){return h(this.geometries_)},n.prototype.getGeometriesArray=function(){return this.geometries_},n.prototype.getSimplifiedGeometry=function(e){if(this.simplifiedGeometryRevision!=this.getRevision()&&((0,s.clear)(this.simplifiedGeometryCache),this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),e<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&e<this.simplifiedGeometryMaxMinSquaredTolerance)return this;var t=e.toString();if(this.simplifiedGeometryCache.hasOwnProperty(t))return this.simplifiedGeometryCache[t];for(var r=[],i=this.geometries_,o=!1,a=0,h=i.length;a<h;++a){var p=i[a],u=p.getSimplifiedGeometry(e);r.push(u),u!==p&&(o=!0)}if(o){var l=new n(null);return l.setGeometriesArray(r),this.simplifiedGeometryCache[t]=l,l}return this.simplifiedGeometryMaxMinSquaredTolerance=e,this},n.prototype.getType=function(){return o.default.GEOMETRY_COLLECTION},n.prototype.intersectsExtent=function(e){for(var t=this.geometries_,r=0,i=t.length;r<i;++r)if(t[r].intersectsExtent(e))return!0;return!1},n.prototype.isEmpty=function(){return 0===this.geometries_.length},n.prototype.rotate=function(e,t){for(var r=this.geometries_,i=0,o=r.length;i<o;++i)r[i].rotate(e,t);this.changed()},n.prototype.scale=function(e,t,i){var o=i;o||(o=(0,r.getCenter)(this.getExtent()));for(var s=this.geometries_,n=0,a=s.length;n<a;++n)s[n].scale(e,t,o);this.changed()},n.prototype.setGeometries=function(e){this.setGeometriesArray(h(e))},n.prototype.setGeometriesArray=function(e){this.unlistenGeometriesChange_(),this.geometries_=e,this.listenGeometriesChange_(),this.changed()},n.prototype.applyTransform=function(e){for(var t=this.geometries_,r=0,i=t.length;r<i;++r)t[r].applyTransform(e);this.changed()},n.prototype.translate=function(e,t){for(var r=this.geometries_,i=0,o=r.length;i<o;++i)r[i].translate(e,t);this.changed()},n.prototype.disposeInternal=function(){this.unlistenGeometriesChange_(),i.prototype.disposeInternal.call(this)},n}(i.default);function h(e){for(var t=[],r=0,i=e.length;r<i;++r)t.push(e[r].clone());return t}var p=a;exports.default=p;
},{"../events.js":"55Uq","../events/EventType.js":"C8cu","../extent.js":"QDir","./Geometry.js":"F8sI","./GeometryType.js":"lmV0","../obj.js":"mH6q"}],"qBlb":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("../asserts.js"),t=m(require("../Feature.js")),r=require("./Feature.js"),o=m(require("./JSONFeature.js")),n=m(require("../geom/GeometryCollection.js")),a=m(require("../geom/LineString.js")),i=m(require("../geom/MultiLineString.js")),u=m(require("../geom/MultiPoint.js")),s=m(require("../geom/MultiPolygon.js")),c=m(require("../geom/Point.js")),d=m(require("../geom/Polygon.js")),p=require("../obj.js"),l=require("../proj.js"),f=m(require("../geom/GeometryType.js"));function m(e){return e&&e.__esModule?e:{default:e}}var y=function(r){function o(e){var t=e||{};r.call(this),this.dataProjection=(0,l.get)(t.dataProjection?t.dataProjection:"EPSG:4326"),t.featureProjection&&(this.defaultFeatureProjection=(0,l.get)(t.featureProjection)),this.geometryName_=t.geometryName,this.extractGeometryName_=t.extractGeometryName}return r&&(o.__proto__=r),o.prototype=Object.create(r&&r.prototype),o.prototype.constructor=o,o.prototype.readFeatureFromObject=function(e,r){var o=null,n=g((o="Feature"===e.type?e:{type:"Feature",geometry:e,properties:null}).geometry,r),a=new t.default;return this.geometryName_?a.setGeometryName(this.geometryName_):this.extractGeometryName_&&"geometry_name"in o!==void 0&&a.setGeometryName(o.geometry_name),a.setGeometry(n),"id"in o&&a.setId(o.id),o.properties&&a.setProperties(o.properties),a},o.prototype.readFeaturesFromObject=function(e,t){var r=null;if("FeatureCollection"===e.type){r=[];for(var o=e.features,n=0,a=o.length;n<a;++n)r.push(this.readFeatureFromObject(o[n],t))}else r=[this.readFeatureFromObject(e,t)];return r},o.prototype.readGeometryFromObject=function(e,t){return g(e,t)},o.prototype.readProjectionFromObject=function(t){var r,o=t.crs;return o?"name"==o.type?r=(0,l.get)(o.properties.name):(0,e.assert)(!1,36):r=this.dataProjection,r},o.prototype.writeFeatureObject=function(e,t){t=this.adaptOptions(t);var r={type:"Feature",geometry:null,properties:null},o=e.getId();void 0!==o&&(r.id=o);var n=e.getGeometry();n&&(r.geometry=_(n,t));var a=e.getProperties();return delete a[e.getGeometryName()],(0,p.isEmpty)(a)||(r.properties=a),r},o.prototype.writeFeaturesObject=function(e,t){t=this.adaptOptions(t);for(var r=[],o=0,n=e.length;o<n;++o)r.push(this.writeFeatureObject(e[o],t));return{type:"FeatureCollection",features:r}},o.prototype.writeGeometryObject=function(e,t){return _(e,this.adaptOptions(t))},o}(o.default);function g(e,t){if(!e)return null;var o;switch(e.type){case f.default.POINT:o=O(e);break;case f.default.LINE_STRING:o=N(e);break;case f.default.POLYGON:o=G(e);break;case f.default.MULTI_POINT:o=b(e);break;case f.default.MULTI_LINE_STRING:o=P(e);break;case f.default.MULTI_POLYGON:o=h(e);break;case f.default.GEOMETRY_COLLECTION:o=j(e);break;default:throw new Error("Unsupported GeoJSON type: "+e.type)}return(0,r.transformWithOptions)(o,!1,t)}function j(e,t){var r=e.geometries.map(function(e){return g(e,t)});return new n.default(r)}function O(e){return new c.default(e.coordinates)}function N(e){return new a.default(e.coordinates)}function P(e){return new i.default(e.coordinates)}function b(e){return new u.default(e.coordinates)}function h(e){return new s.default(e.coordinates)}function G(e){return new d.default(e.coordinates)}function _(e,t){var o,n=(e=(0,r.transformWithOptions)(e,!0,t)).getType();switch(n){case f.default.POINT:o=w(e,t);break;case f.default.LINE_STRING:o=L(e,t);break;case f.default.POLYGON:o=C(e,t);break;case f.default.MULTI_POINT:o=F(e,t);break;case f.default.MULTI_LINE_STRING:o=v(e,t);break;case f.default.MULTI_POLYGON:o=T(e,t);break;case f.default.GEOMETRY_COLLECTION:o=I(e,t);break;case f.default.CIRCLE:o={type:"GeometryCollection",geometries:[]};break;default:throw new Error("Unsupported geometry type: "+n)}return o}function I(e,t){return{type:"GeometryCollection",geometries:e.getGeometriesArray().map(function(e){var r=(0,p.assign)({},t);return delete r.featureProjection,_(e,r)})}}function L(e,t){return{type:"LineString",coordinates:e.getCoordinates()}}function v(e,t){return{type:"MultiLineString",coordinates:e.getCoordinates()}}function F(e,t){return{type:"MultiPoint",coordinates:e.getCoordinates()}}function T(e,t){var r;return t&&(r=t.rightHanded),{type:"MultiPolygon",coordinates:e.getCoordinates(r)}}function w(e,t){return{type:"Point",coordinates:e.getCoordinates()}}function C(e,t){var r;return t&&(r=t.rightHanded),{type:"Polygon",coordinates:e.getCoordinates(r)}}var M=y;exports.default=M;
},{"../asserts.js":"fLG6","../Feature.js":"mYW9","./Feature.js":"0Kyl","./JSONFeature.js":"RA7M","../geom/GeometryCollection.js":"HvLT","../geom/LineString.js":"DfxW","../geom/MultiLineString.js":"4fbC","../geom/MultiPoint.js":"dNu5","../geom/MultiPolygon.js":"6ouh","../geom/Point.js":"gLcY","../geom/Polygon.js":"6Nww","../obj.js":"mH6q","../proj.js":"Diht","../geom/GeometryType.js":"lmV0"}],"Rlas":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={FRACTION:"fraction",PIXELS:"pixels"};exports.default=e;
},{}],"XCOy":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.get=o,exports.default=void 0;var t=require("../dom.js"),e=require("../events.js"),i=h(require("../events/Target.js")),a=h(require("../events/EventType.js")),s=h(require("../ImageState.js")),n=require("./IconImageCache.js");function h(t){return t&&t.__esModule?t:{default:t}}var r=function(i){function n(t,e,a,s,n,h){i.call(this),this.hitDetectionImage_=null,this.image_=t||new Image,null!==s&&(this.image_.crossOrigin=s),this.canvas_=h?document.createElement("canvas"):null,this.color_=h,this.imageListenerKeys_=null,this.imageState_=n,this.size_=a,this.src_=e,this.tainted_}return i&&(n.__proto__=i),n.prototype=Object.create(i&&i.prototype),n.prototype.constructor=n,n.prototype.isTainted_=function(){if(void 0===this.tainted_&&this.imageState_===s.default.LOADED){this.tainted_=!1;var e=(0,t.createCanvasContext2D)(1,1);try{e.drawImage(this.image_,0,0),e.getImageData(0,0,1,1)}catch(i){this.tainted_=!0}}return!0===this.tainted_},n.prototype.dispatchChangeEvent_=function(){this.dispatchEvent(a.default.CHANGE)},n.prototype.handleImageError_=function(){this.imageState_=s.default.ERROR,this.unlistenImage_(),this.dispatchChangeEvent_()},n.prototype.handleImageLoad_=function(){this.imageState_=s.default.LOADED,this.size_&&(this.image_.width=this.size_[0],this.image_.height=this.size_[1]),this.size_=[this.image_.width,this.image_.height],this.unlistenImage_(),this.replaceColor_(),this.dispatchChangeEvent_()},n.prototype.getImage=function(t){return this.canvas_?this.canvas_:this.image_},n.prototype.getImageState=function(){return this.imageState_},n.prototype.getHitDetectionImage=function(e){if(!this.hitDetectionImage_)if(this.isTainted_()){var i=this.size_[0],a=this.size_[1],s=(0,t.createCanvasContext2D)(i,a);s.fillRect(0,0,i,a),this.hitDetectionImage_=s.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_},n.prototype.getSize=function(){return this.size_},n.prototype.getSrc=function(){return this.src_},n.prototype.load=function(){if(this.imageState_==s.default.IDLE){this.imageState_=s.default.LOADING,this.imageListenerKeys_=[(0,e.listenOnce)(this.image_,a.default.ERROR,this.handleImageError_,this),(0,e.listenOnce)(this.image_,a.default.LOAD,this.handleImageLoad_,this)];try{this.image_.src=this.src_}catch(t){this.handleImageError_()}}},n.prototype.replaceColor_=function(){if(this.color_&&!this.isTainted_()){this.canvas_.width=this.image_.width,this.canvas_.height=this.image_.height;var t=this.canvas_.getContext("2d");t.drawImage(this.image_,0,0);for(var e=t.getImageData(0,0,this.image_.width,this.image_.height),i=e.data,a=this.color_[0]/255,s=this.color_[1]/255,n=this.color_[2]/255,h=0,r=i.length;h<r;h+=4)i[h]*=a,i[h+1]*=s,i[h+2]*=n;t.putImageData(e,0,0)}},n.prototype.unlistenImage_=function(){this.imageListenerKeys_.forEach(e.unlistenByKey),this.imageListenerKeys_=null},n}(i.default);function o(t,e,i,a,s,h){var o=n.shared.get(e,a,h);return o||(o=new r(t,e,i,a,s,h),n.shared.set(e,a,h,o)),o}var _=r;exports.default=_;
},{"../dom.js":"Xno5","../events.js":"55Uq","../events/Target.js":"8CR4","../events/EventType.js":"C8cu","../ImageState.js":"u3k+","./IconImageCache.js":"6V0o"}],"z2xv":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../util.js"),i=l(require("../ImageState.js")),e=require("../asserts.js"),o=require("../color.js"),r=require("../events.js"),n=l(require("../events/EventType.js")),s=l(require("./IconAnchorUnits.js")),a=require("./IconImage.js"),h=l(require("./IconOrigin.js")),c=l(require("./Image.js"));function l(t){return t&&t.__esModule?t:{default:t}}var g=function(c){function l(r){var n=r||{},l=void 0!==n.opacity?n.opacity:1,g=void 0!==n.rotation?n.rotation:0,u=void 0!==n.scale?n.scale:1,_=void 0!==n.rotateWithView&&n.rotateWithView;c.call(this,{opacity:l,rotation:g,scale:u,rotateWithView:_}),this.anchor_=void 0!==n.anchor?n.anchor:[.5,.5],this.normalizedAnchor_=null,this.anchorOrigin_=void 0!==n.anchorOrigin?n.anchorOrigin:h.default.TOP_LEFT,this.anchorXUnits_=void 0!==n.anchorXUnits?n.anchorXUnits:s.default.FRACTION,this.anchorYUnits_=void 0!==n.anchorYUnits?n.anchorYUnits:s.default.FRACTION,this.crossOrigin_=void 0!==n.crossOrigin?n.crossOrigin:null;var f=void 0!==n.img?n.img:null,d=void 0!==n.imgSize?n.imgSize:null,O=n.src;(0,e.assert)(!(void 0!==O&&f),4),(0,e.assert)(!f||f&&d,5),void 0!==O&&0!==O.length||!f||(O=f.src||(0,t.getUid)(f)),(0,e.assert)(void 0!==O&&O.length>0,6);var p=void 0!==n.src?i.default.IDLE:i.default.LOADED;this.color_=void 0!==n.color?(0,o.asArray)(n.color):null,this.iconImage_=(0,a.get)(f,O,d,this.crossOrigin_,p,this.color_),this.offset_=void 0!==n.offset?n.offset:[0,0],this.offsetOrigin_=void 0!==n.offsetOrigin?n.offsetOrigin:h.default.TOP_LEFT,this.origin_=null,this.size_=void 0!==n.size?n.size:null}return c&&(l.__proto__=c),l.prototype=Object.create(c&&c.prototype),l.prototype.constructor=l,l.prototype.clone=function(){return new l({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,crossOrigin:this.crossOrigin_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,src:this.getSrc(),offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,size:null!==this.size_?this.size_.slice():void 0,opacity:this.getOpacity(),scale:this.getScale(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView()})},l.prototype.getAnchor=function(){if(this.normalizedAnchor_)return this.normalizedAnchor_;var t=this.anchor_,i=this.getSize();if(this.anchorXUnits_==s.default.FRACTION||this.anchorYUnits_==s.default.FRACTION){if(!i)return null;t=this.anchor_.slice(),this.anchorXUnits_==s.default.FRACTION&&(t[0]*=i[0]),this.anchorYUnits_==s.default.FRACTION&&(t[1]*=i[1])}if(this.anchorOrigin_!=h.default.TOP_LEFT){if(!i)return null;t===this.anchor_&&(t=this.anchor_.slice()),this.anchorOrigin_!=h.default.TOP_RIGHT&&this.anchorOrigin_!=h.default.BOTTOM_RIGHT||(t[0]=-t[0]+i[0]),this.anchorOrigin_!=h.default.BOTTOM_LEFT&&this.anchorOrigin_!=h.default.BOTTOM_RIGHT||(t[1]=-t[1]+i[1])}return this.normalizedAnchor_=t,this.normalizedAnchor_},l.prototype.setAnchor=function(t){this.anchor_=t,this.normalizedAnchor_=null},l.prototype.getColor=function(){return this.color_},l.prototype.getImage=function(t){return this.iconImage_.getImage(t)},l.prototype.getImageSize=function(){return this.iconImage_.getSize()},l.prototype.getHitDetectionImageSize=function(){return this.getImageSize()},l.prototype.getImageState=function(){return this.iconImage_.getImageState()},l.prototype.getHitDetectionImage=function(t){return this.iconImage_.getHitDetectionImage(t)},l.prototype.getOrigin=function(){if(this.origin_)return this.origin_;var t=this.offset_;if(this.offsetOrigin_!=h.default.TOP_LEFT){var i=this.getSize(),e=this.iconImage_.getSize();if(!i||!e)return null;t=t.slice(),this.offsetOrigin_!=h.default.TOP_RIGHT&&this.offsetOrigin_!=h.default.BOTTOM_RIGHT||(t[0]=e[0]-i[0]-t[0]),this.offsetOrigin_!=h.default.BOTTOM_LEFT&&this.offsetOrigin_!=h.default.BOTTOM_RIGHT||(t[1]=e[1]-i[1]-t[1])}return this.origin_=t,this.origin_},l.prototype.getSrc=function(){return this.iconImage_.getSrc()},l.prototype.getSize=function(){return this.size_?this.size_:this.iconImage_.getSize()},l.prototype.listenImageChange=function(t,i){return(0,r.listen)(this.iconImage_,n.default.CHANGE,t,i)},l.prototype.load=function(){this.iconImage_.load()},l.prototype.unlistenImageChange=function(t,i){(0,r.unlisten)(this.iconImage_,n.default.CHANGE,t,i)},l}(c.default),u=g;exports.default=u;
},{"../util.js":"KniQ","../ImageState.js":"u3k+","../asserts.js":"fLG6","../color.js":"eucy","../events.js":"55Uq","../events/EventType.js":"C8cu","./IconAnchorUnits.js":"Rlas","./IconImage.js":"XCOy","./IconOrigin.js":"urGY","./Image.js":"S8ow"}],"3qe/":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"Atlas",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(exports,"AtlasManager",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(exports,"Circle",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(exports,"Fill",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(exports,"Icon",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(exports,"IconImage",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(exports,"Image",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(exports,"RegularShape",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(exports,"Stroke",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(exports,"Style",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(exports,"Text",{enumerable:!0,get:function(){return f.default}});var e=c(require("./style/Atlas.js")),t=c(require("./style/AtlasManager.js")),r=c(require("./style/Circle.js")),n=c(require("./style/Fill.js")),u=c(require("./style/Icon.js")),l=c(require("./style/IconImage.js")),o=c(require("./style/Image.js")),s=c(require("./style/RegularShape.js")),a=c(require("./style/Stroke.js")),i=c(require("./style/Style.js")),f=c(require("./style/Text.js"));function c(e){return e&&e.__esModule?e:{default:e}}
},{"./style/Atlas.js":"N0HK","./style/AtlasManager.js":"SyS8","./style/Circle.js":"cdf1","./style/Fill.js":"AFcg","./style/Icon.js":"z2xv","./style/IconImage.js":"XCOy","./style/Image.js":"S8ow","./style/RegularShape.js":"il3X","./style/Stroke.js":"TXDt","./style/Style.js":"1he4","./style/Text.js":"RPsG"}],"I4BI":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../events.js"),e=require("../Object.js"),i=require("../dom.js"),r=d(require("./Vector.js")),a=require("../math.js"),s=require("../obj.js"),n=d(require("../render/EventType.js")),h=d(require("../style/Icon.js")),o=d(require("../style/Style.js"));function d(t){return t&&t.__esModule?t:{default:t}}var l={BLUR:"blur",GRADIENT:"gradient",RADIUS:"radius"},u=["#00f","#0ff","#0f0","#ff0","#f00"],c=function(r){function d(i){var d=i||{},c=(0,s.assign)({},d);delete c.gradient,delete c.radius,delete c.blur,delete c.shadow,delete c.weight,r.call(this,c),this.gradient_=null,this.shadow_=void 0!==d.shadow?d.shadow:250,this.circleImage_=void 0,this.styleCache_=null,(0,t.listen)(this,(0,e.getChangeEventType)(l.GRADIENT),this.handleGradientChanged_,this),this.setGradient(d.gradient?d.gradient:u),this.setBlur(void 0!==d.blur?d.blur:15),this.setRadius(void 0!==d.radius?d.radius:8),(0,t.listen)(this,(0,e.getChangeEventType)(l.BLUR),this.handleStyleChanged_,this),(0,t.listen)(this,(0,e.getChangeEventType)(l.RADIUS),this.handleStyleChanged_,this),this.handleStyleChanged_();var g,f=d.weight?d.weight:"weight";g="string"==typeof f?function(t){return t.get(f)}:f,this.setStyle(function(t,e){var i=g(t),r=void 0!==i?(0,a.clamp)(i,0,1):1,s=255*r|0,n=this.styleCache_[s];return n||(n=[new o.default({image:new h.default({opacity:r,src:this.circleImage_})})],this.styleCache_[s]=n),n}.bind(this)),this.setRenderOrder(null),(0,t.listen)(this,n.default.RENDER,this.handleRender_,this)}return r&&(d.__proto__=r),d.prototype=Object.create(r&&r.prototype),d.prototype.constructor=d,d.prototype.createCircle_=function(){var t=this.getRadius(),e=this.getBlur(),r=t+e+1,a=2*r,s=(0,i.createCanvasContext2D)(a,a);s.shadowOffsetX=s.shadowOffsetY=this.shadow_,s.shadowBlur=e,s.shadowColor="#000",s.beginPath();var n=r-this.shadow_;return s.arc(n,n,t,0,2*Math.PI,!0),s.fill(),s.canvas.toDataURL()},d.prototype.getBlur=function(){return this.get(l.BLUR)},d.prototype.getGradient=function(){return this.get(l.GRADIENT)},d.prototype.getRadius=function(){return this.get(l.RADIUS)},d.prototype.handleGradientChanged_=function(){this.gradient_=g(this.getGradient())},d.prototype.handleStyleChanged_=function(){this.circleImage_=this.createCircle_(),this.styleCache_=new Array(256),this.changed()},d.prototype.handleRender_=function(t){for(var e=t.context,i=e.canvas,r=e.getImageData(0,0,i.width,i.height),a=r.data,s=0,n=a.length;s<n;s+=4){var h=4*a[s+3];h&&(a[s]=this.gradient_[h],a[s+1]=this.gradient_[h+1],a[s+2]=this.gradient_[h+2])}e.putImageData(r,0,0)},d.prototype.setBlur=function(t){this.set(l.BLUR,t)},d.prototype.setGradient=function(t){this.set(l.GRADIENT,t)},d.prototype.setRadius=function(t){this.set(l.RADIUS,t)},d}(r.default);function g(t){for(var e=(0,i.createCanvasContext2D)(1,256),r=e.createLinearGradient(0,0,1,256),a=1/(t.length-1),s=0,n=t.length;s<n;++s)r.addColorStop(s*a,t[s]);return e.fillStyle=r,e.fillRect(0,0,1,256),e.getImageData(0,0,1,256).data}var f=c;exports.default=f;
},{"../events.js":"55Uq","../Object.js":"PhPh","../dom.js":"Xno5","./Vector.js":"dflx","../math.js":"B96G","../obj.js":"mH6q","../render/EventType.js":"z39m","../style/Icon.js":"z2xv","../style/Style.js":"1he4"}],"2KHB":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=r(require("../LayerType.js")),t=r(require("./Layer.js"));function r(e){return e&&e.__esModule?e:{default:e}}var o=function(t){function r(r){var o=r||{};t.call(this,o),this.type=e.default.IMAGE}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r}(t.default);o.prototype.getSource;var u=o;exports.default=u;
},{"../LayerType.js":"8+bQ","./Layer.js":"GCgv"}],"M5pz":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={PRELOAD:"preload",USE_INTERIM_TILES_ON_ERROR:"useInterimTilesOnError"};exports.default=e;
},{}],"BU+E":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=s(require("../LayerType.js")),t=s(require("./Layer.js")),r=s(require("./TileProperty.js")),o=require("../obj.js");function s(e){return e&&e.__esModule?e:{default:e}}var i=function(t){function s(r){var s=r||{},i=(0,o.assign)({},s);delete i.preload,delete i.useInterimTilesOnError,t.call(this,i),this.setPreload(void 0!==s.preload?s.preload:0),this.setUseInterimTilesOnError(void 0===s.useInterimTilesOnError||s.useInterimTilesOnError),this.type=e.default.TILE}return t&&(s.__proto__=t),s.prototype=Object.create(t&&t.prototype),s.prototype.constructor=s,s.prototype.getPreload=function(){return this.get(r.default.PRELOAD)},s.prototype.setPreload=function(e){this.set(r.default.PRELOAD,e)},s.prototype.getUseInterimTilesOnError=function(){return this.get(r.default.USE_INTERIM_TILES_ON_ERROR)},s.prototype.setUseInterimTilesOnError=function(e){this.set(r.default.USE_INTERIM_TILES_ON_ERROR,e)},s}(t.default);i.prototype.getSource;var n=i;exports.default=n;
},{"../LayerType.js":"8+bQ","./Layer.js":"GCgv","./TileProperty.js":"M5pz","../obj.js":"mH6q"}],"6zOJ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=i(require("../LayerType.js")),t=require("../asserts.js"),r=i(require("./TileProperty.js")),o=i(require("./Vector.js")),s=i(require("./VectorTileRenderType.js")),u=require("../obj.js");function i(e){return e&&e.__esModule?e:{default:e}}var l=function(o){function i(r){var i=r||{},l=i.renderMode||s.default.HYBRID;(0,t.assert)(null==l||l==s.default.IMAGE||l==s.default.HYBRID||l==s.default.VECTOR,28),i.declutter&&l==s.default.IMAGE&&(l=s.default.HYBRID),i.renderMode=l;var n=(0,u.assign)({},i);delete n.preload,delete n.useInterimTilesOnError,o.call(this,n),this.setPreload(i.preload?i.preload:0),this.setUseInterimTilesOnError(void 0===i.useInterimTilesOnError||i.useInterimTilesOnError),this.type=e.default.VECTOR_TILE}return o&&(i.__proto__=o),i.prototype=Object.create(o&&o.prototype),i.prototype.constructor=i,i.prototype.getPreload=function(){return this.get(r.default.PRELOAD)},i.prototype.getUseInterimTilesOnError=function(){return this.get(r.default.USE_INTERIM_TILES_ON_ERROR)},i.prototype.setPreload=function(e){this.set(r.default.PRELOAD,e)},i.prototype.setUseInterimTilesOnError=function(e){this.set(r.default.USE_INTERIM_TILES_ON_ERROR,e)},i}(o.default);l.prototype.getSource;var n=l;exports.default=n;
},{"../LayerType.js":"8+bQ","../asserts.js":"fLG6","./TileProperty.js":"M5pz","./Vector.js":"dflx","./VectorTileRenderType.js":"Q2C4","../obj.js":"mH6q"}],"ZVaS":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"Group",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(exports,"Heatmap",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(exports,"Image",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(exports,"Layer",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(exports,"Tile",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(exports,"Vector",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(exports,"VectorTile",{enumerable:!0,get:function(){return o.default}});var e=l(require("./layer/Group.js")),r=l(require("./layer/Heatmap.js")),t=l(require("./layer/Image.js")),u=l(require("./layer/Layer.js")),n=l(require("./layer/Tile.js")),a=l(require("./layer/Vector.js")),o=l(require("./layer/VectorTile.js"));function l(e){return e&&e.__esModule?e:{default:e}}
},{"./layer/Group.js":"q0nK","./layer/Heatmap.js":"I4BI","./layer/Image.js":"2KHB","./layer/Layer.js":"GCgv","./layer/Tile.js":"BU+E","./layer/Vector.js":"dflx","./layer/VectorTile.js":"6zOJ"}],"p1v/":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.createFromTemplate=n,exports.createFromTemplates=o,exports.createFromTileUrlFunctions=a,exports.nullTileUrlFunction=u,exports.expandUrl=i;var r=require("./asserts.js"),e=require("./math.js"),t=require("./tilecoord.js");function n(e,t){var n=/\{z\}/g,o=/\{x\}/g,a=/\{y\}/g,u=/\{-y\}/g;return function(i,c,l){return i?e.replace(n,i[0].toString()).replace(o,i[1].toString()).replace(a,function(){return(-i[2]-1).toString()}).replace(u,function(){var e=i[0],n=t.getFullTileRange(e);return(0,r.assert)(n,55),(n.getHeight()+i[2]).toString()}):void 0}}function o(r,e){for(var t=r.length,o=new Array(t),u=0;u<t;++u)o[u]=n(r[u],e);return a(o)}function a(r){return 1===r.length?r[0]:function(n,o,a){if(n){var u=(0,t.hash)(n),i=(0,e.modulo)(u,r.length);return r[i](n,o,a)}}}function u(r,e,t){}function i(r){var e=[],t=/\{([a-z])-([a-z])\}/.exec(r);if(t){var n,o=t[1].charCodeAt(0),a=t[2].charCodeAt(0);for(n=o;n<=a;++n)e.push(r.replace(t[0],String.fromCharCode(n)));return e}if(t=t=/\{(\d+)-(\d+)\}/.exec(r)){for(var u=parseInt(t[2],10),i=parseInt(t[1],10);i<=u;i++)e.push(r.replace(t[0],i.toString()));return e}return e.push(r),e}
},{"./asserts.js":"fLG6","./math.js":"B96G","./tilecoord.js":"2faT"}],"SU9K":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.jsonp=t;var e=require("./util.js");function t(t,n,o,i){var c=document.createElement("script"),r="olc_"+(0,e.getUid)(n);function a(){delete window[r],c.parentNode.removeChild(c)}c.async=!0,c.src=t+(-1==t.indexOf("?")?"?":"&")+(i||"callback")+"="+r;var d=setTimeout(function(){a(),o&&o()},1e4);window[r]=function(e){clearTimeout(d),a(),n(e)},document.getElementsByTagName("head")[0].appendChild(c)}
},{"./util.js":"KniQ"}],"U255":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.calculateSourceResolution=n,exports.render=i;var e=require("./dom.js"),t=require("./extent.js"),r=require("./math.js"),a=require("./proj.js");function n(e,r,n,o){var i=(0,a.transform)(n,r,e),s=(0,a.getPointResolution)(r,o,n),u=r.getMetersPerUnit();void 0!==u&&(s*=u);var c=e.getMetersPerUnit();void 0!==c&&(s/=c);var v=e.getExtent();if(!v||(0,t.containsCoordinate)(v,i)){var g=(0,a.getPointResolution)(e,s,i)/s;isFinite(g)&&g>0&&(s/=g)}return s}function o(e,t,r,a){var n=r-e,o=a-t,i=Math.sqrt(n*n+o*o);return[Math.round(r+n/i),Math.round(a+o/i)]}function i(a,n,i,s,u,c,v,g,h,l,d){var f=(0,e.createCanvasContext2D)(Math.round(i*a),Math.round(i*n));if(0===h.length)return f.canvas;f.scale(i,i);var m=(0,t.createEmpty)();h.forEach(function(e,r,a){(0,t.extend)(m,e.extent)});var x=(0,t.getWidth)(m),M=(0,t.getHeight)(m),T=(0,e.createCanvasContext2D)(Math.round(i*x/s),Math.round(i*M/s)),p=i/s;h.forEach(function(e,r,a){var n=e.extent[0]-m[0],o=-(e.extent[3]-m[3]),i=(0,t.getWidth)(e.extent),s=(0,t.getHeight)(e.extent);T.drawImage(e.image,l,l,e.image.width-2*l,e.image.height-2*l,n*p,o*p,i*p,s*p)});var P=(0,t.getTopLeft)(v);return g.getTriangles().forEach(function(e,t,a){var n=e.source,u=e.target,v=n[0][0],g=n[0][1],h=n[1][0],l=n[1][1],d=n[2][0],x=n[2][1],M=(u[0][0]-P[0])/c,p=-(u[0][1]-P[1])/c,j=(u[1][0]-P[0])/c,E=-(u[1][1]-P[1])/c,q=(u[2][0]-P[0])/c,C=-(u[2][1]-P[1])/c,b=v,y=g;v=0,g=0;var k=[[h-=b,l-=y,0,0,j-M],[d-=b,x-=y,0,0,q-M],[0,0,h,l,E-p],[0,0,d,x,C-p]],w=(0,r.solveLinearSystem)(k);if(w){f.save(),f.beginPath();var R=(M+j+q)/3,S=(p+E+C)/3,W=o(R,S,M,p),D=o(R,S,j,E),H=o(R,S,q,C);f.moveTo(D[0],D[1]),f.lineTo(W[0],W[1]),f.lineTo(H[0],H[1]),f.clip(),f.transform(w[0],w[2],w[1],w[3],M,p),f.translate(m[0]-b,m[3]-y),f.scale(s/i,-s/i),f.drawImage(T.canvas,0,0),f.restore()}}),d&&(f.save(),f.strokeStyle="black",f.lineWidth=1,g.getTriangles().forEach(function(e,t,r){var a=e.target,n=(a[0][0]-P[0])/c,o=-(a[0][1]-P[1])/c,i=(a[1][0]-P[0])/c,s=-(a[1][1]-P[1])/c,u=(a[2][0]-P[0])/c,v=-(a[2][1]-P[1])/c;f.beginPath(),f.moveTo(i,s),f.lineTo(n,o),f.lineTo(u,v),f.closePath(),f.stroke()}),f.restore()),f.canvas}
},{"./dom.js":"Xno5","./extent.js":"QDir","./math.js":"B96G","./proj.js":"Diht"}],"BiRY":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../extent.js"),r=require("../math.js"),i=require("../proj.js"),e=10,s=.25,o=function(r,s,o,n,a){this.sourceProj_=r,this.targetProj_=s;var h={},u=(0,i.getTransform)(this.targetProj_,this.sourceProj_);this.transformInv_=function(t){var r=t[0]+"/"+t[1];return h[r]||(h[r]=u(t)),h[r]},this.maxSourceExtent_=n,this.errorThresholdSquared_=a*a,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!n&&!!this.sourceProj_.getExtent()&&(0,t.getWidth)(n)==(0,t.getWidth)(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?(0,t.getWidth)(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?(0,t.getWidth)(this.targetProj_.getExtent()):null;var d=(0,t.getTopLeft)(o),c=(0,t.getTopRight)(o),_=(0,t.getBottomRight)(o),l=(0,t.getBottomLeft)(o),f=this.transformInv_(d),g=this.transformInv_(c),W=this.transformInv_(_),v=this.transformInv_(l);if(this.addQuad_(d,c,_,l,f,g,W,v,e),this.wrapsXInSource_){var m=1/0;this.triangles_.forEach(function(t,r,i){m=Math.min(m,t.source[0][0],t.source[1][0],t.source[2][0])}),this.triangles_.forEach(function(t){if(Math.max(t.source[0][0],t.source[1][0],t.source[2][0])-m>this.sourceWorldWidth_/2){var r=[[t.source[0][0],t.source[0][1]],[t.source[1][0],t.source[1][1]],[t.source[2][0],t.source[2][1]]];r[0][0]-m>this.sourceWorldWidth_/2&&(r[0][0]-=this.sourceWorldWidth_),r[1][0]-m>this.sourceWorldWidth_/2&&(r[1][0]-=this.sourceWorldWidth_),r[2][0]-m>this.sourceWorldWidth_/2&&(r[2][0]-=this.sourceWorldWidth_);var i=Math.min(r[0][0],r[1][0],r[2][0]);Math.max(r[0][0],r[1][0],r[2][0])-i<this.sourceWorldWidth_/2&&(t.source=r)}}.bind(this))}h={}};o.prototype.addTriangle_=function(t,r,i,e,s,o){this.triangles_.push({source:[e,s,o],target:[t,r,i]})},o.prototype.addQuad_=function(i,e,o,n,a,h,u,d,c){var _=(0,t.boundingExtent)([a,h,u,d]),l=this.sourceWorldWidth_?(0,t.getWidth)(_)/this.sourceWorldWidth_:null,f=this.sourceWorldWidth_,g=this.sourceProj_.canWrapX()&&l>.5&&l<1,W=!1;if(c>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){var v=(0,t.boundingExtent)([i,e,o,n]);W=(0,t.getWidth)(v)/this.targetWorldWidth_>s||W}!g&&this.sourceProj_.isGlobal()&&l&&(W=l>s||W)}if(W||!this.maxSourceExtent_||(0,t.intersects)(_,this.maxSourceExtent_)){if(!(W||isFinite(a[0])&&isFinite(a[1])&&isFinite(h[0])&&isFinite(h[1])&&isFinite(u[0])&&isFinite(u[1])&&isFinite(d[0])&&isFinite(d[1]))){if(!(c>0))return;W=!0}if(c>0){if(!W){var m,p=[(i[0]+o[0])/2,(i[1]+o[1])/2],x=this.transformInv_(p);if(g)m=((0,r.modulo)(a[0],f)+(0,r.modulo)(u[0],f))/2-(0,r.modulo)(x[0],f);else m=(a[0]+u[0])/2-x[0];var j=(a[1]+u[1])/2-x[1];W=m*m+j*j>this.errorThresholdSquared_}if(W){if(Math.abs(i[0]-o[0])<=Math.abs(i[1]-o[1])){var E=[(e[0]+o[0])/2,(e[1]+o[1])/2],I=this.transformInv_(E),P=[(n[0]+i[0])/2,(n[1]+i[1])/2],S=this.transformInv_(P);this.addQuad_(i,e,E,P,a,h,I,S,c-1),this.addQuad_(P,E,o,n,S,I,u,d,c-1)}else{var T=[(i[0]+e[0])/2,(i[1]+e[1])/2],b=this.transformInv_(T),F=[(o[0]+n[0])/2,(o[1]+n[1])/2],M=this.transformInv_(F);this.addQuad_(i,T,F,n,a,b,M,d,c-1),this.addQuad_(T,e,o,F,b,h,u,M,c-1)}return}}if(g){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}this.addTriangle_(i,o,n,a,u,d),this.addTriangle_(i,e,o,a,h,u)}},o.prototype.calculateSourceExtent=function(){var r=(0,t.createEmpty)();return this.triangles_.forEach(function(i,e,s){var o=i.source;(0,t.extendCoordinate)(r,o[0]),(0,t.extendCoordinate)(r,o[1]),(0,t.extendCoordinate)(r,o[2])}),r},o.prototype.getTriangles=function(){return this.triangles_};var n=o;exports.default=n;
},{"../extent.js":"QDir","../math.js":"B96G","../proj.js":"Diht"}],"WlOd":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("./common.js"),t=l(require("../Tile.js")),i=l(require("../TileState.js")),s=require("../events.js"),r=l(require("../events/EventType.js")),o=require("../extent.js"),a=require("../math.js"),n=require("../reproj.js"),u=l(require("./Triangulation.js"));function l(e){return e&&e.__esModule?e:{default:e}}var h=function(t){function l(s,r,l,h,c,d,_,f,g,p,T){t.call(this,c,i.default.IDLE),this.renderEdges_=void 0!==T&&T,this.pixelRatio_=_,this.gutter_=f,this.canvas_=null,this.sourceTileGrid_=r,this.targetTileGrid_=h,this.wrappedTileCoord_=d||c,this.sourceTiles_=[],this.sourcesListenerKeys_=null,this.sourceZ_=0;var E=h.getTileCoordExtent(this.wrappedTileCoord_),v=this.targetTileGrid_.getExtent(),y=this.sourceTileGrid_.getExtent(),x=v?(0,o.getIntersection)(E,v):E;if(0!==(0,o.getArea)(x)){var R=s.getExtent();R&&(y=y?(0,o.getIntersection)(y,R):R);var L=h.getResolution(this.wrappedTileCoord_[0]),j=(0,o.getCenter)(x),m=(0,n.calculateSourceResolution)(s,l,j,L);if(!isFinite(m)||m<=0)this.state=i.default.EMPTY;else{var D=void 0!==p?p:e.ERROR_THRESHOLD;if(this.triangulation_=new u.default(s,l,x,y,m*D),0!==this.triangulation_.getTriangles().length){this.sourceZ_=r.getZForResolution(m);var G=this.triangulation_.calculateSourceExtent();if(y&&(s.canWrapX()?(G[1]=(0,a.clamp)(G[1],y[1],y[3]),G[3]=(0,a.clamp)(G[3],y[1],y[3])):G=(0,o.getIntersection)(G,y)),(0,o.getArea)(G)){for(var I=r.getTileRangeForExtentAndZ(G,this.sourceZ_),O=I.minX;O<=I.maxX;O++)for(var S=I.minY;S<=I.maxY;S++){var C=g(this.sourceZ_,O,S,_);C&&this.sourceTiles_.push(C)}0===this.sourceTiles_.length&&(this.state=i.default.EMPTY)}else this.state=i.default.EMPTY}else this.state=i.default.EMPTY}}else this.state=i.default.EMPTY}return t&&(l.__proto__=t),l.prototype=Object.create(t&&t.prototype),l.prototype.constructor=l,l.prototype.disposeInternal=function(){this.state==i.default.LOADING&&this.unlistenSources_(),t.prototype.disposeInternal.call(this)},l.prototype.getImage=function(){return this.canvas_},l.prototype.reproject_=function(){var e=[];if(this.sourceTiles_.forEach(function(t,s,r){t&&t.getState()==i.default.LOADED&&e.push({extent:this.sourceTileGrid_.getTileCoordExtent(t.tileCoord),image:t.getImage()})}.bind(this)),this.sourceTiles_.length=0,0===e.length)this.state=i.default.ERROR;else{var t=this.wrappedTileCoord_[0],s=this.targetTileGrid_.getTileSize(t),r="number"==typeof s?s:s[0],o="number"==typeof s?s:s[1],a=this.targetTileGrid_.getResolution(t),u=this.sourceTileGrid_.getResolution(this.sourceZ_),l=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=(0,n.render)(r,o,this.pixelRatio_,u,this.sourceTileGrid_.getExtent(),a,l,this.triangulation_,e,this.gutter_,this.renderEdges_),this.state=i.default.LOADED}this.changed()},l.prototype.load=function(){if(this.state==i.default.IDLE){this.state=i.default.LOADING,this.changed();var e=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach(function(t,o,a){var n=t.getState();if(n==i.default.IDLE||n==i.default.LOADING){e++;var u=(0,s.listen)(t,r.default.CHANGE,function(r){var o=t.getState();o!=i.default.LOADED&&o!=i.default.ERROR&&o!=i.default.EMPTY||((0,s.unlistenByKey)(u),0===--e&&(this.unlistenSources_(),this.reproject_()))},this);this.sourcesListenerKeys_.push(u)}}.bind(this)),this.sourceTiles_.forEach(function(e,t,s){e.getState()==i.default.IDLE&&e.load()}),0===e&&setTimeout(this.reproject_.bind(this),0)}},l.prototype.unlistenSources_=function(){this.sourcesListenerKeys_.forEach(s.unlistenByKey),this.sourcesListenerKeys_=null},l}(t.default),c=h;exports.default=c;
},{"./common.js":"7f+F","../Tile.js":"IWZI","../TileState.js":"Xz9x","../events.js":"55Uq","../events/EventType.js":"C8cu","../extent.js":"QDir","../math.js":"B96G","../reproj.js":"U255","./Triangulation.js":"BiRY"}],"5KXh":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={TILELOADSTART:"tileloadstart",TILELOADEND:"tileloadend",TILELOADERROR:"tileloaderror"};exports.default=e;
},{}],"uv+9":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../util.js"),e=s(require("../TileState.js")),i=require("../tileurlfunction.js"),r=l(require("./Tile.js")),n=s(require("./TileEventType.js")),o=require("../tilecoord.js");function l(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,i):{};r.get||r.set?Object.defineProperty(e,i,r):e[i]=t[i]}return e.default=t,e}function s(t){return t&&t.__esModule?t:{default:t}}var u=function(l){function s(t){l.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,opaque:t.opaque,projection:t.projection,state:t.state,tileGrid:t.tileGrid,tilePixelRatio:t.tilePixelRatio,wrapX:t.wrapX,transition:t.transition,key:t.key,attributionsCollapsible:t.attributionsCollapsible}),this.generateTileUrlFunction_=!t.tileUrlFunction,this.tileLoadFunction=t.tileLoadFunction,this.tileUrlFunction=t.tileUrlFunction?t.tileUrlFunction.bind(this):i.nullTileUrlFunction,this.urls=null,t.urls?this.setUrls(t.urls):t.url&&this.setUrl(t.url),t.tileUrlFunction&&this.setTileUrlFunction(t.tileUrlFunction,this.key_),this.tileLoadingKeys_={}}return l&&(s.__proto__=l),s.prototype=Object.create(l&&l.prototype),s.prototype.constructor=s,s.prototype.getTileLoadFunction=function(){return this.tileLoadFunction},s.prototype.getTileUrlFunction=function(){return this.tileUrlFunction},s.prototype.getUrls=function(){return this.urls},s.prototype.handleTileChange=function(i){var o,l=i.target,s=(0,t.getUid)(l),u=l.getState();u==e.default.LOADING?(this.tileLoadingKeys_[s]=!0,o=n.default.TILELOADSTART):s in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[s],o=u==e.default.ERROR?n.default.TILELOADERROR:u==e.default.LOADED||u==e.default.ABORT?n.default.TILELOADEND:void 0),null!=o&&this.dispatchEvent(new r.TileSourceEvent(o,l))},s.prototype.setTileLoadFunction=function(t){this.tileCache.clear(),this.tileLoadFunction=t,this.changed()},s.prototype.setTileUrlFunction=function(t,e){this.tileUrlFunction=t,this.tileCache.pruneExceptNewestZ(),void 0!==e?this.setKey(e):this.changed()},s.prototype.setUrl=function(t){var e=this.urls=(0,i.expandUrl)(t);this.setUrls(e)},s.prototype.setUrls=function(t){this.urls=t;var e=t.join("\n");this.generateTileUrlFunction_?this.setTileUrlFunction((0,i.createFromTemplates)(t,this.tileGrid),e):this.setKey(e)},s.prototype.useTile=function(t,e,i){var r=(0,o.getKeyZXY)(t,e,i);this.tileCache.containsKey(r)&&this.tileCache.get(r)},s}(r.default),a=u;exports.default=a;
},{"../util.js":"KniQ","../TileState.js":"Xz9x","../tileurlfunction.js":"p1v/","./Tile.js":"JECm","./TileEventType.js":"5KXh","../tilecoord.js":"2faT"}],"6udA":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("../reproj/common.js"),t=require("../util.js"),i=p(require("../ImageTile.js")),r=p(require("../TileCache.js")),o=p(require("../TileState.js")),n=require("../events.js"),l=p(require("../events/EventType.js")),s=require("../proj.js"),c=p(require("../reproj/Tile.js")),a=p(require("./UrlTile.js")),h=require("../tilecoord.js"),u=require("../tilegrid.js");function p(e){return e&&e.__esModule?e:{default:e}}var d=function(a){function p(e){a.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tileLoadFunction:e.tileLoadFunction?e.tileLoadFunction:E,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX,transition:e.transition,key:e.key,attributionsCollapsible:e.attributionsCollapsible}),this.crossOrigin=void 0!==e.crossOrigin?e.crossOrigin:null,this.tileClass=void 0!==e.tileClass?e.tileClass:i.default,this.tileCacheForProjection={},this.tileGridForProjection={},this.reprojectionErrorThreshold_=e.reprojectionErrorThreshold,this.renderReprojectionEdges_=!1}return a&&(p.__proto__=a),p.prototype=Object.create(a&&a.prototype),p.prototype.constructor=p,p.prototype.canExpireCache=function(){if(!e.ENABLE_RASTER_REPROJECTION)return a.prototype.canExpireCache.call(this);if(this.tileCache.canExpireCache())return!0;for(var t in this.tileCacheForProjection)if(this.tileCacheForProjection[t].canExpireCache())return!0;return!1},p.prototype.expireCache=function(t,i){if(e.ENABLE_RASTER_REPROJECTION){var r=this.getTileCacheForProjection(t);for(var o in this.tileCache.expireCache(this.tileCache==r?i:{}),this.tileCacheForProjection){var n=this.tileCacheForProjection[o];n.expireCache(n==r?i:{})}}else a.prototype.expireCache.call(this,t,i)},p.prototype.getGutterForProjection=function(t){return e.ENABLE_RASTER_REPROJECTION&&this.getProjection()&&t&&!(0,s.equivalent)(this.getProjection(),t)?0:this.getGutter()},p.prototype.getGutter=function(){return 0},p.prototype.getOpaque=function(t){return!(e.ENABLE_RASTER_REPROJECTION&&this.getProjection()&&t&&!(0,s.equivalent)(this.getProjection(),t))&&a.prototype.getOpaque.call(this,t)},p.prototype.getTileGridForProjection=function(i){if(!e.ENABLE_RASTER_REPROJECTION)return a.prototype.getTileGridForProjection.call(this,i);var r=this.getProjection();if(!this.tileGrid||r&&!(0,s.equivalent)(r,i)){var o=(0,t.getUid)(i);return o in this.tileGridForProjection||(this.tileGridForProjection[o]=(0,u.getForProjection)(i)),this.tileGridForProjection[o]}return this.tileGrid},p.prototype.getTileCacheForProjection=function(i){if(!e.ENABLE_RASTER_REPROJECTION)return a.prototype.getTileCacheForProjection.call(this,i);var o=this.getProjection();if(!o||(0,s.equivalent)(o,i))return this.tileCache;var n=(0,t.getUid)(i);return n in this.tileCacheForProjection||(this.tileCacheForProjection[n]=new r.default(this.tileCache.highWaterMark)),this.tileCacheForProjection[n]},p.prototype.createTile_=function(e,t,i,r,s,c){var a=[e,t,i],h=this.getTileCoordForTileUrlFunction(a,s),u=h?this.tileUrlFunction(h,r,s):void 0,p=new this.tileClass(a,void 0!==u?o.default.IDLE:o.default.EMPTY,void 0!==u?u:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return p.key=c,(0,n.listen)(p,l.default.CHANGE,this.handleTileChange,this),p},p.prototype.getTile=function(t,i,r,o,n){var l=this.getProjection();if(e.ENABLE_RASTER_REPROJECTION&&l&&n&&!(0,s.equivalent)(l,n)){var a,u=this.getTileCacheForProjection(n),p=[t,i,r],d=(0,h.getKey)(p);u.containsKey(d)&&(a=u.get(d));var E=this.getKey();if(a&&a.key==E)return a;var j=this.getTileGridForProjection(l),g=this.getTileGridForProjection(n),T=this.getTileCoordForTileUrlFunction(p,n),C=new c.default(l,j,n,g,p,T,this.getTilePixelRatio(o),this.getGutter(),function(e,t,i,r){return this.getTileInternal(e,t,i,r,l)}.bind(this),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_);return C.key=E,a?(C.interimTile=a,C.refreshInterimChain(),u.replace(d,C)):u.set(d,C),C}return this.getTileInternal(t,i,r,o,l||n)},p.prototype.getTileInternal=function(e,t,i,r,n){var l=null,s=(0,h.getKeyZXY)(e,t,i),c=this.getKey();if(this.tileCache.containsKey(s)){if((l=this.tileCache.get(s)).key!=c){var a=l;l=this.createTile_(e,t,i,r,n,c),a.getState()==o.default.IDLE?l.interimTile=a.interimTile:l.interimTile=a,l.refreshInterimChain(),this.tileCache.replace(s,l)}}else l=this.createTile_(e,t,i,r,n,c),this.tileCache.set(s,l);return l},p.prototype.setRenderReprojectionEdges=function(t){if(e.ENABLE_RASTER_REPROJECTION&&this.renderReprojectionEdges_!=t){for(var i in this.renderReprojectionEdges_=t,this.tileCacheForProjection)this.tileCacheForProjection[i].clear();this.changed()}},p.prototype.setTileGridForProjection=function(i,r){if(e.ENABLE_RASTER_REPROJECTION){var o=(0,s.get)(i);if(o){var n=(0,t.getUid)(o);n in this.tileGridForProjection||(this.tileGridForProjection[n]=r)}}},p}(a.default);function E(e,t){e.getImage().src=t}var j=d;exports.default=j;
},{"../reproj/common.js":"7f+F","../util.js":"KniQ","../ImageTile.js":"T/Os","../TileCache.js":"YFDe","../TileState.js":"Xz9x","../events.js":"55Uq","../events/EventType.js":"C8cu","../proj.js":"Diht","../reproj/Tile.js":"WlOd","./UrlTile.js":"uv+9","../tilecoord.js":"2faT","../tilegrid.js":"ExRx"}],"K+sj":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("../tileurlfunction.js"),t=require("../extent.js"),i=require("../net.js"),r=require("../proj.js"),o=u(require("./State.js")),a=u(require("./TileImage.js")),s=require("../tilecoord.js"),n=require("../tilegrid.js");function u(e){return e&&e.__esModule?e:{default:e}}var c='<a class="ol-attribution-bing-tos" href="https://www.microsoft.com/maps/product/terms.html">Terms of Use</a>',d=function(a){function u(e){var t=void 0!==e.hidpi&&e.hidpi;a.call(this,{cacheSize:e.cacheSize,crossOrigin:"anonymous",opaque:!0,projection:(0,r.get)("EPSG:3857"),reprojectionErrorThreshold:e.reprojectionErrorThreshold,state:o.default.LOADING,tileLoadFunction:e.tileLoadFunction,tilePixelRatio:t?2:1,wrapX:void 0===e.wrapX||e.wrapX,transition:e.transition}),this.hidpi_=t,this.culture_=void 0!==e.culture?e.culture:"en-us",this.maxZoom_=void 0!==e.maxZoom?e.maxZoom:-1,this.apiKey_=e.key,this.imagerySet_=e.imagerySet;var s="https://dev.virtualearth.net/REST/v1/Imagery/Metadata/"+this.imagerySet_+"?uriScheme=https&include=ImageryProviders&key="+this.apiKey_+"&c="+this.culture_;(0,i.jsonp)(s,this.handleImageryMetadataResponse.bind(this),void 0,"jsonp")}return a&&(u.__proto__=a),u.prototype=Object.create(a&&a.prototype),u.prototype.constructor=u,u.prototype.getApiKey=function(){return this.apiKey_},u.prototype.getImagerySet=function(){return this.imagerySet_},u.prototype.handleImageryMetadataResponse=function(i){if(200==i.statusCode&&"OK"==i.statusDescription&&"ValidCredentials"==i.authenticationResultCode&&1==i.resourceSets.length&&1==i.resourceSets[0].resources.length){var a=i.resourceSets[0].resources[0],u=-1==this.maxZoom_?a.zoomMax:this.maxZoom_,d=this.getProjection(),l=(0,n.extentFromProjection)(d),h=this.hidpi_?2:1,m=a.imageWidth==a.imageHeight?a.imageWidth/h:[a.imageWidth/h,a.imageHeight/h],p=(0,n.createXYZ)({extent:l,minZoom:a.zoomMin,maxZoom:u,tileSize:m});this.tileGrid=p;var g=this.culture_,f=this.hidpi_;if(this.tileUrlFunction=(0,e.createFromTileUrlFunctions)(a.imageUrlSubdomains.map(function(e){var t=[0,0,0],i=a.imageUrl.replace("{subdomain}",e).replace("{culture}",g);return function(e,r,o){if(e){(0,s.createOrUpdate)(e[0],e[1],-e[2]-1,t);var a=i;return f&&(a+="&dpi=d1&device=mobile"),a.replace("{quadkey}",(0,s.quadKey)(t))}}})),a.imageryProviders){var v=(0,r.getTransformFromProjections)((0,r.get)("EPSG:4326"),this.getProjection());this.setAttributions(function(e){var i=[],r=e.viewState,o=this.getTileGrid().getTileCoordForCoordAndResolution(r.center,r.resolution)[0];return a.imageryProviders.map(function(r){for(var a=!1,s=r.coverageAreas,n=0,u=s.length;n<u;++n){var c=s[n];if(o>=c.zoomMin&&o<=c.zoomMax){var d=c.bbox,l=[d[1],d[0],d[3],d[2]],h=(0,t.applyTransform)(l,v);if((0,t.intersects)(h,e.extent)){a=!0;break}}}a&&i.push(r.attribution)}),i.push(c),i}.bind(this))}this.setState(o.default.READY)}else this.setState(o.default.ERROR)},u}(a.default),l=d;exports.default=l;
},{"../tileurlfunction.js":"p1v/","../extent.js":"QDir","../net.js":"SU9K","../proj.js":"Diht","./State.js":"iC8j","./TileImage.js":"6udA","../tilecoord.js":"2faT","../tilegrid.js":"ExRx"}],"knlU":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=o(require("./TileImage.js")),e=require("../tilegrid.js");function o(t){return t&&t.__esModule?t:{default:t}}var i=function(t){function o(o){var i=o||{},r=void 0!==i.projection?i.projection:"EPSG:3857",l=void 0!==i.tileGrid?i.tileGrid:(0,e.createXYZ)({extent:(0,e.extentFromProjection)(r),maxZoom:i.maxZoom,minZoom:i.minZoom,tileSize:i.tileSize});t.call(this,{attributions:i.attributions,cacheSize:i.cacheSize,crossOrigin:i.crossOrigin,opaque:i.opaque,projection:r,reprojectionErrorThreshold:i.reprojectionErrorThreshold,tileGrid:l,tileLoadFunction:i.tileLoadFunction,tilePixelRatio:i.tilePixelRatio,tileUrlFunction:i.tileUrlFunction,url:i.url,urls:i.urls,wrapX:void 0===i.wrapX||i.wrapX,transition:i.transition,attributionsCollapsible:i.attributionsCollapsible})}return t&&(o.__proto__=t),o.prototype=Object.create(t&&t.prototype),o.prototype.constructor=o,o}(t.default),r=i;exports.default=r;
},{"./TileImage.js":"6udA","../tilegrid.js":"ExRx"}],"WJrq":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../obj.js"),e=o(require("./State.js")),i=o(require("./XYZ.js"));function o(t){return t&&t.__esModule?t:{default:t}}var a=function(i){function o(t){i.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,maxZoom:void 0!==t.maxZoom?t.maxZoom:18,minZoom:t.minZoom,projection:t.projection,wrapX:t.wrapX}),this.account_=t.account,this.mapId_=t.map||"",this.config_=t.config||{},this.templateCache_={},this.initializeMap_()}return i&&(o.__proto__=i),o.prototype=Object.create(i&&i.prototype),o.prototype.constructor=o,o.prototype.getConfig=function(){return this.config_},o.prototype.updateConfig=function(e){(0,t.assign)(this.config_,e),this.initializeMap_()},o.prototype.setConfig=function(t){this.config_=t||{},this.initializeMap_()},o.prototype.initializeMap_=function(){var t=JSON.stringify(this.config_);if(this.templateCache_[t])this.applyTemplate_(this.templateCache_[t]);else{var e="https://"+this.account_+".carto.com/api/v1/map";this.mapId_&&(e+="/named/"+this.mapId_);var i=new XMLHttpRequest;i.addEventListener("load",this.handleInitResponse_.bind(this,t)),i.addEventListener("error",this.handleInitError_.bind(this)),i.open("POST",e),i.setRequestHeader("Content-type","application/json"),i.send(JSON.stringify(this.config_))}},o.prototype.handleInitResponse_=function(t,i){var o=i.target;if(!o.status||o.status>=200&&o.status<300){var a;try{a=JSON.parse(o.responseText)}catch(s){return void this.setState(e.default.ERROR)}this.applyTemplate_(a),this.templateCache_[t]=a,this.setState(e.default.READY)}else this.setState(e.default.ERROR)},o.prototype.handleInitError_=function(t){this.setState(e.default.ERROR)},o.prototype.applyTemplate_=function(t){var e="https://"+t.cdn_url.https+"/"+this.account_+"/api/v1/map/"+t.layergroupid+"/{z}/{x}/{y}.png";this.setUrl(e)},o}(i.default),s=a;exports.default=s;
},{"../obj.js":"mH6q","./State.js":"iC8j","./XYZ.js":"knlU"}],"sV2m":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("../util.js"),t=require("../asserts.js"),r=h(require("../Feature.js")),s=h(require("../geom/GeometryType.js")),i=require("../coordinate.js"),o=require("../events.js"),u=h(require("../events/EventType.js")),n=require("../extent.js"),a=h(require("../geom/Point.js")),c=h(require("./Vector.js"));function h(e){return e&&e.__esModule?e:{default:e}}var f=function(c){function h(e){c.call(this,{attributions:e.attributions,wrapX:e.wrapX}),this.resolution=void 0,this.distance=void 0!==e.distance?e.distance:20,this.features=[],this.geometryFunction=e.geometryFunction||function(e){var r=e.getGeometry();return(0,t.assert)(r.getType()==s.default.POINT,10),r},this.source=e.source,(0,o.listen)(this.source,u.default.CHANGE,this.refresh,this)}return c&&(h.__proto__=c),h.prototype=Object.create(c&&c.prototype),h.prototype.constructor=h,h.prototype.getDistance=function(){return this.distance},h.prototype.getSource=function(){return this.source},h.prototype.loadFeatures=function(e,t,r){this.source.loadFeatures(e,t,r),t!==this.resolution&&(this.clear(),this.resolution=t,this.cluster(),this.addFeatures(this.features))},h.prototype.setDistance=function(e){this.distance=e,this.refresh()},h.prototype.refresh=function(){this.clear(),this.cluster(),this.addFeatures(this.features),c.prototype.refresh.call(this)},h.prototype.cluster=function(){if(void 0!==this.resolution){this.features.length=0;for(var t=(0,n.createEmpty)(),r=this.distance*this.resolution,s=this.source.getFeatures(),i={},o=0,u=s.length;o<u;o++){var a=s[o];if(!((0,e.getUid)(a)in i)){var c=this.geometryFunction(a);if(c){var h=c.getCoordinates();(0,n.createOrUpdateFromCoordinate)(h,t),(0,n.buffer)(t,r,t);var f=this.source.getFeaturesInExtent(t);f=f.filter(function(t){var r=(0,e.getUid)(t);return!(r in i)&&(i[r]=!0,!0)}),this.features.push(this.createCluster(f))}}}}},h.prototype.createCluster=function(e){for(var t=[0,0],s=e.length-1;s>=0;--s){var o=this.geometryFunction(e[s]);o?(0,i.add)(t,o.getCoordinates()):e.splice(s,1)}(0,i.scale)(t,1/e.length);var u=new r.default(new a.default(t));return u.set("features",e),u},h}(c.default),l=f;exports.default=l;
},{"../util.js":"KniQ","../asserts.js":"fLG6","../Feature.js":"mYW9","../geom/GeometryType.js":"lmV0","../coordinate.js":"nGsj","../events.js":"55Uq","../events/EventType.js":"C8cu","../extent.js":"QDir","../geom/Point.js":"gLcY","./Vector.js":"ZS12"}],"rc7/":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("./common.js"),e=u(require("../ImageBase.js")),r=u(require("../ImageState.js")),s=require("../events.js"),i=u(require("../events/EventType.js")),o=require("../extent.js"),a=require("../reproj.js"),n=u(require("./Triangulation.js"));function u(t){return t&&t.__esModule?t:{default:t}}var c=function(e){function u(s,i,u,c,l,h){var _=s.getExtent(),g=i.getExtent(),p=g?(0,o.getIntersection)(u,g):u,f=(0,o.getCenter)(p),d=(0,a.calculateSourceResolution)(s,i,f,c),E=t.ERROR_THRESHOLD,x=new n.default(s,i,p,_,d*E),I=h(x.calculateSourceExtent(),d,l),R=r.default.LOADED;I&&(R=r.default.IDLE);var m=I?I.getPixelRatio():1;e.call(this,u,c,m,R),this.targetProj_=i,this.maxSourceExtent_=_,this.triangulation_=x,this.targetResolution_=c,this.targetExtent_=u,this.sourceImage_=I,this.sourcePixelRatio_=m,this.canvas_=null,this.sourceListenerKey_=null}return e&&(u.__proto__=e),u.prototype=Object.create(e&&e.prototype),u.prototype.constructor=u,u.prototype.disposeInternal=function(){this.state==r.default.LOADING&&this.unlistenSource_(),e.prototype.disposeInternal.call(this)},u.prototype.getImage=function(){return this.canvas_},u.prototype.getProjection=function(){return this.targetProj_},u.prototype.reproject_=function(){var t=this.sourceImage_.getState();if(t==r.default.LOADED){var e=(0,o.getWidth)(this.targetExtent_)/this.targetResolution_,s=(0,o.getHeight)(this.targetExtent_)/this.targetResolution_;this.canvas_=(0,a.render)(e,s,this.sourcePixelRatio_,this.sourceImage_.getResolution(),this.maxSourceExtent_,this.targetResolution_,this.targetExtent_,this.triangulation_,[{extent:this.sourceImage_.getExtent(),image:this.sourceImage_.getImage()}],0)}this.state=t,this.changed()},u.prototype.load=function(){if(this.state==r.default.IDLE){this.state=r.default.LOADING,this.changed();var t=this.sourceImage_.getState();t==r.default.LOADED||t==r.default.ERROR?this.reproject_():(this.sourceListenerKey_=(0,s.listen)(this.sourceImage_,i.default.CHANGE,function(t){var e=this.sourceImage_.getState();e!=r.default.LOADED&&e!=r.default.ERROR||(this.unlistenSource_(),this.reproject_())},this),this.sourceImage_.load())}},u.prototype.unlistenSource_=function(){(0,s.unlistenByKey)(this.sourceListenerKey_),this.sourceListenerKey_=null},u}(e.default),l=c;exports.default=l;
},{"./common.js":"7f+F","../ImageBase.js":"Ojbp","../ImageState.js":"u3k+","../events.js":"55Uq","../events/EventType.js":"C8cu","../extent.js":"QDir","../reproj.js":"U255","./Triangulation.js":"BiRY"}],"XHvt":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.defaultImageLoadFunction=g,exports.default=void 0;var e=require("../util.js"),t=require("../reproj/common.js"),r=c(require("../ImageState.js")),o=require("../array.js"),i=c(require("../events/Event.js")),s=require("../extent.js"),n=require("../proj.js"),a=c(require("../reproj/Image.js")),u=c(require("./Source.js"));function c(e){return e&&e.__esModule?e:{default:e}}var p={IMAGELOADSTART:"imageloadstart",IMAGELOADEND:"imageloadend",IMAGELOADERROR:"imageloaderror"},l=function(e){function t(t,r){e.call(this,t),this.image=r}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(i.default),d=function(i){function u(e){i.call(this,{attributions:e.attributions,projection:e.projection,state:e.state}),this.resolutions_=void 0!==e.resolutions?e.resolutions:null,this.reprojectedImage_=null,this.reprojectedRevision_=0}return i&&(u.__proto__=i),u.prototype=Object.create(i&&i.prototype),u.prototype.constructor=u,u.prototype.getResolutions=function(){return this.resolutions_},u.prototype.findNearestResolution=function(e){if(this.resolutions_){var t=(0,o.linearFindNearest)(this.resolutions_,e,0);e=this.resolutions_[t]}return e},u.prototype.getImage=function(e,r,o,i){var u=this.getProjection();if(t.ENABLE_RASTER_REPROJECTION&&u&&i&&!(0,n.equivalent)(u,i)){if(this.reprojectedImage_){if(this.reprojectedRevision_==this.getRevision()&&(0,n.equivalent)(this.reprojectedImage_.getProjection(),i)&&this.reprojectedImage_.getResolution()==r&&(0,s.equals)(this.reprojectedImage_.getExtent(),e))return this.reprojectedImage_;this.reprojectedImage_.dispose(),this.reprojectedImage_=null}return this.reprojectedImage_=new a.default(u,i,e,r,o,function(e,t,r){return this.getImageInternal(e,t,r,u)}.bind(this)),this.reprojectedRevision_=this.getRevision(),this.reprojectedImage_}return u&&(i=u),this.getImageInternal(e,r,o,i)},u.prototype.getImageInternal=function(t,r,o,i){return(0,e.abstract)()},u.prototype.handleImageChange=function(e){var t=e.target;switch(t.getState()){case r.default.LOADING:this.loading=!0,this.dispatchEvent(new l(p.IMAGELOADSTART,t));break;case r.default.LOADED:this.loading=!1,this.dispatchEvent(new l(p.IMAGELOADEND,t));break;case r.default.ERROR:this.loading=!1,this.dispatchEvent(new l(p.IMAGELOADERROR,t))}},u}(u.default);function g(e,t){e.getImage().src=t}var h=d;exports.default=h;
},{"../util.js":"KniQ","../reproj/common.js":"7f+F","../ImageState.js":"u3k+","../array.js":"luEr","../events/Event.js":"fKNg","../extent.js":"QDir","../proj.js":"Diht","../reproj/Image.js":"rc7/","./Source.js":"H38a"}],"2n7G":[function(require,module,exports) {
"use strict";function e(e,n){var o=[];Object.keys(n).forEach(function(e){null!==n[e]&&void 0!==n[e]&&o.push(e+"="+encodeURIComponent(n[e]))});var r=o.join("&");return(e=-1===(e=e.replace(/[?&]$/,"")).indexOf("?")?e+"?":e+"&")+r}Object.defineProperty(exports,"__esModule",{value:!0}),exports.appendParams=e;
},{}],"P20y":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=h(require("../Image.js")),t=require("../asserts.js"),i=require("../events.js"),r=h(require("../events/EventType.js")),o=require("../extent.js"),s=require("../obj.js"),a=u(require("./Image.js")),n=require("../uri.js");function u(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,i):{};r.get||r.set?Object.defineProperty(t,i,r):t[i]=e[i]}return t.default=e,t}function h(e){return e&&e.__esModule?e:{default:e}}var g=function(u){function h(e){var t=e||{};u.call(this,{attributions:t.attributions,projection:t.projection,resolutions:t.resolutions}),this.crossOrigin_=void 0!==t.crossOrigin?t.crossOrigin:null,this.hidpi_=void 0===t.hidpi||t.hidpi,this.url_=t.url,this.imageLoadFunction_=void 0!==t.imageLoadFunction?t.imageLoadFunction:a.defaultImageLoadFunction,this.params_=t.params||{},this.image_=null,this.imageSize_=[0,0],this.renderedRevision_=0,this.ratio_=void 0!==t.ratio?t.ratio:1.5}return u&&(h.__proto__=u),h.prototype=Object.create(u&&u.prototype),h.prototype.constructor=h,h.prototype.getParams=function(){return this.params_},h.prototype.getImageInternal=function(t,a,n,u){if(void 0===this.url_)return null;a=this.findNearestResolution(a),n=this.hidpi_?n:1;var h=this.image_;if(h&&this.renderedRevision_==this.getRevision()&&h.getResolution()==a&&h.getPixelRatio()==n&&(0,o.containsExtent)(h.getExtent(),t))return h;var g={F:"image",FORMAT:"PNG32",TRANSPARENT:!0};(0,s.assign)(g,this.params_);var p=((t=t.slice())[0]+t[2])/2,l=(t[1]+t[3])/2;if(1!=this.ratio_){var c=this.ratio_*(0,o.getWidth)(t)/2,d=this.ratio_*(0,o.getHeight)(t)/2;t[0]=p-c,t[1]=l-d,t[2]=p+c,t[3]=l+d}var _=a/n,m=Math.ceil((0,o.getWidth)(t)/_),v=Math.ceil((0,o.getHeight)(t)/_);t[0]=p-_*m/2,t[2]=p+_*m/2,t[1]=l-_*v/2,t[3]=l+_*v/2,this.imageSize_[0]=m,this.imageSize_[1]=v;var f=this.getRequestUrl_(t,this.imageSize_,n,u,g);return this.image_=new e.default(t,a,n,f,this.crossOrigin_,this.imageLoadFunction_),this.renderedRevision_=this.getRevision(),(0,i.listen)(this.image_,r.default.CHANGE,this.handleImageChange,this),this.image_},h.prototype.getImageLoadFunction=function(){return this.imageLoadFunction_},h.prototype.getRequestUrl_=function(e,i,r,o,s){var a=o.getCode().split(":").pop();s.SIZE=i[0]+","+i[1],s.BBOX=e.join(","),s.BBOXSR=a,s.IMAGESR=a,s.DPI=Math.round(90*r);var u=this.url_,h=u.replace(/MapServer\/?$/,"MapServer/export").replace(/ImageServer\/?$/,"ImageServer/exportImage");return h==u&&(0,t.assert)(!1,50),(0,n.appendParams)(h,s)},h.prototype.getUrl=function(){return this.url_},h.prototype.setImageLoadFunction=function(e){this.image_=null,this.imageLoadFunction_=e,this.changed()},h.prototype.setUrl=function(e){e!=this.url_&&(this.url_=e,this.image_=null,this.changed())},h.prototype.updateParams=function(e){(0,s.assign)(this.params_,e),this.image_=null,this.changed()},h}(a.default),p=g;exports.default=p;
},{"../Image.js":"DHWK","../asserts.js":"fLG6","../events.js":"55Uq","../events/EventType.js":"C8cu","../extent.js":"QDir","../obj.js":"mH6q","./Image.js":"XHvt","../uri.js":"2n7G"}],"3Y2u":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=n(require("../ImageCanvas.js")),e=require("../extent.js"),i=n(require("./Image.js"));function n(t){return t&&t.__esModule?t:{default:t}}var o=function(i){function n(t){var e=t||{};i.call(this,{attributions:e.attributions,projection:e.projection,resolutions:e.resolutions,state:e.state}),this.canvasFunction_=e.canvasFunction,this.canvas_=null,this.renderedRevision_=0,this.ratio_=void 0!==e.ratio?e.ratio:1.5}return i&&(n.__proto__=i),n.prototype=Object.create(i&&i.prototype),n.prototype.constructor=n,n.prototype.getImageInternal=function(i,n,o,r){n=this.findNearestResolution(n);var s=this.canvas_;if(s&&this.renderedRevision_==this.getRevision()&&s.getResolution()==n&&s.getPixelRatio()==o&&(0,e.containsExtent)(s.getExtent(),i))return s;i=i.slice(),(0,e.scaleFromCenter)(i,this.ratio_);var a=[(0,e.getWidth)(i)/n*o,(0,e.getHeight)(i)/n*o],u=this.canvasFunction_.call(this,i,n,o,a,r);return u&&(s=new t.default(i,n,o,u)),this.canvas_=s,this.renderedRevision_=this.getRevision(),s},n}(i.default),r=o;exports.default=r;
},{"../ImageCanvas.js":"K7j2","../extent.js":"QDir","./Image.js":"XHvt"}],"C9PY":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=u(require("../Image.js")),t=require("../events.js"),i=u(require("../events/EventType.js")),r=require("../extent.js"),s=require("../obj.js"),o=a(require("./Image.js")),n=require("../uri.js");function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,i):{};r.get||r.set?Object.defineProperty(t,i,r):t[i]=e[i]}return t.default=e,t}function u(e){return e&&e.__esModule?e:{default:e}}var d=function(a){function u(e){a.call(this,{projection:e.projection,resolutions:e.resolutions}),this.crossOrigin_=void 0!==e.crossOrigin?e.crossOrigin:null,this.displayDpi_=void 0!==e.displayDpi?e.displayDpi:96,this.params_=e.params||{},this.url_=e.url,this.imageLoadFunction_=void 0!==e.imageLoadFunction?e.imageLoadFunction:o.defaultImageLoadFunction,this.hidpi_=void 0===e.hidpi||e.hidpi,this.metersPerUnit_=void 0!==e.metersPerUnit?e.metersPerUnit:1,this.ratio_=void 0!==e.ratio?e.ratio:1,this.useOverlay_=void 0!==e.useOverlay&&e.useOverlay,this.image_=null,this.renderedRevision_=0}return a&&(u.__proto__=a),u.prototype=Object.create(a&&a.prototype),u.prototype.constructor=u,u.prototype.getParams=function(){return this.params_},u.prototype.getImageInternal=function(s,o,n,a){o=this.findNearestResolution(o),n=this.hidpi_?n:1;var u=this.image_;if(u&&this.renderedRevision_==this.getRevision()&&u.getResolution()==o&&u.getPixelRatio()==n&&(0,r.containsExtent)(u.getExtent(),s))return u;1!=this.ratio_&&(s=s.slice(),(0,r.scaleFromCenter)(s,this.ratio_));var d=[(0,r.getWidth)(s)/o*n,(0,r.getHeight)(s)/o*n];if(void 0!==this.url_){var p=this.getUrl(this.url_,this.params_,s,d,a);u=new e.default(s,o,n,p,this.crossOrigin_,this.imageLoadFunction_),(0,t.listen)(u,i.default.CHANGE,this.handleImageChange,this)}else u=null;return this.image_=u,this.renderedRevision_=this.getRevision(),u},u.prototype.getImageLoadFunction=function(){return this.imageLoadFunction_},u.prototype.updateParams=function(e){(0,s.assign)(this.params_,e),this.changed()},u.prototype.getUrl=function(e,t,i,o,a){var u=p(i,o,this.metersPerUnit_,this.displayDpi_),d=(0,r.getCenter)(i),h={OPERATION:this.useOverlay_?"GETDYNAMICMAPOVERLAYIMAGE":"GETMAPIMAGE",VERSION:"2.0.0",LOCALE:"en",CLIENTAGENT:"ol/source/ImageMapGuide source",CLIP:"1",SETDISPLAYDPI:this.displayDpi_,SETDISPLAYWIDTH:Math.round(o[0]),SETDISPLAYHEIGHT:Math.round(o[1]),SETVIEWSCALE:u,SETVIEWCENTERX:d[0],SETVIEWCENTERY:d[1]};return(0,s.assign)(h,t),(0,n.appendParams)(e,h)},u.prototype.setImageLoadFunction=function(e){this.image_=null,this.imageLoadFunction_=e,this.changed()},u}(o.default);function p(e,t,i,s){var o=(0,r.getWidth)(e),n=(0,r.getHeight)(e),a=t[0],u=t[1],d=.0254/s;return u*o>a*n?o*i/(a*d):n*i/(u*d)}var h=d;exports.default=h;
},{"../Image.js":"DHWK","../events.js":"55Uq","../events/EventType.js":"C8cu","../extent.js":"QDir","../obj.js":"mH6q","./Image.js":"XHvt","../uri.js":"2n7G"}],"zK6j":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=u(require("../Image.js")),t=u(require("../ImageState.js")),i=require("../dom.js"),r=require("../events.js"),a=u(require("../events/EventType.js")),n=require("../extent.js"),o=require("../proj.js"),s=g(require("./Image.js"));function g(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,i):{};r.get||r.set?Object.defineProperty(t,i,r):t[i]=e[i]}return t.default=e,t}function u(e){return e&&e.__esModule?e:{default:e}}var h=function(g){function u(t){var i=void 0!==t.crossOrigin?t.crossOrigin:null,n=void 0!==t.imageLoadFunction?t.imageLoadFunction:s.defaultImageLoadFunction;g.call(this,{attributions:t.attributions,projection:(0,o.get)(t.projection)}),this.url_=t.url,this.imageExtent_=t.imageExtent,this.image_=new e.default(this.imageExtent_,void 0,1,this.url_,i,n),this.imageSize_=t.imageSize?t.imageSize:null,(0,r.listen)(this.image_,a.default.CHANGE,this.handleImageChange,this)}return g&&(u.__proto__=g),u.prototype=Object.create(g&&g.prototype),u.prototype.constructor=u,u.prototype.getImageExtent=function(){return this.imageExtent_},u.prototype.getImageInternal=function(e,t,i,r){return(0,n.intersects)(e,this.image_.getExtent())?this.image_:null},u.prototype.getUrl=function(){return this.url_},u.prototype.handleImageChange=function(e){if(this.image_.getState()==t.default.LOADED){var r,a,o=this.image_.getExtent(),s=this.image_.getImage();this.imageSize_?(r=this.imageSize_[0],a=this.imageSize_[1]):(r=s.width,a=s.height);var u=(0,n.getHeight)(o)/a,h=Math.ceil((0,n.getWidth)(o)/u);if(h!=r){var l=(0,i.createCanvasContext2D)(h,a),c=l.canvas;l.drawImage(s,0,0,r,a,0,0,c.width,c.height),this.image_.setImage(c)}}g.prototype.handleImageChange.call(this,e)},u}(s.default),l=h;exports.default=l;
},{"../Image.js":"DHWK","../ImageState.js":"u3k+","../dom.js":"Xno5","../events.js":"55Uq","../events/EventType.js":"C8cu","../extent.js":"QDir","../proj.js":"Diht","./Image.js":"XHvt"}],"a8mu":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.DEFAULT_WMS_VERSION=void 0;var e="1.3.0";exports.DEFAULT_WMS_VERSION=e;
},{}],"mXwm":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={CARMENTA_SERVER:"carmentaserver",GEOSERVER:"geoserver",MAPSERVER:"mapserver",QGIS:"qgis"};exports.default=e;
},{}],"e4Kb":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("./common.js"),t=l(require("../Image.js")),i=require("../asserts.js"),r=require("../events.js"),s=l(require("../events/EventType.js")),o=require("../extent.js"),a=require("../obj.js"),n=require("../proj.js"),u=require("../reproj.js"),h=d(require("./Image.js")),_=l(require("./WMSServerType.js")),p=require("../string.js"),g=require("../uri.js");function d(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,i):{};r.get||r.set?Object.defineProperty(t,i,r):t[i]=e[i]}return t.default=e,t}function l(e){return e&&e.__esModule?e:{default:e}}var c=[101,101],f=function(d){function l(e){var t=e||{};d.call(this,{attributions:t.attributions,projection:t.projection,resolutions:t.resolutions}),this.crossOrigin_=void 0!==t.crossOrigin?t.crossOrigin:null,this.url_=t.url,this.imageLoadFunction_=void 0!==t.imageLoadFunction?t.imageLoadFunction:h.defaultImageLoadFunction,this.params_=t.params||{},this.v13_=!0,this.updateV13_(),this.serverType_=t.serverType,this.hidpi_=void 0===t.hidpi||t.hidpi,this.image_=null,this.imageSize_=[0,0],this.renderedRevision_=0,this.ratio_=void 0!==t.ratio?t.ratio:1.5}return d&&(l.__proto__=d),l.prototype=Object.create(d&&d.prototype),l.prototype.constructor=l,l.prototype.getGetFeatureInfoUrl=function(t,i,r,s){if(void 0!==this.url_){var h=(0,n.get)(r),_=this.getProjection();_&&_!==h&&(i=(0,u.calculateSourceResolution)(_,h,t,i),t=(0,n.transform)(t,h,_));var p=(0,o.getForViewAndSize)(t,i,0,c),g={SERVICE:"WMS",VERSION:e.DEFAULT_WMS_VERSION,REQUEST:"GetFeatureInfo",FORMAT:"image/png",TRANSPARENT:!0,QUERY_LAYERS:this.params_.LAYERS};(0,a.assign)(g,this.params_,s);var d=Math.floor((t[0]-p[0])/i),l=Math.floor((p[3]-t[1])/i);return g[this.v13_?"I":"X"]=d,g[this.v13_?"J":"Y"]=l,this.getRequestUrl_(p,c,1,_||h,g)}},l.prototype.getParams=function(){return this.params_},l.prototype.getImageInternal=function(i,n,u,h){if(void 0===this.url_)return null;n=this.findNearestResolution(n),1==u||this.hidpi_&&void 0!==this.serverType_||(u=1);var _=n/u,p=(0,o.getCenter)(i),g=Math.ceil((0,o.getWidth)(i)/_),d=Math.ceil((0,o.getHeight)(i)/_),l=(0,o.getForViewAndSize)(p,_,0,[g,d]),c=Math.ceil(this.ratio_*(0,o.getWidth)(i)/_),f=Math.ceil(this.ratio_*(0,o.getHeight)(i)/_),v=(0,o.getForViewAndSize)(p,_,0,[c,f]),R=this.image_;if(R&&this.renderedRevision_==this.getRevision()&&R.getResolution()==n&&R.getPixelRatio()==u&&(0,o.containsExtent)(R.getExtent(),l))return R;var S={SERVICE:"WMS",VERSION:e.DEFAULT_WMS_VERSION,REQUEST:"GetMap",FORMAT:"image/png",TRANSPARENT:!0};(0,a.assign)(S,this.params_),this.imageSize_[0]=Math.round((0,o.getWidth)(v)/_),this.imageSize_[1]=Math.round((0,o.getHeight)(v)/_);var m=this.getRequestUrl_(v,this.imageSize_,u,h,S);return this.image_=new t.default(v,n,u,m,this.crossOrigin_,this.imageLoadFunction_),this.renderedRevision_=this.getRevision(),(0,r.listen)(this.image_,s.default.CHANGE,this.handleImageChange,this),this.image_},l.prototype.getImageLoadFunction=function(){return this.imageLoadFunction_},l.prototype.getRequestUrl_=function(e,t,r,s,o){if((0,i.assert)(void 0!==this.url_,9),o[this.v13_?"CRS":"SRS"]=s.getCode(),"STYLES"in this.params_||(o.STYLES=""),1!=r)switch(this.serverType_){case _.default.GEOSERVER:var a=90*r+.5|0;"FORMAT_OPTIONS"in o?o.FORMAT_OPTIONS+=";dpi:"+a:o.FORMAT_OPTIONS="dpi:"+a;break;case _.default.MAPSERVER:o.MAP_RESOLUTION=90*r;break;case _.default.CARMENTA_SERVER:case _.default.QGIS:o.DPI=90*r;break;default:(0,i.assert)(!1,8)}o.WIDTH=t[0],o.HEIGHT=t[1];var n,u=s.getAxisOrientation();return n=this.v13_&&"ne"==u.substr(0,2)?[e[1],e[0],e[3],e[2]]:e,o.BBOX=n.join(","),(0,g.appendParams)(this.url_,o)},l.prototype.getUrl=function(){return this.url_},l.prototype.setImageLoadFunction=function(e){this.image_=null,this.imageLoadFunction_=e,this.changed()},l.prototype.setUrl=function(e){e!=this.url_&&(this.url_=e,this.image_=null,this.changed())},l.prototype.updateParams=function(e){(0,a.assign)(this.params_,e),this.updateV13_(),this.image_=null,this.changed()},l.prototype.updateV13_=function(){var t=this.params_.VERSION||e.DEFAULT_WMS_VERSION;this.v13_=(0,p.compareVersions)(t,"1.3")>=0},l}(h.default),v=f;exports.default=v;
},{"./common.js":"a8mu","../Image.js":"DHWK","../asserts.js":"fLG6","../events.js":"55Uq","../events/EventType.js":"C8cu","../extent.js":"QDir","../obj.js":"mH6q","../proj.js":"Diht","../reproj.js":"U255","./Image.js":"XHvt","./WMSServerType.js":"mXwm","../string.js":"AiCK","../uri.js":"2n7G"}],"Rmo4":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.ATTRIBUTION=void 0;var o=r(require("./XYZ.js"));function r(o){return o&&o.__esModule?o:{default:o}}var t='&#169; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors.';exports.ATTRIBUTION=t;var e=function(o){function r(r){var e,i=r||{};e=void 0!==i.attributions?i.attributions:[t];var a=void 0!==i.crossOrigin?i.crossOrigin:"anonymous",p=void 0!==i.url?i.url:"https://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png";o.call(this,{attributions:e,cacheSize:i.cacheSize,crossOrigin:a,opaque:void 0===i.opaque||i.opaque,maxZoom:void 0!==i.maxZoom?i.maxZoom:19,reprojectionErrorThreshold:i.reprojectionErrorThreshold,tileLoadFunction:i.tileLoadFunction,url:p,wrapX:i.wrapX,attributionsCollapsible:!1})}return o&&(r.__proto__=o),r.prototype=Object.create(o&&o.prototype),r.prototype.constructor=r,r}(o.default),i=e;exports.default=i;
},{"./XYZ.js":"knlU"}],"dJUt":[function(require,module,exports) {
var a=!0;try{new ImageData(10,10)}catch(n){a=!1}var e=document.createElement("canvas").getContext("2d");function t(t,n,r){if(a)return new ImageData(t,n,r);var c=e.createImageData(n,r);return c.data.set(t),c}exports.newImageData=t;
},{}],"lnrF":[function(require,module,exports) {
var t=require("./util").newImageData;function e(t){var e=!0;try{new ImageData(10,10)}catch(i){e=!1}function a(t,a,i){return e?new ImageData(t,a,i):{data:t,width:a,height:i}}return function(e){var i,r,n=e.buffers,s=e.meta,o=e.imageOps,u=e.width,h=e.height,f=n.length,p=n[0].byteLength;if(o){var _=new Array(f);for(r=0;r<f;++r)_[r]=a(new Uint8ClampedArray(n[r]),u,h);i=t(_,s).data}else{i=new Uint8ClampedArray(p);var l=new Array(f),d=new Array(f);for(r=0;r<f;++r)l[r]=new Uint8ClampedArray(n[r]),d[r]=[0,0,0,0];for(var g=0;g<p;g+=4){for(var m=0;m<f;++m){var c=l[m];d[m][0]=c[g],d[m][1]=c[g+1],d[m][2]=c[g+2],d[m][3]=c[g+3]}var v=t(d,s);i[g]=v[0],i[g+1]=v[1],i[g+2]=v[2],i[g+3]=v[3]}}return i.buffer}}function a(t,a){var i=Object.keys(t.lib||{}).map(function(e){return"var "+e+" = "+t.lib[e].toString()+";"}).concat(["var __minion__ = ("+e.toString()+")(",t.operation.toString(),");",'self.addEventListener("message", function(event) {',"  var buffer = __minion__(event.data);","  self.postMessage({buffer: buffer, meta: event.data.meta}, [buffer]);","});"]),r=new Blob(i,{type:"text/javascript"}),n=URL.createObjectURL(r),s=new Worker(n);return s.addEventListener("message",a),s}function i(t,a){var i=e(t.operation);return{postMessage:function(t){setTimeout(function(){a({data:{buffer:i(t),meta:t.meta}})},0)}}}function r(t){var e;this._imageOps=!!t.imageOps;var r=[];if(e=0===t.threads?0:this._imageOps?1:t.threads||1)for(var n=0;n<e;++n)r[n]=a(t,this._onWorkerMessage.bind(this,n));else r[0]=i(t,this._onWorkerMessage.bind(this,0));this._workers=r,this._queue=[],this._maxQueueLength=t.queue||1/0,this._running=0,this._dataLookup={},this._job=null}r.prototype.process=function(t,e,a){this._enqueue({inputs:t,meta:e,callback:a}),this._dispatch()},r.prototype.destroy=function(){for(var t in this)this[t]=null;this._destroyed=!0},r.prototype._enqueue=function(t){for(this._queue.push(t);this._queue.length>this._maxQueueLength;)this._queue.shift().callback(null,null)},r.prototype._dispatch=function(){if(0===this._running&&this._queue.length>0){var t=this._job=this._queue.shift(),e=t.inputs[0].width,a=t.inputs[0].height,i=t.inputs.map(function(t){return t.data.buffer}),r=this._workers.length;if(this._running=r,1===r)this._workers[0].postMessage({buffers:i,meta:t.meta,imageOps:this._imageOps,width:e,height:a},i);else for(var n=t.inputs[0].data.length,s=4*Math.ceil(n/4/r),o=0;o<r;++o){for(var u=o*s,h=[],f=0,p=i.length;f<p;++f)h.push(i[o].slice(u,u+s));this._workers[o].postMessage({buffers:h,meta:t.meta,imageOps:this._imageOps,width:e,height:a},h)}}},r.prototype._onWorkerMessage=function(t,e){this._destroyed||(this._dataLookup[t]=e.data,--this._running,0===this._running&&this._resolveJob())},r.prototype._resolveJob=function(){var e,a,i=this._job,r=this._workers.length;if(1===r)e=new Uint8ClampedArray(this._dataLookup[0].buffer),a=this._dataLookup[0].meta;else{var n=i.inputs[0].data.length;e=new Uint8ClampedArray(n),a=new Array(n);for(var s=4*Math.ceil(n/4/r),o=0;o<r;++o){var u=this._dataLookup[o].buffer,h=o*s;e.set(new Uint8ClampedArray(u),h),a[o]=this._dataLookup[o].meta}}this._job=null,this._dataLookup={},i.callback(null,t(e,i.inputs[0].width,i.inputs[0].height),a),this._dispatch()},module.exports=r;
},{"./util":"dJUt"}],"8pn8":[function(require,module,exports) {
var r=require("./processor");exports.Processor=r;
},{"./processor":"lnrF"}],"w95b":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("../util.js"),t=m(require("../ImageCanvas.js")),r=m(require("../TileQueue.js")),a=require("../dom.js"),n=require("../events.js"),i=m(require("../events/Event.js")),s=m(require("../events/EventType.js")),o=require("pixelworks/lib/index"),u=require("../extent.js"),d=m(require("../LayerType.js")),l=m(require("../layer/Image.js")),h=m(require("../layer/Tile.js")),p=require("../obj.js"),c=m(require("../renderer/canvas/ImageLayer.js")),f=m(require("../renderer/canvas/TileLayer.js")),v=m(require("./Image.js")),g=m(require("./State.js")),_=require("../transform.js");function m(e){return e&&e.__esModule?e:{default:e}}var y={BEFOREOPERATIONS:"beforeoperations",AFTEROPERATIONS:"afteroperations"},I={PIXEL:"pixel",IMAGE:"image"},S=function(e){function t(t,r,a){e.call(this,t),this.extent=r.extent,this.resolution=r.viewState.resolution/r.pixelRatio,this.data=a}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(i.default),w=function(i){function d(t){i.call(this,{projection:null}),this.worker_=null,this.operationType_=void 0!==t.operationType?t.operationType:I.PIXEL,this.threads_=void 0!==t.threads?t.threads:1,this.renderers_=E(t.sources);for(var a=0,o=this.renderers_.length;a<o;++a)(0,n.listen)(this.renderers_[a],s.default.CHANGE,this.changed,this);this.tileQueue_=new r.default(function(){return 1},this.changed.bind(this));for(var u=C(this.renderers_),d={},l=0,h=u.length;l<h;++l)d[(0,e.getUid)(u[l].layer)]=u[l];this.requestedFrameState_,this.renderedImageCanvas_=null,this.renderedRevision_,this.frameState_={animate:!1,coordinateToPixelTransform:(0,_.create)(),extent:null,focus:null,index:0,layerStates:d,layerStatesArray:u,pixelRatio:1,pixelToCoordinateTransform:(0,_.create)(),postRenderFunctions:[],size:[0,0],skippedFeatureUids:{},tileQueue:this.tileQueue_,time:Date.now(),usedTiles:{},viewState:{rotation:0},viewHints:[],wantedTiles:{}},void 0!==t.operation&&this.setOperation(t.operation,t.lib)}return i&&(d.__proto__=i),d.prototype=Object.create(i&&i.prototype),d.prototype.constructor=d,d.prototype.setOperation=function(e,t){this.worker_=new o.Processor({operation:e,imageOps:this.operationType_===I.IMAGE,queue:1,lib:t,threads:this.threads_}),this.changed()},d.prototype.updateFrameState_=function(e,t,r){var a=(0,p.assign)({},this.frameState_);a.viewState=(0,p.assign)({},a.viewState);var n=(0,u.getCenter)(e);a.extent=e.slice(),a.focus=n,a.size[0]=Math.round((0,u.getWidth)(e)/t),a.size[1]=Math.round((0,u.getHeight)(e)/t),a.time=Date.now(),a.animate=!1;var i=a.viewState;return i.center=n,i.projection=r,i.resolution=t,a},d.prototype.allSourcesReady_=function(){for(var e=!0,t=0,r=this.renderers_.length;t<r;++t)if(this.renderers_[t].getLayer().getSource().getState()!==g.default.READY){e=!1;break}return e},d.prototype.getImage=function(e,t,r,a){if(!this.allSourcesReady_())return null;var n=this.updateFrameState_(e,t,a);if(this.requestedFrameState_=n,this.renderedImageCanvas_){var i=this.renderedImageCanvas_.getResolution(),s=this.renderedImageCanvas_.getExtent();t===i&&(0,u.equals)(e,s)||(this.renderedImageCanvas_=null)}return this.renderedImageCanvas_&&this.getRevision()===this.renderedRevision_||this.processSources_(),n.tileQueue.loadMoreTiles(16,16),n.animate&&requestAnimationFrame(this.changed.bind(this)),this.renderedImageCanvas_},d.prototype.processSources_=function(){for(var e=this.requestedFrameState_,t=this.renderers_.length,r=new Array(t),a=0;a<t;++a){var n=q(this.renderers_[a],e,e.layerStatesArray[a]);if(!n)return;r[a]=n}var i={};this.dispatchEvent(new S(y.BEFOREOPERATIONS,e,i)),this.worker_.process(r,i,this.onWorkerComplete_.bind(this,e))},d.prototype.onWorkerComplete_=function(e,r,n,i){if(!r&&n){var s=e.extent,o=e.viewState.resolution;if(o===this.requestedFrameState_.viewState.resolution&&(0,u.equals)(s,this.requestedFrameState_.extent)){var d;if(this.renderedImageCanvas_)d=this.renderedImageCanvas_.getImage().getContext("2d");else{var l=Math.round((0,u.getWidth)(s)/o),h=Math.round((0,u.getHeight)(s)/o);d=(0,a.createCanvasContext2D)(l,h),this.renderedImageCanvas_=new t.default(s,o,1,d.canvas)}d.putImageData(n,0,0),this.changed(),this.renderedRevision_=this.getRevision(),this.dispatchEvent(new S(y.AFTEROPERATIONS,e,i))}}},d.prototype.getImageInternal=function(){return null},d}(v.default),T=null;function q(e,t,r){if(!e.prepareFrame(t,r))return null;var n=t.size[0],i=t.size[1];if(T){var s=T.canvas;s.width!==n||s.height!==i?T=(0,a.createCanvasContext2D)(n,i):T.clearRect(0,0,n,i)}else T=(0,a.createCanvasContext2D)(n,i);return e.composeFrame(t,r,T),T.getImageData(0,0,n,i)}function C(e){return e.map(function(e){return e.getLayer().getLayerState()})}function E(e){for(var t=e.length,r=new Array(t),a=0;a<t;++a)r[a]=j(e[a]);return r}function j(e){var t=e,r=e,a=e,n=null;return"function"==typeof t.getTile?n=R(t):"function"==typeof r.getImage?n=x(r):a.getType()===d.default.TILE?n=new f.default(a):a.getType()!=d.default.IMAGE&&a.getType()!=d.default.VECTOR||(n=new c.default(a)),n}function x(e){var t=new l.default({source:e});return new c.default(t)}function R(e){var t=new h.default({source:e});return new f.default(t)}var O=w;exports.default=O;
},{"../util.js":"KniQ","../ImageCanvas.js":"K7j2","../TileQueue.js":"0tHO","../dom.js":"Xno5","../events.js":"55Uq","../events/Event.js":"fKNg","../events/EventType.js":"C8cu","pixelworks/lib/index":"8pn8","../extent.js":"QDir","../LayerType.js":"8+bQ","../layer/Image.js":"2KHB","../layer/Tile.js":"BU+E","../obj.js":"mH6q","../renderer/canvas/ImageLayer.js":"rz/N","../renderer/canvas/TileLayer.js":"hkM/","./Image.js":"XHvt","./State.js":"iC8j","../transform.js":"P4eA"}],"3ehV":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("./OSM.js"),o=n(require("./XYZ.js"));function n(e){return e&&e.__esModule?e:{default:e}}var r=['Map tiles by <a href="https://stamen.com/">Stamen Design</a>, under <a href="https://creativecommons.org/licenses/by/3.0/">CC BY 3.0</a>.',e.ATTRIBUTION],t={terrain:{extension:"jpg",opaque:!0},"terrain-background":{extension:"jpg",opaque:!0},"terrain-labels":{extension:"png",opaque:!1},"terrain-lines":{extension:"png",opaque:!1},"toner-background":{extension:"png",opaque:!0},toner:{extension:"png",opaque:!0},"toner-hybrid":{extension:"png",opaque:!1},"toner-labels":{extension:"png",opaque:!1},"toner-lines":{extension:"png",opaque:!1},"toner-lite":{extension:"png",opaque:!0},watercolor:{extension:"jpg",opaque:!0}},a={terrain:{minZoom:4,maxZoom:18},toner:{minZoom:0,maxZoom:20},watercolor:{minZoom:1,maxZoom:16}},i=function(e){function o(o){var n=o.layer.indexOf("-"),i=-1==n?o.layer:o.layer.slice(0,n),s=a[i],p=t[o.layer],u=void 0!==o.url?o.url:"https://stamen-tiles-{a-d}.a.ssl.fastly.net/"+o.layer+"/{z}/{x}/{y}."+p.extension;e.call(this,{attributions:r,cacheSize:o.cacheSize,crossOrigin:"anonymous",maxZoom:null!=o.maxZoom?o.maxZoom:s.maxZoom,minZoom:null!=o.minZoom?o.minZoom:s.minZoom,opaque:p.opaque,reprojectionErrorThreshold:o.reprojectionErrorThreshold,tileLoadFunction:o.tileLoadFunction,url:u,wrapX:o.wrapX})}return e&&(o.__proto__=e),o.prototype=Object.create(e&&e.prototype),o.prototype.constructor=o,o}(o.default),s=i;exports.default=s;
},{"./OSM.js":"Rmo4","./XYZ.js":"knlU"}],"XUos":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("../extent.js"),t=require("../math.js"),r=require("../obj.js"),i=require("../size.js"),o=n(require("./TileImage.js")),a=require("../tilecoord.js"),s=require("../uri.js");function n(e){return e&&e.__esModule?e:{default:e}}var p=function(i){function o(t){var r=t||{};i.call(this,{attributions:r.attributions,cacheSize:r.cacheSize,crossOrigin:r.crossOrigin,projection:r.projection,reprojectionErrorThreshold:r.reprojectionErrorThreshold,tileGrid:r.tileGrid,tileLoadFunction:r.tileLoadFunction,tileUrlFunction:u,url:r.url,urls:r.urls,wrapX:void 0===r.wrapX||r.wrapX,transition:r.transition}),this.params_=r.params||{},this.tmpExtent_=(0,e.createEmpty)(),this.setKey(this.getKeyForParams_())}return i&&(o.__proto__=i),o.prototype=Object.create(i&&i.prototype),o.prototype.constructor=o,o.prototype.getKeyForParams_=function(){var e=0,t=[];for(var r in this.params_)t[e++]=r+"-"+this.params_[r];return t.join("/")},o.prototype.getParams=function(){return this.params_},o.prototype.getRequestUrl_=function(e,r,i,o,n,p){var u=this.urls;if(u){var l,c=n.getCode().split(":").pop();if(p.SIZE=r[0]+","+r[1],p.BBOX=i.join(","),p.BBOXSR=c,p.IMAGESR=c,p.DPI=Math.round(p.DPI?p.DPI*o:90*o),1==u.length)l=u[0];else l=u[(0,t.modulo)((0,a.hash)(e),u.length)];var h=l.replace(/MapServer\/?$/,"MapServer/export").replace(/ImageServer\/?$/,"ImageServer/exportImage");return(0,s.appendParams)(h,p)}},o.prototype.getTilePixelRatio=function(e){return e},o.prototype.updateParams=function(e){(0,r.assign)(this.params_,e),this.setKey(this.getKeyForParams_())},o}(o.default);function u(e,t,o){var a=this.getTileGrid();if(a||(a=this.getTileGridForProjection(o)),!(a.getResolutions().length<=e[0])){var s=a.getTileCoordExtent(e,this.tmpExtent_),n=(0,i.toSize)(a.getTileSize(e[0]),this.tmpSize);1!=t&&(n=(0,i.scale)(n,t,this.tmpSize));var p={F:"image",FORMAT:"PNG32",TRANSPARENT:!0};return(0,r.assign)(p,this.params_),this.getRequestUrl_(e,n,s,t,o,p)}}var l=p;exports.default=l;
},{"../extent.js":"QDir","../math.js":"B96G","../obj.js":"mH6q","../size.js":"TAHd","./TileImage.js":"6udA","../tilecoord.js":"2faT","../uri.js":"2n7G"}],"dQMP":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=l(require("../Tile.js")),e=l(require("../TileState.js")),r=require("../dom.js"),i=require("../size.js"),o=l(require("./Tile.js")),n=require("../tilecoord.js");function l(t){return t&&t.__esModule?t:{default:t}}var s=function(t){function i(r,i,o){t.call(this,r,e.default.LOADED),this.tileSize_=i,this.text_=o,this.canvas_=null}return t&&(i.__proto__=t),i.prototype=Object.create(t&&t.prototype),i.prototype.constructor=i,i.prototype.getImage=function(){if(this.canvas_)return this.canvas_;var t=this.tileSize_,e=(0,r.createCanvasContext2D)(t[0],t[1]);return e.strokeStyle="black",e.strokeRect(.5,.5,t[0]+.5,t[1]+.5),e.fillStyle="black",e.textAlign="center",e.textBaseline="middle",e.font="24px sans-serif",e.fillText(this.text_,t[0]/2,t[1]/2),this.canvas_=e.canvas,e.canvas},i.prototype.load=function(){},i}(t.default),a=function(t){function e(e){t.call(this,{opaque:!1,projection:e.projection,tileGrid:e.tileGrid,wrapX:void 0===e.wrapX||e.wrapX})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getTile=function(t,e,r){var o=(0,n.getKeyZXY)(t,e,r);if(this.tileCache.containsKey(o))return this.tileCache.get(o);var l=(0,i.toSize)(this.tileGrid.getTileSize(t)),a=[t,e,r],c=this.getTileCoordForTileUrlFunction(a),u=c?this.getTileCoordForTileUrlFunction(c).toString():"",p=new s(a,l,u);return this.tileCache.set(o,p),p},e}(o.default),c=a;exports.default=c;
},{"../Tile.js":"IWZI","../TileState.js":"Xz9x","../dom.js":"Xno5","../size.js":"TAHd","./Tile.js":"JECm","../tilecoord.js":"2faT"}],"V9RY":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../tileurlfunction.js"),e=require("../asserts.js"),r=require("../extent.js"),i=require("../net.js"),o=require("../proj.js"),n=l(require("./State.js")),s=l(require("./TileImage.js")),a=require("../tilegrid.js");function l(t){return t&&t.__esModule?t:{default:t}}var u=function(s){function l(t){if(s.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,projection:(0,o.get)("EPSG:3857"),reprojectionErrorThreshold:t.reprojectionErrorThreshold,state:n.default.LOADING,tileLoadFunction:t.tileLoadFunction,wrapX:void 0===t.wrapX||t.wrapX,transition:t.transition}),this.tileJSON_=null,t.url)if(t.jsonp)(0,i.jsonp)(t.url,this.handleTileJSONResponse.bind(this),this.handleTileJSONError.bind(this));else{var r=new XMLHttpRequest;r.addEventListener("load",this.onXHRLoad_.bind(this)),r.addEventListener("error",this.onXHRError_.bind(this)),r.open("GET",t.url),r.send()}else t.tileJSON?this.handleTileJSONResponse(t.tileJSON):(0,e.assert)(!1,51)}return s&&(l.__proto__=s),l.prototype=Object.create(s&&s.prototype),l.prototype.constructor=l,l.prototype.onXHRLoad_=function(t){var e=t.target;if(!e.status||e.status>=200&&e.status<300){var r;try{r=JSON.parse(e.responseText)}catch(i){return void this.handleTileJSONError()}this.handleTileJSONResponse(r)}else this.handleTileJSONError()},l.prototype.onXHRError_=function(t){this.handleTileJSONError()},l.prototype.getTileJSON=function(){return this.tileJSON_},l.prototype.handleTileJSONResponse=function(e){var i,s=(0,o.get)("EPSG:4326"),l=this.getProjection();if(void 0!==e.bounds){var u=(0,o.getTransformFromProjections)(s,l);i=(0,r.applyTransform)(e.bounds,u)}var d=e.minzoom||0,p=e.maxzoom||22,h=(0,a.createXYZ)({extent:(0,a.extentFromProjection)(l),maxZoom:p,minZoom:d});if(this.tileGrid=h,this.tileUrlFunction=(0,t.createFromTemplates)(e.tiles,h),void 0!==e.attribution&&!this.getAttributions()){var c=void 0!==i?i:s.getExtent();this.setAttributions(function(t){return(0,r.intersects)(c,t.extent)?[e.attribution]:null})}this.tileJSON_=e,this.setState(n.default.READY)},l.prototype.handleTileJSONError=function(){this.setState(n.default.ERROR)},l}(s.default),d=u;exports.default=d;
},{"../tileurlfunction.js":"p1v/","../asserts.js":"fLG6","../extent.js":"QDir","../net.js":"SU9K","../proj.js":"Diht","./State.js":"iC8j","./TileImage.js":"6udA","../tilegrid.js":"ExRx"}],"IcO7":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("./common.js"),e=require("../asserts.js"),r=require("../extent.js"),i=require("../obj.js"),s=require("../math.js"),o=require("../proj.js"),a=require("../reproj.js"),n=require("../size.js"),u=S(require("./TileImage.js")),p=S(require("./WMSServerType.js")),h=require("../tilecoord.js"),l=require("../string.js"),_=require("../uri.js");function S(t){return t&&t.__esModule?t:{default:t}}var c=function(u){function S(t){var e=t||{},i=e.params||{},s=!("TRANSPARENT"in i)||i.TRANSPARENT;u.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,crossOrigin:e.crossOrigin,opaque:!s,projection:e.projection,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileClass:e.tileClass,tileGrid:e.tileGrid,tileLoadFunction:e.tileLoadFunction,tileUrlFunction:d,url:e.url,urls:e.urls,wrapX:void 0===e.wrapX||e.wrapX,transition:e.transition}),this.gutter_=void 0!==e.gutter?e.gutter:0,this.params_=i,this.v13_=!0,this.serverType_=e.serverType,this.hidpi_=void 0===e.hidpi||e.hidpi,this.tmpExtent_=(0,r.createEmpty)(),this.updateV13_(),this.setKey(this.getKeyForParams_())}return u&&(S.__proto__=u),S.prototype=Object.create(u&&u.prototype),S.prototype.constructor=S,S.prototype.getGetFeatureInfoUrl=function(e,s,u,p){var h=(0,o.get)(u),l=this.getProjection(),_=this.getTileGrid();_||(_=this.getTileGridForProjection(h));var S=_.getTileCoordForCoordAndResolution(e,s);if(!(_.getResolutions().length<=S[0])){var c=_.getResolution(S[0]),d=_.getTileCoordExtent(S,this.tmpExtent_),g=(0,n.toSize)(_.getTileSize(S[0]),this.tmpSize),R=this.gutter_;0!==R&&(g=(0,n.buffer)(g,R,this.tmpSize),d=(0,r.buffer)(d,c*R,d)),l&&l!==h&&(c=(0,a.calculateSourceResolution)(l,h,e,c),d=(0,o.transformExtent)(d,h,l),e=(0,o.transform)(e,h,l));var T={SERVICE:"WMS",VERSION:t.DEFAULT_WMS_VERSION,REQUEST:"GetFeatureInfo",FORMAT:"image/png",TRANSPARENT:!0,QUERY_LAYERS:this.params_.LAYERS};(0,i.assign)(T,this.params_,p);var E=Math.floor((e[0]-d[0])/c),f=Math.floor((d[3]-e[1])/c);return T[this.v13_?"I":"X"]=E,T[this.v13_?"J":"Y"]=f,this.getRequestUrl_(S,g,d,1,l||h,T)}},S.prototype.getGutter=function(){return this.gutter_},S.prototype.getParams=function(){return this.params_},S.prototype.getRequestUrl_=function(t,r,i,o,a,n){var u=this.urls;if(u){if(n.WIDTH=r[0],n.HEIGHT=r[1],n[this.v13_?"CRS":"SRS"]=a.getCode(),"STYLES"in this.params_||(n.STYLES=""),1!=o)switch(this.serverType_){case p.default.GEOSERVER:var l=90*o+.5|0;"FORMAT_OPTIONS"in n?n.FORMAT_OPTIONS+=";dpi:"+l:n.FORMAT_OPTIONS="dpi:"+l;break;case p.default.MAPSERVER:n.MAP_RESOLUTION=90*o;break;case p.default.CARMENTA_SERVER:case p.default.QGIS:n.DPI=90*o;break;default:(0,e.assert)(!1,52)}var S,c,d=a.getAxisOrientation(),g=i;if(this.v13_&&"ne"==d.substr(0,2))S=i[0],g[0]=i[1],g[1]=S,S=i[2],g[2]=i[3],g[3]=S;if(n.BBOX=g.join(","),1==u.length)c=u[0];else c=u[(0,s.modulo)((0,h.hash)(t),u.length)];return(0,_.appendParams)(c,n)}},S.prototype.getTilePixelRatio=function(t){return this.hidpi_&&void 0!==this.serverType_?t:1},S.prototype.getKeyForParams_=function(){var t=0,e=[];for(var r in this.params_)e[t++]=r+"-"+this.params_[r];return e.join("/")},S.prototype.updateParams=function(t){(0,i.assign)(this.params_,t),this.updateV13_(),this.setKey(this.getKeyForParams_())},S.prototype.updateV13_=function(){var e=this.params_.VERSION||t.DEFAULT_WMS_VERSION;this.v13_=(0,l.compareVersions)(e,"1.3")>=0},S}(u.default);function d(e,s,o){var a=this.getTileGrid();if(a||(a=this.getTileGridForProjection(o)),!(a.getResolutions().length<=e[0])){1==s||this.hidpi_&&void 0!==this.serverType_||(s=1);var u=a.getResolution(e[0]),p=a.getTileCoordExtent(e,this.tmpExtent_),h=(0,n.toSize)(a.getTileSize(e[0]),this.tmpSize),l=this.gutter_;0!==l&&(h=(0,n.buffer)(h,l,this.tmpSize),p=(0,r.buffer)(p,u*l,p)),1!=s&&(h=(0,n.scale)(h,s,this.tmpSize));var _={SERVICE:"WMS",VERSION:t.DEFAULT_WMS_VERSION,REQUEST:"GetMap",FORMAT:"image/png",TRANSPARENT:!0};return(0,i.assign)(_,this.params_),this.getRequestUrl_(e,h,p,s,o,_)}}var g=c;exports.default=g;
},{"./common.js":"a8mu","../asserts.js":"fLG6","../extent.js":"QDir","../obj.js":"mH6q","../math.js":"B96G","../proj.js":"Diht","../reproj.js":"U255","../size.js":"TAHd","./TileImage.js":"6udA","./WMSServerType.js":"mXwm","../tilecoord.js":"2faT","../string.js":"AiCK","../uri.js":"2n7G"}],"o/CP":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.CustomTile=void 0;var t=c(require("../Tile.js")),e=c(require("../TileState.js")),i=require("../tileurlfunction.js"),r=require("../asserts.js"),o=require("../events.js"),s=c(require("../events/EventType.js")),n=require("../extent.js"),a=require("../net.js"),l=require("../proj.js"),h=c(require("./State.js")),u=c(require("./Tile.js")),d=require("../tilecoord.js"),p=require("../tilegrid.js");function c(t){return t&&t.__esModule?t:{default:t}}var _=function(t){function i(e,i,r,o,s,n){t.call(this,e,i),this.src_=r,this.extent_=o,this.preemptive_=s,this.grid_=null,this.keys_=null,this.data_=null,this.jsonp_=n}return t&&(i.__proto__=t),i.prototype=Object.create(t&&t.prototype),i.prototype.constructor=i,i.prototype.getImage=function(){return null},i.prototype.getData=function(t){if(!this.grid_||!this.keys_)return null;var e=(t[0]-this.extent_[0])/(this.extent_[2]-this.extent_[0]),i=(t[1]-this.extent_[1])/(this.extent_[3]-this.extent_[1]),r=this.grid_[Math.floor((1-i)*this.grid_.length)];if("string"!=typeof r)return null;var o=r.charCodeAt(Math.floor(e*r.length));o>=93&&o--,o>=35&&o--;var s=null;if((o-=32)in this.keys_){var n=this.keys_[o];s=this.data_&&n in this.data_?this.data_[n]:n}return s},i.prototype.forDataAtCoordinate=function(t,i,r,n){this.state==e.default.IDLE&&!0===n?((0,o.listenOnce)(this,s.default.CHANGE,function(e){i.call(r,this.getData(t))},this),this.loadInternal_()):!0===n?setTimeout(function(){i.call(r,this.getData(t))}.bind(this),0):i.call(r,this.getData(t))},i.prototype.getKey=function(){return this.src_},i.prototype.handleError_=function(){this.state=e.default.ERROR,this.changed()},i.prototype.handleLoad_=function(t){this.grid_=t.grid,this.keys_=t.keys,this.data_=t.data,this.state=e.default.EMPTY,this.changed()},i.prototype.loadInternal_=function(){if(this.state==e.default.IDLE)if(this.state=e.default.LOADING,this.jsonp_)(0,a.jsonp)(this.src_,this.handleLoad_.bind(this),this.handleError_.bind(this));else{var t=new XMLHttpRequest;t.addEventListener("load",this.onXHRLoad_.bind(this)),t.addEventListener("error",this.onXHRError_.bind(this)),t.open("GET",this.src_),t.send()}},i.prototype.onXHRLoad_=function(t){var e=t.target;if(!e.status||e.status>=200&&e.status<300){var i;try{i=JSON.parse(e.responseText)}catch(r){return void this.handleError_()}this.handleLoad_(i)}else this.handleError_()},i.prototype.onXHRError_=function(t){this.handleError_()},i.prototype.load=function(){this.preemptive_&&this.loadInternal_()},i}(t.default);exports.CustomTile=_;var f=function(t){function o(e){if(t.call(this,{projection:(0,l.get)("EPSG:3857"),state:h.default.LOADING}),this.preemptive_=void 0===e.preemptive||e.preemptive,this.tileUrlFunction_=i.nullTileUrlFunction,this.template_=void 0,this.jsonp_=e.jsonp||!1,e.url)if(this.jsonp_)(0,a.jsonp)(e.url,this.handleTileJSONResponse.bind(this),this.handleTileJSONError.bind(this));else{var o=new XMLHttpRequest;o.addEventListener("load",this.onXHRLoad_.bind(this)),o.addEventListener("error",this.onXHRError_.bind(this)),o.open("GET",e.url),o.send()}else e.tileJSON?this.handleTileJSONResponse(e.tileJSON):(0,r.assert)(!1,51)}return t&&(o.__proto__=t),o.prototype=Object.create(t&&t.prototype),o.prototype.constructor=o,o.prototype.onXHRLoad_=function(t){var e=t.target;if(!e.status||e.status>=200&&e.status<300){var i;try{i=JSON.parse(e.responseText)}catch(r){return void this.handleTileJSONError()}this.handleTileJSONResponse(i)}else this.handleTileJSONError()},o.prototype.onXHRError_=function(t){this.handleTileJSONError()},o.prototype.getTemplate=function(){return this.template_},o.prototype.forDataAtCoordinateAndResolution=function(t,e,i,r){if(this.tileGrid){var o=this.tileGrid.getTileCoordForCoordAndResolution(t,e);this.getTile(o[0],o[1],o[2],1,this.getProjection()).forDataAtCoordinate(t,i,null,r)}else!0===r?setTimeout(function(){i(null)},0):i(null)},o.prototype.handleTileJSONError=function(){this.setState(h.default.ERROR)},o.prototype.handleTileJSONResponse=function(t){var e,r=(0,l.get)("EPSG:4326"),o=this.getProjection();if(void 0!==t.bounds){var s=(0,l.getTransformFromProjections)(r,o);e=(0,n.applyTransform)(t.bounds,s)}var a=t.minzoom||0,u=t.maxzoom||22,d=(0,p.createXYZ)({extent:(0,p.extentFromProjection)(o),maxZoom:u,minZoom:a});this.tileGrid=d,this.template_=t.template;var c=t.grids;if(c){if(this.tileUrlFunction_=(0,i.createFromTemplates)(c,d),void 0!==t.attribution){var _=void 0!==e?e:r.getExtent();this.setAttributions(function(e){return(0,n.intersects)(_,e.extent)?[t.attribution]:null})}this.setState(h.default.READY)}else this.setState(h.default.ERROR)},o.prototype.getTile=function(t,i,r,o,s){var n=(0,d.getKeyZXY)(t,i,r);if(this.tileCache.containsKey(n))return this.tileCache.get(n);var a=[t,i,r],l=this.getTileCoordForTileUrlFunction(a,s),h=this.tileUrlFunction_(l,o,s),u=new _(a,void 0!==h?e.default.IDLE:e.default.EMPTY,void 0!==h?h:"",this.tileGrid.getTileCoordExtent(a),this.preemptive_,this.jsonp_);return this.tileCache.set(n,u),u},o.prototype.useTile=function(t,e,i){var r=(0,d.getKeyZXY)(t,e,i);this.tileCache.containsKey(r)&&this.tileCache.get(r)},o}(u.default),v=f;exports.default=v;
},{"../Tile.js":"IWZI","../TileState.js":"Xz9x","../tileurlfunction.js":"p1v/","../asserts.js":"fLG6","../events.js":"55Uq","../events/EventType.js":"C8cu","../extent.js":"QDir","../net.js":"SU9K","../proj.js":"Diht","./State.js":"iC8j","./Tile.js":"JECm","../tilecoord.js":"2faT","../tilegrid.js":"ExRx"}],"A6uo":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=a(require("../TileState.js")),t=s(require("../VectorImageTile.js")),i=a(require("../VectorTile.js")),r=require("../size.js"),o=a(require("./UrlTile.js")),l=require("../tilecoord.js"),n=require("../tilegrid.js");function s(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,i):{};r.get||r.set?Object.defineProperty(t,i,r):t[i]=e[i]}return t.default=e,t}function a(e){return e&&e.__esModule?e:{default:e}}var u=function(o){function s(e){var r=e.projection||"EPSG:3857",l=e.extent||(0,n.extentFromProjection)(r),s=e.tileGrid||(0,n.createXYZ)({extent:l,maxZoom:e.maxZoom||22,minZoom:e.minZoom,tileSize:e.tileSize||512});o.call(this,{attributions:e.attributions,cacheSize:void 0!==e.cacheSize?e.cacheSize:128,opaque:!1,projection:r,state:e.state,tileGrid:s,tileLoadFunction:e.tileLoadFunction?e.tileLoadFunction:t.defaultLoadFunction,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:void 0===e.wrapX||e.wrapX,transition:e.transition}),this.format_=e.format?e.format:null,this.sourceTiles_={},this.overlaps_=null==e.overlaps||e.overlaps,this.tileClass=e.tileClass?e.tileClass:i.default,this.tileGrids_={}}return o&&(s.__proto__=o),s.prototype=Object.create(o&&o.prototype),s.prototype.constructor=s,s.prototype.getOverlaps=function(){return this.overlaps_},s.prototype.clear=function(){this.tileCache.clear(),this.sourceTiles_={}},s.prototype.getTile=function(i,r,o,n,s){var a=(0,l.getKeyZXY)(i,r,o);if(this.tileCache.containsKey(a))return this.tileCache.get(a);var u=[i,r,o],c=this.getTileCoordForTileUrlFunction(u,s),d=new t.default(u,null!==c?e.default.IDLE:e.default.EMPTY,this.getRevision(),this.format_,this.tileLoadFunction,c,this.tileUrlFunction,this.tileGrid,this.getTileGridForProjection(s),this.sourceTiles_,n,s,this.tileClass,this.handleTileChange.bind(this),u[0]);return this.tileCache.set(a,d),d},s.prototype.getTileGridForProjection=function(e){var t=e.getCode(),i=this.tileGrids_[t];if(!i){var r=this.tileGrid;i=this.tileGrids_[t]=(0,n.createForProjection)(e,void 0,r?r.getTileSize(r.getMinZoom()):void 0)}return i},s.prototype.getTilePixelRatio=function(e){return e},s.prototype.getTilePixelSize=function(e,t,i){var o=this.getTileGridForProjection(i),l=(0,r.toSize)(o.getTileSize(e),this.tmpSize);return[Math.round(l[0]*t),Math.round(l[1]*t)]},s}(o.default),c=u;exports.default=c;
},{"../TileState.js":"Xz9x","../VectorImageTile.js":"xDao","../VectorTile.js":"yj80","../size.js":"TAHd","./UrlTile.js":"uv+9","../tilecoord.js":"2faT","../tilegrid.js":"ExRx"}],"21gB":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={KVP:"KVP",REST:"REST"};exports.default=e;
},{}],"5omF":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.createFromCapabilitiesMatrixSet=s,exports.default=void 0;var e=require("../array.js"),t=require("../proj.js"),i=r(require("./TileGrid.js"));function r(e){return e&&e.__esModule?e:{default:e}}var o=function(e){function t(t){e.call(this,{extent:t.extent,origin:t.origin,origins:t.origins,resolutions:t.resolutions,tileSize:t.tileSize,tileSizes:t.tileSizes,sizes:t.sizes}),this.matrixIds_=t.matrixIds}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getMatrixId=function(e){return this.matrixIds_[e]},t.prototype.getMatrixIds=function(){return this.matrixIds_},t}(i.default),n=o;function s(i,r,n){var s=[],u=[],a=[],l=[],p=[],d=void 0!==n?n:[],f=i.SupportedCRS,c=(0,t.get)(f.replace(/urn:ogc:def:crs:(\w+):(.*:)?(\w+)$/,"$1:$3"))||(0,t.get)(f),x=c.getMetersPerUnit(),h="ne"==c.getAxisOrientation().substr(0,2);return i.TileMatrix.sort(function(e,t){return t.ScaleDenominator-e.ScaleDenominator}),i.TileMatrix.forEach(function(t){if(!(d.length>0)||(0,e.find)(d,function(e){return t.Identifier==e.TileMatrix||-1===t.Identifier.indexOf(":")&&i.Identifier+":"+t.Identifier===e.TileMatrix})){u.push(t.Identifier);var r=28e-5*t.ScaleDenominator/x,o=t.TileWidth,n=t.TileHeight;h?a.push([t.TopLeftCorner[1],t.TopLeftCorner[0]]):a.push(t.TopLeftCorner),s.push(r),l.push(o==n?o:[o,n]),p.push([t.MatrixWidth,-t.MatrixHeight])}}),new o({extent:r,origins:a,resolutions:s,matrixIds:u,tileSizes:l,sizes:p})}exports.default=n;
},{"../array.js":"luEr","../proj.js":"Diht","./TileGrid.js":"5dp/"}],"LIR5":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.optionsFromCapabilities=f,exports.default=void 0;var e=require("../tileurlfunction.js"),t=require("../array.js"),i=require("../extent.js"),r=require("../obj.js"),n=require("../proj.js"),o=l(require("./TileImage.js")),s=l(require("./WMTSRequestEncoding.js")),a=require("../tilegrid/WMTS.js"),u=require("../uri.js");function l(e){return e&&e.__esModule?e:{default:e}}var c=function(t){function i(i){var r=void 0!==i.requestEncoding?i.requestEncoding:s.default.KVP,n=i.tileGrid,o=i.urls;void 0===o&&void 0!==i.url&&(o=(0,e.expandUrl)(i.url)),t.call(this,{attributions:i.attributions,cacheSize:i.cacheSize,crossOrigin:i.crossOrigin,projection:i.projection,reprojectionErrorThreshold:i.reprojectionErrorThreshold,tileClass:i.tileClass,tileGrid:n,tileLoadFunction:i.tileLoadFunction,tilePixelRatio:i.tilePixelRatio,tileUrlFunction:e.nullTileUrlFunction,urls:o,wrapX:void 0!==i.wrapX&&i.wrapX,transition:i.transition}),this.version_=void 0!==i.version?i.version:"1.0.0",this.format_=void 0!==i.format?i.format:"image/jpeg",this.dimensions_=void 0!==i.dimensions?i.dimensions:{},this.layer_=i.layer,this.matrixSet_=i.matrixSet,this.style_=i.style,this.requestEncoding_=r,this.setKey(this.getKeyForDimensions_()),o&&o.length>0&&(this.tileUrlFunction=(0,e.createFromTileUrlFunctions)(o.map(p.bind(this))))}return t&&(i.__proto__=t),i.prototype=Object.create(t&&t.prototype),i.prototype.constructor=i,i.prototype.setUrls=function(t){this.urls=t;var i=t.join("\n");this.setTileUrlFunction((0,e.createFromTileUrlFunctions)(t.map(p.bind(this))),i)},i.prototype.getDimensions=function(){return this.dimensions_},i.prototype.getFormat=function(){return this.format_},i.prototype.getLayer=function(){return this.layer_},i.prototype.getMatrixSet=function(){return this.matrixSet_},i.prototype.getRequestEncoding=function(){return this.requestEncoding_},i.prototype.getStyle=function(){return this.style_},i.prototype.getVersion=function(){return this.version_},i.prototype.getKeyForDimensions_=function(){var e=0,t=[];for(var i in this.dimensions_)t[e++]=i+"-"+this.dimensions_[i];return t.join("/")},i.prototype.updateDimensions=function(e){(0,r.assign)(this.dimensions_,e),this.setKey(this.getKeyForDimensions_())},i}(o.default),d=c;function f(e,r){var o=e.Contents.Layer,u=(0,t.find)(o,function(e,t,i){return e.Identifier==r.layer});if(null===u)return null;var l,c=e.Contents.TileMatrixSet;(l=u.TileMatrixSetLink.length>1?"projection"in r?(0,t.findIndex)(u.TileMatrixSetLink,function(e,i,o){var s=(0,t.find)(c,function(t){return t.Identifier==e.TileMatrixSet}).SupportedCRS,a=(0,n.get)(s.replace(/urn:ogc:def:crs:(\w+):(.*:)?(\w+)$/,"$1:$3"))||(0,n.get)(s),u=(0,n.get)(r.projection);return a&&u?(0,n.equivalent)(a,u):s==r.projection}):(0,t.findIndex)(u.TileMatrixSetLink,function(e,t,i){return e.TileMatrixSet==r.matrixSet}):0)<0&&(l=0);var d=u.TileMatrixSetLink[l].TileMatrixSet,f=u.TileMatrixSetLink[l].TileMatrixSetLimits,p=u.Format[0];"format"in r&&(p=r.format),(l=(0,t.findIndex)(u.Style,function(e,t,i){return"style"in r?e.Title==r.style:e.isDefault}))<0&&(l=0);var h=u.Style[l].Identifier,g={};"Dimension"in u&&u.Dimension.forEach(function(e,t,i){var r=e.Identifier,n=e.Default;void 0===n&&(n=e.Value[0]),g[r]=n});var m,v=e.Contents.TileMatrixSet,y=(0,t.find)(v,function(e,t,i){return e.Identifier==d}),x=y.SupportedCRS;if(x&&(m=(0,n.get)(x.replace(/urn:ogc:def:crs:(\w+):(.*:)?(\w+)$/,"$1:$3"))||(0,n.get)(x)),"projection"in r){var S=(0,n.get)(r.projection);S&&(m&&!(0,n.equivalent)(S,m)||(m=S))}var _,T,j=u.WGS84BoundingBox;if(void 0!==j){var M=(0,n.get)("EPSG:4326").getExtent();T=j[0]==M[0]&&j[2]==M[2],_=(0,n.transformExtent)(j,"EPSG:4326",m);var q=m.getExtent();q&&((0,i.containsExtent)(q,_)||(_=void 0))}var E=(0,a.createFromCapabilitiesMatrixSet)(y,_,f),F=[],P=r.requestEncoding;if(P=void 0!==P?P:"","OperationsMetadata"in e&&"GetTile"in e.OperationsMetadata)for(var C=e.OperationsMetadata.GetTile.DCP.HTTP.Get,w=0,L=C.length;w<L;++w)if(C[w].Constraint){var G=(0,t.find)(C[w].Constraint,function(e){return"GetEncoding"==e.name}).AllowedValues.Value;if(""===P&&(P=G[0]),P!==s.default.KVP)break;(0,t.includes)(G,s.default.KVP)&&F.push(C[w].href)}else C[w].href&&(P=s.default.KVP,F.push(C[w].href));return 0===F.length&&(P=s.default.REST,u.ResourceURL.forEach(function(e){"tile"===e.resourceType&&(p=e.format,F.push(e.template))})),{urls:F,layer:r.layer,matrixSet:d,format:p,projection:m,requestEncoding:P,tileGrid:E,style:h,dimensions:g,wrapX:T,crossOrigin:r.crossOrigin}}function p(e){var t=this.requestEncoding_,i={layer:this.layer_,style:this.style_,tilematrixset:this.matrixSet_};t==s.default.KVP&&(0,r.assign)(i,{Service:"WMTS",Request:"GetTile",Version:this.version_,Format:this.format_}),e=t==s.default.KVP?(0,u.appendParams)(e,i):e.replace(/\{(\w+?)\}/g,function(e,t){return t.toLowerCase()in i?i[t.toLowerCase()]:e});var n=this.tileGrid,o=this.dimensions_;return function(i,a,l){if(i){var c={TileMatrix:n.getMatrixId(i[0]),TileCol:i[1],TileRow:-i[2]-1};(0,r.assign)(c,o);var d=e;return d=t==s.default.KVP?(0,u.appendParams)(d,c):d.replace(/\{(\w+?)\}/g,function(e,t){return c[t]})}}}exports.default=d;
},{"../tileurlfunction.js":"p1v/","../array.js":"luEr","../extent.js":"QDir","../obj.js":"mH6q","../proj.js":"Diht","./TileImage.js":"6udA","./WMTSRequestEncoding.js":"21gB","../tilegrid/WMTS.js":"5omF","../uri.js":"2n7G"}],"aDh3":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.CustomTile=void 0;var e=require("../tilegrid/common.js"),t=c(require("../ImageTile.js")),r=c(require("../TileState.js")),i=require("../tileurlfunction.js"),o=require("../asserts.js"),a=require("../dom.js"),n=require("../extent.js"),s=require("../size.js"),u=c(require("./TileImage.js")),l=c(require("../tilegrid/TileGrid.js"));function c(e){return e&&e.__esModule?e:{default:e}}var p={DEFAULT:"default",TRUNCATED:"truncated"},f=function(e){function t(t,r,i,o,a,n,u){e.call(this,r,i,o,a,n,u),this.zoomifyImage_=null,this.tileSize_=(0,s.toSize)(t.getTileSize(r[0]))}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getImage=function(){if(this.zoomifyImage_)return this.zoomifyImage_;var t=e.prototype.getImage.call(this);if(this.state==r.default.LOADED){var i=this.tileSize_;if(t.width==i[0]&&t.height==i[1])return this.zoomifyImage_=t,t;var o=(0,a.createCanvasContext2D)(i[0],i[1]);return o.drawImage(t,0,0),this.zoomifyImage_=o.canvas,o.canvas}return t},t}(t.default);exports.CustomTile=f;var h=function(t){function r(r){var a=r||{},s=a.size,u=void 0!==a.tierSizeCalculation?a.tierSizeCalculation:p.DEFAULT,c=s[0],h=s[1],d=a.extent||[0,-s[1],s[0],0],T=[],g=a.tileSize||e.DEFAULT_TILE_SIZE,m=g;switch(u){case p.DEFAULT:for(;c>m||h>m;)T.push([Math.ceil(c/m),Math.ceil(h/m)]),m+=m;break;case p.TRUNCATED:for(var v=c,_=h;v>m||_>m;)T.push([Math.ceil(v/m),Math.ceil(_/m)]),v>>=1,_>>=1;break;default:(0,o.assert)(!1,53)}T.push([1,1]),T.reverse();for(var z=[1],j=[0],y=1,x=T.length;y<x;y++)z.push(1<<y),j.push(T[y-1][0]*T[y-1][1]+j[y-1]);z.reverse();var I=new l.default({tileSize:g,extent:d,origin:(0,n.getTopLeft)(d),resolutions:z}),S=a.url;S&&-1==S.indexOf("{TileGroup}")&&-1==S.indexOf("{tileIndex}")&&(S+="{TileGroup}/{z}-{x}-{y}.jpg");var E=(0,i.expandUrl)(S);var q=(0,i.createFromTileUrlFunctions)(E.map(function(e){return function(t,r,i){if(t){var o=t[0],a=t[1],n=-t[2]-1,s=a+n*T[o][0],u=I.getTileSize(o),l=Array.isArray(u)?u[0]:u,c={z:o,x:a,y:n,tileIndex:s,TileGroup:"TileGroup"+((s+j[o])/l|0)};return e.replace(/\{(\w+?)\}/g,function(e,t){return c[t]})}}})),A=f.bind(null,I);t.call(this,{attributions:a.attributions,cacheSize:a.cacheSize,crossOrigin:a.crossOrigin,projection:a.projection,reprojectionErrorThreshold:a.reprojectionErrorThreshold,tileClass:A,tileGrid:I,tileUrlFunction:q,transition:a.transition})}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r}(u.default),d=h;exports.default=d;
},{"../tilegrid/common.js":"mOEX","../ImageTile.js":"T/Os","../TileState.js":"Xz9x","../tileurlfunction.js":"p1v/","../asserts.js":"fLG6","../dom.js":"Xno5","../extent.js":"QDir","../size.js":"TAHd","./TileImage.js":"6udA","../tilegrid/TileGrid.js":"5dp/"}],"kDr9":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"BingMaps",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(exports,"CartoDB",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(exports,"Cluster",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(exports,"Image",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(exports,"ImageArcGISRest",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(exports,"ImageCanvas",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(exports,"ImageMapGuide",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(exports,"ImageStatic",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(exports,"ImageWMS",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(exports,"OSM",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(exports,"Raster",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(exports,"Source",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(exports,"Stamen",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(exports,"Tile",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(exports,"TileArcGISRest",{enumerable:!0,get:function(){return b.default}}),Object.defineProperty(exports,"TileDebug",{enumerable:!0,get:function(){return j.default}}),Object.defineProperty(exports,"TileImage",{enumerable:!0,get:function(){return g.default}}),Object.defineProperty(exports,"TileJSON",{enumerable:!0,get:function(){return m.default}}),Object.defineProperty(exports,"TileWMS",{enumerable:!0,get:function(){return O.default}}),Object.defineProperty(exports,"UrlTile",{enumerable:!0,get:function(){return y.default}}),Object.defineProperty(exports,"UTFGrid",{enumerable:!0,get:function(){return x.default}}),Object.defineProperty(exports,"Vector",{enumerable:!0,get:function(){return P.default}}),Object.defineProperty(exports,"VectorTile",{enumerable:!0,get:function(){return q.default}}),Object.defineProperty(exports,"WMTS",{enumerable:!0,get:function(){return S.default}}),Object.defineProperty(exports,"XYZ",{enumerable:!0,get:function(){return T.default}}),Object.defineProperty(exports,"Zoomify",{enumerable:!0,get:function(){return I.default}});var e=M(require("./source/BingMaps.js")),r=M(require("./source/CartoDB.js")),t=M(require("./source/Cluster.js")),u=M(require("./source/Image.js")),n=M(require("./source/ImageArcGISRest.js")),o=M(require("./source/ImageCanvas.js")),i=M(require("./source/ImageMapGuide.js")),s=M(require("./source/ImageStatic.js")),c=M(require("./source/ImageWMS.js")),a=M(require("./source/OSM.js")),f=M(require("./source/Raster.js")),l=M(require("./source/Source.js")),d=M(require("./source/Stamen.js")),p=M(require("./source/Tile.js")),b=M(require("./source/TileArcGISRest.js")),j=M(require("./source/TileDebug.js")),g=M(require("./source/TileImage.js")),m=M(require("./source/TileJSON.js")),O=M(require("./source/TileWMS.js")),y=M(require("./source/UrlTile.js")),x=M(require("./source/UTFGrid.js")),P=M(require("./source/Vector.js")),q=M(require("./source/VectorTile.js")),S=M(require("./source/WMTS.js")),T=M(require("./source/XYZ.js")),I=M(require("./source/Zoomify.js"));function M(e){return e&&e.__esModule?e:{default:e}}
},{"./source/BingMaps.js":"K+sj","./source/CartoDB.js":"WJrq","./source/Cluster.js":"sV2m","./source/Image.js":"XHvt","./source/ImageArcGISRest.js":"P20y","./source/ImageCanvas.js":"3Y2u","./source/ImageMapGuide.js":"C9PY","./source/ImageStatic.js":"zK6j","./source/ImageWMS.js":"e4Kb","./source/OSM.js":"Rmo4","./source/Raster.js":"w95b","./source/Source.js":"H38a","./source/Stamen.js":"3ehV","./source/Tile.js":"JECm","./source/TileArcGISRest.js":"XUos","./source/TileDebug.js":"dQMP","./source/TileImage.js":"6udA","./source/TileJSON.js":"V9RY","./source/TileWMS.js":"IcO7","./source/UrlTile.js":"uv+9","./source/UTFGrid.js":"o/CP","./source/Vector.js":"ZS12","./source/VectorTile.js":"A6uo","./source/WMTS.js":"LIR5","./source/XYZ.js":"knlU","./source/Zoomify.js":"aDh3"}],"hADF":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.dependencies=exports.devDependencies=exports.scripts=exports.files=exports.repository=exports.module=exports.jsdelivr=exports.unpkg=exports.main=exports.author=exports.license=exports.homepage=exports.keywords=exports.description=exports.version=exports.name=void 0;var e="d3";exports.name=e;var s="6.3.1";exports.version=s;var t="Data-Driven Documents";exports.description=t;var r=["dom","visualization","svg","animation","canvas"];exports.keywords=r;var d="https://d3js.org";exports.homepage=d;var o="BSD-3-Clause";exports.license=o;var i={name:"Mike Bostock",url:"https://bost.ocks.org/mike"};exports.author=i;var p="dist/d3.node.js";exports.main=p;var a="dist/d3.min.js";exports.unpkg=a;var n="dist/d3.min.js";exports.jsdelivr=n;var m="index.js";exports.module=m;var c={type:"git",url:"https://github.com/d3/d3.git"};exports.repository=c;var l=["dist/**/*.js","index.js"];exports.files=l;var v={pretest:"rimraf dist && mkdir dist && json2module package.json > dist/package.js && rollup -c",test:"tape 'test/**/*-test.js'",prepublishOnly:"yarn test",postpublish:'git push && git push --tags && cd ../d3.github.com && git pull && cp ../d3/dist/d3.js d3.v${npm_package_version%%.*}.js && cp ../d3/dist/d3.min.js d3.v${npm_package_version%%.*}.min.js && git add d3.v${npm_package_version%%.*}.js d3.v${npm_package_version%%.*}.min.js && git commit -m "d3 ${npm_package_version}" && git push && cd - && zip -j dist/d3.zip -- LICENSE README.md API.md CHANGES.md dist/d3.js dist/d3.min.js'};exports.scripts=v;var u={json2module:"0.0",rimraf:"3",rollup:"2","rollup-plugin-ascii":"0.0","rollup-plugin-node-resolve":"5","rollup-plugin-terser":"7",tape:"4","tape-await":"0.1"};exports.devDependencies=u;var x={"d3-array":"2","d3-axis":"2","d3-brush":"2","d3-chord":"2","d3-color":"2","d3-contour":"2","d3-delaunay":"5","d3-dispatch":"2","d3-drag":"2","d3-dsv":"2","d3-ease":"2","d3-fetch":"2","d3-force":"2","d3-format":"2","d3-geo":"2","d3-hierarchy":"2","d3-interpolate":"2","d3-path":"2","d3-polygon":"2","d3-quadtree":"2","d3-random":"2","d3-scale":"3","d3-scale-chromatic":"2","d3-selection":"2","d3-shape":"2","d3-time":"2","d3-time-format":"3","d3-timer":"2","d3-transition":"2","d3-zoom":"2"};exports.dependencies=x;
},{}],"5A6F":[function(require,module,exports) {
"use strict";function e(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"raOJ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=t;var n=e(require("./ascending.js"));function e(n){return n&&n.__esModule?n:{default:n}}function t(n){let e=n,t=n;function l(n,e,u,l){for(null==u&&(u=0),null==l&&(l=n.length);u<l;){const r=u+l>>>1;t(n[r],e)<0?u=r+1:l=r}return u}return 1===n.length&&(e=((e,t)=>n(e)-t),t=u(n)),{left:l,center:function(n,t,u,r){null==u&&(u=0),null==r&&(r=n.length);const o=l(n,t,u,r-1);return o>u&&e(n[o-1],t)>-e(n[o],t)?o-1:o},right:function(n,e,u,l){for(null==u&&(u=0),null==l&&(l=n.length);u<l;){const r=u+l>>>1;t(n[r],e)>0?l=r:u=r+1}return u}}}function u(e){return(t,u)=>(0,n.default)(e(t),u)}
},{"./ascending.js":"5A6F"}],"9fz/":[function(require,module,exports) {
"use strict";function e(e){return null===e?NaN:+e}function*l(e,l){if(void 0===l)for(let t of e)null!=t&&(t=+t)>=t&&(yield t);else{let t=-1;for(let o of e)null!=(o=l(o,++t,e))&&(o=+o)>=o&&(yield o)}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e,exports.numbers=l;
},{}],"VX/h":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.bisectCenter=exports.bisectLeft=exports.bisectRight=void 0;var e=s(require("./ascending.js")),t=s(require("./bisector.js")),r=s(require("./number.js"));function s(e){return e&&e.__esModule?e:{default:e}}const i=(0,t.default)(e.default),o=i.right;exports.bisectRight=o;const u=i.left;exports.bisectLeft=u;const c=(0,t.default)(r.default).center;exports.bisectCenter=c;var n=o;exports.default=n;
},{"./ascending.js":"5A6F","./bisector.js":"raOJ","./number.js":"9fz/"}],"1nH3":[function(require,module,exports) {
"use strict";function e(e,t){let l=0;if(void 0===t)for(let o of e)null!=o&&(o=+o)>=o&&++l;else{let o=-1;for(let r of e)null!=(r=t(r,++o,e))&&(r=+r)>=r&&++l}return l}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"9JGh":[function(require,module,exports) {
"use strict";function t(t){return 0|t.length}function e(t){return!(t>0)}function n(t){return"object"!=typeof t||"length"in t?t:Array.from(t)}function r(t){return e=>t(...e)}function o(...o){const u="function"==typeof o[o.length-1]&&r(o.pop()),f=(o=o.map(n)).map(t),i=o.length-1,p=new Array(i+1).fill(0),c=[];if(i<0||f.some(e))return c;for(;;){c.push(p.map((t,e)=>o[e][t]));let t=i;for(;++p[t]===f[t];){if(0===t)return u?c.map(u):c;p[t--]=0}}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=o;
},{}],"ReCz":[function(require,module,exports) {
"use strict";function e(e,r){var t=0,o=0;return Float64Array.from(e,void 0===r?e=>t+=+e||0:u=>t+=+r(u,o++,e)||0)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"wjXp":[function(require,module,exports) {
"use strict";function e(e,t){return t<e?-1:t>e?1:t>=e?0:NaN}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"IBjk":[function(require,module,exports) {
"use strict";function e(e,t){let l,o=0,f=0,r=0;if(void 0===t)for(let u of e)null!=u&&(u=+u)>=u&&(r+=(l=u-f)*(u-(f+=l/++o)));else{let u=-1;for(let i of e)null!=(i=t(i,++u,e))&&(i=+i)>=i&&(r+=(l=i-f)*(i-(f+=l/++o)))}if(o>1)return r/(o-1)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"JPBu":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=r;var e=t(require("./variance.js"));function t(e){return e&&e.__esModule?e:{default:e}}function r(t,r){const u=(0,e.default)(t,r);return u?Math.sqrt(u):u}
},{"./variance.js":"IBjk"}],"tlMU":[function(require,module,exports) {
"use strict";function e(e,o){let t,l;if(void 0===o)for(const r of e)null!=r&&(void 0===t?r>=r&&(t=l=r):(t>r&&(t=r),l<r&&(l=r)));else{let r=-1;for(let f of e)null!=(f=o(f,++r,e))&&(void 0===t?f>=f&&(t=l=f):(t>f&&(t=f),l<f&&(l=f)))}return[t,l]}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"G2JF":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e,exports.Adder=void 0;class t{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const e=this._partials;let s=0;for(let r=0;r<this._n&&r<32;r++){const o=e[r],a=t+o,i=Math.abs(t)<Math.abs(o)?t-(a-o):o-(a-t);i&&(e[s++]=i),t=a}return e[s]=t,this._n=s+1,this}valueOf(){const t=this._partials;let e,s,r,o=this._n,a=0;if(o>0){for(a=t[--o];o>0&&(e=a,!(r=(s=t[--o])-((a=e+s)-e))););o>0&&(r<0&&t[o-1]<0||r>0&&t[o-1]>0)&&(s=2*r)==(e=a+s)-a&&(a=e)}return a}}function e(e,s){const r=new t;if(void 0===s)for(let t of e)(t=+t)&&r.add(t);else{let t=-1;for(let o of e)(o=+s(o,++t,e))&&r.add(o)}return+r}exports.Adder=t;
},{}],"nPOL":[function(require,module,exports) {
"use strict";function e(e){return e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"5Q7X":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e,exports.groups=n,exports.rollup=u,exports.rollups=o,exports.index=f,exports.indexes=s;var r=t(require("./identity.js"));function t(r){return r&&r.__esModule?r:{default:r}}function e(t,...e){return l(t,r.default,r.default,e)}function n(t,...e){return l(t,Array.from,r.default,e)}function u(t,e,...n){return l(t,r.default,e,n)}function o(r,t,...e){return l(r,Array.from,t,e)}function f(t,...e){return l(t,r.default,i,e)}function s(r,...t){return l(r,Array.from,i,t)}function i(r){if(1!==r.length)throw new Error("duplicate key");return r[0]}function l(r,t,e,n){return function r(u,o){if(o>=n.length)return e(u);const f=new Map,s=n[o++];let i=-1;for(const t of u){const r=s(t,++i,u),e=f.get(r);e?e.push(t):f.set(r,[t])}for(const[t,e]of f)f.set(t,r(e,o));return t(f)}(r,0)}
},{"./identity.js":"nPOL"}],"+OA0":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.map=exports.slice=void 0;var e=Array.prototype,r=e.slice;exports.slice=r;var p=e.map;exports.map=p;
},{}],"5O/Y":[function(require,module,exports) {
"use strict";function e(e){return function(){return e}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"nJNY":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e,exports.tickIncrement=o,exports.tickStep=M;var t=Math.sqrt(50),r=Math.sqrt(10),a=Math.sqrt(2);function e(t,r,a){var e,M,h,i,n=-1;if(a=+a,(t=+t)===(r=+r)&&a>0)return[t];if((e=r<t)&&(M=t,t=r,r=M),0===(i=o(t,r,a))||!isFinite(i))return[];if(i>0)for(t=Math.ceil(t/i),r=Math.floor(r/i),h=new Array(M=Math.ceil(r-t+1));++n<M;)h[n]=(t+n)*i;else for(i=-i,t=Math.ceil(t*i),r=Math.floor(r*i),h=new Array(M=Math.ceil(r-t+1));++n<M;)h[n]=(t+n)/i;return e&&h.reverse(),h}function o(e,o,M){var h=(o-e)/Math.max(0,M),i=Math.floor(Math.log(h)/Math.LN10),n=h/Math.pow(10,i);return i>=0?(n>=t?10:n>=r?5:n>=a?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(n>=t?10:n>=r?5:n>=a?2:1)}function M(e,o,M){var h=Math.abs(o-e)/Math.max(0,M),i=Math.pow(10,Math.floor(Math.log(h)/Math.LN10)),n=h/i;return n>=t?i*=10:n>=r?i*=5:n>=a&&(i*=2),o<e?-i:i}
},{}],"lM1L":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=t;var e=require("./ticks.js");function t(t,r,i){let o;for(;;){const c=(0,e.tickIncrement)(t,r,i);if(c===o||0===c||!isFinite(c))return[t,r];c>0?(t=Math.floor(t/c)*c,r=Math.ceil(r/c)*c):c<0&&(t=Math.ceil(t*c)/c,r=Math.floor(r*c)/c),o=c}}
},{"./ticks.js":"nJNY"}],"Pg/U":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=u;var e=t(require("../count.js"));function t(e){return e&&e.__esModule?e:{default:e}}function u(t){return Math.ceil(Math.log((0,e.default)(t))/Math.LN2)+1}
},{"../count.js":"1nH3"}],"oE+j":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=s;var e=require("./array.js"),r=l(require("./bisect.js")),t=l(require("./constant.js")),n=l(require("./extent.js")),u=l(require("./identity.js")),i=l(require("./nice.js")),f=a(require("./ticks.js")),o=l(require("./threshold/sturges.js"));function a(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,t):{};n.get||n.set?Object.defineProperty(r,t,n):r[t]=e[t]}return r.default=e,r}function l(e){return e&&e.__esModule?e:{default:e}}function s(){var a=u.default,l=n.default,s=o.default;function c(e){Array.isArray(e)||(e=Array.from(e));var t,u,o=e.length,c=new Array(o);for(t=0;t<o;++t)c[t]=a(e[t],t,e);var d=l(c),y=d[0],p=d[1],h=s(c,y,p);if(!Array.isArray(h)){const e=p,r=+h;if(l===n.default&&([y,p]=(0,i.default)(y,p,r)),(h=(0,f.default)(y,p,r))[h.length-1]>=p)if(e>=p&&l===n.default){const e=(0,f.tickIncrement)(y,p,r);isFinite(e)&&(e>0?p=(Math.floor(p/e)+1)*e:e<0&&(p=(Math.ceil(p*-e)+1)/-e))}else h.pop()}for(var j=h.length;h[0]<=y;)h.shift(),--j;for(;h[j-1]>p;)h.pop(),--j;var v,g=new Array(j+1);for(t=0;t<=j;++t)(v=g[t]=[]).x0=t>0?h[t-1]:y,v.x1=t<j?h[t]:p;for(t=0;t<o;++t)y<=(u=c[t])&&u<=p&&g[(0,r.default)(h,u,0,j)].push(e[t]);return g}return c.value=function(e){return arguments.length?(a="function"==typeof e?e:(0,t.default)(e),c):a},c.domain=function(e){return arguments.length?(l="function"==typeof e?e:(0,t.default)([e[0],e[1]]),c):l},c.thresholds=function(r){return arguments.length?(s="function"==typeof r?r:Array.isArray(r)?(0,t.default)(e.slice.call(r)):(0,t.default)(r),c):s},c}
},{"./array.js":"+OA0","./bisect.js":"VX/h","./constant.js":"5O/Y","./extent.js":"tlMU","./identity.js":"nPOL","./nice.js":"lM1L","./ticks.js":"nJNY","./threshold/sturges.js":"Pg/U"}],"8Rao":[function(require,module,exports) {
"use strict";function e(e,o){let t;if(void 0===o)for(const l of e)null!=l&&(t<l||void 0===t&&l>=l)&&(t=l);else{let l=-1;for(let r of e)null!=(r=o(r,++l,e))&&(t<r||void 0===t&&r>=r)&&(t=r)}return t}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"WLfU":[function(require,module,exports) {
"use strict";function e(e,o){let t;if(void 0===o)for(const l of e)null!=l&&(t>l||void 0===t&&l>=l)&&(t=l);else{let l=-1;for(let r of e)null!=(r=o(r,++l,e))&&(t>r||void 0===t&&r>=r)&&(t=r)}return t}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"0Dxt":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=o;var t=e(require("./ascending.js"));function e(t){return t&&t.__esModule?t:{default:t}}function o(e,n,a=0,f=e.length-1,u=t.default){for(;f>a;){if(f-a>600){const t=f-a+1,r=n-a+1,s=Math.log(t),l=.5*Math.exp(2*s/3),c=.5*Math.sqrt(s*l*(t-l)/t)*(r-t/2<0?-1:1);o(e,n,Math.max(a,Math.floor(n-r*l/t+c)),Math.min(f,Math.floor(n+(t-r)*l/t+c)),u)}const t=e[n];let s=a,l=f;for(r(e,a,n),u(e[f],t)>0&&r(e,a,f);s<l;){for(r(e,s,l),++s,--l;u(e[s],t)<0;)++s;for(;u(e[l],t)>0;)--l}0===u(e[a],t)?r(e,a,l):r(e,++l,f),l<=n&&(a=l+1),n<=l&&(f=l-1)}return e}function r(t,e,o){const r=t[e];t[e]=t[o],t[o]=r}
},{"./ascending.js":"5A6F"}],"9qox":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=a,exports.quantileSorted=o;var e=f(require("./max.js")),r=f(require("./min.js")),t=f(require("./quickselect.js")),u=n(require("./number.js"));function n(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)){var u=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,t):{};u.get||u.set?Object.defineProperty(r,t,u):r[t]=e[t]}return r.default=e,r}function f(e){return e&&e.__esModule?e:{default:e}}function a(n,f,a){if(o=(n=Float64Array.from((0,u.numbers)(n,a))).length){if((f=+f)<=0||o<2)return(0,r.default)(n);if(f>=1)return(0,e.default)(n);var o,i=(o-1)*f,l=Math.floor(i),s=(0,e.default)((0,t.default)(n,l).subarray(0,l+1));return s+((0,r.default)(n.subarray(l+1))-s)*(i-l)}}function o(e,r,t=u.default){if(n=e.length){if((r=+r)<=0||n<2)return+t(e[0],0,e);if(r>=1)return+t(e[n-1],n-1,e);var n,f=(n-1)*r,a=Math.floor(f),o=+t(e[a],a,e);return o+(+t(e[a+1],a+1,e)-o)*(f-a)}}
},{"./max.js":"8Rao","./min.js":"WLfU","./quickselect.js":"0Dxt","./number.js":"9fz/"}],"a8Ry":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=r;var e=u(require("../count.js")),t=u(require("../quantile.js"));function u(e){return e&&e.__esModule?e:{default:e}}function r(u,r,a){return Math.ceil((a-r)/(2*((0,t.default)(u,.75)-(0,t.default)(u,.25))*Math.pow((0,e.default)(u),-1/3)))}
},{"../count.js":"1nH3","../quantile.js":"9qox"}],"VlA4":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=r;var e=u(require("../count.js")),t=u(require("../deviation.js"));function u(e){return e&&e.__esModule?e:{default:e}}function r(u,r,o){return Math.ceil((o-r)/(3.5*(0,t.default)(u)*Math.pow((0,e.default)(u),-1/3)))}
},{"../count.js":"1nH3","../deviation.js":"JPBu"}],"o4HH":[function(require,module,exports) {
"use strict";function e(e,o){let t,l=-1,r=-1;if(void 0===o)for(const f of e)++r,null!=f&&(t<f||void 0===t&&f>=f)&&(t=f,l=r);else for(let f of e)null!=(f=o(f,++r,e))&&(t<f||void 0===t&&f>=f)&&(t=f,l=r);return l}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"hoEE":[function(require,module,exports) {
"use strict";function e(e,t){let l=0,o=0;if(void 0===t)for(let f of e)null!=f&&(f=+f)>=f&&(++l,o+=f);else{let f=-1;for(let r of e)null!=(r=t(r,++f,e))&&(r=+r)>=r&&(++l,o+=r)}if(l)return o/l}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"FMd1":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=u;var e=t(require("./quantile.js"));function t(e){return e&&e.__esModule?e:{default:e}}function u(t,u){return(0,e.default)(t,.5,u)}
},{"./quantile.js":"9qox"}],"0SAj":[function(require,module,exports) {
"use strict";function*e(e){for(const r of e)yield*r}function r(r){return Array.from(e(r))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=r;
},{}],"qBXv":[function(require,module,exports) {
"use strict";function e(e,o){let t,l=-1,r=-1;if(void 0===o)for(const f of e)++r,null!=f&&(t>f||void 0===t&&f>=f)&&(t=f,l=r);else for(let f of e)null!=(f=o(f,++r,e))&&(t>f||void 0===t&&f>=f)&&(t=f,l=r);return l}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"0aKl":[function(require,module,exports) {
"use strict";function e(e,r=t){const o=[];let n,s=!1;for(const t of e)s&&o.push(r(n,t)),n=t,s=!0;return o}function t(e,t){return[e,t]}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e,exports.pair=t;
},{}],"4V5Z":[function(require,module,exports) {
"use strict";function e(e,r){return Array.from(r,r=>e[r])}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"M4+6":[function(require,module,exports) {
"use strict";function e(e,t,r){e=+e,t=+t,r=(n=arguments.length)<2?(t=e,e=0,1):n<3?1:+r;for(var a=-1,n=0|Math.max(0,Math.ceil((t-e)/r)),o=new Array(n);++a<n;)o[a]=e+a*r;return o}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"FcEW":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=o;var e=t(require("./ascending.js"));function t(e){return e&&e.__esModule?e:{default:e}}function o(t,o=e.default){let r,u=!1;if(1===o.length){let f;for(const n of t){const t=o(n);(u?(0,e.default)(t,f)<0:0===(0,e.default)(t,t))&&(r=n,f=t,u=!0)}}else for(const e of t)(u?o(e,r)<0:0===o(e,e))&&(r=e,u=!0);return r}
},{"./ascending.js":"5A6F"}],"WaFY":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=u;var e=r(require("./ascending.js")),t=r(require("./minIndex.js"));function r(e){return e&&e.__esModule?e:{default:e}}function u(r,u=e.default){if(1===u.length)return(0,t.default)(r,u);let n,f=-1,o=-1;for(const e of r)++o,(f<0?0===u(e,e):u(e,n)<0)&&(n=e,f=o);return f}
},{"./ascending.js":"5A6F","./minIndex.js":"qBXv"}],"ieMY":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=o;var e=t(require("./ascending.js"));function t(e){return e&&e.__esModule?e:{default:e}}function o(t,o=e.default){let r,u=!1;if(1===o.length){let f;for(const n of t){const t=o(n);(u?(0,e.default)(t,f)>0:0===(0,e.default)(t,t))&&(r=n,f=t,u=!0)}}else for(const e of t)(u?o(e,r)>0:0===o(e,e))&&(r=e,u=!0);return r}
},{"./ascending.js":"5A6F"}],"fBcN":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=u;var e=r(require("./ascending.js")),t=r(require("./maxIndex.js"));function r(e){return e&&e.__esModule?e:{default:e}}function u(r,u=e.default){if(1===u.length)return(0,t.default)(r,u);let n,f=-1,o=-1;for(const e of r)++o,(f<0?0===u(e,e):u(e,n)>0)&&(n=e,f=o);return f}
},{"./ascending.js":"5A6F","./maxIndex.js":"o4HH"}],"/c8h":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=r;var e=t(require("./leastIndex.js"));function t(e){return e&&e.__esModule?e:{default:e}}function r(t,r){const u=(0,e.default)(t,r);return u<0?void 0:u}
},{"./leastIndex.js":"WaFY"}],"Z0Nc":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.shuffler=t,exports.default=void 0;var e=t(Math.random);function t(e){return function(t,r=0,o=t.length){let n=o-(r=+r);for(;n;){const o=e()*n--|0,u=t[n+r];t[n+r]=t[o+r],t[o+r]=u}return t}}exports.default=e;
},{}],"O7Vy":[function(require,module,exports) {
"use strict";function e(e,t){let o=0;if(void 0===t)for(let r of e)(r=+r)&&(o+=r);else{let r=-1;for(let f of e)(f=+t(f,++r,e))&&(o+=f)}return o}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"pk0a":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=t;var e=r(require("./min.js"));function r(e){return e&&e.__esModule?e:{default:e}}function t(r){if(!(o=r.length))return[];for(var t=-1,u=(0,e.default)(r,n),f=new Array(u);++t<u;)for(var o,a=-1,i=f[t]=new Array(o);++a<o;)i[a]=r[a][t];return f}function n(e){return e.length}
},{"./min.js":"WLfU"}],"oAxq":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=r;var e=t(require("./transpose.js"));function t(e){return e&&e.__esModule?e:{default:e}}function r(){return(0,e.default)(arguments)}
},{"./transpose.js":"pk0a"}],"1Xx7":[function(require,module,exports) {
"use strict";function t(t,e){if("function"!=typeof e)throw new TypeError("test is not a function");let o=-1;for(const r of t)if(!e(r,++o,t))return!1;return!0}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=t;
},{}],"fyzl":[function(require,module,exports) {
"use strict";function t(t,e){if("function"!=typeof e)throw new TypeError("test is not a function");let o=-1;for(const r of t)if(e(r,++o,t))return!0;return!1}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=t;
},{}],"NmuY":[function(require,module,exports) {
"use strict";function t(t,e){if("function"!=typeof e)throw new TypeError("test is not a function");const o=[];let n=-1;for(const r of t)e(r,++n,t)&&o.push(r);return o}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=t;
},{}],"ngd6":[function(require,module,exports) {
"use strict";function e(e,r){if("function"!=typeof e[Symbol.iterator])throw new TypeError("values is not iterable");if("function"!=typeof r)throw new TypeError("mapper is not a function");return Array.from(e,(t,o)=>r(t,o,e))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"SNT2":[function(require,module,exports) {
"use strict";function e(e,t,r){if("function"!=typeof t)throw new TypeError("reducer is not a function");const n=e[Symbol.iterator]();let o,u,f=-1;if(arguments.length<3){if(({done:o,value:r}=n.next()),o)return;++f}for(;({done:o,value:u}=n.next()),!o;)r=t(r,u,++f,e);return r}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"HN/k":[function(require,module,exports) {
"use strict";function e(e){if("function"!=typeof e[Symbol.iterator])throw new TypeError("values is not iterable");return Array.from(e).reverse()}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"s5J4":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=u;var e=t(require("./ascending.js")),r=t(require("./permute.js"));function t(e){return e&&e.__esModule?e:{default:e}}function u(t,u=e.default){if("function"!=typeof t[Symbol.iterator])throw new TypeError("values is not iterable");return t=Array.from(t),1===u.length?(u=t.map(u),(0,r.default)(t,t.map((e,r)=>r).sort((r,t)=>(0,e.default)(u[r],u[t])))):t.sort(u)}
},{"./ascending.js":"5A6F","./permute.js":"4V5Z"}],"5zgi":[function(require,module,exports) {
"use strict";function e(e,...t){e=new Set(e);for(const o of t)for(const t of o)e.delete(t);return e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"XwZe":[function(require,module,exports) {
"use strict";function e(e,t){const r=t[Symbol.iterator](),o=new Set;for(const n of e){if(o.has(n))return!1;let e,t;for(;({value:e,done:t}=r.next())&&!t;){if(Object.is(n,e))return!1;o.add(e)}}return!0}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"rHF1":[function(require,module,exports) {
"use strict";function e(e){return e instanceof Set?e:new Set(e)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"JMcU":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=o;var e=t(require("./set.js"));function t(e){return e&&e.__esModule?e:{default:e}}function o(t,...o){t=new Set(t),o=o.map(e.default);e:for(const e of t)for(const r of o)if(!r.has(e)){t.delete(e);continue e}return t}
},{"./set.js":"rHF1"}],"mxnn":[function(require,module,exports) {
"use strict";function e(e,t){const o=e[Symbol.iterator](),r=new Set;for(const n of t){if(r.has(n))continue;let e,t;for(;({value:e,done:t}=o.next());){if(t)return!1;if(r.add(e),Object.is(n,e))break}}return!0}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"r0XF":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=r;var e=t(require("./superset.js"));function t(e){return e&&e.__esModule?e:{default:e}}function r(t,r){return(0,e.default)(r,t)}
},{"./superset.js":"mxnn"}],"fxd/":[function(require,module,exports) {
"use strict";function e(...e){const t=new Set;for(const o of e)for(const e of o)t.add(e);return t}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"cBuZ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"bisect",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(exports,"bisectRight",{enumerable:!0,get:function(){return e.bisectRight}}),Object.defineProperty(exports,"bisectLeft",{enumerable:!0,get:function(){return e.bisectLeft}}),Object.defineProperty(exports,"bisectCenter",{enumerable:!0,get:function(){return e.bisectCenter}}),Object.defineProperty(exports,"ascending",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(exports,"bisector",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(exports,"count",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(exports,"cross",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(exports,"cumsum",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(exports,"descending",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(exports,"deviation",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(exports,"extent",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(exports,"fsum",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(exports,"Adder",{enumerable:!0,get:function(){return c.Adder}}),Object.defineProperty(exports,"group",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(exports,"groups",{enumerable:!0,get:function(){return a.groups}}),Object.defineProperty(exports,"index",{enumerable:!0,get:function(){return a.index}}),Object.defineProperty(exports,"indexes",{enumerable:!0,get:function(){return a.indexes}}),Object.defineProperty(exports,"rollup",{enumerable:!0,get:function(){return a.rollup}}),Object.defineProperty(exports,"rollups",{enumerable:!0,get:function(){return a.rollups}}),Object.defineProperty(exports,"bin",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(exports,"histogram",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(exports,"thresholdFreedmanDiaconis",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(exports,"thresholdScott",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(exports,"thresholdSturges",{enumerable:!0,get:function(){return b.default}}),Object.defineProperty(exports,"max",{enumerable:!0,get:function(){return j.default}}),Object.defineProperty(exports,"maxIndex",{enumerable:!0,get:function(){return m.default}}),Object.defineProperty(exports,"mean",{enumerable:!0,get:function(){return g.default}}),Object.defineProperty(exports,"median",{enumerable:!0,get:function(){return x.default}}),Object.defineProperty(exports,"merge",{enumerable:!0,get:function(){return y.default}}),Object.defineProperty(exports,"min",{enumerable:!0,get:function(){return O.default}}),Object.defineProperty(exports,"minIndex",{enumerable:!0,get:function(){return P.default}}),Object.defineProperty(exports,"nice",{enumerable:!0,get:function(){return q.default}}),Object.defineProperty(exports,"pairs",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(exports,"permute",{enumerable:!0,get:function(){return v.default}}),Object.defineProperty(exports,"quantile",{enumerable:!0,get:function(){return I.default}}),Object.defineProperty(exports,"quantileSorted",{enumerable:!0,get:function(){return I.quantileSorted}}),Object.defineProperty(exports,"quickselect",{enumerable:!0,get:function(){return k.default}}),Object.defineProperty(exports,"range",{enumerable:!0,get:function(){return S.default}}),Object.defineProperty(exports,"least",{enumerable:!0,get:function(){return _.default}}),Object.defineProperty(exports,"leastIndex",{enumerable:!0,get:function(){return D.default}}),Object.defineProperty(exports,"greatest",{enumerable:!0,get:function(){return w.default}}),Object.defineProperty(exports,"greatestIndex",{enumerable:!0,get:function(){return M.default}}),Object.defineProperty(exports,"scan",{enumerable:!0,get:function(){return z.default}}),Object.defineProperty(exports,"shuffle",{enumerable:!0,get:function(){return A.default}}),Object.defineProperty(exports,"shuffler",{enumerable:!0,get:function(){return A.shuffler}}),Object.defineProperty(exports,"sum",{enumerable:!0,get:function(){return C.default}}),Object.defineProperty(exports,"ticks",{enumerable:!0,get:function(){return L.default}}),Object.defineProperty(exports,"tickIncrement",{enumerable:!0,get:function(){return L.tickIncrement}}),Object.defineProperty(exports,"tickStep",{enumerable:!0,get:function(){return L.tickStep}}),Object.defineProperty(exports,"transpose",{enumerable:!0,get:function(){return R.default}}),Object.defineProperty(exports,"variance",{enumerable:!0,get:function(){return F.default}}),Object.defineProperty(exports,"zip",{enumerable:!0,get:function(){return B.default}}),Object.defineProperty(exports,"every",{enumerable:!0,get:function(){return E.default}}),Object.defineProperty(exports,"some",{enumerable:!0,get:function(){return G.default}}),Object.defineProperty(exports,"filter",{enumerable:!0,get:function(){return H.default}}),Object.defineProperty(exports,"map",{enumerable:!0,get:function(){return J.default}}),Object.defineProperty(exports,"reduce",{enumerable:!0,get:function(){return K.default}}),Object.defineProperty(exports,"reverse",{enumerable:!0,get:function(){return N.default}}),Object.defineProperty(exports,"sort",{enumerable:!0,get:function(){return Q.default}}),Object.defineProperty(exports,"difference",{enumerable:!0,get:function(){return T.default}}),Object.defineProperty(exports,"disjoint",{enumerable:!0,get:function(){return U.default}}),Object.defineProperty(exports,"intersection",{enumerable:!0,get:function(){return V.default}}),Object.defineProperty(exports,"subset",{enumerable:!0,get:function(){return W.default}}),Object.defineProperty(exports,"superset",{enumerable:!0,get:function(){return X.default}}),Object.defineProperty(exports,"union",{enumerable:!0,get:function(){return Y.default}});var e=$(require("./bisect.js")),r=Z(require("./ascending.js")),t=Z(require("./bisector.js")),n=Z(require("./count.js")),u=Z(require("./cross.js")),i=Z(require("./cumsum.js")),o=Z(require("./descending.js")),f=Z(require("./deviation.js")),s=Z(require("./extent.js")),c=$(require("./fsum.js")),a=$(require("./group.js")),d=Z(require("./bin.js")),p=Z(require("./threshold/freedmanDiaconis.js")),l=Z(require("./threshold/scott.js")),b=Z(require("./threshold/sturges.js")),j=Z(require("./max.js")),m=Z(require("./maxIndex.js")),g=Z(require("./mean.js")),x=Z(require("./median.js")),y=Z(require("./merge.js")),O=Z(require("./min.js")),P=Z(require("./minIndex.js")),q=Z(require("./nice.js")),h=Z(require("./pairs.js")),v=Z(require("./permute.js")),I=$(require("./quantile.js")),k=Z(require("./quickselect.js")),S=Z(require("./range.js")),_=Z(require("./least.js")),D=Z(require("./leastIndex.js")),w=Z(require("./greatest.js")),M=Z(require("./greatestIndex.js")),z=Z(require("./scan.js")),A=$(require("./shuffle.js")),C=Z(require("./sum.js")),L=$(require("./ticks.js")),R=Z(require("./transpose.js")),F=Z(require("./variance.js")),B=Z(require("./zip.js")),E=Z(require("./every.js")),G=Z(require("./some.js")),H=Z(require("./filter.js")),J=Z(require("./map.js")),K=Z(require("./reduce.js")),N=Z(require("./reverse.js")),Q=Z(require("./sort.js")),T=Z(require("./difference.js")),U=Z(require("./disjoint.js")),V=Z(require("./intersection.js")),W=Z(require("./subset.js")),X=Z(require("./superset.js")),Y=Z(require("./union.js"));function Z(e){return e&&e.__esModule?e:{default:e}}function $(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,t):{};n.get||n.set?Object.defineProperty(r,t,n):r[t]=e[t]}return r.default=e,r}
},{"./bisect.js":"VX/h","./ascending.js":"5A6F","./bisector.js":"raOJ","./count.js":"1nH3","./cross.js":"9JGh","./cumsum.js":"ReCz","./descending.js":"wjXp","./deviation.js":"JPBu","./extent.js":"tlMU","./fsum.js":"G2JF","./group.js":"5Q7X","./bin.js":"oE+j","./threshold/freedmanDiaconis.js":"a8Ry","./threshold/scott.js":"VlA4","./threshold/sturges.js":"Pg/U","./max.js":"8Rao","./maxIndex.js":"o4HH","./mean.js":"hoEE","./median.js":"FMd1","./merge.js":"0SAj","./min.js":"WLfU","./minIndex.js":"qBXv","./nice.js":"lM1L","./pairs.js":"0aKl","./permute.js":"4V5Z","./quantile.js":"9qox","./quickselect.js":"0Dxt","./range.js":"M4+6","./least.js":"FcEW","./leastIndex.js":"WaFY","./greatest.js":"ieMY","./greatestIndex.js":"fBcN","./scan.js":"/c8h","./shuffle.js":"Z0Nc","./sum.js":"O7Vy","./ticks.js":"nJNY","./transpose.js":"pk0a","./variance.js":"IBjk","./zip.js":"oAxq","./every.js":"1Xx7","./some.js":"fyzl","./filter.js":"NmuY","./map.js":"ngd6","./reduce.js":"SNT2","./reverse.js":"HN/k","./sort.js":"s5J4","./difference.js":"5zgi","./disjoint.js":"XwZe","./intersection.js":"JMcU","./subset.js":"r0XF","./superset.js":"mxnn","./union.js":"fxd/"}],"rv5q":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.slice=void 0;var e=Array.prototype.slice;exports.slice=e;
},{}],"Qz/6":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.axisTop=p,exports.axisRight=h,exports.axisBottom=x,exports.axisLeft=g;var t=require("./array.js"),n=r(require("./identity.js"));function r(t){return t&&t.__esModule?t:{default:t}}var e=1,i=2,a=3,o=4,u=1e-6;function l(t){return"translate("+(t+.5)+",0)"}function c(t){return"translate(0,"+(t+.5)+")"}function s(t){return n=>+t(n)}function f(t){var n=Math.max(0,t.bandwidth()-1)/2;return t.round()&&(n=Math.round(n)),function(r){return+t(r)+n}}function d(){return!this.__axis}function m(r,m){var p=[],h=null,x=null,g=6,k=6,y=3,_=r===e||r===o?-1:1,M=r===o||r===i?"x":"y",v=r===e||r===a?l:c;function F(t){var l=null==h?m.ticks?m.ticks.apply(m,p):m.domain():h,c=null==x?m.tickFormat?m.tickFormat.apply(m,p):n.default:x,F=Math.max(g,0)+y,V=m.range(),b=+V[0]+.5,z=+V[V.length-1]+.5,A=(m.bandwidth?f:s)(m.copy()),H=t.selection?t.selection():t,j=H.selectAll(".domain").data([null]),C=H.selectAll(".tick").data(l,m).order(),S=C.exit(),q=C.enter().append("g").attr("class","tick"),w=C.select("line"),O=C.select("text");j=j.merge(j.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),C=C.merge(q),w=w.merge(q.append("line").attr("stroke","currentColor").attr(M+"2",_*g)),O=O.merge(q.append("text").attr("fill","currentColor").attr(M,_*F).attr("dy",r===e?"0em":r===a?"0.71em":"0.32em")),t!==H&&(j=j.transition(t),C=C.transition(t),w=w.transition(t),O=O.transition(t),S=S.transition(t).attr("opacity",u).attr("transform",function(t){return isFinite(t=A(t))?v(t):this.getAttribute("transform")}),q.attr("opacity",u).attr("transform",function(t){var n=this.parentNode.__axis;return v(n&&isFinite(n=n(t))?n:A(t))})),S.remove(),j.attr("d",r===o||r==i?k?"M"+_*k+","+b+"H0.5V"+z+"H"+_*k:"M0.5,"+b+"V"+z:k?"M"+b+","+_*k+"V0.5H"+z+"V"+_*k:"M"+b+",0.5H"+z),C.attr("opacity",1).attr("transform",function(t){return v(A(t))}),w.attr(M+"2",_*g),O.attr(M,_*F).text(c),H.filter(d).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",r===i?"start":r===o?"end":"middle"),H.each(function(){this.__axis=A})}return F.scale=function(t){return arguments.length?(m=t,F):m},F.ticks=function(){return p=t.slice.call(arguments),F},F.tickArguments=function(n){return arguments.length?(p=null==n?[]:t.slice.call(n),F):p.slice()},F.tickValues=function(n){return arguments.length?(h=null==n?null:t.slice.call(n),F):h&&h.slice()},F.tickFormat=function(t){return arguments.length?(x=t,F):x},F.tickSize=function(t){return arguments.length?(g=k=+t,F):g},F.tickSizeInner=function(t){return arguments.length?(g=+t,F):g},F.tickSizeOuter=function(t){return arguments.length?(k=+t,F):k},F.tickPadding=function(t){return arguments.length?(y=+t,F):y},F}function p(t){return m(e,t)}function h(t){return m(i,t)}function x(t){return m(a,t)}function g(t){return m(o,t)}
},{"./array.js":"rv5q","./identity.js":"nPOL"}],"y9Kr":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"axisTop",{enumerable:!0,get:function(){return e.axisTop}}),Object.defineProperty(exports,"axisRight",{enumerable:!0,get:function(){return e.axisRight}}),Object.defineProperty(exports,"axisBottom",{enumerable:!0,get:function(){return e.axisBottom}}),Object.defineProperty(exports,"axisLeft",{enumerable:!0,get:function(){return e.axisLeft}});var e=require("./axis.js");
},{"./axis.js":"Qz/6"}],"C/lH":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var n={value:()=>{}};function r(){for(var n,r=0,t=arguments.length,o={};r<t;++r){if(!(n=arguments[r]+"")||n in o||/[\s.]/.test(n))throw new Error("illegal type: "+n);o[n]=[]}return new e(o)}function e(n){this._=n}function t(n,r){return n.trim().split(/^|\s+/).map(function(n){var e="",t=n.indexOf(".");if(t>=0&&(e=n.slice(t+1),n=n.slice(0,t)),n&&!r.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:e}})}function o(n,r){for(var e,t=0,o=n.length;t<o;++t)if((e=n[t]).name===r)return e.value}function i(r,e,t){for(var o=0,i=r.length;o<i;++o)if(r[o].name===e){r[o]=n,r=r.slice(0,o).concat(r.slice(o+1));break}return null!=t&&r.push({name:e,value:t}),r}e.prototype=r.prototype={constructor:e,on:function(n,r){var e,l=this._,a=t(n+"",l),f=-1,u=a.length;if(!(arguments.length<2)){if(null!=r&&"function"!=typeof r)throw new Error("invalid callback: "+r);for(;++f<u;)if(e=(n=a[f]).type)l[e]=i(l[e],n.name,r);else if(null==r)for(e in l)l[e]=i(l[e],n.name,null);return this}for(;++f<u;)if((e=(n=a[f]).type)&&(e=o(l[e],n.name)))return e},copy:function(){var n={},r=this._;for(var t in r)n[t]=r[t].slice();return new e(n)},call:function(n,r){if((e=arguments.length-2)>0)for(var e,t,o=new Array(e),i=0;i<e;++i)o[i]=arguments[i+2];if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(i=0,e=(t=this._[n]).length;i<e;++i)t[i].value.apply(r,o)},apply:function(n,r,e){if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(var t=this._[n],o=0,i=t.length;o<i;++o)t[o].value.apply(r,e)}};var l=r;exports.default=l;
},{}],"UU/c":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"dispatch",{enumerable:!0,get:function(){return e.default}});var e=t(require("./dispatch.js"));function t(e){return e&&e.__esModule?e:{default:e}}
},{"./dispatch.js":"C/lH"}],"UzOB":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.xhtml=void 0;var t="http://www.w3.org/1999/xhtml";exports.xhtml=t;var w={svg:"http://www.w3.org/2000/svg",xhtml:t,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};exports.default=w;
},{}],"OLJ5":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=t;var e=r(require("./namespaces.js"));function r(e){return e&&e.__esModule?e:{default:e}}function t(r){var t=r+="",s=t.indexOf(":");return s>=0&&"xmlns"!==(t=r.slice(0,s))&&(r=r.slice(s+1)),e.default.hasOwnProperty(t)?{space:e.default[t],local:r}:r}
},{"./namespaces.js":"UzOB"}],"EIjt":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=a;var e=n(require("./namespace.js")),t=require("./namespaces.js");function n(e){return e&&e.__esModule?e:{default:e}}function r(e){return function(){var n=this.ownerDocument,r=this.namespaceURI;return r===t.xhtml&&n.documentElement.namespaceURI===t.xhtml?n.createElement(e):n.createElementNS(r,e)}}function u(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function a(t){var n=(0,e.default)(t);return(n.local?u:r)(n)}
},{"./namespace.js":"OLJ5","./namespaces.js":"UzOB"}],"xs2I":[function(require,module,exports) {
"use strict";function e(){}function t(t){return null==t?e:function(){return this.querySelector(t)}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=t;
},{}],"LRy5":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=_;var e=require("./index.js"),t=r(require("../selector.js"));function r(e){return e&&e.__esModule?e:{default:e}}function _(r){"function"!=typeof r&&(r=(0,t.default)(r));for(var _=this._groups,a=_.length,n=new Array(a),u=0;u<a;++u)for(var o,s,i=_[u],l=i.length,d=n[u]=new Array(l),f=0;f<l;++f)(o=i[f])&&(s=r.call(o,o.__data__,f,i))&&("__data__"in o&&(s.__data__=o.__data__),d[f]=s);return new e.Selection(n,this._parents)}
},{"./index.js":"jpDG","../selector.js":"xs2I"}],"TVIB":[function(require,module,exports) {
"use strict";function e(e){return"object"==typeof e&&"length"in e?e:Array.from(e)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"+mHY":[function(require,module,exports) {
"use strict";function e(){return[]}function t(t){return null==t?e:function(){return this.querySelectorAll(t)}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=t;
},{}],"ijGs":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=l;var e=require("./index.js"),r=u(require("../array.js")),t=u(require("../selectorAll.js"));function u(e){return e&&e.__esModule?e:{default:e}}function n(e){return function(){var t=e.apply(this,arguments);return null==t?[]:(0,r.default)(t)}}function l(r){r="function"==typeof r?n(r):(0,t.default)(r);for(var u=this._groups,l=u.length,o=[],a=[],s=0;s<l;++s)for(var i,f=u[s],c=f.length,d=0;d<c;++d)(i=f[d])&&(o.push(r.call(i,i.__data__,d,f)),a.push(i));return new e.Selection(o,a)}
},{"./index.js":"jpDG","../array.js":"TVIB","../selectorAll.js":"+mHY"}],"4PkZ":[function(require,module,exports) {
"use strict";function t(t){return function(){return this.matches(t)}}function e(t){return function(e){return e.matches(t)}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=t,exports.childMatcher=e;
},{}],"o9VE":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=i;var t=require("../matcher.js"),e=Array.prototype.find;function r(t){return function(){return e.call(this.children,t)}}function n(){return this.firstElementChild}function i(e){return this.select(null==e?n:r("function"==typeof e?e:(0,t.childMatcher)(e)))}
},{"../matcher.js":"4PkZ"}],"VY5c":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=i;var e=require("../matcher.js"),t=Array.prototype.filter;function r(){return this.children}function n(e){return function(){return t.call(this.children,e)}}function i(t){return this.selectAll(null==t?r:n("function"==typeof t?t:(0,e.childMatcher)(t)))}
},{"../matcher.js":"4PkZ"}],"hrVj":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=n;var e=require("./index.js"),r=t(require("../matcher.js"));function t(e){return e&&e.__esModule?e:{default:e}}function n(t){"function"!=typeof t&&(t=(0,r.default)(t));for(var n=this._groups,u=n.length,a=new Array(u),o=0;o<u;++o)for(var s,i=n[o],l=i.length,f=a[o]=[],_=0;_<l;++_)(s=i[_])&&t.call(s,s.__data__,_,i)&&f.push(s);return new e.Selection(a,this._parents)}
},{"./index.js":"jpDG","../matcher.js":"4PkZ"}],"NmjR":[function(require,module,exports) {
"use strict";function e(e){return new Array(e.length)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"wXei":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=n,exports.EnterNode=s;var e=r(require("./sparse.js")),t=require("./index.js");function r(e){return e&&e.__esModule?e:{default:e}}function n(){return new t.Selection(this._enter||this._groups.map(e.default),this._parents)}function s(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}s.prototype={constructor:s,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};
},{"./sparse.js":"NmjR","./index.js":"jpDG"}],"8QmP":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=u;var e=require("./index.js"),r=require("./enter.js"),t=a(require("../array.js")),n=a(require("../constant.js"));function a(e){return e&&e.__esModule?e:{default:e}}function _(e,t,n,a,_,o){for(var l,u=0,f=t.length,i=o.length;u<i;++u)(l=t[u])?(l.__data__=o[u],a[u]=l):n[u]=new r.EnterNode(e,o[u]);for(;u<f;++u)(l=t[u])&&(_[u]=l)}function o(e,t,n,a,_,o,l){var u,f,i,s=new Map,d=t.length,c=o.length,h=new Array(d);for(u=0;u<d;++u)(f=t[u])&&(h[u]=i=l.call(f,f.__data__,u,t)+"",s.has(i)?_[u]=f:s.set(i,f));for(u=0;u<c;++u)i=l.call(e,o[u],u,o)+"",(f=s.get(i))?(a[u]=f,f.__data__=o[u],s.delete(i)):n[u]=new r.EnterNode(e,o[u]);for(u=0;u<d;++u)(f=t[u])&&s.get(h[u])===f&&(_[u]=f)}function l(e){return e.__data__}function u(r,a){if(!arguments.length)return Array.from(this,l);var u=a?o:_,f=this._parents,i=this._groups;"function"!=typeof r&&(r=(0,n.default)(r));for(var s=i.length,d=new Array(s),c=new Array(s),h=new Array(s),g=0;g<s;++g){var w=f[g],y=i[g],v=y.length,A=(0,t.default)(r.call(w,w&&w.__data__,g,f)),p=A.length,j=c[g]=new Array(p),x=d[g]=new Array(p);u(w,y,j,x,h[g]=new Array(v),A,a);for(var q,M,E=0,N=0;E<p;++E)if(q=j[E]){for(E>=N&&(N=E+1);!(M=x[N])&&++N<p;);q._next=M||null}}return(d=new e.Selection(d,f))._enter=c,d._exit=h,d}
},{"./index.js":"jpDG","./enter.js":"wXei","../array.js":"TVIB","../constant.js":"5O/Y"}],"tchs":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=s;var e=r(require("./sparse.js")),t=require("./index.js");function r(e){return e&&e.__esModule?e:{default:e}}function s(){return new t.Selection(this._exit||this._groups.map(e.default),this._parents)}
},{"./sparse.js":"NmjR","./index.js":"jpDG"}],"oO6z":[function(require,module,exports) {
"use strict";function e(e,t,r){var n=this.enter(),o=this,u=this.exit();return n="function"==typeof e?e(n):n.append(e+""),null!=t&&(o=t(o)),null==r?u.remove():r(u),n&&o?n.merge(o).order():o}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"1i+5":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=r;var e=require("./index.js");function r(r){if(!(r instanceof e.Selection))throw new Error("invalid merge");for(var t=this._groups,n=r._groups,o=t.length,i=n.length,s=Math.min(o,i),a=new Array(o),l=0;l<s;++l)for(var u,f=t[l],h=n[l],c=f.length,g=a[l]=new Array(c),p=0;p<c;++p)(u=f[p]||h[p])&&(g[p]=u);for(;l<o;++l)a[l]=t[l];return new e.Selection(a,this._parents)}
},{"./index.js":"jpDG"}],"RepQ":[function(require,module,exports) {
"use strict";function e(){for(var e=this._groups,t=-1,r=e.length;++t<r;)for(var o,n=e[t],s=n.length-1,i=n[s];--s>=0;)(o=n[s])&&(i&&4^o.compareDocumentPosition(i)&&i.parentNode.insertBefore(o,i),i=o);return this}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"D8yW":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;var r=require("./index.js");function e(e){function n(r,t){return r&&t?e(r.__data__,t.__data__):!r-!t}e||(e=t);for(var a=this._groups,o=a.length,u=new Array(o),_=0;_<o;++_){for(var s,i=a[_],d=i.length,f=u[_]=new Array(d),c=0;c<d;++c)(s=i[c])&&(f[c]=s);f.sort(n)}return new r.Selection(u,this._parents).order()}function t(r,e){return r<e?-1:r>e?1:r>=e?0:NaN}
},{"./index.js":"jpDG"}],"+pbQ":[function(require,module,exports) {
"use strict";function e(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"kO0T":[function(require,module,exports) {
"use strict";function e(){return Array.from(this)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"84xF":[function(require,module,exports) {
"use strict";function e(){for(var e=this._groups,r=0,t=e.length;r<t;++r)for(var u=e[r],n=0,o=u.length;n<o;++n){var l=u[n];if(l)return l}return null}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"w9fp":[function(require,module,exports) {
"use strict";function e(){let e=0;for(const t of this)++e;return e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"UF+O":[function(require,module,exports) {
"use strict";function e(){return!this.node()}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"q4XW":[function(require,module,exports) {
"use strict";function e(e){for(var t=this._groups,r=0,o=t.length;r<o;++r)for(var s,a=t[r],l=0,u=a.length;l<u;++l)(s=a[l])&&e.call(s,s.__data__,l,a);return this}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"Tdf9":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=l;var t=e(require("../namespace.js"));function e(t){return t&&t.__esModule?t:{default:t}}function n(t){return function(){this.removeAttribute(t)}}function u(t){return function(){this.removeAttributeNS(t.space,t.local)}}function r(t,e){return function(){this.setAttribute(t,e)}}function i(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function o(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function c(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function l(e,l){var s=(0,t.default)(e);if(arguments.length<2){var a=this.node();return s.local?a.getAttributeNS(s.space,s.local):a.getAttribute(s)}return this.each((null==l?s.local?u:n:"function"==typeof l?s.local?c:o:s.local?i:r)(s,l))}
},{"../namespace.js":"OLJ5"}],"D1dR":[function(require,module,exports) {
"use strict";function e(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"3VXj":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=o,exports.styleValue=l;var e=t(require("../window.js"));function t(e){return e&&e.__esModule?e:{default:e}}function r(e){return function(){this.style.removeProperty(e)}}function n(e,t,r){return function(){this.style.setProperty(e,t,r)}}function u(e,t,r){return function(){var n=t.apply(this,arguments);null==n?this.style.removeProperty(e):this.style.setProperty(e,n,r)}}function o(e,t,o){return arguments.length>1?this.each((null==t?r:"function"==typeof t?u:n)(e,t,null==o?"":o)):l(this.node(),e)}function l(t,r){return t.style.getPropertyValue(r)||(0,e.default)(t).getComputedStyle(t,null).getPropertyValue(r)}
},{"../window.js":"D1dR"}],"Q/OW":[function(require,module,exports) {
"use strict";function t(t){return function(){delete this[t]}}function e(t,e){return function(){this[t]=e}}function n(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function u(u,i){return arguments.length>1?this.each((null==i?t:"function"==typeof i?n:e)(u,i)):this.node()[u]}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=u;
},{}],"+rtN":[function(require,module,exports) {
"use strict";function t(t){return t.trim().split(/^|\s+/)}function n(t){return t.classList||new e(t)}function e(n){this._node=n,this._names=t(n.getAttribute("class")||"")}function i(t,e){for(var i=n(t),s=-1,r=e.length;++s<r;)i.add(e[s])}function s(t,e){for(var i=n(t),s=-1,r=e.length;++s<r;)i.remove(e[s])}function r(t){return function(){i(this,t)}}function o(t){return function(){s(this,t)}}function u(t,n){return function(){(n.apply(this,arguments)?i:s)(this,t)}}function f(e,i){var s=t(e+"");if(arguments.length<2){for(var f=n(this.node()),c=-1,a=s.length;++c<a;)if(!f.contains(s[c]))return!1;return!0}return this.each(("function"==typeof i?u:i?r:o)(s,i))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=f,e.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};
},{}],"hAJ3":[function(require,module,exports) {
"use strict";function t(){this.textContent=""}function n(t){return function(){this.textContent=t}}function e(t){return function(){var n=t.apply(this,arguments);this.textContent=null==n?"":n}}function o(o){return arguments.length?this.each(null==o?t:("function"==typeof o?e:n)(o)):this.node().textContent}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=o;
},{}],"FiSM":[function(require,module,exports) {
"use strict";function n(){this.innerHTML=""}function t(n){return function(){this.innerHTML=n}}function e(n){return function(){var t=n.apply(this,arguments);this.innerHTML=null==t?"":t}}function i(i){return arguments.length?this.each(null==i?n:("function"==typeof i?e:t)(i)):this.node().innerHTML}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=i;
},{}],"gvi7":[function(require,module,exports) {
"use strict";function e(){this.nextSibling&&this.parentNode.appendChild(this)}function t(){return this.each(e)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=t;
},{}],"gv/5":[function(require,module,exports) {
"use strict";function e(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function t(){return this.each(e)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=t;
},{}],"efv1":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=r;var e=t(require("../creator.js"));function t(e){return e&&e.__esModule?e:{default:e}}function r(t){var r="function"==typeof t?t:(0,e.default)(t);return this.select(function(){return this.appendChild(r.apply(this,arguments))})}
},{"../creator.js":"EIjt"}],"6ILQ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=n;var e=r(require("../creator.js")),t=r(require("../selector.js"));function r(e){return e&&e.__esModule?e:{default:e}}function u(){return null}function n(r,n){var l="function"==typeof r?r:(0,e.default)(r),o=null==n?u:"function"==typeof n?n:(0,t.default)(n);return this.select(function(){return this.insertBefore(l.apply(this,arguments),o.apply(this,arguments)||null)})}
},{"../creator.js":"EIjt","../selector.js":"xs2I"}],"quBB":[function(require,module,exports) {
"use strict";function e(){var e=this.parentNode;e&&e.removeChild(this)}function t(){return this.each(e)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=t;
},{}],"UpcG":[function(require,module,exports) {
"use strict";function e(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function t(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function n(n){return this.select(n?t:e)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=n;
},{}],"fuQ8":[function(require,module,exports) {
"use strict";function e(e){return arguments.length?this.property("__data__",e):this.node().__data__}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"j4rF":[function(require,module,exports) {
"use strict";function e(e){return function(t){e.call(this,t,this.__data__)}}function t(e){return e.trim().split(/^|\s+/).map(function(e){var t="",n=e.indexOf(".");return n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),{type:e,name:t}})}function n(e){return function(){var t=this.__on;if(t){for(var n,i=0,r=-1,o=t.length;i<o;++i)n=t[i],e.type&&n.type!==e.type||n.name!==e.name?t[++r]=n:this.removeEventListener(n.type,n.listener,n.options);++r?t.length=r:delete this.__on}}}function i(t,n,i){return function(){var r,o=this.__on,s=e(n);if(o)for(var a=0,u=o.length;a<u;++a)if((r=o[a]).type===t.type&&r.name===t.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=s,r.options=i),void(r.value=n);this.addEventListener(t.type,s,i),r={type:t.type,name:t.name,value:n,listener:s,options:i},o?o.push(r):this.__on=[r]}}function r(e,r,o){var s,a,u=t(e+""),p=u.length;if(!(arguments.length<2)){for(f=r?i:n,s=0;s<p;++s)this.each(f(u[s],r,o));return this}var f=this.node().__on;if(f)for(var l,h=0,v=f.length;h<v;++h)for(s=0,l=f[h];s<p;++s)if((a=u[s]).type===l.type&&a.name===l.name)return l.value}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=r;
},{}],"enVu":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=r;var t=e(require("../window.js"));function e(t){return t&&t.__esModule?t:{default:t}}function n(e,n,u){var i=(0,t.default)(e),r=i.CustomEvent;"function"==typeof r?r=new r(n,u):(r=i.document.createEvent("Event"),u?(r.initEvent(n,u.bubbles,u.cancelable),r.detail=u.detail):r.initEvent(n,!1,!1)),e.dispatchEvent(r)}function u(t,e){return function(){return n(this,t,e)}}function i(t,e){return function(){return n(this,t,e.apply(this,arguments))}}function r(t,e){return this.each(("function"==typeof e?i:u)(t,e))}
},{"../window.js":"D1dR"}],"rmGH":[function(require,module,exports) {
"use strict";function*e(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var o,s=e[t],l=0,u=s.length;l<u;++l)(o=s[l])&&(yield o)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"jpDG":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Selection=F,exports.default=exports.root=void 0;var e=B(require("./select.js")),r=B(require("./selectAll.js")),t=B(require("./selectChild.js")),u=B(require("./selectChildren.js")),l=B(require("./filter.js")),s=B(require("./data.js")),i=B(require("./enter.js")),a=B(require("./exit.js")),d=B(require("./join.js")),o=B(require("./merge.js")),f=B(require("./order.js")),n=B(require("./sort.js")),j=B(require("./call.js")),q=B(require("./nodes.js")),c=B(require("./node.js")),p=B(require("./size.js")),m=B(require("./empty.js")),h=B(require("./each.js")),x=B(require("./attr.js")),y=B(require("./style.js")),v=B(require("./property.js")),_=B(require("./classed.js")),C=B(require("./text.js")),g=B(require("./html.js")),w=B(require("./raise.js")),b=B(require("./lower.js")),z=B(require("./append.js")),A=B(require("./insert.js")),M=B(require("./remove.js")),S=B(require("./clone.js")),E=B(require("./datum.js")),O=B(require("./on.js")),P=B(require("./dispatch.js")),k=B(require("./iterator.js"));function B(e){return e&&e.__esModule?e:{default:e}}var D=[null];function F(e,r){this._groups=e,this._parents=r}function G(){return new F([[document.documentElement]],D)}function H(){return this}exports.root=D,F.prototype=G.prototype={constructor:F,select:e.default,selectAll:r.default,selectChild:t.default,selectChildren:u.default,filter:l.default,data:s.default,enter:i.default,exit:a.default,join:d.default,merge:o.default,selection:H,order:f.default,sort:n.default,call:j.default,nodes:q.default,node:c.default,size:p.default,empty:m.default,each:h.default,attr:x.default,style:y.default,property:v.default,classed:_.default,text:C.default,html:g.default,raise:w.default,lower:b.default,append:z.default,insert:A.default,remove:M.default,clone:S.default,datum:E.default,on:O.default,dispatch:P.default,[Symbol.iterator]:k.default};var I=G;exports.default=I;
},{"./select.js":"LRy5","./selectAll.js":"ijGs","./selectChild.js":"o9VE","./selectChildren.js":"VY5c","./filter.js":"hrVj","./data.js":"8QmP","./enter.js":"wXei","./exit.js":"tchs","./join.js":"oO6z","./merge.js":"1i+5","./order.js":"RepQ","./sort.js":"D8yW","./call.js":"+pbQ","./nodes.js":"kO0T","./node.js":"84xF","./size.js":"w9fp","./empty.js":"UF+O","./each.js":"q4XW","./attr.js":"Tdf9","./style.js":"3VXj","./property.js":"Q/OW","./classed.js":"+rtN","./text.js":"hAJ3","./html.js":"FiSM","./raise.js":"gvi7","./lower.js":"gv/5","./append.js":"efv1","./insert.js":"6ILQ","./remove.js":"quBB","./clone.js":"UpcG","./datum.js":"fuQ8","./on.js":"j4rF","./dispatch.js":"enVu","./iterator.js":"rmGH"}],"i/TO":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=t;var e=require("./selection/index.js");function t(t){return"string"==typeof t?new e.Selection([[document.querySelector(t)]],[document.documentElement]):new e.Selection([[t]],e.root)}
},{"./selection/index.js":"jpDG"}],"tmZ+":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=u;var e=r(require("./creator.js")),t=r(require("./select.js"));function r(e){return e&&e.__esModule?e:{default:e}}function u(r){return(0,t.default)((0,e.default)(r).call(document.documentElement))}
},{"./creator.js":"EIjt","./select.js":"i/TO"}],"JuPP":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;var t=0;function e(){return new r}function r(){this._="@"+(++t).toString(36)}r.prototype=e.prototype={constructor:r,get:function(t){for(var e=this._;!(e in t);)if(!(t=t.parentNode))return;return t[e]},set:function(t,e){return t[this._]=e},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}};
},{}],"mu9P":[function(require,module,exports) {
"use strict";function e(e){let t;for(;t=e.sourceEvent;)e=t;return e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"SNxp":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=r;var e=t(require("./sourceEvent.js"));function t(e){return e&&e.__esModule?e:{default:e}}function r(t,r){if(t=(0,e.default)(t),void 0===r&&(r=t.currentTarget),r){var n=r.ownerSVGElement||r;if(n.createSVGPoint){var i=n.createSVGPoint();return i.x=t.clientX,i.y=t.clientY,[(i=i.matrixTransform(r.getScreenCTM().inverse())).x,i.y]}if(r.getBoundingClientRect){var u=r.getBoundingClientRect();return[t.clientX-u.left-r.clientLeft,t.clientY-u.top-r.clientTop]}}return[t.pageX,t.pageY]}
},{"./sourceEvent.js":"mu9P"}],"mxYx":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=u;var e=t(require("./pointer.js")),r=t(require("./sourceEvent.js"));function t(e){return e&&e.__esModule?e:{default:e}}function u(t,u){return t.target&&(t=(0,r.default)(t),void 0===u&&(u=t.currentTarget),t=t.touches||[t]),Array.from(t,r=>(0,e.default)(r,u))}
},{"./pointer.js":"SNxp","./sourceEvent.js":"mu9P"}],"7/to":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=n;var e=r(require("./array.js")),t=require("./selection/index.js");function r(e){return e&&e.__esModule?e:{default:e}}function n(r){return"string"==typeof r?new t.Selection([document.querySelectorAll(r)],[document.documentElement]):new t.Selection([null==r?[]:(0,e.default)(r)],t.root)}
},{"./array.js":"TVIB","./selection/index.js":"jpDG"}],"lm1C":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"create",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(exports,"creator",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(exports,"local",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(exports,"matcher",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(exports,"namespace",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(exports,"namespaces",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(exports,"pointer",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(exports,"pointers",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(exports,"select",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(exports,"selectAll",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(exports,"selection",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(exports,"selector",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(exports,"selectorAll",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(exports,"style",{enumerable:!0,get:function(){return d.styleValue}}),Object.defineProperty(exports,"window",{enumerable:!0,get:function(){return b.default}});var e=j(require("./create.js")),r=j(require("./creator.js")),t=j(require("./local.js")),n=j(require("./matcher.js")),u=j(require("./namespace.js")),o=j(require("./namespaces.js")),l=j(require("./pointer.js")),i=j(require("./pointers.js")),s=j(require("./select.js")),c=j(require("./selectAll.js")),a=j(require("./selection/index.js")),f=j(require("./selector.js")),p=j(require("./selectorAll.js")),d=require("./selection/style.js"),b=j(require("./window.js"));function j(e){return e&&e.__esModule?e:{default:e}}
},{"./create.js":"tmZ+","./creator.js":"EIjt","./local.js":"JuPP","./matcher.js":"4PkZ","./namespace.js":"OLJ5","./namespaces.js":"UzOB","./pointer.js":"SNxp","./pointers.js":"mxYx","./select.js":"i/TO","./selectAll.js":"7/to","./selection/index.js":"jpDG","./selector.js":"xs2I","./selectorAll.js":"+mHY","./selection/style.js":"3VXj","./window.js":"D1dR"}],"DCEg":[function(require,module,exports) {
"use strict";function e(e){e.stopImmediatePropagation()}function t(e){e.preventDefault(),e.stopImmediatePropagation()}Object.defineProperty(exports,"__esModule",{value:!0}),exports.nopropagation=e,exports.default=t;
},{}],"6rD9":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=l,exports.yesdrag=r;var e=require("d3-selection"),t=n(require("./noevent.js"));function n(e){return e&&e.__esModule?e:{default:e}}function l(n){var l=n.document.documentElement,r=(0,e.select)(n).on("dragstart.drag",t.default,!0);"onselectstart"in l?r.on("selectstart.drag",t.default,!0):(l.__noselect=l.style.MozUserSelect,l.style.MozUserSelect="none")}function r(n,l){var r=n.document.documentElement,o=(0,e.select)(n).on("dragstart.drag",null);l&&(o.on("click.drag",t.default,!0),setTimeout(function(){o.on("click.drag",null)},0)),"onselectstart"in r?o.on("selectstart.drag",null):(r.style.MozUserSelect=r.__noselect,delete r.__noselect)}
},{"d3-selection":"lm1C","./noevent.js":"DCEg"}],"gzkf":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=e=>()=>e;exports.default=e;
},{}],"IkUE":[function(require,module,exports) {
"use strict";function e(e,{sourceEvent:u,subject:a,target:r,identifier:l,active:n,x:t,y:i,dx:b,dy:o,dispatch:c}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:u,enumerable:!0,configurable:!0},subject:{value:a,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:l,enumerable:!0,configurable:!0},active:{value:n,enumerable:!0,configurable:!0},x:{value:t,enumerable:!0,configurable:!0},y:{value:i,enumerable:!0,configurable:!0},dx:{value:b,enumerable:!0,configurable:!0},dy:{value:o,enumerable:!0,configurable:!0},_:{value:c}})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e,e.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};
},{}],"68fG":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=d;var e=require("d3-dispatch"),t=require("d3-selection"),n=a(require("./nodrag.js")),r=a(require("./noevent.js")),o=u(require("./constant.js")),i=u(require("./event.js"));function u(e){return e&&e.__esModule?e:{default:e}}function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function c(e){return!e.ctrlKey&&!e.button}function l(){return this.parentNode}function f(e,t){return null==t?{x:e.x,y:e.y}:t}function s(){return navigator.maxTouchPoints||"ontouchstart"in this}function d(){var u,a,d,h,g=c,p=l,v=f,y=s,b={},m=(0,e.dispatch)("start","drag","end"),j=0,w=0;function x(e){e.on("mousedown.drag",O).filter(y).on("touchstart.drag",T).on("touchmove.drag",_).on("touchend.drag touchcancel.drag",M).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function O(e,o){if(!h&&g.call(this,e,o)){var i=k(this,p.call(this,e,o),e,o,"mouse");i&&((0,t.select)(e.view).on("mousemove.drag",q,!0).on("mouseup.drag",P,!0),(0,n.default)(e.view),(0,r.nopropagation)(e),d=!1,u=e.clientX,a=e.clientY,i("start",e))}}function q(e){if((0,r.default)(e),!d){var t=e.clientX-u,n=e.clientY-a;d=t*t+n*n>w}b.mouse("drag",e)}function P(e){(0,t.select)(e.view).on("mousemove.drag mouseup.drag",null),(0,n.yesdrag)(e.view,d),(0,r.default)(e),b.mouse("end",e)}function T(e,t){if(g.call(this,e,t)){var n,o,i=e.changedTouches,u=p.call(this,e,t),a=i.length;for(n=0;n<a;++n)(o=k(this,u,e,t,i[n].identifier,i[n]))&&((0,r.nopropagation)(e),o("start",e,i[n]))}}function _(e){var t,n,o=e.changedTouches,i=o.length;for(t=0;t<i;++t)(n=b[o[t].identifier])&&((0,r.default)(e),n("drag",e,o[t]))}function M(e){var t,n,o=e.changedTouches,i=o.length;for(h&&clearTimeout(h),h=setTimeout(function(){h=null},500),t=0;t<i;++t)(n=b[o[t].identifier])&&((0,r.nopropagation)(e),n("end",e,o[t]))}function k(e,n,r,o,u,a){var c,l,f,s=m.copy(),d=(0,t.pointer)(a||r,n);if(null!=(f=v.call(e,new i.default("beforestart",{sourceEvent:r,target:x,identifier:u,active:j,x:d[0],y:d[1],dx:0,dy:0,dispatch:s}),o)))return c=f.x-d[0]||0,l=f.y-d[1]||0,function r(a,h,g){var p,v=d;switch(a){case"start":b[u]=r,p=j++;break;case"end":delete b[u],--j;case"drag":d=(0,t.pointer)(g||h,n),p=j}s.call(a,e,new i.default(a,{sourceEvent:h,subject:f,target:x,identifier:u,active:p,x:d[0]+c,y:d[1]+l,dx:d[0]-v[0],dy:d[1]-v[1],dispatch:s}),o)}}return x.filter=function(e){return arguments.length?(g="function"==typeof e?e:(0,o.default)(!!e),x):g},x.container=function(e){return arguments.length?(p="function"==typeof e?e:(0,o.default)(e),x):p},x.subject=function(e){return arguments.length?(v="function"==typeof e?e:(0,o.default)(e),x):v},x.touchable=function(e){return arguments.length?(y="function"==typeof e?e:(0,o.default)(!!e),x):y},x.on=function(){var e=m.on.apply(m,arguments);return e===m?x:e},x.clickDistance=function(e){return arguments.length?(w=(e=+e)*e,x):Math.sqrt(w)},x}
},{"d3-dispatch":"UU/c","d3-selection":"lm1C","./nodrag.js":"6rD9","./noevent.js":"DCEg","./constant.js":"gzkf","./event.js":"IkUE"}],"LrBi":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"drag",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(exports,"dragDisable",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(exports,"dragEnable",{enumerable:!0,get:function(){return r.yesdrag}});var e=n(require("./drag.js")),r=t(require("./nodrag.js"));function t(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,t):{};n.get||n.set?Object.defineProperty(r,t,n):r[t]=e[t]}return r.default=e,r}function n(e){return e&&e.__esModule?e:{default:e}}
},{"./drag.js":"68fG","./nodrag.js":"6rD9"}],"CSb3":[function(require,module,exports) {
"use strict";function t(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function e(t,e){var r=Object.create(t.prototype);for(var o in e)r[o]=e[o];return r}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=t,exports.extend=e;
},{}],"UAf0":[function(require,module,exports) {

"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Color=r,exports.default=w,exports.rgbConvert=v,exports.rgb=N,exports.Rgb=M,exports.hslConvert=E,exports.hsl=P,exports.brighter=exports.darker=void 0;var e=t(require("./define.js"));function t(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}function r(){}var n=.7;exports.darker=n;var i=1/n;exports.brighter=i;var a="\\s*([+-]?\\d+)\\s*",o="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",s="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",l=/^#([0-9a-f]{3,8})$/,h=new RegExp("^rgb\\("+[a,a,a]+"\\)$"),u=new RegExp("^rgb\\("+[s,s,s]+"\\)$"),g=new RegExp("^rgba\\("+[a,a,a,o]+"\\)$"),d=new RegExp("^rgba\\("+[s,s,s,o]+"\\)$"),c=new RegExp("^hsl\\("+[o,s,s]+"\\)$"),p=new RegExp("^hsla\\("+[o,s,s,o]+"\\)$"),b={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function f(){return this.rgb().formatHex()}function m(){return E(this).formatHsl()}function y(){return this.rgb().formatRgb()}function w(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=l.exec(e))?(r=t[1].length,t=parseInt(t[1],16),6===r?x(t):3===r?new M(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===r?k(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===r?k(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=h.exec(e))?new M(t[1],t[2],t[3],1):(t=u.exec(e))?new M(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=g.exec(e))?k(t[1],t[2],t[3],t[4]):(t=d.exec(e))?k(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=c.exec(e))?j(t[1],t[2]/100,t[3]/100,1):(t=p.exec(e))?j(t[1],t[2]/100,t[3]/100,t[4]):b.hasOwnProperty(e)?x(b[e]):"transparent"===e?new M(NaN,NaN,NaN,0):null}function x(e){return new M(e>>16&255,e>>8&255,255&e,1)}function k(e,t,r,n){return n<=0&&(e=t=r=NaN),new M(e,t,r,n)}function v(e){return e instanceof r||(e=w(e)),e?new M((e=e.rgb()).r,e.g,e.b,e.opacity):new M}function N(e,t,r,n){return 1===arguments.length?v(e):new M(e,t,r,null==n?1:n)}function M(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}function O(){return"#"+R(this.r)+R(this.g)+R(this.b)}function q(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?")":", "+e+")")}function R(e){return((e=Math.max(0,Math.min(255,Math.round(e)||0)))<16?"0":"")+e.toString(16)}function j(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new $(e,t,r,n)}function E(e){if(e instanceof $)return new $(e.h,e.s,e.l,e.opacity);if(e instanceof r||(e=w(e)),!e)return new $;if(e instanceof $)return e;var t=(e=e.rgb()).r/255,n=e.g/255,i=e.b/255,a=Math.min(t,n,i),o=Math.max(t,n,i),s=NaN,l=o-a,h=(o+a)/2;return l?(s=t===o?(n-i)/l+6*(n<i):n===o?(i-t)/l+2:(t-n)/l+4,l/=h<.5?o+a:2-o-a,s*=60):l=h>0&&h<1?0:s,new $(s,l,h,e.opacity)}function P(e,t,r,n){return 1===arguments.length?E(e):new $(e,t,r,null==n?1:n)}function $(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}function H(e,t,r){return 255*(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)}(0,e.default)(r,w,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:f,formatHex:f,formatHsl:m,formatRgb:y,toString:y}),(0,e.default)(M,N,(0,e.extend)(r,{brighter:function(e){return e=null==e?i:Math.pow(i,e),new M(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?n:Math.pow(n,e),new M(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:O,formatHex:O,formatRgb:q,toString:q})),(0,e.default)($,P,(0,e.extend)(r,{brighter:function(e){return e=null==e?i:Math.pow(i,e),new $(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?n:Math.pow(n,e),new $(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new M(H(e>=240?e-240:e+120,i,n),H(e,i,n),H(e<120?e+240:e-120,i,n),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===e?")":", "+e+")")}}));
},{"./define.js":"CSb3"}],"8ykI":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.degrees=exports.radians=void 0;const e=Math.PI/180;exports.radians=e;const s=180/Math.PI;exports.degrees=s;
},{}],"n21X":[function(require,module,exports) {

"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.gray=p,exports.default=b,exports.Lab=w,exports.lch=j,exports.hcl=x,exports.Hcl=M;var t=r(require("./define.js")),n=require("./color.js"),e=require("./math.js");function r(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,e):{};r.get||r.set?Object.defineProperty(n,e,r):n[e]=t[e]}return n.default=t,n}const i=18,o=.96422,a=1,u=.82521,s=4/29,c=6/29,h=3*c*c,l=c*c*c;function f(t){if(t instanceof w)return new w(t.l,t.a,t.b,t.opacity);if(t instanceof M)return O(t);t instanceof n.Rgb||(t=(0,n.rgbConvert)(t));var e,r,i=v(t.r),s=v(t.g),c=v(t.b),h=y((.2225045*i+.7168786*s+.0606169*c)/a);return i===s&&s===c?e=r=h:(e=y((.4360747*i+.3850649*s+.1430804*c)/o),r=y((.0139322*i+.0971045*s+.7141733*c)/u)),new w(116*h-16,500*(e-h),200*(h-r),t.opacity)}function p(t,n){return new w(t,0,0,null==n?1:n)}function b(t,n,e,r){return 1===arguments.length?f(t):new w(t,n,e,null==r?1:r)}function w(t,n,e,r){this.l=+t,this.a=+n,this.b=+e,this.opacity=+r}function y(t){return t>l?Math.pow(t,1/3):t/h+s}function g(t){return t>c?t*t*t:h*(t-s)}function d(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function v(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function N(t){if(t instanceof M)return new M(t.h,t.c,t.l,t.opacity);if(t instanceof w||(t=f(t)),0===t.a&&0===t.b)return new M(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var n=Math.atan2(t.b,t.a)*e.degrees;return new M(n<0?n+360:n,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function j(t,n,e,r){return 1===arguments.length?N(t):new M(e,n,t,null==r?1:r)}function x(t,n,e,r){return 1===arguments.length?N(t):new M(t,n,e,null==r?1:r)}function M(t,n,e,r){this.h=+t,this.c=+n,this.l=+e,this.opacity=+r}function O(t){if(isNaN(t.h))return new w(t.l,0,0,t.opacity);var n=t.h*e.radians;return new w(t.l,Math.cos(n)*t.c,Math.sin(n)*t.c,t.opacity)}(0,t.default)(w,b,(0,t.extend)(n.Color,{brighter:function(t){return new w(this.l+i*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new w(this.l-i*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,r=isNaN(this.b)?t:t-this.b/200;return e=o*g(e),t=a*g(t),r=u*g(r),new n.Rgb(d(3.1338561*e-1.6168667*t-.4906146*r),d(-.9787684*e+1.9161415*t+.033454*r),d(.0719453*e-.2289914*t+1.4052427*r),this.opacity)}})),(0,t.default)(M,x,(0,t.extend)(n.Color,{brighter:function(t){return new M(this.h,this.c,this.l+i*(null==t?1:t),this.opacity)},darker:function(t){return new M(this.h,this.c,this.l-i*(null==t?1:t),this.opacity)},rgb:function(){return O(this).rgb()}}));
},{"./define.js":"CSb3","./color.js":"UAf0","./math.js":"8ykI"}],"aDX2":[function(require,module,exports) {

"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=p,exports.Cubehelix=b;var t=i(require("./define.js")),e=require("./color.js"),r=require("./math.js");function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var i=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,r):{};i.get||i.set?Object.defineProperty(e,r,i):e[r]=t[r]}return e.default=t,e}var n=-.14861,s=1.78277,o=-.29227,a=-.90649,h=1.97294,u=h*a,c=h*s,l=s*o-a*n;function f(t){if(t instanceof b)return new b(t.h,t.s,t.l,t.opacity);t instanceof e.Rgb||(t=(0,e.rgbConvert)(t));var i=t.r/255,n=t.g/255,s=t.b/255,f=(l*s+u*i-c*n)/(l+u-c),p=s-f,d=(h*(n-f)-o*p)/a,g=Math.sqrt(d*d+p*p)/(h*f*(1-f)),y=g?Math.atan2(d,p)*r.degrees-120:NaN;return new b(y<0?y+360:y,g,f,t.opacity)}function p(t,e,r,i){return 1===arguments.length?f(t):new b(t,e,r,null==i?1:i)}function b(t,e,r,i){this.h=+t,this.s=+e,this.l=+r,this.opacity=+i}(0,t.default)(b,p,(0,t.extend)(e.Color,{brighter:function(t){return t=null==t?e.brighter:Math.pow(e.brighter,t),new b(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?e.darker:Math.pow(e.darker,t),new b(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*r.radians,i=+this.l,u=isNaN(this.s)?0:this.s*i*(1-i),c=Math.cos(t),l=Math.sin(t);return new e.Rgb(255*(i+u*(n*c+s*l)),255*(i+u*(o*c+a*l)),255*(i+u*(h*c)),this.opacity)}}));
},{"./define.js":"CSb3","./color.js":"UAf0","./math.js":"8ykI"}],"4TJ2":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"color",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(exports,"rgb",{enumerable:!0,get:function(){return e.rgb}}),Object.defineProperty(exports,"hsl",{enumerable:!0,get:function(){return e.hsl}}),Object.defineProperty(exports,"lab",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(exports,"hcl",{enumerable:!0,get:function(){return r.hcl}}),Object.defineProperty(exports,"lch",{enumerable:!0,get:function(){return r.lch}}),Object.defineProperty(exports,"gray",{enumerable:!0,get:function(){return r.gray}}),Object.defineProperty(exports,"cubehelix",{enumerable:!0,get:function(){return t.default}});var e=o(require("./color.js")),r=o(require("./lab.js")),t=n(require("./cubehelix.js"));function n(e){return e&&e.__esModule?e:{default:e}}function o(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,t):{};n.get||n.set?Object.defineProperty(r,t,n):r[t]=e[t]}return r.default=e,r}
},{"./color.js":"UAf0","./lab.js":"n21X","./cubehelix.js":"aDX2"}],"mIuw":[function(require,module,exports) {
"use strict";function e(e,r,t,n,o){var u=e*e,s=u*e;return((1-3*e+3*u-s)*r+(4-6*u+3*s)*t+(1+3*e+3*u-3*s)*n+s*o)/6}function r(r){var t=r.length-1;return function(n){var o=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),u=r[o],s=r[o+1],a=o>0?r[o-1]:2*u-s,f=o<t-1?r[o+2]:2*s-u;return e((n-o/t)*t,a,u,s,f)}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.basis=e,exports.default=r;
},{}],"t9MF":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=r;var e=require("./basis.js");function r(r){var t=r.length;return function(s){var u=Math.floor(((s%=1)<0?++s:s)*t),a=r[(u+t-1)%t],n=r[u%t],o=r[(u+1)%t],i=r[(u+2)%t];return(0,e.basis)((s-u/t)*t,a,n,o,i)}}
},{"./basis.js":"mIuw"}],"OW+9":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.hue=u,exports.gamma=o,exports.default=a;var t=e(require("./constant.js"));function e(t){return t&&t.__esModule?t:{default:t}}function n(t,e){return function(n){return t+n*e}}function r(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function u(e,r){var u=r-e;return u?n(e,u>180||u<-180?u-360*Math.round(u/360):u):(0,t.default)(isNaN(e)?r:e)}function o(e){return 1==(e=+e)?a:function(n,u){return u-n?r(n,u,e):(0,t.default)(isNaN(n)?u:n)}}function a(e,r){var u=r-e;return u?n(e,u):(0,t.default)(isNaN(e)?r:e)}
},{"./constant.js":"gzkf"}],"hw5o":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.rgbBasisClosed=exports.rgbBasis=exports.default=void 0;var r=require("d3-color"),e=n(require("./basis.js")),t=n(require("./basisClosed.js")),o=a(require("./color.js"));function a(r){if(r&&r.__esModule)return r;var e={};if(null!=r)for(var t in r)if(Object.prototype.hasOwnProperty.call(r,t)){var o=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(r,t):{};o.get||o.set?Object.defineProperty(e,t,o):e[t]=r[t]}return e.default=r,e}function n(r){return r&&r.__esModule?r:{default:r}}var s=function e(t){var a=(0,o.gamma)(t);function n(e,t){var n=a((e=(0,r.rgb)(e)).r,(t=(0,r.rgb)(t)).r),s=a(e.g,t.g),u=a(e.b,t.b),i=(0,o.default)(e.opacity,t.opacity);return function(r){return e.r=n(r),e.g=s(r),e.b=u(r),e.opacity=i(r),e+""}}return n.gamma=e,n}(1);function u(e){return function(t){var o,a,n=t.length,s=new Array(n),u=new Array(n),i=new Array(n);for(o=0;o<n;++o)a=(0,r.rgb)(t[o]),s[o]=a.r||0,u[o]=a.g||0,i[o]=a.b||0;return s=e(s),u=e(u),i=e(i),a.opacity=1,function(r){return a.r=s(r),a.g=u(r),a.b=i(r),a+""}}}exports.default=s;var i=u(e.default);exports.rgbBasis=i;var c=u(t.default);exports.rgbBasisClosed=c;
},{"d3-color":"4TJ2","./basis.js":"mIuw","./basisClosed.js":"t9MF","./color.js":"OW+9"}],"fCry":[function(require,module,exports) {
"use strict";function e(e,r){r||(r=[]);var t,n=e?Math.min(r.length,e.length):0,i=r.slice();return function(u){for(t=0;t<n;++t)i[t]=e[t]*(1-u)+r[t]*u;return i}}function r(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e,exports.isNumberArray=r;
},{}],"j6Kl":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=u,exports.genericArray=o;var e=n(require("./value.js")),r=t(require("./numberArray.js"));function t(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,t):{};n.get||n.set?Object.defineProperty(r,t,n):r[t]=e[t]}return r.default=e,r}function n(e){return e&&e.__esModule?e:{default:e}}function u(e,t){return((0,r.isNumberArray)(t)?r.default:o)(e,t)}function o(r,t){var n,u=t?t.length:0,o=r?Math.min(u,r.length):0,a=new Array(o),f=new Array(u);for(n=0;n<o;++n)a[n]=(0,e.default)(r[n],t[n]);for(;n<u;++n)f[n]=t[n];return function(e){for(n=0;n<o;++n)f[n]=a[n](e);return f}}
},{"./value.js":"5ONG","./numberArray.js":"fCry"}],"npIv":[function(require,module,exports) {
"use strict";function e(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"eUtU":[function(require,module,exports) {
"use strict";function e(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"9Ci2":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=r;var e=t(require("./value.js"));function t(e){return e&&e.__esModule?e:{default:e}}function r(t,r){var u,n={},o={};for(u in null!==t&&"object"==typeof t||(t={}),null!==r&&"object"==typeof r||(r={}),r)u in t?n[u]=(0,e.default)(t[u],r[u]):o[u]=r[u];return function(e){for(u in n)o[u]=n[u](e);return o}}
},{"./value.js":"5ONG"}],"WNxQ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=l;var e=n(require("./number.js"));function n(e){return e&&e.__esModule?e:{default:e}}var r=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,t=new RegExp(r.source,"g");function u(e){return function(){return e}}function i(e){return function(n){return e(n)+""}}function l(n,l){var o,c,d,s=r.lastIndex=t.lastIndex=0,f=-1,x=[],a=[];for(n+="",l+="";(o=r.exec(n))&&(c=t.exec(l));)(d=c.index)>s&&(d=l.slice(s,d),x[f]?x[f]+=d:x[++f]=d),(o=o[0])===(c=c[0])?x[f]?x[f]+=c:x[++f]=c:(x[++f]=null,a.push({i:f,x:(0,e.default)(o,c)})),s=t.lastIndex;return s<l.length&&(d=l.slice(s),x[f]?x[f]+=d:x[++f]=d),x.length<2?a[0]?i(a[0].x):u(l):(l=a.length,function(e){for(var n,r=0;r<l;++r)x[(n=a[r]).i]=n.x(e);return x.join("")})}
},{"./number.js":"eUtU"}],"5ONG":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=c;var e=require("d3-color"),r=s(require("./rgb.js")),t=require("./array.js"),u=s(require("./date.js")),n=s(require("./number.js")),o=s(require("./object.js")),a=s(require("./string.js")),i=s(require("./constant.js")),f=l(require("./numberArray.js"));function l(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)){var u=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,t):{};u.get||u.set?Object.defineProperty(r,t,u):r[t]=e[t]}return r.default=e,r}function s(e){return e&&e.__esModule?e:{default:e}}function c(l,s){var c,d=typeof s;return null==s||"boolean"===d?(0,i.default)(s):("number"===d?n.default:"string"===d?(c=(0,e.color)(s))?(s=c,r.default):a.default:s instanceof e.color?r.default:s instanceof Date?u.default:(0,f.isNumberArray)(s)?f.default:Array.isArray(s)?t.genericArray:"function"!=typeof s.valueOf&&"function"!=typeof s.toString||isNaN(s)?o.default:n.default)(l,s)}
},{"d3-color":"4TJ2","./rgb.js":"hw5o","./array.js":"j6Kl","./date.js":"npIv","./number.js":"eUtU","./object.js":"9Ci2","./string.js":"WNxQ","./constant.js":"gzkf","./numberArray.js":"fCry"}],"9iFP":[function(require,module,exports) {
"use strict";function t(t){var e=t.length;return function(r){return t[Math.max(0,Math.min(e-1,Math.floor(r*e)))]}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=t;
},{}],"/lYd":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=r;var e=require("./color.js");function r(r,t){var o=(0,e.hue)(+r,+t);return function(e){var r=o(e);return r-360*Math.floor(r/360)}}
},{"./color.js":"OW+9"}],"8Ehv":[function(require,module,exports) {
"use strict";function e(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"sFbg":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=a,exports.identity=void 0;var t=180/Math.PI,e={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function a(e,a,r,s,n,l){var o,i,c;return(o=Math.sqrt(e*e+a*a))&&(e/=o,a/=o),(c=e*r+a*s)&&(r-=e*c,s-=a*c),(i=Math.sqrt(r*r+s*s))&&(r/=i,s/=i,c/=i),e*s<a*r&&(e=-e,a=-a,c=-c,o=-o),{translateX:n,translateY:l,rotate:Math.atan2(a,e)*t,skewX:Math.atan(c)*t,scaleX:o,scaleY:i}}exports.identity=e;
},{}],"igaz":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.parseCss=n,exports.parseSvg=i;var e,t=r(require("./decompose.js"));function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}function n(e){const r=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(e+"");return r.isIdentity?t.identity:(0,t.default)(r.a,r.b,r.c,r.d,r.e,r.f)}function i(r){return null==r?t.identity:(e||(e=document.createElementNS("http://www.w3.org/2000/svg","g")),e.setAttribute("transform",r),(r=e.transform.baseVal.consolidate())?(r=r.matrix,(0,t.default)(r.a,r.b,r.c,r.d,r.e,r.f)):t.identity)}
},{"./decompose.js":"sFbg"}],"/tUK":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.interpolateTransformSvg=exports.interpolateTransformCss=void 0;var e=r(require("../number.js")),t=require("./parse.js");function r(e){return e&&e.__esModule?e:{default:e}}function s(t,r,s,n){function a(e){return e.length?e.pop()+" ":""}return function(u,l){var o=[],p=[];return u=t(u),l=t(l),function(t,n,a,u,l,o){if(t!==a||n!==u){var p=l.push("translate(",null,r,null,s);o.push({i:p-4,x:(0,e.default)(t,a)},{i:p-2,x:(0,e.default)(n,u)})}else(a||u)&&l.push("translate("+a+r+u+s)}(u.translateX,u.translateY,l.translateX,l.translateY,o,p),function(t,r,s,u){t!==r?(t-r>180?r+=360:r-t>180&&(t+=360),u.push({i:s.push(a(s)+"rotate(",null,n)-2,x:(0,e.default)(t,r)})):r&&s.push(a(s)+"rotate("+r+n)}(u.rotate,l.rotate,o,p),function(t,r,s,u){t!==r?u.push({i:s.push(a(s)+"skewX(",null,n)-2,x:(0,e.default)(t,r)}):r&&s.push(a(s)+"skewX("+r+n)}(u.skewX,l.skewX,o,p),function(t,r,s,n,u,l){if(t!==s||r!==n){var o=u.push(a(u)+"scale(",null,",",null,")");l.push({i:o-4,x:(0,e.default)(t,s)},{i:o-2,x:(0,e.default)(r,n)})}else 1===s&&1===n||u.push(a(u)+"scale("+s+","+n+")")}(u.scaleX,u.scaleY,l.scaleX,l.scaleY,o,p),u=l=null,function(e){for(var t,r=-1,s=p.length;++r<s;)o[(t=p[r]).i]=t.x(e);return o.join("")}}}var n=s(t.parseCss,"px, ","px)","deg)");exports.interpolateTransformCss=n;var a=s(t.parseSvg,", ",")",")");exports.interpolateTransformSvg=a;
},{"../number.js":"eUtU","./parse.js":"igaz"}],"MbcF":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=1e-12;function r(t){return((t=Math.exp(t))+1/t)/2}function e(t){return((t=Math.exp(t))-1/t)/2}function n(t){return((t=Math.exp(2*t))-1)/(t+1)}var a=function a(u,o,h){function M(a,M){var i,f,c=a[0],s=a[1],l=a[2],p=M[0],v=M[1],x=M[2],d=p-c,g=v-s,q=d*d+g*g;if(q<t)f=Math.log(x/l)/u,i=function(t){return[c+t*d,s+t*g,l*Math.exp(u*t*f)]};else{var Q=Math.sqrt(q),R=(x*x-l*l+h*q)/(2*l*o*Q),S=(x*x-l*l-h*q)/(2*x*o*Q),T=Math.log(Math.sqrt(R*R+1)-R),_=Math.log(Math.sqrt(S*S+1)-S);f=(_-T)/u,i=function(t){var a=t*f,h=r(T),M=l/(o*Q)*(h*n(u*a+T)-e(T));return[c+M*d,s+M*g,l*h/r(u*a+T)]}}return i.duration=1e3*f*u/Math.SQRT2,i}return M.rho=function(t){var r=Math.max(.001,+t),e=r*r;return a(r,e,e*e)},M}(Math.SQRT2,2,4);exports.default=a;
},{}],"BrWg":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.hslLong=exports.default=void 0;var e=require("d3-color"),r=t(require("./color.js"));function t(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)){var o=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,t):{};o.get||o.set?Object.defineProperty(r,t,o):r[t]=e[t]}return r.default=e,r}function o(t){return function(o,u){var l=t((o=(0,e.hsl)(o)).h,(u=(0,e.hsl)(u)).h),n=(0,r.default)(o.s,u.s),s=(0,r.default)(o.l,u.l),a=(0,r.default)(o.opacity,u.opacity);return function(e){return o.h=l(e),o.s=n(e),o.l=s(e),o.opacity=a(e),o+""}}}var u=o(r.hue);exports.default=u;var l=o(r.default);exports.hslLong=l;
},{"d3-color":"4TJ2","./color.js":"OW+9"}],"5HCN":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=u;var e=require("d3-color"),t=r(require("./color.js"));function r(e){return e&&e.__esModule?e:{default:e}}function u(r,u){var a=(0,t.default)((r=(0,e.lab)(r)).l,(u=(0,e.lab)(u)).l),l=(0,t.default)(r.a,u.a),o=(0,t.default)(r.b,u.b),c=(0,t.default)(r.opacity,u.opacity);return function(e){return r.l=a(e),r.a=l(e),r.b=o(e),r.opacity=c(e),r+""}}
},{"d3-color":"4TJ2","./color.js":"OW+9"}],"9VIl":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.hclLong=exports.default=void 0;var e=require("d3-color"),r=t(require("./color.js"));function t(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)){var o=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,t):{};o.get||o.set?Object.defineProperty(r,t,o):r[t]=e[t]}return r.default=e,r}function o(t){return function(o,c){var u=t((o=(0,e.hcl)(o)).h,(c=(0,e.hcl)(c)).h),l=(0,r.default)(o.c,c.c),n=(0,r.default)(o.l,c.l),a=(0,r.default)(o.opacity,c.opacity);return function(e){return o.h=u(e),o.c=l(e),o.l=n(e),o.opacity=a(e),o+""}}}var c=o(r.hue);exports.default=c;var u=o(r.default);exports.hclLong=u;
},{"d3-color":"4TJ2","./color.js":"OW+9"}],"NOHm":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.cubehelixLong=exports.default=void 0;var e=require("d3-color"),r=t(require("./color.js"));function t(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)){var o=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,t):{};o.get||o.set?Object.defineProperty(r,t,o):r[t]=e[t]}return r.default=e,r}function o(t){return function o(u){function n(o,n){var i=t((o=(0,e.cubehelix)(o)).h,(n=(0,e.cubehelix)(n)).h),c=(0,r.default)(o.s,n.s),a=(0,r.default)(o.l,n.l),l=(0,r.default)(o.opacity,n.opacity);return function(e){return o.h=i(e),o.s=c(e),o.l=a(Math.pow(e,u)),o.opacity=l(e),o+""}}return u=+u,n.gamma=o,n}(1)}var u=o(r.hue);exports.default=u;var n=o(r.default);exports.cubehelixLong=n;
},{"d3-color":"4TJ2","./color.js":"OW+9"}],"nlPb":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=t;var e=r(require("./value.js"));function r(e){return e&&e.__esModule?e:{default:e}}function t(r,t){void 0===t&&(t=r,r=e.default);for(var u=0,a=t.length-1,n=t[0],o=new Array(a<0?0:a);u<a;)o[u]=r(n,n=t[++u]);return function(e){var r=Math.max(0,Math.min(a-1,Math.floor(e*=a)));return o[r](e-r)}}
},{"./value.js":"5ONG"}],"g3ua":[function(require,module,exports) {
"use strict";function e(e,r){for(var t=new Array(r),o=0;o<r;++o)t[o]=e(o/(r-1));return t}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"mkGF":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"interpolate",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(exports,"interpolateArray",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(exports,"interpolateBasis",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(exports,"interpolateBasisClosed",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(exports,"interpolateDate",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(exports,"interpolateDiscrete",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(exports,"interpolateHue",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(exports,"interpolateNumber",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(exports,"interpolateNumberArray",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(exports,"interpolateObject",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(exports,"interpolateRound",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(exports,"interpolateString",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(exports,"interpolateTransformCss",{enumerable:!0,get:function(){return b.interpolateTransformCss}}),Object.defineProperty(exports,"interpolateTransformSvg",{enumerable:!0,get:function(){return b.interpolateTransformSvg}}),Object.defineProperty(exports,"interpolateZoom",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(exports,"interpolateRgb",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(exports,"interpolateRgbBasis",{enumerable:!0,get:function(){return d.rgbBasis}}),Object.defineProperty(exports,"interpolateRgbBasisClosed",{enumerable:!0,get:function(){return d.rgbBasisClosed}}),Object.defineProperty(exports,"interpolateHsl",{enumerable:!0,get:function(){return j.default}}),Object.defineProperty(exports,"interpolateHslLong",{enumerable:!0,get:function(){return j.hslLong}}),Object.defineProperty(exports,"interpolateLab",{enumerable:!0,get:function(){return g.default}}),Object.defineProperty(exports,"interpolateHcl",{enumerable:!0,get:function(){return m.default}}),Object.defineProperty(exports,"interpolateHclLong",{enumerable:!0,get:function(){return m.hclLong}}),Object.defineProperty(exports,"interpolateCubehelix",{enumerable:!0,get:function(){return y.default}}),Object.defineProperty(exports,"interpolateCubehelixLong",{enumerable:!0,get:function(){return y.cubehelixLong}}),Object.defineProperty(exports,"piecewise",{enumerable:!0,get:function(){return O.default}}),Object.defineProperty(exports,"quantize",{enumerable:!0,get:function(){return x.default}});var e=q(require("./value.js")),r=q(require("./array.js")),t=q(require("./basis.js")),n=q(require("./basisClosed.js")),u=q(require("./date.js")),o=q(require("./discrete.js")),i=q(require("./hue.js")),a=q(require("./number.js")),l=q(require("./numberArray.js")),s=q(require("./object.js")),p=q(require("./round.js")),f=q(require("./string.js")),b=require("./transform/index.js"),c=q(require("./zoom.js")),d=P(require("./rgb.js")),j=P(require("./hsl.js")),g=q(require("./lab.js")),m=P(require("./hcl.js")),y=P(require("./cubehelix.js")),O=q(require("./piecewise.js")),x=q(require("./quantize.js"));function P(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,t):{};n.get||n.set?Object.defineProperty(r,t,n):r[t]=e[t]}return r.default=e,r}function q(e){return e&&e.__esModule?e:{default:e}}
},{"./value.js":"5ONG","./array.js":"j6Kl","./basis.js":"mIuw","./basisClosed.js":"t9MF","./date.js":"npIv","./discrete.js":"9iFP","./hue.js":"/lYd","./number.js":"eUtU","./numberArray.js":"fCry","./object.js":"9Ci2","./round.js":"8Ehv","./string.js":"WNxQ","./transform/index.js":"/tUK","./zoom.js":"MbcF","./rgb.js":"hw5o","./hsl.js":"BrWg","./lab.js":"5HCN","./hcl.js":"9VIl","./cubehelix.js":"NOHm","./piecewise.js":"nlPb","./quantize.js":"g3ua"}],"9v2Y":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.now=f,exports.Timer=m,exports.timer=p,exports.timerFlush=w;var t,n,e=0,o=0,i=0,r=1e3,l=0,c=0,s=0,u="object"==typeof performance&&performance.now?performance:Date,a="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function f(){return c||(a(_),c=u.now()+s)}function _(){c=0}function m(){this._call=this._time=this._next=null}function p(t,n,e){var o=new m;return o.restart(t,n,e),o}function w(){f(),++e;for(var n,o=t;o;)(n=c-o._time)>=0&&o._call.call(null,n),o=o._next;--e}function h(){c=(l=u.now())+s,e=o=0;try{w()}finally{e=0,y(),c=0}}function x(){var t=u.now(),n=t-l;n>r&&(s-=n,l=t)}function y(){for(var e,o,i=t,r=1/0;i;)i._call?(r>i._time&&(r=i._time),e=i,i=i._next):(o=i._next,i._next=null,i=e?e._next=o:t=o);n=e,v(r)}function v(t){e||(o&&(o=clearTimeout(o)),t-c>24?(t<1/0&&(o=setTimeout(h,t-u.now()-s)),i&&(i=clearInterval(i))):(i||(l=u.now(),i=setInterval(x,r)),e=1,a(h)))}m.prototype=p.prototype={constructor:m,restart:function(e,o,i){if("function"!=typeof e)throw new TypeError("callback is not a function");i=(null==i?f():+i)+(null==o?0:+o),this._next||n===this||(n?n._next=this:t=this,n=this),this._call=e,this._time=i,v()},stop:function(){this._call&&(this._call=null,this._time=1/0,v())}};
},{}],"iEU7":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=r;var e=require("./timer.js");function r(r,t,s){var u=new e.Timer;return t=null==t?0:+t,u.restart(e=>{u.stop(),r(e+t)},t,s),u}
},{"./timer.js":"9v2Y"}],"B8zX":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=t;var r=require("./timer.js");function t(t,e,s){var n=new r.Timer,a=e;return null==e?(n.restart(t,e,s),n):(n._restart=n.restart,n.restart=function(t,e,s){e=+e,s=null==s?(0,r.now)():+s,n._restart(function r(u){u+=a,n._restart(r,a+=e,s),t(u)},e,s)},n.restart(t,e,s),n)}
},{"./timer.js":"9v2Y"}],"CBES":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"now",{enumerable:!0,get:function(){return e.now}}),Object.defineProperty(exports,"timer",{enumerable:!0,get:function(){return e.timer}}),Object.defineProperty(exports,"timerFlush",{enumerable:!0,get:function(){return e.timerFlush}}),Object.defineProperty(exports,"timeout",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(exports,"interval",{enumerable:!0,get:function(){return r.default}});var e=require("./timer.js"),t=n(require("./timeout.js")),r=n(require("./interval.js"));function n(e){return e&&e.__esModule?e:{default:e}}
},{"./timer.js":"9v2Y","./timeout.js":"iEU7","./interval.js":"B8zX"}],"GDz/":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=p,exports.init=_,exports.set=c,exports.get=f,exports.ENDED=exports.ENDING=exports.RUNNING=exports.STARTED=exports.STARTING=exports.SCHEDULED=exports.CREATED=void 0;var t=require("d3-dispatch"),e=require("d3-timer"),r=(0,t.dispatch)("start","end","cancel","interrupt"),a=[],n=0;exports.CREATED=n;var o=1;exports.SCHEDULED=o;var i=2;exports.STARTING=i;var s=3;exports.STARTED=s;var l=4;exports.RUNNING=l;var u=5;exports.ENDING=u;var d=6;function p(t,e,o,i,s,l){var u=t.__transition;if(u){if(o in u)return}else t.__transition={};x(t,o,{name:e,index:i,group:s,on:r,tween:a,time:l.time,delay:l.delay,duration:l.duration,ease:l.ease,timer:null,state:n})}function _(t,e){var r=f(t,e);if(r.state>n)throw new Error("too late; already scheduled");return r}function c(t,e){var r=f(t,e);if(r.state>s)throw new Error("too late; already running");return r}function f(t,e){var r=t.__transition;if(!r||!(r=r[e]))throw new Error("transition not found");return r}function x(t,r,a){var n,p=t.__transition;function _(u){var x,m,E,v;if(a.state!==o)return f();for(x in p)if((v=p[x]).name===a.name){if(v.state===s)return(0,e.timeout)(_);v.state===l?(v.state=d,v.timer.stop(),v.on.call("interrupt",t,t.__data__,v.index,v.group),delete p[x]):+x<r&&(v.state=d,v.timer.stop(),v.on.call("cancel",t,t.__data__,v.index,v.group),delete p[x])}if((0,e.timeout)(function(){a.state===s&&(a.state=l,a.timer.restart(c,a.delay,a.time),c(u))}),a.state=i,a.on.call("start",t,t.__data__,a.index,a.group),a.state===i){for(a.state=s,n=new Array(E=a.tween.length),x=0,m=-1;x<E;++x)(v=a.tween[x].value.call(t,t.__data__,a.index,a.group))&&(n[++m]=v);n.length=m+1}}function c(e){for(var r=e<a.duration?a.ease.call(null,e/a.duration):(a.timer.restart(f),a.state=u,1),o=-1,i=n.length;++o<i;)n[o].call(t,r);a.state===u&&(a.on.call("end",t,t.__data__,a.index,a.group),f())}function f(){for(var e in a.state=d,a.timer.stop(),delete p[r],p)return;delete t.__transition}p[r]=a,a.timer=(0,e.timer)(function(t){a.state=o,a.timer.restart(_,a.delay,a.time),a.delay<=t&&_(t-a.delay)},0,a.time)}exports.ENDED=d;
},{"d3-dispatch":"UU/c","d3-timer":"CBES"}],"+xAn":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=t;var e=require("./transition/schedule.js");function t(t,n){var r,a,i,s=t.__transition,l=!0;if(s){for(i in n=null==n?null:n+"",s)(r=s[i]).name===n?(a=r.state>e.STARTING&&r.state<e.ENDING,r.state=e.ENDED,r.timer.stop(),r.on.call(a?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete s[i]):l=!1;l&&delete t.__transition}}
},{"./transition/schedule.js":"GDz/"}],"JwzZ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=r;var e=t(require("../interrupt.js"));function t(e){return e&&e.__esModule?e:{default:e}}function r(t){return this.each(function(){(0,e.default)(this,t)})}
},{"../interrupt.js":"+xAn"}],"CgJV":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=r,exports.tweenValue=i;var e=require("./schedule.js");function t(t,n){var r,i;return function(){var u=(0,e.set)(this,t),a=u.tween;if(a!==r)for(var f=0,l=(i=r=a).length;f<l;++f)if(i[f].name===n){(i=i.slice()).splice(f,1);break}u.tween=i}}function n(t,n,r){var i,u;if("function"!=typeof r)throw new Error;return function(){var a=(0,e.set)(this,t),f=a.tween;if(f!==i){u=(i=f).slice();for(var l={name:n,value:r},s=0,o=u.length;s<o;++s)if(u[s].name===n){u[s]=l;break}s===o&&u.push(l)}a.tween=u}}function r(r,i){var u=this._id;if(r+="",arguments.length<2){for(var a,f=(0,e.get)(this.node(),u).tween,l=0,s=f.length;l<s;++l)if((a=f[l]).name===r)return a.value;return null}return this.each((null==i?t:n)(u,r,i))}function i(t,n,r){var i=t._id;return t.each(function(){var t=(0,e.set)(this,i);(t.value||(t.value={}))[n]=r.apply(this,arguments)}),function(t){return(0,e.get)(t,i).value[n]}}
},{"./schedule.js":"GDz/"}],"KSuB":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=t;var e=require("d3-color"),r=require("d3-interpolate");function t(t,o){var n;return("number"==typeof o?r.interpolateNumber:o instanceof e.color?r.interpolateRgb:(n=(0,e.color)(o))?(o=n,r.interpolateRgb):r.interpolateString)(t,o)}
},{"d3-color":"4TJ2","d3-interpolate":"mkGF"}],"/e4S":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=f;var t=require("d3-interpolate"),e=require("d3-selection"),r=require("./tween.js"),n=u(require("./interpolate.js"));function u(t){return t&&t.__esModule?t:{default:t}}function i(t){return function(){this.removeAttribute(t)}}function l(t){return function(){this.removeAttributeNS(t.space,t.local)}}function o(t,e,r){var n,u,i=r+"";return function(){var l=this.getAttribute(t);return l===i?null:l===n?u:u=e(n=l,r)}}function a(t,e,r){var n,u,i=r+"";return function(){var l=this.getAttributeNS(t.space,t.local);return l===i?null:l===n?u:u=e(n=l,r)}}function c(t,e,r){var n,u,i;return function(){var l,o,a=r(this);if(null!=a)return(l=this.getAttribute(t))===(o=a+"")?null:l===n&&o===u?i:(u=o,i=e(n=l,a));this.removeAttribute(t)}}function s(t,e,r){var n,u,i;return function(){var l,o,a=r(this);if(null!=a)return(l=this.getAttributeNS(t.space,t.local))===(o=a+"")?null:l===n&&o===u?i:(u=o,i=e(n=l,a));this.removeAttributeNS(t.space,t.local)}}function f(u,f){var v=(0,e.namespace)(u),h="transform"===v?t.interpolateTransformSvg:n.default;return this.attrTween(u,"function"==typeof f?(v.local?s:c)(v,h,(0,r.tweenValue)(this,"attr."+u,f)):null==f?(v.local?l:i)(v):(v.local?a:o)(v,h,f))}
},{"d3-interpolate":"mkGF","d3-selection":"lm1C","./tween.js":"CgJV","./interpolate.js":"KSuB"}],"L4WC":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=i;var t=require("d3-selection");function e(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function n(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function r(t,e){var r,u;function i(){var i=e.apply(this,arguments);return i!==u&&(r=(u=i)&&n(t,i)),r}return i._value=e,i}function u(t,n){var r,u;function i(){var i=n.apply(this,arguments);return i!==u&&(r=(u=i)&&e(t,i)),r}return i._value=n,i}function i(e,n){var i="attr."+e;if(arguments.length<2)return(i=this.tween(i))&&i._value;if(null==n)return this.tween(i,null);if("function"!=typeof n)throw new Error;var a=(0,t.namespace)(e);return this.tween(i,(a.local?r:u)(a,n))}
},{"d3-selection":"lm1C"}],"1K26":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=n;var t=require("./schedule.js");function e(e,i){return function(){(0,t.init)(this,e).delay=+i.apply(this,arguments)}}function i(e,i){return i=+i,function(){(0,t.init)(this,e).delay=i}}function n(n){var r=this._id;return arguments.length?this.each(("function"==typeof n?e:i)(r,n)):(0,t.get)(this.node(),r).delay}
},{"./schedule.js":"GDz/"}],"ZZtL":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=i;var t=require("./schedule.js");function e(e,n){return function(){(0,t.set)(this,e).duration=+n.apply(this,arguments)}}function n(e,n){return n=+n,function(){(0,t.set)(this,e).duration=n}}function i(i){var r=this._id;return arguments.length?this.each(("function"==typeof i?e:n)(r,i)):(0,t.get)(this.node(),r).duration}
},{"./schedule.js":"GDz/"}],"6pgS":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=r;var e=require("./schedule.js");function t(t,r){if("function"!=typeof r)throw new Error;return function(){(0,e.set)(this,t).ease=r}}function r(r){var n=this._id;return arguments.length?this.each(t(n,r)):(0,e.get)(this.node(),n).ease}
},{"./schedule.js":"GDz/"}],"odSN":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=r;var e=require("./schedule.js");function t(t,r){return function(){var i=r.apply(this,arguments);if("function"!=typeof i)throw new Error;(0,e.set)(this,t).ease=i}}function r(e){if("function"!=typeof e)throw new Error;return this.each(t(this._id,e))}
},{"./schedule.js":"GDz/"}],"0QDl":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=t;var e=require("d3-selection"),r=require("./index.js");function t(t){"function"!=typeof t&&(t=(0,e.matcher)(t));for(var n=this._groups,i=n.length,s=new Array(i),a=0;a<i;++a)for(var o,u=n[a],_=u.length,h=s[a]=[],l=0;l<_;++l)(o=u[l])&&t.call(o,o.__data__,l,u)&&h.push(o);return new r.Transition(s,this._parents,this._name,this._id)}
},{"d3-selection":"lm1C","./index.js":"J3C7"}],"Z2Q+":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;var r=require("./index.js");function e(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,i=e._groups,n=t.length,s=i.length,o=Math.min(n,s),a=new Array(n),h=0;h<o;++h)for(var u,_=t[h],d=i[h],f=_.length,l=a[h]=new Array(f),p=0;p<f;++p)(u=_[p]||d[p])&&(l[p]=u);for(;h<n;++h)a[h]=t[h];return new r.Transition(a,this._parents,this._name,this._id)}
},{"./index.js":"J3C7"}],"VZes":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=r;var e=require("./schedule.js");function t(e){return(e+"").trim().split(/^|\s+/).every(function(e){var t=e.indexOf(".");return t>=0&&(e=e.slice(0,t)),!e||"start"===e})}function n(n,r,i){var o,s,u=t(r)?e.init:e.set;return function(){var e=u(this,n),t=e.on;t!==o&&(s=(o=t).copy()).on(r,i),e.on=s}}function r(t,r){var i=this._id;return arguments.length<2?(0,e.get)(this.node(),i).on.on(t):this.each(n(i,t,r))}
},{"./schedule.js":"GDz/"}],"FS2t":[function(require,module,exports) {
"use strict";function e(e){return function(){var t=this.parentNode;for(var r in this.__transition)if(+r!==e)return;t&&t.removeChild(this)}}function t(){return this.on("end.remove",e(this._id))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=t;
},{}],"Xvwr":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=a;var e=require("d3-selection"),r=require("./index.js"),t=n(require("./schedule.js"));function n(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,t):{};n.get||n.set?Object.defineProperty(r,t,n):r[t]=e[t]}return r.default=e,r}function a(n){var a=this._name,i=this._id;"function"!=typeof n&&(n=(0,e.selector)(n));for(var o=this._groups,_=o.length,s=new Array(_),u=0;u<_;++u)for(var c,l,d=o[u],f=d.length,p=s[u]=new Array(f),y=0;y<f;++y)(c=d[y])&&(l=n.call(c,c.__data__,y,d))&&("__data__"in c&&(l.__data__=c.__data__),p[y]=l,(0,t.default)(p[y],a,i,y,p,(0,t.get)(c,i)));return new r.Transition(s,this._parents,a,i)}
},{"d3-selection":"lm1C","./index.js":"J3C7","./schedule.js":"GDz/"}],"DOdJ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=o;var e=require("d3-selection"),r=require("./index.js"),t=n(require("./schedule.js"));function n(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,t):{};n.get||n.set?Object.defineProperty(r,t,n):r[t]=e[t]}return r.default=e,r}function o(n){var o=this._name,i=this._id;"function"!=typeof n&&(n=(0,e.selectorAll)(n));for(var s=this._groups,u=s.length,l=[],a=[],f=0;f<u;++f)for(var c,p=s[f],d=p.length,_=0;_<d;++_)if(c=p[_]){for(var h,v=n.call(c,c.__data__,_,p),O=(0,t.get)(c,i),g=0,j=v.length;g<j;++g)(h=v[g])&&(0,t.default)(h,o,i,g,v,O);l.push(v),a.push(c)}return new r.Transition(l,a,o,i)}
},{"d3-selection":"lm1C","./index.js":"J3C7","./schedule.js":"GDz/"}],"bQR7":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=r;var e=require("d3-selection"),t=e.selection.prototype.constructor;function r(){return new t(this._groups,this._parents)}
},{"d3-selection":"lm1C"}],"gXfd":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=f;var e=require("d3-interpolate"),t=require("d3-selection"),n=require("./schedule.js"),r=require("./tween.js"),s=u(require("./interpolate.js"));function u(e){return e&&e.__esModule?e:{default:e}}function l(e,n){var r,s,u;return function(){var l=(0,t.style)(this,e),i=(this.style.removeProperty(e),(0,t.style)(this,e));return l===i?null:l===r&&i===s?u:u=n(r=l,s=i)}}function i(e){return function(){this.style.removeProperty(e)}}function o(e,n,r){var s,u,l=r+"";return function(){var i=(0,t.style)(this,e);return i===l?null:i===s?u:u=n(s=i,r)}}function a(e,n,r){var s,u,l;return function(){var i=(0,t.style)(this,e),o=r(this),a=o+"";return null==o&&(this.style.removeProperty(e),a=o=(0,t.style)(this,e)),i===a?null:i===s&&a===u?l:(u=a,l=n(s=i,o))}}function y(e,t){var r,s,u,l,o="style."+t,a="end."+o;return function(){var y=(0,n.set)(this,e),f=y.on,c=null==y.value[o]?l||(l=i(t)):void 0;f===r&&u===c||(s=(r=f).copy()).on(a,u=c),y.on=s}}function f(t,n,u){var f="transform"==(t+="")?e.interpolateTransformCss:s.default;return null==n?this.styleTween(t,l(t,f)).on("end.style."+t,i(t)):"function"==typeof n?this.styleTween(t,a(t,f,(0,r.tweenValue)(this,"style."+t,n))).each(y(this._id,t)):this.styleTween(t,o(t,f,n),u).on("end.style."+t,null)}
},{"d3-interpolate":"mkGF","d3-selection":"lm1C","./schedule.js":"GDz/","./tween.js":"CgJV","./interpolate.js":"KSuB"}],"SCZW":[function(require,module,exports) {
"use strict";function t(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function e(e,n,r){var u,i;function l(){var l=n.apply(this,arguments);return l!==i&&(u=(i=l)&&t(e,l,r)),u}return l._value=n,l}function n(t,n,r){var u="style."+(t+="");if(arguments.length<2)return(u=this.tween(u))&&u._value;if(null==n)return this.tween(u,null);if("function"!=typeof n)throw new Error;return this.tween(u,e(t,n,null==r?"":r))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=n;
},{}],"HTlb":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=u;var t=require("./tween.js");function e(t){return function(){this.textContent=t}}function n(t){return function(){var e=t(this);this.textContent=null==e?"":e}}function u(u){return this.tween("text","function"==typeof u?n((0,t.tweenValue)(this,"text",u)):e(null==u?"":u+""))}
},{"./tween.js":"CgJV"}],"2Tl5":[function(require,module,exports) {
"use strict";function t(t){return function(e){this.textContent=t.call(this,e)}}function e(e){var n,r;function u(){var u=e.apply(this,arguments);return u!==r&&(n=(r=u)&&t(u)),n}return u._value=e,u}function n(t){var n="text";if(arguments.length<1)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!=typeof t)throw new Error;return this.tween(n,e(t))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=n;
},{}],"rWxz":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=i;var e=require("./index.js"),r=t(require("./schedule.js"));function t(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)){var i=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,t):{};i.get||i.set?Object.defineProperty(r,t,i):r[t]=e[t]}return r.default=e,r}function i(){for(var t=this._name,i=this._id,n=(0,e.newId)(),o=this._groups,a=o.length,s=0;s<a;++s)for(var u,d=o[s],f=d.length,l=0;l<f;++l)if(u=d[l]){var p=(0,r.get)(u,i);(0,r.default)(u,t,n,l,d,{time:p.time+p.delay+p.duration,delay:0,duration:p.duration,ease:p.ease})}return new e.Transition(o,this._parents,t,n)}
},{"./index.js":"J3C7","./schedule.js":"GDz/"}],"13+g":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=t;var e=require("./schedule.js");function t(){var t,u,n=this,r=n._id,s=n.size();return new Promise(function(i,o){var c={value:o},a={value:function(){0==--s&&i()}};n.each(function(){var n=(0,e.set)(this,r),s=n.on;s!==t&&((u=(t=s).copy())._.cancel.push(c),u._.interrupt.push(c),u._.end.push(a)),n.on=u}),0===s&&i()})}
},{"./schedule.js":"GDz/"}],"J3C7":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Transition=v,exports.default=g,exports.newId=b;var e=require("d3-selection"),t=T(require("./attr.js")),r=T(require("./attrTween.js")),s=T(require("./delay.js")),u=T(require("./duration.js")),i=T(require("./ease.js")),a=T(require("./easeVarying.js")),l=T(require("./filter.js")),n=T(require("./merge.js")),o=T(require("./on.js")),d=T(require("./remove.js")),f=T(require("./select.js")),c=T(require("./selectAll.js")),j=T(require("./selection.js")),q=T(require("./style.js")),y=T(require("./styleTween.js")),p=T(require("./text.js")),m=T(require("./textTween.js")),w=T(require("./transition.js")),x=T(require("./tween.js")),_=T(require("./end.js"));function T(e){return e&&e.__esModule?e:{default:e}}var h=0;function v(e,t,r,s){this._groups=e,this._parents=t,this._name=r,this._id=s}function g(t){return(0,e.selection)().transition(t)}function b(){return++h}var z=e.selection.prototype;v.prototype=g.prototype={constructor:v,select:f.default,selectAll:c.default,filter:l.default,merge:n.default,selection:j.default,transition:w.default,call:z.call,nodes:z.nodes,node:z.node,size:z.size,empty:z.empty,each:z.each,on:o.default,attr:t.default,attrTween:r.default,style:q.default,styleTween:y.default,text:p.default,textTween:m.default,remove:d.default,tween:x.default,delay:s.default,duration:u.default,ease:i.default,easeVarying:a.default,end:_.default,[Symbol.iterator]:z[Symbol.iterator]};
},{"d3-selection":"lm1C","./attr.js":"/e4S","./attrTween.js":"L4WC","./delay.js":"1K26","./duration.js":"ZZtL","./ease.js":"6pgS","./easeVarying.js":"odSN","./filter.js":"0QDl","./merge.js":"Z2Q+","./on.js":"VZes","./remove.js":"FS2t","./select.js":"Xvwr","./selectAll.js":"DOdJ","./selection.js":"bQR7","./style.js":"gXfd","./styleTween.js":"SCZW","./text.js":"HTlb","./textTween.js":"2Tl5","./transition.js":"rWxz","./tween.js":"CgJV","./end.js":"13+g"}],"fXiu":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.linear=void 0;const e=e=>+e;exports.linear=e;
},{}],"GaS5":[function(require,module,exports) {
"use strict";function t(t){return t*t}function e(t){return t*(2-t)}function u(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2}Object.defineProperty(exports,"__esModule",{value:!0}),exports.quadIn=t,exports.quadOut=e,exports.quadInOut=u;
},{}],"PA7e":[function(require,module,exports) {
"use strict";function t(t){return t*t*t}function e(t){return--t*t*t+1}function u(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}Object.defineProperty(exports,"__esModule",{value:!0}),exports.cubicIn=t,exports.cubicOut=e,exports.cubicInOut=u;
},{}],"ECJi":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.polyInOut=exports.polyOut=exports.polyIn=void 0;var t=3,n=function t(n){function o(t){return Math.pow(t,n)}return n=+n,o.exponent=t,o}(t);exports.polyIn=n;var o=function t(n){function o(t){return 1-Math.pow(1-t,n)}return n=+n,o.exponent=t,o}(t);exports.polyOut=o;var e=function t(n){function o(t){return((t*=2)<=1?Math.pow(t,n):2-Math.pow(2-t,n))/2}return n=+n,o.exponent=t,o}(t);exports.polyInOut=e;
},{}],"sZZb":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.sinIn=e,exports.sinOut=r,exports.sinInOut=s;var t=Math.PI,n=t/2;function e(t){return 1==+t?1:1-Math.cos(t*n)}function r(t){return Math.sin(t*n)}function s(n){return(1-Math.cos(t*n))/2}
},{}],"dlJ/":[function(require,module,exports) {
"use strict";function e(e){return 1.0009775171065494*(Math.pow(2,-10*e)-.0009765625)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.tpmt=e;
},{}],"rYq8":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.expIn=e,exports.expOut=r,exports.expInOut=n;var t=require("./math.js");function e(e){return(0,t.tpmt)(1-+e)}function r(e){return 1-(0,t.tpmt)(e)}function n(e){return((e*=2)<=1?(0,t.tpmt)(1-e):2-(0,t.tpmt)(e-1))/2}
},{"./math.js":"dlJ/"}],"1+hE":[function(require,module,exports) {
"use strict";function t(t){return 1-Math.sqrt(1-t*t)}function r(t){return Math.sqrt(1- --t*t)}function e(t){return((t*=2)<=1?1-Math.sqrt(1-t*t):Math.sqrt(1-(t-=2)*t)+1)/2}Object.defineProperty(exports,"__esModule",{value:!0}),exports.circleIn=t,exports.circleOut=r,exports.circleInOut=e;
},{}],"MKsh":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.bounceIn=b,exports.bounceOut=f,exports.bounceInOut=x;var e=4/11,t=6/11,n=8/11,r=.75,u=9/11,o=10/11,c=.9375,s=21/22,i=63/64,p=1/e/e;function b(e){return 1-f(1-e)}function f(b){return(b=+b)<e?p*b*b:b<n?p*(b-=t)*b+r:b<o?p*(b-=u)*b+c:p*(b-=s)*b+i}function x(e){return((e*=2)<=1?1-f(1-e):f(e-1)+1)/2}
},{}],"fCsL":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.backInOut=exports.backOut=exports.backIn=void 0;var t=1.70158,r=function t(r){function o(t){return(t=+t)*t*(r*(t-1)+t)}return r=+r,o.overshoot=t,o}(t);exports.backIn=r;var o=function t(r){function o(t){return--t*t*((t+1)*r+t)+1}return r=+r,o.overshoot=t,o}(t);exports.backOut=o;var e=function t(r){function o(t){return((t*=2)<1?t*t*((r+1)*t-r):(t-=2)*t*((r+1)*t+r)+2)/2}return r=+r,o.overshoot=t,o}(t);exports.backInOut=e;
},{}],"xolo":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.elasticInOut=exports.elasticOut=exports.elasticIn=void 0;var t=require("./math.js"),n=2*Math.PI,r=1,e=.3,i=function r(e,i){var u=Math.asin(1/(e=Math.max(1,e)))*(i/=n);function a(n){return e*(0,t.tpmt)(- --n)*Math.sin((u-n)/i)}return a.amplitude=function(t){return r(t,i*n)},a.period=function(t){return r(e,t)},a}(r,e);exports.elasticIn=i;var u=function r(e,i){var u=Math.asin(1/(e=Math.max(1,e)))*(i/=n);function a(n){return 1-e*(0,t.tpmt)(n=+n)*Math.sin((n+u)/i)}return a.amplitude=function(t){return r(t,i*n)},a.period=function(t){return r(e,t)},a}(r,e);exports.elasticOut=u;var a=function r(e,i){var u=Math.asin(1/(e=Math.max(1,e)))*(i/=n);function a(n){return((n=2*n-1)<0?e*(0,t.tpmt)(-n)*Math.sin((u-n)/i):2-e*(0,t.tpmt)(n)*Math.sin((u+n)/i))/2}return a.amplitude=function(t){return r(t,i*n)},a.period=function(t){return r(e,t)},a}(r,e);exports.elasticInOut=a;
},{"./math.js":"dlJ/"}],"CFyW":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"easeLinear",{enumerable:!0,get:function(){return e.linear}}),Object.defineProperty(exports,"easeQuad",{enumerable:!0,get:function(){return t.quadInOut}}),Object.defineProperty(exports,"easeQuadIn",{enumerable:!0,get:function(){return t.quadIn}}),Object.defineProperty(exports,"easeQuadOut",{enumerable:!0,get:function(){return t.quadOut}}),Object.defineProperty(exports,"easeQuadInOut",{enumerable:!0,get:function(){return t.quadInOut}}),Object.defineProperty(exports,"easeCubic",{enumerable:!0,get:function(){return r.cubicInOut}}),Object.defineProperty(exports,"easeCubicIn",{enumerable:!0,get:function(){return r.cubicIn}}),Object.defineProperty(exports,"easeCubicOut",{enumerable:!0,get:function(){return r.cubicOut}}),Object.defineProperty(exports,"easeCubicInOut",{enumerable:!0,get:function(){return r.cubicInOut}}),Object.defineProperty(exports,"easePoly",{enumerable:!0,get:function(){return n.polyInOut}}),Object.defineProperty(exports,"easePolyIn",{enumerable:!0,get:function(){return n.polyIn}}),Object.defineProperty(exports,"easePolyOut",{enumerable:!0,get:function(){return n.polyOut}}),Object.defineProperty(exports,"easePolyInOut",{enumerable:!0,get:function(){return n.polyInOut}}),Object.defineProperty(exports,"easeSin",{enumerable:!0,get:function(){return u.sinInOut}}),Object.defineProperty(exports,"easeSinIn",{enumerable:!0,get:function(){return u.sinIn}}),Object.defineProperty(exports,"easeSinOut",{enumerable:!0,get:function(){return u.sinOut}}),Object.defineProperty(exports,"easeSinInOut",{enumerable:!0,get:function(){return u.sinInOut}}),Object.defineProperty(exports,"easeExp",{enumerable:!0,get:function(){return o.expInOut}}),Object.defineProperty(exports,"easeExpIn",{enumerable:!0,get:function(){return o.expIn}}),Object.defineProperty(exports,"easeExpOut",{enumerable:!0,get:function(){return o.expOut}}),Object.defineProperty(exports,"easeExpInOut",{enumerable:!0,get:function(){return o.expInOut}}),Object.defineProperty(exports,"easeCircle",{enumerable:!0,get:function(){return c.circleInOut}}),Object.defineProperty(exports,"easeCircleIn",{enumerable:!0,get:function(){return c.circleIn}}),Object.defineProperty(exports,"easeCircleOut",{enumerable:!0,get:function(){return c.circleOut}}),Object.defineProperty(exports,"easeCircleInOut",{enumerable:!0,get:function(){return c.circleInOut}}),Object.defineProperty(exports,"easeBounce",{enumerable:!0,get:function(){return i.bounceOut}}),Object.defineProperty(exports,"easeBounceIn",{enumerable:!0,get:function(){return i.bounceIn}}),Object.defineProperty(exports,"easeBounceOut",{enumerable:!0,get:function(){return i.bounceOut}}),Object.defineProperty(exports,"easeBounceInOut",{enumerable:!0,get:function(){return i.bounceInOut}}),Object.defineProperty(exports,"easeBack",{enumerable:!0,get:function(){return a.backInOut}}),Object.defineProperty(exports,"easeBackIn",{enumerable:!0,get:function(){return a.backIn}}),Object.defineProperty(exports,"easeBackOut",{enumerable:!0,get:function(){return a.backOut}}),Object.defineProperty(exports,"easeBackInOut",{enumerable:!0,get:function(){return a.backInOut}}),Object.defineProperty(exports,"easeElastic",{enumerable:!0,get:function(){return s.elasticOut}}),Object.defineProperty(exports,"easeElasticIn",{enumerable:!0,get:function(){return s.elasticIn}}),Object.defineProperty(exports,"easeElasticOut",{enumerable:!0,get:function(){return s.elasticOut}}),Object.defineProperty(exports,"easeElasticInOut",{enumerable:!0,get:function(){return s.elasticInOut}});var e=require("./linear.js"),t=require("./quad.js"),r=require("./cubic.js"),n=require("./poly.js"),u=require("./sin.js"),o=require("./exp.js"),c=require("./circle.js"),i=require("./bounce.js"),a=require("./back.js"),s=require("./elastic.js");
},{"./linear.js":"fXiu","./quad.js":"GaS5","./cubic.js":"PA7e","./poly.js":"ECJi","./sin.js":"sZZb","./exp.js":"rYq8","./circle.js":"1+hE","./bounce.js":"MKsh","./back.js":"fCsL","./elastic.js":"xolo"}],"CNir":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=a;var e=require("../transition/index.js"),r=i(require("../transition/schedule.js")),n=require("d3-ease"),t=require("d3-timer");function i(e){return e&&e.__esModule?e:{default:e}}var o={time:null,delay:0,duration:250,ease:n.easeCubicInOut};function u(e,r){for(var n;!(n=e.__transition)||!(n=n[r]);)if(!(e=e.parentNode))throw new Error(`transition ${r} not found`);return n}function a(n){var i,a;n instanceof e.Transition?(i=n._id,n=n._name):(i=(0,e.newId)(),(a=o).time=(0,t.now)(),n=null==n?null:n+"");for(var s=this._groups,d=s.length,l=0;l<d;++l)for(var f,_=s[l],c=_.length,v=0;v<c;++v)(f=_[v])&&(0,r.default)(f,n,i,v,_,a||u(f,i));return new e.Transition(s,this._parents,n,i)}
},{"../transition/index.js":"J3C7","../transition/schedule.js":"GDz/","d3-ease":"CFyW","d3-timer":"CBES"}],"uhVG":[function(require,module,exports) {
"use strict";var e=require("d3-selection"),t=i(require("./interrupt.js")),r=i(require("./transition.js"));function i(e){return e&&e.__esModule?e:{default:e}}e.selection.prototype.interrupt=t.default,e.selection.prototype.transition=r.default;
},{"d3-selection":"lm1C","./interrupt.js":"JwzZ","./transition.js":"CNir"}],"zz7H":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=t;var e=require("./transition/index.js"),n=require("./transition/schedule.js"),r=[null];function t(t,i){var u,s,l=t.__transition;if(l)for(s in i=null==i?null:i+"",l)if((u=l[s]).state>n.SCHEDULED&&u.name===i)return new e.Transition([[t]],r,i,+s);return null}
},{"./transition/index.js":"J3C7","./transition/schedule.js":"GDz/"}],"Fcbi":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"transition",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(exports,"active",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(exports,"interrupt",{enumerable:!0,get:function(){return r.default}}),require("./selection/index.js");var e=n(require("./transition/index.js")),t=n(require("./active.js")),r=n(require("./interrupt.js"));function n(e){return e&&e.__esModule?e:{default:e}}
},{"./selection/index.js":"uhVG","./transition/index.js":"J3C7","./active.js":"zz7H","./interrupt.js":"+xAn"}],"iX60":[function(require,module,exports) {
"use strict";function e(e,{sourceEvent:u,target:a,selection:l,mode:r,dispatch:t}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:u,enumerable:!0,configurable:!0},target:{value:a,enumerable:!0,configurable:!0},selection:{value:l,enumerable:!0,configurable:!0},mode:{value:r,enumerable:!0,configurable:!0},_:{value:t}})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"HwJw":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.brushSelection=T,exports.brushX=V,exports.brushY=D,exports.default=S;var t=require("d3-dispatch"),e=require("d3-drag"),n=require("d3-interpolate"),r=require("d3-selection"),s=require("d3-transition"),i=l(require("./constant.js")),u=l(require("./event.js")),o=a(require("./noevent.js"));function a(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};r.get||r.set?Object.defineProperty(e,n,r):e[n]=t[n]}return e.default=t,e}function l(t){return t&&t.__esModule?t:{default:t}}var c={name:"drag"},h={name:"space"},f={name:"handle"},p={name:"center"};const{abs:d,max:y,min:b}=Math;function v(t){return[+t[0],+t[1]]}function w(t){return[v(t[0]),v(t[1])]}var m={name:"x",handles:["w","e"].map(O),input:function(t,e){return null==t?null:[[+t[0],e[0][1]],[+t[1],e[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},g={name:"y",handles:["n","s"].map(O),input:function(t,e){return null==t?null:[[e[0][0],+t[0]],[e[1][0],+t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},_={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(O),input:function(t){return null==t?null:w(t)},output:function(t){return t}},x={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},k={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},j={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},z={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},A={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function O(t){return{type:t}}function q(t){return!t.ctrlKey&&!t.button}function P(){var t=this.ownerSVGElement||this;return t.hasAttribute("viewBox")?[[(t=t.viewBox.baseVal).x,t.y],[t.x+t.width,t.y+t.height]]:[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]}function K(){return navigator.maxTouchPoints||"ontouchstart"in this}function M(t){for(;!t.__brush;)if(!(t=t.parentNode))return;return t.__brush}function E(t){return t[0][0]===t[1][0]||t[0][1]===t[1][1]}function T(t){var e=t.__brush;return e?e.dim.output(e.selection):null}function V(){return B(m)}function D(){return B(g)}function S(){return B(_)}function B(a){var l,v=P,_=q,T=K,V=!0,D=(0,t.dispatch)("start","brush","end"),S=6;function B(t){var e=t.property("__brush",H).selectAll(".overlay").data([O("overlay")]);e.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",x.overlay).merge(e).each(function(){var t=M(this).extent;(0,r.select)(this).attr("x",t[0][0]).attr("y",t[0][1]).attr("width",t[1][0]-t[0][0]).attr("height",t[1][1]-t[0][1])}),t.selectAll(".selection").data([O("selection")]).enter().append("rect").attr("class","selection").attr("cursor",x.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var n=t.selectAll(".handle").data(a.handles,function(t){return t.type});n.exit().remove(),n.enter().append("rect").attr("class",function(t){return"handle handle--"+t.type}).attr("cursor",function(t){return x[t.type]}),t.each(C).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",X).filter(T).on("touchstart.brush",X).on("touchmove.brush",Y).on("touchend.brush touchcancel.brush",F).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function C(){var t=(0,r.select)(this),e=M(this).selection;e?(t.selectAll(".selection").style("display",null).attr("x",e[0][0]).attr("y",e[0][1]).attr("width",e[1][0]-e[0][0]).attr("height",e[1][1]-e[0][1]),t.selectAll(".handle").style("display",null).attr("x",function(t){return"e"===t.type[t.type.length-1]?e[1][0]-S/2:e[0][0]-S/2}).attr("y",function(t){return"s"===t.type[0]?e[1][1]-S/2:e[0][1]-S/2}).attr("width",function(t){return"n"===t.type||"s"===t.type?e[1][0]-e[0][0]+S:S}).attr("height",function(t){return"e"===t.type||"w"===t.type?e[1][1]-e[0][1]+S:S})):t.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function G(t,e,n){var r=t.__brush.emitter;return!r||n&&r.clean?new N(t,e,n):r}function N(t,e,n){this.that=t,this.args=e,this.state=t.__brush,this.active=0,this.clean=n}function X(t){if((!l||t.touches)&&_.apply(this,arguments)){var n,i,u,v,w,O,q,P,K,T,D,S=this,B=t.target.__data__.type,N="selection"===(V&&t.metaKey?B="overlay":B)?c:V&&t.altKey?p:f,X=a===g?null:z[B],Y=a===m?null:A[B],F=M(S),H=F.extent,I=F.selection,J=H[0][0],L=H[0][1],Q=H[1][0],R=H[1][1],U=0,W=0,Z=X&&Y&&V&&t.shiftKey,$=Array.from(t.touches||[t],t=>{const e=t.identifier;return(t=(0,r.pointer)(t,S)).point0=t.slice(),t.identifier=e,t});if("overlay"===B){I&&(K=!0);const t=[$[0],$[1]||$[0]];F.selection=I=[[n=a===g?J:b(t[0][0],t[1][0]),u=a===m?L:b(t[0][1],t[1][1])],[w=a===g?Q:y(t[0][0],t[1][0]),q=a===m?R:y(t[0][1],t[1][1])]],$.length>1&&it()}else n=I[0][0],u=I[0][1],w=I[1][0],q=I[1][1];i=n,v=u,O=w,P=q;var tt=(0,r.select)(S).attr("pointer-events","none"),et=tt.selectAll(".overlay").attr("cursor",x[B]);(0,s.interrupt)(S);var nt=G(S,arguments,!0).beforestart();if(t.touches)nt.moved=st,nt.ended=ut;else{var rt=(0,r.select)(t.view).on("mousemove.brush",st,!0).on("mouseup.brush",ut,!0);V&&rt.on("keydown.brush",function(t){switch(t.keyCode){case 16:Z=X&&Y;break;case 18:N===f&&(X&&(w=O-U*X,n=i+U*X),Y&&(q=P-W*Y,u=v+W*Y),N=p,it());break;case 32:N!==f&&N!==p||(X<0?w=O-U:X>0&&(n=i-U),Y<0?q=P-W:Y>0&&(u=v-W),N=h,et.attr("cursor",x.selection),it());break;default:return}(0,o.default)(t)},!0).on("keyup.brush",function(t){switch(t.keyCode){case 16:Z&&(T=D=Z=!1,it());break;case 18:N===p&&(X<0?w=O:X>0&&(n=i),Y<0?q=P:Y>0&&(u=v),N=f,it());break;case 32:N===h&&(t.altKey?(X&&(w=O-U*X,n=i+U*X),Y&&(q=P-W*Y,u=v+W*Y),N=p):(X<0?w=O:X>0&&(n=i),Y<0?q=P:Y>0&&(u=v),N=f),et.attr("cursor",x[B]),it());break;default:return}(0,o.default)(t)},!0),(0,e.dragDisable)(t.view)}C.call(S),nt.start(t,N.name)}function st(t){for(const e of t.changedTouches||[t])for(const t of $)t.identifier===e.identifier&&(t.cur=(0,r.pointer)(e,S));if(Z&&!T&&!D&&1===$.length){const t=$[0];d(t.cur[0]-t[0])>d(t.cur[1]-t[1])?D=!0:T=!0}for(const e of $)e.cur&&(e[0]=e.cur[0],e[1]=e.cur[1]);K=!0,(0,o.default)(t),it(t)}function it(t){const e=$[0],r=e.point0;var s;switch(U=e[0]-r[0],W=e[1]-r[1],N){case h:case c:X&&(U=y(J-n,b(Q-w,U)),i=n+U,O=w+U),Y&&(W=y(L-u,b(R-q,W)),v=u+W,P=q+W);break;case f:$[1]?(X&&(i=y(J,b(Q,$[0][0])),O=y(J,b(Q,$[1][0])),X=1),Y&&(v=y(L,b(R,$[0][1])),P=y(L,b(R,$[1][1])),Y=1)):(X<0?(U=y(J-n,b(Q-n,U)),i=n+U,O=w):X>0&&(U=y(J-w,b(Q-w,U)),i=n,O=w+U),Y<0?(W=y(L-u,b(R-u,W)),v=u+W,P=q):Y>0&&(W=y(L-q,b(R-q,W)),v=u,P=q+W));break;case p:X&&(i=y(J,b(Q,n-U*X)),O=y(J,b(Q,w+U*X))),Y&&(v=y(L,b(R,u-W*Y)),P=y(L,b(R,q+W*Y)))}O<i&&(X*=-1,s=n,n=w,w=s,s=i,i=O,O=s,B in k&&et.attr("cursor",x[B=k[B]])),P<v&&(Y*=-1,s=u,u=q,q=s,s=v,v=P,P=s,B in j&&et.attr("cursor",x[B=j[B]])),F.selection&&(I=F.selection),T&&(i=I[0][0],O=I[1][0]),D&&(v=I[0][1],P=I[1][1]),I[0][0]===i&&I[0][1]===v&&I[1][0]===O&&I[1][1]===P||(F.selection=[[i,v],[O,P]],C.call(S),nt.brush(t,N.name))}function ut(t){if((0,o.nopropagation)(t),t.touches){if(t.touches.length)return;l&&clearTimeout(l),l=setTimeout(function(){l=null},500)}else(0,e.dragEnable)(t.view,K),rt.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);tt.attr("pointer-events","all"),et.attr("cursor",x.overlay),F.selection&&(I=F.selection),E(I)&&(F.selection=null,C.call(S)),nt.end(t,N.name)}}function Y(t){G(this,arguments).moved(t)}function F(t){G(this,arguments).ended(t)}function H(){var t=this.__brush||{selection:null};return t.extent=w(v.apply(this,arguments)),t.dim=a,t}return B.move=function(t,e){t.tween?t.on("start.brush",function(t){G(this,arguments).beforestart().start(t)}).on("interrupt.brush end.brush",function(t){G(this,arguments).end(t)}).tween("brush",function(){var t=this,r=t.__brush,s=G(t,arguments),i=r.selection,u=a.input("function"==typeof e?e.apply(this,arguments):e,r.extent),o=(0,n.interpolate)(i,u);function l(e){r.selection=1===e&&null===u?null:o(e),C.call(t),s.brush()}return null!==i&&null!==u?l:l(1)}):t.each(function(){var t=arguments,n=this.__brush,r=a.input("function"==typeof e?e.apply(this,t):e,n.extent),i=G(this,t).beforestart();(0,s.interrupt)(this),n.selection=null===r?null:r,C.call(this),i.start().brush().end()})},B.clear=function(t){B.move(t,null)},N.prototype={beforestart:function(){return 1==++this.active&&(this.state.emitter=this,this.starting=!0),this},start:function(t,e){return this.starting?(this.starting=!1,this.emit("start",t,e)):this.emit("brush",t),this},brush:function(t,e){return this.emit("brush",t,e),this},end:function(t,e){return 0==--this.active&&(delete this.state.emitter,this.emit("end",t,e)),this},emit:function(t,e,n){var s=(0,r.select)(this.that).datum();D.call(t,this.that,new u.default(t,{sourceEvent:e,target:B,selection:a.output(this.state.selection),mode:n,dispatch:D}),s)}},B.extent=function(t){return arguments.length?(v="function"==typeof t?t:(0,i.default)(w(t)),B):v},B.filter=function(t){return arguments.length?(_="function"==typeof t?t:(0,i.default)(!!t),B):_},B.touchable=function(t){return arguments.length?(T="function"==typeof t?t:(0,i.default)(!!t),B):T},B.handleSize=function(t){return arguments.length?(S=+t,B):S},B.keyModifiers=function(t){return arguments.length?(V=!!t,B):V},B.on=function(){var t=D.on.apply(D,arguments);return t===D?B:t},B}
},{"d3-dispatch":"UU/c","d3-drag":"LrBi","d3-interpolate":"mkGF","d3-selection":"lm1C","d3-transition":"Fcbi","./constant.js":"gzkf","./event.js":"iX60","./noevent.js":"DCEg"}],"TNt0":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"brush",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(exports,"brushX",{enumerable:!0,get:function(){return e.brushX}}),Object.defineProperty(exports,"brushY",{enumerable:!0,get:function(){return e.brushY}}),Object.defineProperty(exports,"brushSelection",{enumerable:!0,get:function(){return e.brushSelection}});var e=r(require("./brush.js"));function r(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,t):{};n.get||n.set?Object.defineProperty(r,t,n):r[t]=e[t]}return r.default=e,r}
},{"./brush.js":"HwJw"}],"z+rd":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.epsilon=exports.max=exports.tau=exports.halfPi=exports.pi=exports.sin=exports.cos=exports.abs=void 0;var s=Math.abs;exports.abs=s;var e=Math.cos;exports.cos=e;var r=Math.sin;exports.sin=r;var t=Math.PI;exports.pi=t;var o=t/2;exports.halfPi=o;var a=2*t;exports.tau=a;var p=Math.max;exports.max=p;var x=1e-12;exports.epsilon=x;
},{}],"YLYV":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=n,exports.chordTranspose=u,exports.chordDirected=l;var e=require("./math.js");function t(e,t){return Array.from({length:t-e},(t,r)=>e+r)}function r(e){return function(t,r){return e(t.source.value+t.target.value,r.source.value+r.target.value)}}function n(){return o(!1,!1)}function u(){return o(!1,!0)}function l(){return o(!0,!1)}function o(n,u){var l=0,o=null,a=null,s=null;function c(r){var c,g=r.length,f=new Array(g),i=t(0,g),d=new Array(g*g),A=new Array(g),v=0;r=Float64Array.from({length:g*g},u?(e,t)=>r[t%g][t/g|0]:(e,t)=>r[t/g|0][t%g]);for(let e=0;e<g;++e){let t=0;for(let u=0;u<g;++u)t+=r[e*g+u]+n*r[u*g+e];v+=f[e]=t}c=(v=(0,e.max)(0,e.tau-l*g)/v)?l:e.tau/g;{let e=0;o&&i.sort((e,t)=>o(f[e],f[t]));for(const u of i){const l=e;if(n){const n=t(1+~g,g).filter(e=>e<0?r[~e*g+u]:r[u*g+e]);a&&n.sort((e,t)=>a(e<0?-r[~e*g+u]:r[u*g+e],t<0?-r[~t*g+u]:r[u*g+t]));for(const t of n)if(t<0){(d[~t*g+u]||(d[~t*g+u]={source:null,target:null})).target={index:u,startAngle:e,endAngle:e+=r[~t*g+u]*v,value:r[~t*g+u]}}else{(d[u*g+t]||(d[u*g+t]={source:null,target:null})).source={index:u,startAngle:e,endAngle:e+=r[u*g+t]*v,value:r[u*g+t]}}A[u]={index:u,startAngle:l,endAngle:e,value:f[u]}}else{const n=t(0,g).filter(e=>r[u*g+e]||r[e*g+u]);a&&n.sort((e,t)=>a(r[u*g+e],r[u*g+t]));for(const t of n){let n;if(u<t?(n=d[u*g+t]||(d[u*g+t]={source:null,target:null})).source={index:u,startAngle:e,endAngle:e+=r[u*g+t]*v,value:r[u*g+t]}:((n=d[t*g+u]||(d[t*g+u]={source:null,target:null})).target={index:u,startAngle:e,endAngle:e+=r[u*g+t]*v,value:r[u*g+t]},u===t&&(n.source=n.target)),n.source&&n.target&&n.source.value<n.target.value){const e=n.source;n.source=n.target,n.target=e}}A[u]={index:u,startAngle:l,endAngle:e,value:f[u]}}e+=c}}return(d=Object.values(d)).groups=A,s?d.sort(s):d}return c.padAngle=function(t){return arguments.length?(l=(0,e.max)(0,t),c):l},c.sortGroups=function(e){return arguments.length?(o=e,c):o},c.sortSubgroups=function(e){return arguments.length?(a=e,c):a},c.sortChords=function(e){return arguments.length?(null==e?s=null:(s=r(e))._=e,c):s&&s._},c}
},{"./math.js":"z+rd"}],"E5FC":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;const t=Math.PI,i=2*t,s=1e-6,h=i-1e-6;function _(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function e(){return new _}_.prototype=e.prototype={constructor:_,moveTo:function(t,i){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+i)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,i){this._+="L"+(this._x1=+t)+","+(this._y1=+i)},quadraticCurveTo:function(t,i,s,h){this._+="Q"+ +t+","+ +i+","+(this._x1=+s)+","+(this._y1=+h)},bezierCurveTo:function(t,i,s,h,_,e){this._+="C"+ +t+","+ +i+","+ +s+","+ +h+","+(this._x1=+_)+","+(this._y1=+e)},arcTo:function(i,s,h,_,e){i=+i,s=+s,h=+h,_=+_,e=+e;var n=this._x1,o=this._y1,r=h-i,a=_-s,u=n-i,c=o-s,x=u*u+c*c;if(e<0)throw new Error("negative radius: "+e);if(null===this._x1)this._+="M"+(this._x1=i)+","+(this._y1=s);else if(x>1e-6)if(Math.abs(c*r-a*u)>1e-6&&e){var y=h-n,f=_-o,M=r*r+a*a,l=y*y+f*f,v=Math.sqrt(M),d=Math.sqrt(x),p=e*Math.tan((t-Math.acos((M+x-l)/(2*v*d)))/2),b=p/d,w=p/v;Math.abs(b-1)>1e-6&&(this._+="L"+(i+b*u)+","+(s+b*c)),this._+="A"+e+","+e+",0,0,"+ +(c*y>u*f)+","+(this._x1=i+w*r)+","+(this._y1=s+w*a)}else this._+="L"+(this._x1=i)+","+(this._y1=s);else;},arc:function(s,_,e,n,o,r){s=+s,_=+_,r=!!r;var a=(e=+e)*Math.cos(n),u=e*Math.sin(n),c=s+a,x=_+u,y=1^r,f=r?n-o:o-n;if(e<0)throw new Error("negative radius: "+e);null===this._x1?this._+="M"+c+","+x:(Math.abs(this._x1-c)>1e-6||Math.abs(this._y1-x)>1e-6)&&(this._+="L"+c+","+x),e&&(f<0&&(f=f%i+i),f>h?this._+="A"+e+","+e+",0,1,"+y+","+(s-a)+","+(_-u)+"A"+e+","+e+",0,1,"+y+","+(this._x1=c)+","+(this._y1=x):f>1e-6&&(this._+="A"+e+","+e+",0,"+ +(f>=t)+","+y+","+(this._x1=s+e*Math.cos(o))+","+(this._y1=_+e*Math.sin(o))))},rect:function(t,i,s,h){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+i)+"h"+ +s+"v"+ +h+"h"+-s+"Z"},toString:function(){return this._}};var n=e;exports.default=n;
},{}],"dz42":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"path",{enumerable:!0,get:function(){return e.default}});var e=t(require("./path.js"));function t(e){return e&&e.__esModule?e:{default:e}}
},{"./path.js":"E5FC"}],"ootM":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=h,exports.ribbonArrow=d;var n=require("d3-path"),t=require("./array.js"),e=r(require("./constant.js")),u=require("./math.js");function r(n){return n&&n.__esModule?n:{default:n}}function i(n){return n.source}function o(n){return n.target}function l(n){return n.radius}function a(n){return n.startAngle}function f(n){return n.endAngle}function s(){return 0}function c(){return 10}function p(r){var c=i,p=o,h=l,d=l,y=a,g=f,v=s,q=null;function A(){var e,i=c.apply(this,arguments),o=p.apply(this,arguments),l=v.apply(this,arguments)/2,a=t.slice.call(arguments),f=+h.apply(this,(a[0]=i,a)),s=y.apply(this,a)-u.halfPi,A=g.apply(this,a)-u.halfPi,P=+d.apply(this,(a[0]=o,a)),T=y.apply(this,a)-u.halfPi,b=g.apply(this,a)-u.halfPi;if(q||(q=e=(0,n.path)()),l>u.epsilon&&((0,u.abs)(A-s)>2*l+u.epsilon?A>s?(s+=l,A-=l):(s-=l,A+=l):s=A=(s+A)/2,(0,u.abs)(b-T)>2*l+u.epsilon?b>T?(T+=l,b-=l):(T-=l,b+=l):T=b=(T+b)/2),q.moveTo(f*(0,u.cos)(s),f*(0,u.sin)(s)),q.arc(0,0,f,s,A),s!==T||A!==b)if(r){var j=P-+r.apply(this,arguments),x=(T+b)/2;q.quadraticCurveTo(0,0,j*(0,u.cos)(T),j*(0,u.sin)(T)),q.lineTo(P*(0,u.cos)(x),P*(0,u.sin)(x)),q.lineTo(j*(0,u.cos)(b),j*(0,u.sin)(b))}else q.quadraticCurveTo(0,0,P*(0,u.cos)(T),P*(0,u.sin)(T)),q.arc(0,0,P,T,b);if(q.quadraticCurveTo(0,0,f*(0,u.cos)(s),f*(0,u.sin)(s)),q.closePath(),e)return q=null,e+""||null}return r&&(A.headRadius=function(n){return arguments.length?(r="function"==typeof n?n:(0,e.default)(+n),A):r}),A.radius=function(n){return arguments.length?(h=d="function"==typeof n?n:(0,e.default)(+n),A):h},A.sourceRadius=function(n){return arguments.length?(h="function"==typeof n?n:(0,e.default)(+n),A):h},A.targetRadius=function(n){return arguments.length?(d="function"==typeof n?n:(0,e.default)(+n),A):d},A.startAngle=function(n){return arguments.length?(y="function"==typeof n?n:(0,e.default)(+n),A):y},A.endAngle=function(n){return arguments.length?(g="function"==typeof n?n:(0,e.default)(+n),A):g},A.padAngle=function(n){return arguments.length?(v="function"==typeof n?n:(0,e.default)(+n),A):v},A.source=function(n){return arguments.length?(c=n,A):c},A.target=function(n){return arguments.length?(p=n,A):p},A.context=function(n){return arguments.length?(q=null==n?null:n,A):q},A}function h(){return p()}function d(){return p(c)}
},{"d3-path":"dz42","./array.js":"rv5q","./constant.js":"5O/Y","./math.js":"z+rd"}],"cf1+":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"chord",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(exports,"chordTranspose",{enumerable:!0,get:function(){return e.chordTranspose}}),Object.defineProperty(exports,"chordDirected",{enumerable:!0,get:function(){return e.chordDirected}}),Object.defineProperty(exports,"ribbon",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(exports,"ribbonArrow",{enumerable:!0,get:function(){return r.ribbonArrow}});var e=t(require("./chord.js")),r=t(require("./ribbon.js"));function t(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)){var o=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,t):{};o.get||o.set?Object.defineProperty(r,t,o):r[t]=e[t]}return r.default=e,r}
},{"./chord.js":"YLYV","./ribbon.js":"ootM"}],"+IBm":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.slice=void 0;var e=Array.prototype,r=e.slice;exports.slice=r;
},{}],"8ldh":[function(require,module,exports) {
"use strict";function e(e,t){return e-t}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"hcn/":[function(require,module,exports) {
"use strict";function e(e){for(var t=0,r=e.length,o=e[r-1][1]*e[0][0]-e[r-1][0]*e[0][1];++t<r;)o+=e[t-1][1]*e[t][0]-e[t-1][0]*e[t][1];return o}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"GiY2":[function(require,module,exports) {
"use strict";function r(r,e){for(var n,u=-1,f=e.length;++u<f;)if(n=t(r,e[u]))return n;return 0}function t(r,t){for(var n=t[0],u=t[1],f=-1,o=0,i=r.length,c=i-1;o<i;c=o++){var a=r[o],l=a[0],s=a[1],v=r[c],d=v[0],p=v[1];if(e(a,v,t))return 0;s>u!=p>u&&n<(d-l)*(u-s)/(p-s)+l&&(f=-f)}return f}function e(r,t,e){var f;return n(r,t,e)&&u(r[f=+(r[0]===t[0])],e[f],t[f])}function n(r,t,e){return(t[0]-r[0])*(e[1]-r[1])==(e[0]-r[0])*(t[1]-r[1])}function u(r,t,e){return r<=t&&t<=e||e<=t&&t<=r}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=r;
},{}],"BhKh":[function(require,module,exports) {
"use strict";function e(){}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"oKpg":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=s;var r=require("d3-array"),e=require("./array.js"),t=u(require("./ascending.js")),n=u(require("./area.js")),a=u(require("./constant.js")),o=u(require("./contains.js")),i=u(require("./noop.js"));function u(r){return r&&r.__esModule?r:{default:r}}var f=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function s(){var u=1,s=1,c=r.thresholdSturges,l=v;function d(e){var n=c(e);if(Array.isArray(n))n=n.slice().sort(t.default);else{var a=(0,r.extent)(e),o=a[0],i=a[1];n=(0,r.tickStep)(o,i,n),n=(0,r.range)(Math.floor(o/n)*n,Math.floor(i/n)*n,n)}return n.map(function(r){return h(e,r)})}function h(r,e){var t=[],a=[];return function(r,e,t){var n,a,o,i,c,l,d=new Array,h=new Array;n=a=-1,i=r[0]>=e,f[i<<1].forEach(v);for(;++n<u-1;)o=i,i=r[n+1]>=e,f[o|i<<1].forEach(v);f[i<<0].forEach(v);for(;++a<s-1;){for(n=-1,i=r[a*u+u]>=e,c=r[a*u]>=e,f[i<<1|c<<2].forEach(v);++n<u-1;)o=i,i=r[a*u+u+n+1]>=e,l=c,c=r[a*u+n+1]>=e,f[o|i<<1|c<<2|l<<3].forEach(v);f[i|c<<3].forEach(v)}n=-1,c=r[a*u]>=e,f[c<<2].forEach(v);for(;++n<u-1;)l=c,c=r[a*u+n+1]>=e,f[c<<2|l<<3].forEach(v);function v(r){var e,o,i=[r[0][0]+n,r[0][1]+a],u=[r[1][0]+n,r[1][1]+a],f=g(i),s=g(u);(e=h[f])?(o=d[s])?(delete h[e.end],delete d[o.start],e===o?(e.ring.push(u),t(e.ring)):d[e.start]=h[o.end]={start:e.start,end:o.end,ring:e.ring.concat(o.ring)}):(delete h[e.end],e.ring.push(u),h[e.end=s]=e):(e=d[s])?(o=h[f])?(delete d[e.start],delete h[o.end],e===o?(e.ring.push(u),t(e.ring)):d[o.start]=h[e.end]={start:o.start,end:e.end,ring:o.ring.concat(e.ring)}):(delete d[e.start],e.ring.unshift(i),d[e.start=f]=e):d[f]=h[s]={start:f,end:s,ring:[i,u]}}f[c<<3].forEach(v)}(r,e,function(o){l(o,r,e),(0,n.default)(o)>0?t.push([o]):a.push(o)}),a.forEach(function(r){for(var e,n=0,a=t.length;n<a;++n)if(-1!==(0,o.default)((e=t[n])[0],r))return void e.push(r)}),{type:"MultiPolygon",value:e,coordinates:t}}function g(r){return 2*r[0]+r[1]*(u+1)*4}function v(r,e,t){r.forEach(function(r){var n,a=r[0],o=r[1],i=0|a,f=0|o,c=e[f*u+i];a>0&&a<u&&i===a&&(n=e[f*u+i-1],r[0]=a+(t-n)/(c-n)-.5),o>0&&o<s&&f===o&&(n=e[(f-1)*u+i],r[1]=o+(t-n)/(c-n)-.5)})}return d.contour=h,d.size=function(r){if(!arguments.length)return[u,s];var e=Math.floor(r[0]),t=Math.floor(r[1]);if(!(e>=0&&t>=0))throw new Error("invalid size");return u=e,s=t,d},d.thresholds=function(r){return arguments.length?(c="function"==typeof r?r:Array.isArray(r)?(0,a.default)(e.slice.call(r)):(0,a.default)(r),d):c},d.smooth=function(r){return arguments.length?(l=r?v:i.default,d):l===v},d}
},{"d3-array":"cBuZ","./array.js":"+IBm","./ascending.js":"8ldh","./area.js":"hcn/","./constant.js":"gzkf","./contains.js":"GiY2","./noop.js":"BhKh"}],"yZ0K":[function(require,module,exports) {
"use strict";function t(t,a,r){for(var e=t.width,o=t.height,d=1+(r<<1),i=0;i<o;++i)for(var h=0,f=0;h<e+r;++h)h<e&&(f+=t.data[h+i*e]),h>=r&&(h>=d&&(f-=t.data[h-d+i*e]),a.data[h-r+i*e]=f/Math.min(h+1,e-1+d-h,d))}function a(t,a,r){for(var e=t.width,o=t.height,d=1+(r<<1),i=0;i<e;++i)for(var h=0,f=0;h<o+r;++h)h<o&&(f+=t.data[i+h*e]),h>=r&&(h>=d&&(f-=t.data[i+(h-d)*e]),a.data[i+(h-r)*e]=f/Math.min(h+1,o-1+d-h,d))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.blurX=t,exports.blurY=a;
},{}],"9VOW":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=f;var t=require("d3-array"),r=require("./array.js"),e=require("./blur.js"),n=a(require("./constant.js")),i=a(require("./contours.js"));function a(t){return t&&t.__esModule?t:{default:t}}function u(t){return t[0]}function h(t){return t[1]}function o(){return 1}function f(){var a=u,f=h,d=o,l=960,c=500,s=20,w=2,g=3*s,y=l+2*g>>w,p=c+2*g>>w,v=(0,n.default)(20);function M(r){var n=new Float32Array(y*p),u=new Float32Array(y*p);r.forEach(function(t,r,e){var i=+a(t,r,e)+g>>w,u=+f(t,r,e)+g>>w,h=+d(t,r,e);i>=0&&i<y&&u>=0&&u<p&&(n[i+u*y]+=h)}),(0,e.blurX)({width:y,height:p,data:n},{width:y,height:p,data:u},s>>w),(0,e.blurY)({width:y,height:p,data:u},{width:y,height:p,data:n},s>>w),(0,e.blurX)({width:y,height:p,data:n},{width:y,height:p,data:u},s>>w),(0,e.blurY)({width:y,height:p,data:u},{width:y,height:p,data:n},s>>w),(0,e.blurX)({width:y,height:p,data:n},{width:y,height:p,data:u},s>>w),(0,e.blurY)({width:y,height:p,data:u},{width:y,height:p,data:n},s>>w);var h=v(n);if(!Array.isArray(h)){var o=(0,t.max)(n);h=(0,t.tickStep)(0,o,h),(h=(0,t.range)(0,Math.floor(o/h)*h,h)).shift()}return(0,i.default)().thresholds(h).size([y,p])(n).map(b)}function b(t){return t.value*=Math.pow(2,-2*w),t.coordinates.forEach(q),t}function q(t){t.forEach(E)}function E(t){t.forEach(A)}function A(t){t[0]=t[0]*Math.pow(2,w)-g,t[1]=t[1]*Math.pow(2,w)-g}function j(){return y=l+2*(g=3*s)>>w,p=c+2*g>>w,M}return M.x=function(t){return arguments.length?(a="function"==typeof t?t:(0,n.default)(+t),M):a},M.y=function(t){return arguments.length?(f="function"==typeof t?t:(0,n.default)(+t),M):f},M.weight=function(t){return arguments.length?(d="function"==typeof t?t:(0,n.default)(+t),M):d},M.size=function(t){if(!arguments.length)return[l,c];var r=+t[0],e=+t[1];if(!(r>=0&&e>=0))throw new Error("invalid size");return l=r,c=e,j()},M.cellSize=function(t){if(!arguments.length)return 1<<w;if(!((t=+t)>=1))throw new Error("invalid cell size");return w=Math.floor(Math.log(t)/Math.LN2),j()},M.thresholds=function(t){return arguments.length?(v="function"==typeof t?t:Array.isArray(t)?(0,n.default)(r.slice.call(t)):(0,n.default)(t),M):v},M.bandwidth=function(t){if(!arguments.length)return Math.sqrt(s*(s+1));if(!((t=+t)>=0))throw new Error("invalid bandwidth");return s=Math.round((Math.sqrt(4*t*t+1)-1)/2),j()},M}
},{"d3-array":"cBuZ","./array.js":"+IBm","./blur.js":"yZ0K","./constant.js":"gzkf","./contours.js":"oKpg"}],"cfrl":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"contours",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(exports,"contourDensity",{enumerable:!0,get:function(){return t.default}});var e=r(require("./contours.js")),t=r(require("./density.js"));function r(e){return e&&e.__esModule?e:{default:e}}
},{"./contours.js":"oKpg","./density.js":"9VOW"}],"4HpL":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;const t=Math.pow(2,-52),s=new Uint32Array(512);class i{static from(t,s=u,e=f){const h=t.length,n=new Float64Array(2*h);for(let i=0;i<h;i++){const h=t[i];n[2*i]=s(h),n[2*i+1]=e(h)}return new i(n)}constructor(t){const s=t.length>>1;if(s>0&&"number"!=typeof t[0])throw new Error("Expected coords to contain numbers.");this.coords=t;const i=Math.max(2*s-5,0);this._triangles=new Uint32Array(3*i),this._halfedges=new Int32Array(3*i),this._hashSize=Math.ceil(Math.sqrt(s)),this._hullPrev=new Uint32Array(s),this._hullNext=new Uint32Array(s),this._hullTri=new Uint32Array(s),this._hullHash=new Int32Array(this._hashSize).fill(-1),this._ids=new Uint32Array(s),this._dists=new Float64Array(s),this.update()}update(){const{coords:s,_hullPrev:i,_hullNext:e,_hullTri:n,_hullHash:l}=this,c=s.length>>1;let u=1/0,f=1/0,d=-1/0,g=-1/0;for(let t=0;t<c;t++){const i=s[2*t],e=s[2*t+1];i<u&&(u=i),e<f&&(f=e),i>d&&(d=i),e>g&&(g=e),this._ids[t]=t}const y=(u+d)/2,w=(f+g)/2;let b,A,k,x=1/0;for(let t=0;t<c;t++){const i=h(y,w,s[2*t],s[2*t+1]);i<x&&(b=t,x=i)}const M=s[2*b],S=s[2*b+1];x=1/0;for(let t=0;t<c;t++){if(t===b)continue;const i=h(M,S,s[2*t],s[2*t+1]);i<x&&i>0&&(A=t,x=i)}let z=s[2*A],U=s[2*A+1],p=1/0;for(let t=0;t<c;t++){if(t===b||t===A)continue;const i=a(M,S,z,U,s[2*t],s[2*t+1]);i<p&&(k=t,p=i)}let T=s[2*k],K=s[2*k+1];if(p===1/0){for(let e=0;e<c;e++)this._dists[e]=s[2*e]-s[0]||s[2*e+1]-s[1];_(this._ids,this._dists,0,c-1);const t=new Uint32Array(c);let i=0;for(let s=0,e=-1/0;s<c;s++){const h=this._ids[s];this._dists[h]>e&&(t[i++]=h,e=this._dists[h])}return this.hull=t.subarray(0,i),this.triangles=new Uint32Array(0),void(this.halfedges=new Uint32Array(0))}if(r(M,S,z,U,T,K)){const t=A,s=z,i=U;A=k,z=T,U=K,k=t,T=s,K=i}const v=o(M,S,z,U,T,K);this._cx=v.x,this._cy=v.y;for(let t=0;t<c;t++)this._dists[t]=h(s[2*t],s[2*t+1],v.x,v.y);_(this._ids,this._dists,0,c-1),this._hullStart=b;let L=3;e[b]=i[k]=A,e[A]=i[b]=k,e[k]=i[A]=b,n[b]=0,n[A]=1,n[k]=2,l.fill(-1),l[this._hashKey(M,S)]=b,l[this._hashKey(z,U)]=A,l[this._hashKey(T,K)]=k,this.trianglesLen=0,this._addTriangle(b,A,k,-1,-1,-1);for(let h,a,o=0;o<this._ids.length;o++){const _=this._ids[o],c=s[2*_],u=s[2*_+1];if(o>0&&Math.abs(c-h)<=t&&Math.abs(u-a)<=t)continue;if(h=c,a=u,_===b||_===A||_===k)continue;let f=0;for(let t=0,s=this._hashKey(c,u);t<this._hashSize&&(-1===(f=l[(s+t)%this._hashSize])||f===e[f]);t++);let d,g=f=i[f];for(;d=e[g],!r(c,u,s[2*g],s[2*g+1],s[2*d],s[2*d+1]);)if((g=d)===f){g=-1;break}if(-1===g)continue;let y=this._addTriangle(g,_,e[g],-1,-1,n[g]);n[_]=this._legalize(y+2),n[g]=y,L++;let w=e[g];for(;d=e[w],r(c,u,s[2*w],s[2*w+1],s[2*d],s[2*d+1]);)y=this._addTriangle(w,_,d,n[_],-1,n[w]),n[_]=this._legalize(y+2),e[w]=w,L--,w=d;if(g===f)for(;r(c,u,s[2*(d=i[g])],s[2*d+1],s[2*g],s[2*g+1]);)y=this._addTriangle(d,_,g,-1,n[g],n[d]),this._legalize(y+2),n[d]=y,e[g]=g,L--,g=d;this._hullStart=i[_]=g,e[g]=i[w]=_,e[_]=w,l[this._hashKey(c,u)]=_,l[this._hashKey(s[2*g],s[2*g+1])]=g}this.hull=new Uint32Array(L);for(let t=0,h=this._hullStart;t<L;t++)this.hull[t]=h,h=e[h];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(t,s){return Math.floor(e(t-this._cx,s-this._cy)*this._hashSize)%this._hashSize}_legalize(t){const{_triangles:i,_halfedges:e,coords:h}=this;let n=0,r=0;for(;;){const a=e[t],o=t-t%3;if(r=o+(t+2)%3,-1===a){if(0===n)break;t=s[--n];continue}const _=a-a%3,c=o+(t+1)%3,u=_+(a+2)%3,f=i[r],d=i[t],g=i[c],y=i[u];if(l(h[2*f],h[2*f+1],h[2*d],h[2*d+1],h[2*g],h[2*g+1],h[2*y],h[2*y+1])){i[t]=y,i[a]=f;const h=e[u];if(-1===h){let s=this._hullStart;do{if(this._hullTri[s]===u){this._hullTri[s]=t;break}s=this._hullPrev[s]}while(s!==this._hullStart)}this._link(t,h),this._link(a,e[r]),this._link(r,u);const l=_+(a+1)%3;n<s.length&&(s[n++]=l)}else{if(0===n)break;t=s[--n]}}return r}_link(t,s){this._halfedges[t]=s,-1!==s&&(this._halfedges[s]=t)}_addTriangle(t,s,i,e,h,n){const r=this.trianglesLen;return this._triangles[r]=t,this._triangles[r+1]=s,this._triangles[r+2]=i,this._link(r,e),this._link(r+1,h),this._link(r+2,n),this.trianglesLen+=3,r}}function e(t,s){const i=t/(Math.abs(t)+Math.abs(s));return(s>0?3-i:1+i)/4}function h(t,s,i,e){const h=t-i,n=s-e;return h*h+n*n}function n(t,s,i,e,h,n){const r=(e-s)*(h-t),l=(i-t)*(n-s);return Math.abs(r-l)>=3.3306690738754716e-16*Math.abs(r+l)?r-l:0}function r(t,s,i,e,h,r){return(n(h,r,t,s,i,e)||n(t,s,i,e,h,r)||n(i,e,h,r,t,s))<0}function l(t,s,i,e,h,n,r,l){const a=t-r,o=s-l,_=i-r,c=e-l,u=h-r,f=n-l,d=_*_+c*c,g=u*u+f*f;return a*(c*g-d*f)-o*(_*g-d*u)+(a*a+o*o)*(_*f-c*u)<0}function a(t,s,i,e,h,n){const r=i-t,l=e-s,a=h-t,o=n-s,_=r*r+l*l,c=a*a+o*o,u=.5/(r*o-l*a),f=(o*_-l*c)*u,d=(r*c-a*_)*u;return f*f+d*d}function o(t,s,i,e,h,n){const r=i-t,l=e-s,a=h-t,o=n-s,_=r*r+l*l,c=a*a+o*o,u=.5/(r*o-l*a);return{x:t+(o*_-l*c)*u,y:s+(r*c-a*_)*u}}function _(t,s,i,e){if(e-i<=20)for(let h=i+1;h<=e;h++){const e=t[h],n=s[e];let r=h-1;for(;r>=i&&s[t[r]]>n;)t[r+1]=t[r--];t[r+1]=e}else{let h=i+1,n=e;c(t,i+e>>1,h),s[t[i]]>s[t[e]]&&c(t,i,e),s[t[h]]>s[t[e]]&&c(t,h,e),s[t[i]]>s[t[h]]&&c(t,i,h);const r=t[h],l=s[r];for(;;){do{h++}while(s[t[h]]<l);do{n--}while(s[t[n]]>l);if(n<h)break;c(t,h,n)}t[i+1]=t[n],t[n]=r,e-h+1>=n-i?(_(t,s,h,e),_(t,s,i,n-1)):(_(t,s,i,n-1),_(t,s,h,e))}}function c(t,s,i){const e=t[s];t[s]=t[i],t[i]=e}function u(t){return t[0]}function f(t){return t[1]}exports.default=i;
},{}],"Jacx":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;const t=1e-6;class s{constructor(){this._x0=this._y0=this._x1=this._y1=null,this._=""}moveTo(t,s){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+s}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(t,s){this._+=`L${this._x1=+t},${this._y1=+s}`}arc(s,i,h){const _=(s=+s)+(h=+h),e=i=+i;if(h<0)throw new Error("negative radius");null===this._x1?this._+=`M${_},${e}`:(Math.abs(this._x1-_)>t||Math.abs(this._y1-e)>t)&&(this._+="L"+_+","+e),h&&(this._+=`A${h},${h},0,1,1,${s-h},${i}A${h},${h},0,1,1,${this._x1=_},${this._y1=e}`)}rect(t,s,i,h){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+s}h${+i}v${+h}h${-i}Z`}value(){return this._||null}}exports.default=s;
},{}],"DM//":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;class s{constructor(){this._=[]}moveTo(s,t){this._.push([s,t])}closePath(){this._.push(this._[0].slice())}lineTo(s,t){this._.push([s,t])}value(){return this._.length?this._:null}}exports.default=s;
},{}],"j03y":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=i(require("./path.js")),e=i(require("./polygon.js"));function i(t){return t&&t.__esModule?t:{default:t}}class n{constructor(t,[e,i,n,s]=[0,0,960,500]){if(!((n=+n)>=(e=+e)&&(s=+s)>=(i=+i)))throw new Error("invalid bounds");this.delaunay=t,this._circumcenters=new Float64Array(2*t.points.length),this.vectors=new Float64Array(2*t.points.length),this.xmax=n,this.xmin=e,this.ymax=s,this.ymin=i,this._init()}update(){return this.delaunay.update(),this._init(),this}_init(){const{delaunay:{points:t,hull:e,triangles:i},vectors:n}=this,s=this.circumcenters=this._circumcenters.subarray(0,i.length/3*2);for(let m,x,d=0,f=0,g=i.length;d<g;d+=3,f+=2){const e=2*i[d],n=2*i[d+1],h=2*i[d+2],l=t[e],r=t[e+1],o=t[n],a=t[n+1],c=t[h],u=t[h+1],g=o-l,y=a-r,_=c-l,p=u-r,v=g*g+y*y,b=_*_+p*p,w=2*(g*p-y*_);if(w)if(Math.abs(w)<1e-8)m=(l+c)/2,x=(r+u)/2;else{const t=1/w;m=l+(p*v-y*b)*t,x=r+(g*b-_*v)*t}else m=(l+c)/2-1e8*p,x=(r+u)/2+1e8*_;s[f]=m,s[f+1]=x}let h,l,r,o=e[e.length-1],a=4*o,c=t[2*o],u=t[2*o+1];n.fill(0);for(let m=0;m<e.length;++m)h=a,l=c,r=u,a=4*(o=e[m]),c=t[2*o],u=t[2*o+1],n[h+2]=n[a]=r-u,n[h+3]=n[a+1]=c-l}render(e){const i=null==e?e=new t.default:void 0,{delaunay:{halfedges:n,inedges:s,hull:h},circumcenters:l,vectors:r}=this;if(h.length<=1)return null;for(let t=0,c=n.length;t<c;++t){const i=n[t];if(i<t)continue;const s=2*Math.floor(t/3),h=2*Math.floor(i/3),r=l[s],o=l[s+1],a=l[h],c=l[h+1];this._renderSegment(r,o,a,c,e)}let o,a=h[h.length-1];for(let t=0;t<h.length;++t){o=a,a=h[t];const i=2*Math.floor(s[a]/3),n=l[i],c=l[i+1],u=4*o,m=this._project(n,c,r[u+2],r[u+3]);m&&this._renderSegment(n,c,m[0],m[1],e)}return i&&i.value()}renderBounds(e){const i=null==e?e=new t.default:void 0;return e.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),i&&i.value()}renderCell(e,i){const n=null==i?i=new t.default:void 0,s=this._clip(e);if(null===s||!s.length)return;i.moveTo(s[0],s[1]);let h=s.length;for(;s[0]===s[h-2]&&s[1]===s[h-1]&&h>1;)h-=2;for(let t=2;t<h;t+=2)s[t]===s[t-2]&&s[t+1]===s[t-1]||i.lineTo(s[t],s[t+1]);return i.closePath(),n&&n.value()}*cellPolygons(){const{delaunay:{points:t}}=this;for(let e=0,i=t.length/2;e<i;++e){const t=this.cellPolygon(e);t&&(t.index=e,yield t)}}cellPolygon(t){const i=new e.default;return this.renderCell(t,i),i.value()}_renderSegment(t,e,i,n,s){let h;const l=this._regioncode(t,e),r=this._regioncode(i,n);0===l&&0===r?(s.moveTo(t,e),s.lineTo(i,n)):(h=this._clipSegment(t,e,i,n,l,r))&&(s.moveTo(h[0],h[1]),s.lineTo(h[2],h[3]))}contains(t,e,i){return(e=+e)==e&&(i=+i)==i&&this.delaunay._step(t,e,i)===t}*neighbors(t){const e=this._clip(t);if(e)for(const i of this.delaunay.neighbors(t)){const t=this._clip(i);if(t)t:for(let n=0,s=e.length;n<s;n+=2)for(let h=0,l=t.length;h<l;h+=2)if(e[n]==t[h]&&e[n+1]==t[h+1]&&e[(n+2)%s]==t[(h+l-2)%l]&&e[(n+3)%s]==t[(h+l-1)%l]){yield i;break t}}}_cell(t){const{circumcenters:e,delaunay:{inedges:i,halfedges:n,triangles:s}}=this,h=i[t];if(-1===h)return null;const l=[];let r=h;do{const i=Math.floor(r/3);if(l.push(e[2*i],e[2*i+1]),s[r=r%3==2?r-2:r+1]!==t)break;r=n[r]}while(r!==h&&-1!==r);return l}_clip(t){if(0===t&&1===this.delaunay.hull.length)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];const e=this._cell(t);if(null===e)return null;const{vectors:i}=this,n=4*t;return i[n]||i[n+1]?this._clipInfinite(t,e,i[n],i[n+1],i[n+2],i[n+3]):this._clipFinite(t,e)}_clipFinite(t,e){const i=e.length;let n,s,h,l,r,o=null,a=e[i-2],c=e[i-1],u=this._regioncode(a,c);for(let m=0;m<i;m+=2)if(n=a,s=c,a=e[m],c=e[m+1],h=u,u=this._regioncode(a,c),0===h&&0===u)l=r,r=0,o?o.push(a,c):o=[a,c];else{let e,i,m,x,d;if(0===h){if(null===(e=this._clipSegment(n,s,a,c,h,u)))continue;[i,m,x,d]=e}else{if(null===(e=this._clipSegment(a,c,n,s,u,h)))continue;[x,d,i,m]=e,l=r,r=this._edgecode(i,m),l&&r&&this._edge(t,l,r,o,o.length),o?o.push(i,m):o=[i,m]}l=r,r=this._edgecode(x,d),l&&r&&this._edge(t,l,r,o,o.length),o?o.push(x,d):o=[x,d]}if(o)l=r,r=this._edgecode(o[0],o[1]),l&&r&&this._edge(t,l,r,o,o.length);else if(this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return o}_clipSegment(t,e,i,n,s,h){for(;;){if(0===s&&0===h)return[t,e,i,n];if(s&h)return null;let l,r,o=s||h;8&o?(l=t+(i-t)*(this.ymax-e)/(n-e),r=this.ymax):4&o?(l=t+(i-t)*(this.ymin-e)/(n-e),r=this.ymin):2&o?(r=e+(n-e)*(this.xmax-t)/(i-t),l=this.xmax):(r=e+(n-e)*(this.xmin-t)/(i-t),l=this.xmin),s?(t=l,e=r,s=this._regioncode(t,e)):(i=l,n=r,h=this._regioncode(i,n))}}_clipInfinite(t,e,i,n,s,h){let l,r=Array.from(e);if((l=this._project(r[0],r[1],i,n))&&r.unshift(l[0],l[1]),(l=this._project(r[r.length-2],r[r.length-1],s,h))&&r.push(l[0],l[1]),r=this._clipFinite(t,r))for(let o,a=0,c=r.length,u=this._edgecode(r[c-2],r[c-1]);a<c;a+=2)o=u,u=this._edgecode(r[a],r[a+1]),o&&u&&(a=this._edge(t,o,u,r,a),c=r.length);else this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(r=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return r}_edge(t,e,i,n,s){for(;e!==i;){let i,h;switch(e){case 5:e=4;continue;case 4:e=6,i=this.xmax,h=this.ymin;break;case 6:e=2;continue;case 2:e=10,i=this.xmax,h=this.ymax;break;case 10:e=8;continue;case 8:e=9,i=this.xmin,h=this.ymax;break;case 9:e=1;continue;case 1:e=5,i=this.xmin,h=this.ymin}n[s]===i&&n[s+1]===h||!this.contains(t,i,h)||(n.splice(s,0,i,h),s+=2)}if(n.length>4)for(let h=0;h<n.length;h+=2){const t=(h+2)%n.length,e=(h+4)%n.length;(n[h]===n[t]&&n[t]===n[e]||n[h+1]===n[t+1]&&n[t+1]===n[e+1])&&(n.splice(t,2),h-=2)}return s}_project(t,e,i,n){let s,h,l,r=1/0;if(n<0){if(e<=this.ymin)return null;(s=(this.ymin-e)/n)<r&&(l=this.ymin,h=t+(r=s)*i)}else if(n>0){if(e>=this.ymax)return null;(s=(this.ymax-e)/n)<r&&(l=this.ymax,h=t+(r=s)*i)}if(i>0){if(t>=this.xmax)return null;(s=(this.xmax-t)/i)<r&&(h=this.xmax,l=e+(r=s)*n)}else if(i<0){if(t<=this.xmin)return null;(s=(this.xmin-t)/i)<r&&(h=this.xmin,l=e+(r=s)*n)}return[h,l]}_edgecode(t,e){return(t===this.xmin?1:t===this.xmax?2:0)|(e===this.ymin?4:e===this.ymax?8:0)}_regioncode(t,e){return(t<this.xmin?1:t>this.xmax?2:0)|(e<this.ymin?4:e>this.ymax?8:0)}}exports.default=n;
},{"./path.js":"Jacx","./polygon.js":"DM//"}],"UFGE":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=r(require("delaunator")),e=r(require("./path.js")),n=r(require("./polygon.js")),l=r(require("./voronoi.js"));function r(t){return t&&t.__esModule?t:{default:t}}const i=2*Math.PI,o=Math.pow;function s(t){return t[0]}function h(t){return t[1]}function a(t){const{triangles:e,coords:n}=t;for(let l=0;l<e.length;l+=3){const t=2*e[l],r=2*e[l+1],i=2*e[l+2];if((n[i]-n[t])*(n[r+1]-n[t+1])-(n[r]-n[t])*(n[i+1]-n[t+1])>1e-10)return!1}return!0}function u(t,e,n){return[t+Math.sin(t+e)*n,e+Math.cos(t-e)*n]}class d{static from(t,e=s,n=h,l){return new d("length"in t?c(t,e,n,l):Float64Array.from(f(t,e,n,l)))}constructor(e){this._delaunator=new t.default(e),this.inedges=new Int32Array(e.length/2),this._hullIndex=new Int32Array(e.length/2),this.points=this._delaunator.coords,this._init()}update(){return this._delaunator.update(),this._init(),this}_init(){const e=this._delaunator,n=this.points;if(e.hull&&e.hull.length>2&&a(e)){this.collinear=Int32Array.from({length:n.length/2},(t,e)=>e).sort((t,e)=>n[2*t]-n[2*e]||n[2*t+1]-n[2*e+1]);const e=this.collinear[0],l=this.collinear[this.collinear.length-1],r=[n[2*e],n[2*e+1],n[2*l],n[2*l+1]],i=1e-8*Math.hypot(r[3]-r[1],r[2]-r[0]);for(let t=0,o=n.length/2;t<o;++t){const e=u(n[2*t],n[2*t+1],i);n[2*t]=e[0],n[2*t+1]=e[1]}this._delaunator=new t.default(n)}else delete this.collinear;const l=this.halfedges=this._delaunator.halfedges,r=this.hull=this._delaunator.hull,i=this.triangles=this._delaunator.triangles,o=this.inedges.fill(-1),s=this._hullIndex.fill(-1);for(let t=0,h=l.length;t<h;++t){const e=i[t%3==2?t-2:t+1];-1!==l[t]&&-1!==o[e]||(o[e]=t)}for(let t=0,h=r.length;t<h;++t)s[r[t]]=t;r.length<=2&&r.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=r[0],this.triangles[1]=r[1],this.triangles[2]=r[1],o[r[0]]=1,2===r.length&&(o[r[1]]=0))}voronoi(t){return new l.default(this,t)}*neighbors(t){const{inedges:e,hull:n,_hullIndex:l,halfedges:r,triangles:i,collinear:o}=this;if(o){const e=o.indexOf(t);return e>0&&(yield o[e-1]),void(e<o.length-1&&(yield o[e+1]))}const s=e[t];if(-1===s)return;let h=s,a=-1;do{if(yield a=i[h],i[h=h%3==2?h-2:h+1]!==t)return;if(-1===(h=r[h])){const e=n[(l[t]+1)%n.length];return void(e!==a&&(yield e))}}while(h!==s)}find(t,e,n=0){if((t=+t)!=t||(e=+e)!=e)return-1;const l=n;let r;for(;(r=this._step(n,t,e))>=0&&r!==n&&r!==l;)n=r;return r}_step(t,e,n){const{inedges:l,hull:r,_hullIndex:i,halfedges:s,triangles:h,points:a}=this;if(-1===l[t]||!a.length)return(t+1)%(a.length>>1);let u=t,d=o(e-a[2*t],2)+o(n-a[2*t+1],2);const c=l[t];let f=c;do{let l=h[f];const c=o(e-a[2*l],2)+o(n-a[2*l+1],2);if(c<d&&(d=c,u=l),h[f=f%3==2?f-2:f+1]!==t)break;if(-1===(f=s[f])){if((f=r[(i[t]+1)%r.length])!==l&&o(e-a[2*f],2)+o(n-a[2*f+1],2)<d)return f;break}}while(f!==c);return u}render(t){const n=null==t?t=new e.default:void 0,{points:l,halfedges:r,triangles:i}=this;for(let e=0,o=r.length;e<o;++e){const n=r[e];if(n<e)continue;const o=2*i[e],s=2*i[n];t.moveTo(l[o],l[o+1]),t.lineTo(l[s],l[s+1])}return this.renderHull(t),n&&n.value()}renderPoints(t,n=2){const l=null==t?t=new e.default:void 0,{points:r}=this;for(let e=0,o=r.length;e<o;e+=2){const l=r[e],o=r[e+1];t.moveTo(l+n,o),t.arc(l,o,n,0,i)}return l&&l.value()}renderHull(t){const n=null==t?t=new e.default:void 0,{hull:l,points:r}=this,i=2*l[0],o=l.length;t.moveTo(r[i],r[i+1]);for(let e=1;e<o;++e){const n=2*l[e];t.lineTo(r[n],r[n+1])}return t.closePath(),n&&n.value()}hullPolygon(){const t=new n.default;return this.renderHull(t),t.value()}renderTriangle(t,n){const l=null==n?n=new e.default:void 0,{points:r,triangles:i}=this,o=2*i[t*=3],s=2*i[t+1],h=2*i[t+2];return n.moveTo(r[o],r[o+1]),n.lineTo(r[s],r[s+1]),n.lineTo(r[h],r[h+1]),n.closePath(),l&&l.value()}*trianglePolygons(){const{triangles:t}=this;for(let e=0,n=t.length/3;e<n;++e)yield this.trianglePolygon(e)}trianglePolygon(t){const e=new n.default;return this.renderTriangle(t,e),e.value()}}function c(t,e,n,l){const r=t.length,i=new Float64Array(2*r);for(let o=0;o<r;++o){const r=t[o];i[2*o]=e.call(l,r,o,t),i[2*o+1]=n.call(l,r,o,t)}return i}function*f(t,e,n,l){let r=0;for(const i of t)yield e.call(l,i,r,t),yield n.call(l,i,r,t),++r}exports.default=d;
},{"delaunator":"4HpL","./path.js":"Jacx","./polygon.js":"DM//","./voronoi.js":"j03y"}],"2V5J":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"Delaunay",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(exports,"Voronoi",{enumerable:!0,get:function(){return r.default}});var e=t(require("./delaunay.js")),r=t(require("./voronoi.js"));function t(e){return e&&e.__esModule?e:{default:e}}
},{"./delaunay.js":"UFGE","./voronoi.js":"j03y"}],"7SC/":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=s;var n={},r={},t=34,e=10,o=13;function u(n){return new Function("d","return {"+n.map(function(n,r){return JSON.stringify(n)+": d["+r+'] || ""'}).join(",")+"}")}function i(n,r){var t=u(n);return function(e,o){return r(t(e),o,n)}}function a(n){var r=Object.create(null),t=[];return n.forEach(function(n){for(var e in n)e in r||t.push(r[e]=e)}),t}function c(n,r){var t=n+"",e=t.length;return e<r?new Array(r-e+1).join(0)+t:t}function f(n){return n<0?"-"+c(-n,6):n>9999?"+"+c(n,6):c(n,4)}function l(n){var r=n.getUTCHours(),t=n.getUTCMinutes(),e=n.getUTCSeconds(),o=n.getUTCMilliseconds();return isNaN(n)?"Invalid Date":f(n.getUTCFullYear(),4)+"-"+c(n.getUTCMonth()+1,2)+"-"+c(n.getUTCDate(),2)+(o?"T"+c(r,2)+":"+c(t,2)+":"+c(e,2)+"."+c(o,3)+"Z":e?"T"+c(r,2)+":"+c(t,2)+":"+c(e,2)+"Z":t||r?"T"+c(r,2)+":"+c(t,2)+"Z":"")}function s(c){var f=new RegExp('["'+c+"\n\r]"),s=c.charCodeAt(0);function d(u,i){var a,c=[],f=u.length,l=0,d=0,h=f<=0,p=!1;function C(){if(h)return r;if(p)return p=!1,n;var i,a,c=l;if(u.charCodeAt(c)===t){for(;l++<f&&u.charCodeAt(l)!==t||u.charCodeAt(++l)===t;);return(i=l)>=f?h=!0:(a=u.charCodeAt(l++))===e?p=!0:a===o&&(p=!0,u.charCodeAt(l)===e&&++l),u.slice(c+1,i-1).replace(/""/g,'"')}for(;l<f;){if((a=u.charCodeAt(i=l++))===e)p=!0;else if(a===o)p=!0,u.charCodeAt(l)===e&&++l;else if(a!==s)continue;return u.slice(c,i)}return h=!0,u.slice(c,f)}for(u.charCodeAt(f-1)===e&&--f,u.charCodeAt(f-1)===o&&--f;(a=C())!==r;){for(var g=[];a!==n&&a!==r;)g.push(a),a=C();i&&null==(g=i(g,d++))||c.push(g)}return c}function h(n,r){return n.map(function(n){return r.map(function(r){return C(n[r])}).join(c)})}function p(n){return n.map(C).join(c)}function C(n){return null==n?"":n instanceof Date?l(n):f.test(n+="")?'"'+n.replace(/"/g,'""')+'"':n}return{parse:function(n,r){var t,e,o=d(n,function(n,o){if(t)return t(n,o-1);e=n,t=r?i(n,r):u(n)});return o.columns=e||[],o},parseRows:d,format:function(n,r){return null==r&&(r=a(n)),[r.map(C).join(c)].concat(h(n,r)).join("\n")},formatBody:function(n,r){return null==r&&(r=a(n)),h(n,r).join("\n")},formatRows:function(n){return n.map(p).join("\n")},formatRow:p,formatValue:C}}
},{}],"mU2J":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.csvFormatValue=exports.csvFormatRow=exports.csvFormatRows=exports.csvFormatBody=exports.csvFormat=exports.csvParseRows=exports.csvParse=void 0;var r=o(require("./dsv.js"));function o(r){return r&&r.__esModule?r:{default:r}}var s=(0,r.default)(","),e=s.parse;exports.csvParse=e;var t=s.parseRows;exports.csvParseRows=t;var a=s.format;exports.csvFormat=a;var v=s.formatBody;exports.csvFormatBody=v;var p=s.formatRows;exports.csvFormatRows=p;var c=s.formatRow;exports.csvFormatRow=c;var m=s.formatValue;exports.csvFormatValue=m;
},{"./dsv.js":"7SC/"}],"zpVZ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.tsvFormatValue=exports.tsvFormatRow=exports.tsvFormatRows=exports.tsvFormatBody=exports.tsvFormat=exports.tsvParseRows=exports.tsvParse=void 0;var t=r(require("./dsv.js"));function r(t){return t&&t.__esModule?t:{default:t}}var o=(0,t.default)("\t"),s=o.parse;exports.tsvParse=s;var e=o.parseRows;exports.tsvParseRows=e;var a=o.format;exports.tsvFormat=a;var v=o.formatBody;exports.tsvFormatBody=v;var p=o.formatRows;exports.tsvFormatRows=p;var m=o.formatRow;exports.tsvFormatRow=m;var x=o.formatValue;exports.tsvFormatValue=x;
},{"./dsv.js":"7SC/"}],"7bjL":[function(require,module,exports) {
"use strict";function e(e){for(var r in e){var s,a,d=e[r].trim();if(d)if("true"===d)d=!0;else if("false"===d)d=!1;else if("NaN"===d)d=NaN;else if(isNaN(s=+d)){if(!(a=d.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/)))continue;t&&a[4]&&!a[7]&&(d=d.replace(/-/g,"/").replace(/T/," ")),d=new Date(d)}else d=s;else d=null;e[r]=d}return e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;const t=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours();
},{}],"mQVF":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"dsvFormat",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(exports,"csvParse",{enumerable:!0,get:function(){return t.csvParse}}),Object.defineProperty(exports,"csvParseRows",{enumerable:!0,get:function(){return t.csvParseRows}}),Object.defineProperty(exports,"csvFormat",{enumerable:!0,get:function(){return t.csvFormat}}),Object.defineProperty(exports,"csvFormatBody",{enumerable:!0,get:function(){return t.csvFormatBody}}),Object.defineProperty(exports,"csvFormatRows",{enumerable:!0,get:function(){return t.csvFormatRows}}),Object.defineProperty(exports,"csvFormatRow",{enumerable:!0,get:function(){return t.csvFormatRow}}),Object.defineProperty(exports,"csvFormatValue",{enumerable:!0,get:function(){return t.csvFormatValue}}),Object.defineProperty(exports,"tsvParse",{enumerable:!0,get:function(){return r.tsvParse}}),Object.defineProperty(exports,"tsvParseRows",{enumerable:!0,get:function(){return r.tsvParseRows}}),Object.defineProperty(exports,"tsvFormat",{enumerable:!0,get:function(){return r.tsvFormat}}),Object.defineProperty(exports,"tsvFormatBody",{enumerable:!0,get:function(){return r.tsvFormatBody}}),Object.defineProperty(exports,"tsvFormatRows",{enumerable:!0,get:function(){return r.tsvFormatRows}}),Object.defineProperty(exports,"tsvFormatRow",{enumerable:!0,get:function(){return r.tsvFormatRow}}),Object.defineProperty(exports,"tsvFormatValue",{enumerable:!0,get:function(){return r.tsvFormatValue}}),Object.defineProperty(exports,"autoType",{enumerable:!0,get:function(){return o.default}});var e=n(require("./dsv.js")),t=require("./csv.js"),r=require("./tsv.js"),o=n(require("./autoType.js"));function n(e){return e&&e.__esModule?e:{default:e}}
},{"./dsv.js":"7SC/","./csv.js":"mU2J","./tsv.js":"zpVZ","./autoType.js":"7bjL"}],"NEvU":[function(require,module,exports) {
"use strict";function t(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.blob()}function e(e,r){return fetch(e,r).then(t)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"W4GS":[function(require,module,exports) {
"use strict";function t(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.arrayBuffer()}function e(e,r){return fetch(e,r).then(t)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"/QFe":[function(require,module,exports) {
"use strict";function t(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}function e(e,r){return fetch(e,r).then(t)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"fvyQ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=u,exports.tsv=exports.csv=void 0;var e=require("d3-dsv"),t=r(require("./text.js"));function r(e){return e&&e.__esModule?e:{default:e}}function n(e){return function(r,n,u){return 2===arguments.length&&"function"==typeof n&&(u=n,n=void 0),(0,t.default)(r,n).then(function(t){return e(t,u)})}}function u(r,n,u,o){3===arguments.length&&"function"==typeof u&&(o=u,u=void 0);var s=(0,e.dsvFormat)(r);return(0,t.default)(n,u).then(function(e){return s.parse(e,o)})}var o=n(e.csvParse);exports.csv=o;var s=n(e.tsvParse);exports.tsv=s;
},{"d3-dsv":"mQVF","./text.js":"/QFe"}],"oqjg":[function(require,module,exports) {
"use strict";function e(e,r){return new Promise(function(n,o){var t=new Image;for(var u in r)t[u]=r[u];t.onerror=o,t.onload=function(){n(t)},t.src=e})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"Lvc+":[function(require,module,exports) {
"use strict";function t(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);if(204!==t.status&&205!==t.status)return t.json()}function e(e,s){return fetch(e,s).then(t)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"FRc5":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.svg=exports.html=exports.default=void 0;var e=t(require("./text.js"));function t(e){return e&&e.__esModule?e:{default:e}}function r(t){return(r,s)=>(0,e.default)(r,s).then(e=>(new DOMParser).parseFromString(e,t))}var s=r("application/xml");exports.default=s;var o=r("text/html");exports.html=o;var a=r("image/svg+xml");exports.svg=a;
},{"./text.js":"/QFe"}],"hNko":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"blob",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(exports,"buffer",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(exports,"dsv",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(exports,"csv",{enumerable:!0,get:function(){return t.csv}}),Object.defineProperty(exports,"tsv",{enumerable:!0,get:function(){return t.tsv}}),Object.defineProperty(exports,"image",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(exports,"json",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(exports,"text",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(exports,"xml",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(exports,"html",{enumerable:!0,get:function(){return f.html}}),Object.defineProperty(exports,"svg",{enumerable:!0,get:function(){return f.svg}});var e=s(require("./blob.js")),r=s(require("./buffer.js")),t=i(require("./dsv.js")),n=s(require("./image.js")),u=s(require("./json.js")),o=s(require("./text.js")),f=i(require("./xml.js"));function i(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,t):{};n.get||n.set?Object.defineProperty(r,t,n):r[t]=e[t]}return r.default=e,r}function s(e){return e&&e.__esModule?e:{default:e}}
},{"./blob.js":"NEvU","./buffer.js":"W4GS","./dsv.js":"fvyQ","./image.js":"oqjg","./json.js":"Lvc+","./text.js":"/QFe","./xml.js":"FRc5"}],"y+F4":[function(require,module,exports) {
"use strict";function n(n,t){var e,r=1;function u(){var u,i,l=e.length,o=0,f=0;for(u=0;u<l;++u)o+=(i=e[u]).x,f+=i.y;for(o=(o/l-n)*r,f=(f/l-t)*r,u=0;u<l;++u)(i=e[u]).x-=o,i.y-=f}return null==n&&(n=0),null==t&&(t=0),u.initialize=function(n){e=n},u.x=function(t){return arguments.length?(n=+t,u):n},u.y=function(n){return arguments.length?(t=+n,u):t},u.strength=function(n){return arguments.length?(r=+n,u):r},u}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=n;
},{}],"c4hk":[function(require,module,exports) {
"use strict";function r(r){const l=+this._x.call(null,r),e=+this._y.call(null,r);return t(this.cover(l,e),l,e,r)}function t(r,t,l,e){if(isNaN(t)||isNaN(l))return r;var n,a,i,o,u,s,_,c,f,h=r._root,y={data:e},d=r._x0,x=r._y0,N=r._x1,v=r._y1;if(!h)return r._root=y,r;for(;h.length;)if((s=t>=(a=(d+N)/2))?d=a:N=a,(_=l>=(i=(x+v)/2))?x=i:v=i,n=h,!(h=h[c=_<<1|s]))return n[c]=y,r;if(o=+r._x.call(null,h.data),u=+r._y.call(null,h.data),t===o&&l===u)return y.next=h,n?n[c]=y:r._root=y,r;do{n=n?n[c]=new Array(4):r._root=new Array(4),(s=t>=(a=(d+N)/2))?d=a:N=a,(_=l>=(i=(x+v)/2))?x=i:v=i}while((c=_<<1|s)==(f=(u>=i)<<1|o>=a));return n[f]=h,n[c]=y,r}function l(r){var l,e,n,a,i=r.length,o=new Array(i),u=new Array(i),s=1/0,_=1/0,c=-1/0,f=-1/0;for(e=0;e<i;++e)isNaN(n=+this._x.call(null,l=r[e]))||isNaN(a=+this._y.call(null,l))||(o[e]=n,u[e]=a,n<s&&(s=n),n>c&&(c=n),a<_&&(_=a),a>f&&(f=a));if(s>c||_>f)return this;for(this.cover(s,_).cover(c,f),e=0;e<i;++e)t(this,o[e],u[e],r[e]);return this}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=r,exports.addAll=l;
},{}],"DeJI":[function(require,module,exports) {
"use strict";function t(t,s){if(isNaN(t=+t)||isNaN(s=+s))return this;var e=this._x0,i=this._y0,r=this._x1,h=this._y1;if(isNaN(e))r=(e=Math.floor(t))+1,h=(i=Math.floor(s))+1;else{for(var o,a,_=r-e||1,c=this._root;e>t||t>=r||i>s||s>=h;)switch(a=(s<i)<<1|t<e,(o=new Array(4))[a]=c,c=o,_*=2,a){case 0:r=e+_,h=i+_;break;case 1:e=r-_,h=i+_;break;case 2:r=e+_,i=h-_;break;case 3:e=r-_,i=h-_}this._root&&this._root.length&&(this._root=c)}return this._x0=e,this._y0=i,this._x1=r,this._y1=h,this}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=t;
},{}],"7HTB":[function(require,module,exports) {
"use strict";function e(){var e=[];return this.visit(function(t){if(!t.length)do{e.push(t.data)}while(t=t.next)}),e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"JRL4":[function(require,module,exports) {
"use strict";function t(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=t;
},{}],"BPLw":[function(require,module,exports) {
"use strict";function t(t,e,s,i,o){this.node=t,this.x0=e,this.y0=s,this.x1=i,this.y1=o}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=t;
},{}],"2t1g":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=l;var e=t(require("./quad.js"));function t(e){return e&&e.__esModule?e:{default:e}}function l(t,l,a){var u,n,r,s,d,h,i,f=this._x0,o=this._y0,_=this._x1,p=this._y1,x=[],c=this._root;for(c&&x.push(new e.default(c,f,o,_,p)),null==a?a=1/0:(f=t-a,o=l-a,_=t+a,p=l+a,a*=a);h=x.pop();)if(!(!(c=h.node)||(n=h.x0)>_||(r=h.y0)>p||(s=h.x1)<f||(d=h.y1)<o))if(c.length){var v=(n+s)/2,y=(r+d)/2;x.push(new e.default(c[3],v,y,s,d),new e.default(c[2],n,y,v,d),new e.default(c[1],v,r,s,y),new e.default(c[0],n,r,v,y)),(i=(l>=y)<<1|t>=v)&&(h=x[x.length-1],x[x.length-1]=x[x.length-1-i],x[x.length-1-i]=h)}else{var g=t-+this._x.call(null,c.data),w=l-+this._y.call(null,c.data),q=g*g+w*w;if(q<a){var M=Math.sqrt(a=q);f=t-M,o=l-M,_=t+M,p=l+M,u=c.data}}return u}
},{"./quad.js":"BPLw"}],"3wnj":[function(require,module,exports) {
"use strict";function t(t){if(isNaN(h=+this._x.call(null,t))||isNaN(n=+this._y.call(null,t)))return this;var e,i,r,s,h,n,l,o,u,f,a,x,_=this._root,d=this._x0,c=this._y0,v=this._x1,g=this._y1;if(!_)return this;if(_.length)for(;;){if((u=h>=(l=(d+v)/2))?d=l:v=l,(f=n>=(o=(c+g)/2))?c=o:g=o,e=_,!(_=_[a=f<<1|u]))return this;if(!_.length)break;(e[a+1&3]||e[a+2&3]||e[a+3&3])&&(i=e,x=a)}for(;_.data!==t;)if(r=_,!(_=_.next))return this;return(s=_.next)&&delete _.next,r?(s?r.next=s:delete r.next,this):e?(s?e[a]=s:delete e[a],(_=e[0]||e[1]||e[2]||e[3])&&_===(e[3]||e[2]||e[1]||e[0])&&!_.length&&(i?i[x]=_:this._root=_),this):(this._root=s,this)}function e(t){for(var e=0,i=t.length;e<i;++e)this.remove(t[e]);return this}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=t,exports.removeAll=e;
},{}],"aU2q":[function(require,module,exports) {
"use strict";function e(){return this._root}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"PC8q":[function(require,module,exports) {
"use strict";function e(){var e=0;return this.visit(function(t){if(!t.length)do{++e}while(t=t.next)}),e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"MOvE":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=u;var e=t(require("./quad.js"));function t(e){return e&&e.__esModule?e:{default:e}}function u(t){var u,s,r,n,a,d,f=[],h=this._root;for(h&&f.push(new e.default(h,this._x0,this._y0,this._x1,this._y1));u=f.pop();)if(!t(h=u.node,r=u.x0,n=u.y0,a=u.x1,d=u.y1)&&h.length){var i=(r+a)/2,o=(n+d)/2;(s=h[3])&&f.push(new e.default(s,i,o,a,d)),(s=h[2])&&f.push(new e.default(s,r,o,i,d)),(s=h[1])&&f.push(new e.default(s,i,n,a,o)),(s=h[0])&&f.push(new e.default(s,r,n,i,o))}return this}
},{"./quad.js":"BPLw"}],"6Edv":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=u;var e=t(require("./quad.js"));function t(e){return e&&e.__esModule?e:{default:e}}function u(t){var u,s=[],r=[];for(this._root&&s.push(new e.default(this._root,this._x0,this._y0,this._x1,this._y1));u=s.pop();){var o=u.node;if(o.length){var n,h=u.x0,a=u.y0,d=u.x1,f=u.y1,i=(h+d)/2,p=(a+f)/2;(n=o[0])&&s.push(new e.default(n,h,a,i,p)),(n=o[1])&&s.push(new e.default(n,i,a,d,p)),(n=o[2])&&s.push(new e.default(n,h,p,i,f)),(n=o[3])&&s.push(new e.default(n,i,p,d,f))}r.push(u)}for(;u=r.pop();)t(u.node,u.x0,u.y0,u.x1,u.y1);return this}
},{"./quad.js":"BPLw"}],"2+yq":[function(require,module,exports) {
"use strict";function t(t){return t[0]}function e(t){return arguments.length?(this._x=t,this):this._x}Object.defineProperty(exports,"__esModule",{value:!0}),exports.defaultX=t,exports.default=e;
},{}],"FeNP":[function(require,module,exports) {
"use strict";function t(t){return t[1]}function e(t){return arguments.length?(this._y=t,this):this._y}Object.defineProperty(exports,"__esModule",{value:!0}),exports.defaultY=t,exports.default=e;
},{}],"HCic":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=v;var e=_(require("./add.js")),t=c(require("./cover.js")),r=c(require("./data.js")),i=c(require("./extent.js")),a=c(require("./find.js")),u=_(require("./remove.js")),o=c(require("./root.js")),s=c(require("./size.js")),l=c(require("./visit.js")),n=c(require("./visitAfter.js")),d=_(require("./x.js")),f=_(require("./y.js"));function c(e){return e&&e.__esModule?e:{default:e}}function _(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};i.get||i.set?Object.defineProperty(t,r,i):t[r]=e[r]}return t.default=e,t}function v(e,t,r){var i=new p(null==t?d.defaultX:t,null==r?f.defaultY:r,NaN,NaN,NaN,NaN);return null==e?i:i.addAll(e)}function p(e,t,r,i,a,u){this._x=e,this._y=t,this._x0=r,this._y0=i,this._x1=a,this._y1=u,this._root=void 0}function y(e){for(var t={data:e.data},r=t;e=e.next;)r=r.next={data:e.data};return t}var h=v.prototype=p.prototype;h.copy=function(){var e,t,r=new p(this._x,this._y,this._x0,this._y0,this._x1,this._y1),i=this._root;if(!i)return r;if(!i.length)return r._root=y(i),r;for(e=[{source:i,target:r._root=new Array(4)}];i=e.pop();)for(var a=0;a<4;++a)(t=i.source[a])&&(t.length?e.push({source:t,target:i.target[a]=new Array(4)}):i.target[a]=y(t));return r},h.add=e.default,h.addAll=e.addAll,h.cover=t.default,h.data=r.default,h.extent=i.default,h.find=a.default,h.remove=u.default,h.removeAll=u.removeAll,h.root=o.default,h.size=s.default,h.visit=l.default,h.visitAfter=n.default,h.x=d.default,h.y=f.default;
},{"./add.js":"c4hk","./cover.js":"DeJI","./data.js":"7HTB","./extent.js":"JRL4","./find.js":"2t1g","./remove.js":"3wnj","./root.js":"aU2q","./size.js":"PC8q","./visit.js":"MOvE","./visitAfter.js":"6Edv","./x.js":"2+yq","./y.js":"FeNP"}],"oxc3":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"quadtree",{enumerable:!0,get:function(){return e.default}});var e=r(require("./quadtree.js"));function r(e){return e&&e.__esModule?e:{default:e}}
},{"./quadtree.js":"HCic"}],"jmDl":[function(require,module,exports) {
"use strict";function e(e){return 1e-6*(e()-.5)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"ZCSV":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=f;var t=require("d3-quadtree"),r=n(require("./constant.js")),e=n(require("./jiggle.js"));function n(t){return t&&t.__esModule?t:{default:t}}function i(t){return t.x+t.vx}function u(t){return t.y+t.vy}function f(n){var f,a,o,d=1,v=1;function l(){for(var r,n,l,s,x,y,g,h=f.length,q=0;q<v;++q)for(n=(0,t.quadtree)(f,i,u).visitAfter(c),r=0;r<h;++r)l=f[r],y=a[l.index],g=y*y,s=l.x+l.vx,x=l.y+l.vy,n.visit(p);function p(t,r,n,i,u){var f=t.data,a=t.r,v=y+a;if(!f)return r>s+v||i<s-v||n>x+v||u<x-v;if(f.index>l.index){var c=s-f.x-f.vx,h=x-f.y-f.vy,q=c*c+h*h;q<v*v&&(0===c&&(q+=(c=(0,e.default)(o))*c),0===h&&(q+=(h=(0,e.default)(o))*h),q=(v-(q=Math.sqrt(q)))/q*d,l.vx+=(c*=q)*(v=(a*=a)/(g+a)),l.vy+=(h*=q)*v,f.vx-=c*(v=1-v),f.vy-=h*v)}}}function c(t){if(t.data)return t.r=a[t.data.index];for(var r=t.r=0;r<4;++r)t[r]&&t[r].r>t.r&&(t.r=t[r].r)}function s(){if(f){var t,r,e=f.length;for(a=new Array(e),t=0;t<e;++t)r=f[t],a[r.index]=+n(r,t,f)}}return"function"!=typeof n&&(n=(0,r.default)(null==n?1:+n)),l.initialize=function(t,r){f=t,o=r,s()},l.iterations=function(t){return arguments.length?(v=+t,l):v},l.strength=function(t){return arguments.length?(d=+t,l):d},l.radius=function(t){return arguments.length?(n="function"==typeof t?t:(0,r.default)(+t),s(),l):n},l}
},{"d3-quadtree":"oxc3","./constant.js":"5O/Y","./jiggle.js":"jmDl"}],"M788":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=o;var e=n(require("./constant.js")),t=n(require("./jiggle.js"));function n(e){return e&&e.__esModule?e:{default:e}}function r(e){return e.index}function u(e,t){var n=e.get(t);if(!n)throw new Error("node not found: "+t);return n}function o(n){var o,i,f,a,c,d,l=r,s=function(e){return 1/Math.min(a[e.source.index],a[e.target.index])},g=(0,e.default)(30),x=1;function v(e){for(var r=0,u=n.length;r<x;++r)for(var f,a,l,s,g,v,y,h=0;h<u;++h)a=(f=n[h]).source,s=(l=f.target).x+l.vx-a.x-a.vx||(0,t.default)(d),g=l.y+l.vy-a.y-a.vy||(0,t.default)(d),s*=v=((v=Math.sqrt(s*s+g*g))-i[h])/v*e*o[h],g*=v,l.vx-=s*(y=c[h]),l.vy-=g*y,a.vx+=s*(y=1-y),a.vy+=g*y}function y(){if(f){var e,t,r=f.length,d=n.length,s=new Map(f.map((e,t)=>[l(e,t,f),e]));for(e=0,a=new Array(r);e<d;++e)(t=n[e]).index=e,"object"!=typeof t.source&&(t.source=u(s,t.source)),"object"!=typeof t.target&&(t.target=u(s,t.target)),a[t.source.index]=(a[t.source.index]||0)+1,a[t.target.index]=(a[t.target.index]||0)+1;for(e=0,c=new Array(d);e<d;++e)t=n[e],c[e]=a[t.source.index]/(a[t.source.index]+a[t.target.index]);o=new Array(d),h(),i=new Array(d),p()}}function h(){if(f)for(var e=0,t=n.length;e<t;++e)o[e]=+s(n[e],e,n)}function p(){if(f)for(var e=0,t=n.length;e<t;++e)i[e]=+g(n[e],e,n)}return null==n&&(n=[]),v.initialize=function(e,t){f=e,d=t,y()},v.links=function(e){return arguments.length?(n=e,y(),v):n},v.id=function(e){return arguments.length?(l=e,v):l},v.iterations=function(e){return arguments.length?(x=+e,v):x},v.strength=function(t){return arguments.length?(s="function"==typeof t?t:(0,e.default)(+t),h(),v):s},v.distance=function(t){return arguments.length?(g="function"==typeof t?t:(0,e.default)(+t),p(),v):g},v}
},{"./constant.js":"5O/Y","./jiggle.js":"jmDl"}],"ylPq":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=o;const e=1664525,t=1013904223,r=4294967296;function o(){let o=1;return()=>(o=(e*o+t)%r)/r}
},{}],"lwF8":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.x=u,exports.y=i,exports.default=l;var n=require("d3-dispatch"),t=require("d3-timer"),r=e(require("./lcg.js"));function e(n){return n&&n.__esModule?n:{default:n}}function u(n){return n.x}function i(n){return n.y}var o=10,a=Math.PI*(3-Math.sqrt(5));function l(e){var u,i=1,l=.001,f=1-Math.pow(l,1/300),c=0,h=.6,s=new Map,x=(0,t.timer)(d),y=(0,n.dispatch)("tick","end"),v=(0,r.default)();function d(){p(),y.call("tick",u),i<l&&(x.stop(),y.call("end",u))}function p(n){var t,r,o=e.length;void 0===n&&(n=1);for(var a=0;a<n;++a)for(i+=(c-i)*f,s.forEach(function(n){n(i)}),t=0;t<o;++t)null==(r=e[t]).fx?r.x+=r.vx*=h:(r.x=r.fx,r.vx=0),null==r.fy?r.y+=r.vy*=h:(r.y=r.fy,r.vy=0);return u}function g(){for(var n,t=0,r=e.length;t<r;++t){if((n=e[t]).index=t,null!=n.fx&&(n.x=n.fx),null!=n.fy&&(n.y=n.fy),isNaN(n.x)||isNaN(n.y)){var u=o*Math.sqrt(.5+t),i=t*a;n.x=u*Math.cos(i),n.y=u*Math.sin(i)}(isNaN(n.vx)||isNaN(n.vy))&&(n.vx=n.vy=0)}}function M(n){return n.initialize&&n.initialize(e,v),n}return null==e&&(e=[]),g(),u={tick:p,restart:function(){return x.restart(d),u},stop:function(){return x.stop(),u},nodes:function(n){return arguments.length?(e=n,g(),s.forEach(M),u):e},alpha:function(n){return arguments.length?(i=+n,u):i},alphaMin:function(n){return arguments.length?(l=+n,u):l},alphaDecay:function(n){return arguments.length?(f=+n,u):+f},alphaTarget:function(n){return arguments.length?(c=+n,u):c},velocityDecay:function(n){return arguments.length?(h=1-n,u):1-h},randomSource:function(n){return arguments.length?(v=n,s.forEach(M),u):v},force:function(n,t){return arguments.length>1?(null==t?s.delete(n):s.set(n,M(t)),u):s.get(n)},find:function(n,t,r){var u,i,o,a,l,f=0,c=e.length;for(null==r?r=1/0:r*=r,f=0;f<c;++f)(o=(u=n-(a=e[f]).x)*u+(i=t-a.y)*i)<r&&(l=a,r=o);return l},on:function(n,t){return arguments.length>1?(y.on(n,t),u):y.on(n)}}}
},{"d3-dispatch":"UU/c","d3-timer":"CBES","./lcg.js":"ylPq"}],"cead":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=u;var t=require("d3-quadtree"),e=r(require("./constant.js")),n=r(require("./jiggle.js")),a=require("./simulation.js");function r(t){return t&&t.__esModule?t:{default:t}}function u(){var r,u,i,f,l,d=(0,e.default)(-30),o=1,s=1/0,v=.81;function h(e){var n,i=r.length,l=(0,t.quadtree)(r,a.x,a.y).visitAfter(c);for(f=e,n=0;n<i;++n)u=r[n],l.visit(y)}function x(){if(r){var t,e,n=r.length;for(l=new Array(n),t=0;t<n;++t)e=r[t],l[e.index]=+d(e,t,r)}}function c(t){var e,n,a,r,u,i=0,f=0;if(t.length){for(a=r=u=0;u<4;++u)(e=t[u])&&(n=Math.abs(e.value))&&(i+=e.value,f+=n,a+=n*e.x,r+=n*e.y);t.x=a/f,t.y=r/f}else{(e=t).x=e.data.x,e.y=e.data.y;do{i+=l[e.data.index]}while(e=e.next)}t.value=i}function y(t,e,a,r){if(!t.value)return!0;var d=t.x-u.x,h=t.y-u.y,x=r-e,c=d*d+h*h;if(x*x/v<c)return c<s&&(0===d&&(c+=(d=(0,n.default)(i))*d),0===h&&(c+=(h=(0,n.default)(i))*h),c<o&&(c=Math.sqrt(o*c)),u.vx+=d*t.value*f/c,u.vy+=h*t.value*f/c),!0;if(!(t.length||c>=s)){(t.data!==u||t.next)&&(0===d&&(c+=(d=(0,n.default)(i))*d),0===h&&(c+=(h=(0,n.default)(i))*h),c<o&&(c=Math.sqrt(o*c)));do{t.data!==u&&(x=l[t.data.index]*f/c,u.vx+=d*x,u.vy+=h*x)}while(t=t.next)}}return h.initialize=function(t,e){r=t,i=e,x()},h.strength=function(t){return arguments.length?(d="function"==typeof t?t:(0,e.default)(+t),x(),h):d},h.distanceMin=function(t){return arguments.length?(o=t*t,h):Math.sqrt(o)},h.distanceMax=function(t){return arguments.length?(s=t*t,h):Math.sqrt(s)},h.theta=function(t){return arguments.length?(v=t*t,h):Math.sqrt(v)},h}
},{"d3-quadtree":"oxc3","./constant.js":"5O/Y","./jiggle.js":"jmDl","./simulation.js":"lwF8"}],"qX1S":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;var t=n(require("./constant.js"));function n(t){return t&&t.__esModule?t:{default:t}}function e(n,e,r){var u,f,o,i=(0,t.default)(.1);function l(t){for(var n=0,i=u.length;n<i;++n){var l=u[n],a=l.x-e||1e-6,c=l.y-r||1e-6,s=Math.sqrt(a*a+c*c),d=(o[n]-s)*f[n]*t/s;l.vx+=a*d,l.vy+=c*d}}function a(){if(u){var t,e=u.length;for(f=new Array(e),o=new Array(e),t=0;t<e;++t)o[t]=+n(u[t],t,u),f[t]=isNaN(o[t])?0:+i(u[t],t,u)}}return"function"!=typeof n&&(n=(0,t.default)(+n)),null==e&&(e=0),null==r&&(r=0),l.initialize=function(t){u=t,a()},l.strength=function(n){return arguments.length?(i="function"==typeof n?n:(0,t.default)(+n),a(),l):i},l.radius=function(e){return arguments.length?(n="function"==typeof e?e:(0,t.default)(+e),a(),l):n},l.x=function(t){return arguments.length?(e=+t,l):e},l.y=function(t){return arguments.length?(r=+t,l):r},l}
},{"./constant.js":"5O/Y"}],"AO2h":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;var t=n(require("./constant.js"));function n(t){return t&&t.__esModule?t:{default:t}}function e(n){var e,r,u,f=(0,t.default)(.1);function o(t){for(var n,f=0,o=e.length;f<o;++f)(n=e[f]).vx+=(u[f]-n.x)*r[f]*t}function i(){if(e){var t,o=e.length;for(r=new Array(o),u=new Array(o),t=0;t<o;++t)r[t]=isNaN(u[t]=+n(e[t],t,e))?0:+f(e[t],t,e)}}return"function"!=typeof n&&(n=(0,t.default)(null==n?0:+n)),o.initialize=function(t){e=t,i()},o.strength=function(n){return arguments.length?(f="function"==typeof n?n:(0,t.default)(+n),i(),o):f},o.x=function(e){return arguments.length?(n="function"==typeof e?e:(0,t.default)(+e),i(),o):n},o}
},{"./constant.js":"5O/Y"}],"9SU+":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;var t=n(require("./constant.js"));function n(t){return t&&t.__esModule?t:{default:t}}function e(n){var e,r,u,f=(0,t.default)(.1);function o(t){for(var n,f=0,o=e.length;f<o;++f)(n=e[f]).vy+=(u[f]-n.y)*r[f]*t}function i(){if(e){var t,o=e.length;for(r=new Array(o),u=new Array(o),t=0;t<o;++t)r[t]=isNaN(u[t]=+n(e[t],t,e))?0:+f(e[t],t,e)}}return"function"!=typeof n&&(n=(0,t.default)(null==n?0:+n)),o.initialize=function(t){e=t,i()},o.strength=function(n){return arguments.length?(f="function"==typeof n?n:(0,t.default)(+n),i(),o):f},o.y=function(e){return arguments.length?(n="function"==typeof e?e:(0,t.default)(+e),i(),o):n},o}
},{"./constant.js":"5O/Y"}],"YpA1":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"forceCenter",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(exports,"forceCollide",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(exports,"forceLink",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(exports,"forceManyBody",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(exports,"forceRadial",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(exports,"forceSimulation",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(exports,"forceX",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(exports,"forceY",{enumerable:!0,get:function(){return f.default}});var e=c(require("./center.js")),r=c(require("./collide.js")),t=c(require("./link.js")),n=c(require("./manyBody.js")),u=c(require("./radial.js")),o=c(require("./simulation.js")),i=c(require("./x.js")),f=c(require("./y.js"));function c(e){return e&&e.__esModule?e:{default:e}}
},{"./center.js":"y+F4","./collide.js":"ZCSV","./link.js":"M788","./manyBody.js":"cead","./radial.js":"qX1S","./simulation.js":"lwF8","./x.js":"AO2h","./y.js":"9SU+"}],"c+Jh":[function(require,module,exports) {
"use strict";function e(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function t(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e,exports.formatDecimalParts=t;
},{}],"m3FQ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=r;var e=require("./formatDecimal.js");function r(r){return(r=(0,e.formatDecimalParts)(Math.abs(r)))?r[1]:NaN}
},{"./formatDecimal.js":"c+Jh"}],"e1cc":[function(require,module,exports) {
"use strict";function e(e,t){return function(r,n){for(var u=r.length,s=[],o=0,i=e[0],a=0;u>0&&i>0&&(a+i+1>n&&(i=Math.max(1,n-a)),s.push(r.substring(u-=i,u+i)),!((a+=i+1)>n));)i=e[o=(o+1)%e.length];return s.reverse().join(t)}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"Wswx":[function(require,module,exports) {
"use strict";function e(e){return function(t){return t.replace(/[0-9]/g,function(t){return e[+t]})}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"gePe":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=t,exports.FormatSpecifier=o;var i=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function t(t){if(!(s=i.exec(t)))throw new Error("invalid format: "+t);var s;return new o({fill:s[1],align:s[2],sign:s[3],symbol:s[4],zero:s[5],width:s[6],comma:s[7],precision:s[8]&&s[8].slice(1),trim:s[9],type:s[10]})}function o(i){this.fill=void 0===i.fill?" ":i.fill+"",this.align=void 0===i.align?">":i.align+"",this.sign=void 0===i.sign?"-":i.sign+"",this.symbol=void 0===i.symbol?"":i.symbol+"",this.zero=!!i.zero,this.width=void 0===i.width?void 0:+i.width,this.comma=!!i.comma,this.precision=void 0===i.precision?void 0:+i.precision,this.trim=!!i.trim,this.type=void 0===i.type?"":i.type+""}t.prototype=o.prototype,o.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};
},{}],"dWsa":[function(require,module,exports) {
"use strict";function e(e){e:for(var r,t=e.length,s=1,a=-1;s<t;++s)switch(e[s]){case".":a=r=s;break;case"0":0===a&&(a=s),r=s;break;default:if(!+e[s])break e;a>0&&(a=0)}return a>0?e.slice(0,a)+e.slice(r+1):e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"KTGF":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=t,exports.prefixExponent=void 0;var e,r=require("./formatDecimal.js");function t(t,a){var o=(0,r.formatDecimalParts)(t,a);if(!o)return t+"";var i=o[0],n=o[1],s=n-(exports.prefixExponent=e=3*Math.max(-8,Math.min(8,Math.floor(n/3))))+1,x=i.length;return s===x?i:s>x?i+new Array(s-x+1).join("0"):s>0?i.slice(0,s)+"."+i.slice(s):"0."+new Array(1-s).join("0")+(0,r.formatDecimalParts)(t,Math.max(0,a+s-1))[0]}exports.prefixExponent=e;
},{"./formatDecimal.js":"c+Jh"}],"e8g/":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=r;var e=require("./formatDecimal.js");function r(r,t){var a=(0,e.formatDecimalParts)(r,t);if(!a)return r+"";var i=a[0],n=a[1];return n<0?"0."+new Array(-n).join("0")+i:i.length>n+1?i.slice(0,n+1)+"."+i.slice(n+1):i+new Array(n-i.length+2).join("0")}
},{"./formatDecimal.js":"c+Jh"}],"uFUO":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=o(require("./formatDecimal.js")),e=o(require("./formatPrefixAuto.js")),r=o(require("./formatRounded.js"));function o(t){return t&&t.__esModule?t:{default:t}}var u={"%":(t,e)=>(100*t).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:t.default,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>(0,r.default)(100*t,e),r:r.default,s:e.default,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};exports.default=u;
},{"./formatDecimal.js":"c+Jh","./formatPrefixAuto.js":"KTGF","./formatRounded.js":"e8g/"}],"QWQX":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=c;var e=s(require("./exponent.js")),r=s(require("./formatGroup.js")),t=s(require("./formatNumerals.js")),a=s(require("./formatSpecifier.js")),i=s(require("./formatTrim.js")),n=s(require("./formatTypes.js")),o=require("./formatPrefixAuto.js"),u=s(require("./identity.js"));function s(e){return e&&e.__esModule?e:{default:e}}var l=Array.prototype.map,f=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function c(s){var c=void 0===s.grouping||void 0===s.thousands?u.default:(0,r.default)(l.call(s.grouping,Number),s.thousands+""),d=void 0===s.currency?"":s.currency[0]+"",m=void 0===s.currency?"":s.currency[1]+"",p=void 0===s.decimal?".":s.decimal+"",h=void 0===s.numerals?u.default:(0,t.default)(l.call(s.numerals,String)),v=void 0===s.percent?"%":s.percent+"",g=void 0===s.minus?"−":s.minus+"",y=void 0===s.nan?"NaN":s.nan+"";function M(e){var r=(e=(0,a.default)(e)).fill,t=e.align,u=e.sign,s=e.symbol,l=e.zero,M=e.width,x=e.comma,j=e.precision,b=e.trim,q=e.type;"n"===q?(x=!0,q="g"):n.default[q]||(void 0===j&&(j=12),b=!0,q="g"),(l||"0"===r&&"="===t)&&(l=!0,r="0",t="=");var N="$"===s?d:"#"===s&&/[boxX]/.test(q)?"0"+q.toLowerCase():"",k="$"===s?m:/[%p]/.test(q)?v:"",w=n.default[q],A=/[defgprs%]/.test(q);function P(e){var a,n,s,d=N,m=k;if("c"===q)m=w(e)+m,e="";else{var v=(e=+e)<0||1/e<0;if(e=isNaN(e)?y:w(Math.abs(e),j),b&&(e=(0,i.default)(e)),v&&0==+e&&"+"!==u&&(v=!1),d=(v?"("===u?u:g:"-"===u||"("===u?"":u)+d,m=("s"===q?f[8+o.prefixExponent/3]:"")+m+(v&&"("===u?")":""),A)for(a=-1,n=e.length;++a<n;)if(48>(s=e.charCodeAt(a))||s>57){m=(46===s?p+e.slice(a+1):e.slice(a))+m,e=e.slice(0,a);break}}x&&!l&&(e=c(e,1/0));var P=d.length+e.length+m.length,_=P<M?new Array(M-P+1).join(r):"";switch(x&&l&&(e=c(_+e,_.length?M-m.length:1/0),_=""),t){case"<":e=d+e+m+_;break;case"=":e=d+_+e+m;break;case"^":e=_.slice(0,P=_.length>>1)+d+e+m+_.slice(P);break;default:e=_+d+e+m}return h(e)}return j=void 0===j?6:/[gprs]/.test(q)?Math.max(1,Math.min(21,j)):Math.max(0,Math.min(20,j)),P.toString=function(){return e+""},P}return{format:M,formatPrefix:function(r,t){var i=M(((r=(0,a.default)(r)).type="f",r)),n=3*Math.max(-8,Math.min(8,Math.floor((0,e.default)(t)/3))),o=Math.pow(10,-n),u=f[8+n/3];return function(e){return i(o*e)+u}}}}
},{"./exponent.js":"m3FQ","./formatGroup.js":"e1cc","./formatNumerals.js":"Wswx","./formatSpecifier.js":"gePe","./formatTrim.js":"dWsa","./formatTypes.js":"uFUO","./formatPrefixAuto.js":"KTGF","./identity.js":"nPOL"}],"y/m0":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=a,exports.formatPrefix=exports.format=void 0;var r,e,t,o=f(require("./locale.js"));function f(r){return r&&r.__esModule?r:{default:r}}function a(f){return r=(0,o.default)(f),exports.format=e=r.format,exports.formatPrefix=t=r.formatPrefix,r}exports.format=e,exports.formatPrefix=t,a({thousands:",",grouping:[3],currency:["$",""]});
},{"./locale.js":"QWQX"}],"QL8u":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=r;var e=t(require("./exponent.js"));function t(e){return e&&e.__esModule?e:{default:e}}function r(t){return Math.max(0,-(0,e.default)(Math.abs(t)))}
},{"./exponent.js":"m3FQ"}],"DzQJ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=a;var e=t(require("./exponent.js"));function t(e){return e&&e.__esModule?e:{default:e}}function a(t,a){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor((0,e.default)(a)/3)))-(0,e.default)(Math.abs(t)))}
},{"./exponent.js":"m3FQ"}],"4afb":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=u;var e=t(require("./exponent.js"));function t(e){return e&&e.__esModule?e:{default:e}}function u(t,u){return t=Math.abs(t),u=Math.abs(u)-t,Math.max(0,(0,e.default)(u)-(0,e.default)(t))+1}
},{"./exponent.js":"m3FQ"}],"4gWe":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"formatDefaultLocale",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(exports,"format",{enumerable:!0,get:function(){return e.format}}),Object.defineProperty(exports,"formatPrefix",{enumerable:!0,get:function(){return e.formatPrefix}}),Object.defineProperty(exports,"formatLocale",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(exports,"formatSpecifier",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(exports,"FormatSpecifier",{enumerable:!0,get:function(){return t.FormatSpecifier}}),Object.defineProperty(exports,"precisionFixed",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(exports,"precisionPrefix",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(exports,"precisionRound",{enumerable:!0,get:function(){return i.default}});var e=f(require("./defaultLocale.js")),r=u(require("./locale.js")),t=f(require("./formatSpecifier.js")),n=u(require("./precisionFixed.js")),o=u(require("./precisionPrefix.js")),i=u(require("./precisionRound.js"));function u(e){return e&&e.__esModule?e:{default:e}}function f(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,t):{};n.get||n.set?Object.defineProperty(r,t,n):r[t]=e[t]}return r.default=e,r}
},{"./defaultLocale.js":"y/m0","./locale.js":"QWQX","./formatSpecifier.js":"gePe","./precisionFixed.js":"QL8u","./precisionPrefix.js":"DzQJ","./precisionRound.js":"4afb"}],"sEgP":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.acos=y,exports.asin=w,exports.haversin=_,exports.tan=exports.sqrt=exports.sign=exports.sin=exports.pow=exports.log=exports.hypot=exports.floor=exports.exp=exports.ceil=exports.cos=exports.atan2=exports.atan=exports.abs=exports.radians=exports.degrees=exports.tau=exports.quarterPi=exports.halfPi=exports.pi=exports.epsilon2=exports.epsilon=void 0;var r=1e-6;exports.epsilon=r;var t=1e-12;exports.epsilon2=t;var e=Math.PI;exports.pi=e;var o=e/2;exports.halfPi=o;var s=e/4;exports.quarterPi=s;var a=2*e;exports.tau=a;var p=180/e;exports.degrees=p;var x=e/180;exports.radians=x;var n=Math.abs;exports.abs=n;var i=Math.atan;exports.atan=i;var v=Math.atan2;exports.atan2=v;var h=Math.cos;exports.cos=h;var M=Math.ceil;exports.ceil=M;var l=Math.exp;exports.exp=l;var u=Math.floor;exports.floor=u;var c=Math.hypot;exports.hypot=c;var f=Math.log;exports.log=f;var g=Math.pow;exports.pow=g;var d=Math.sin;exports.sin=d;var P=Math.sign||function(r){return r>0?1:r<0?-1:0};exports.sign=P;var q=Math.sqrt;exports.sqrt=q;var b=Math.tan;function y(r){return r>1?0:r<-1?e:Math.acos(r)}function w(r){return r>1?o:r<-1?-o:Math.asin(r)}function _(r){return(r=d(r/2))*r}exports.tan=b;
},{}],"XBFK":[function(require,module,exports) {
"use strict";function n(n,t){n&&o.hasOwnProperty(n.type)&&o[n.type](n,t)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=i;var t={Feature:function(t,o){n(t.geometry,o)},FeatureCollection:function(t,o){for(var e=t.features,r=-1,i=e.length;++r<i;)n(e[r].geometry,o)}},o={Sphere:function(n,t){t.sphere()},Point:function(n,t){n=n.coordinates,t.point(n[0],n[1],n[2])},MultiPoint:function(n,t){for(var o=n.coordinates,e=-1,r=o.length;++e<r;)n=o[e],t.point(n[0],n[1],n[2])},LineString:function(n,t){e(n.coordinates,t,0)},MultiLineString:function(n,t){for(var o=n.coordinates,r=-1,i=o.length;++r<i;)e(o[r],t,0)},Polygon:function(n,t){r(n.coordinates,t)},MultiPolygon:function(n,t){for(var o=n.coordinates,e=-1,i=o.length;++e<i;)r(o[e],t)},GeometryCollection:function(t,o){for(var e=t.geometries,r=-1,i=e.length;++r<i;)n(e[r],o)}};function e(n,t,o){var e,r=-1,i=n.length-o;for(t.lineStart();++r<i;)e=n[r],t.point(e[0],e[1],e[2]);t.lineEnd()}function r(n,t){var o=-1,r=n.length;for(t.polygonStart();++o<r;)e(n[o],t,1);t.polygonEnd()}function i(o,e){o&&t.hasOwnProperty(o.type)?t[o.type](o,e):n(o,e)}
},{}],"dpXv":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=x,exports.areaStream=exports.areaRingSum=void 0;var e=require("d3-array"),r=require("./math.js"),n=a(require("./noop.js")),t=a(require("./stream.js"));function a(e){return e&&e.__esModule?e:{default:e}}var i=new e.Adder;exports.areaRingSum=i;var d,o,u,s,l,f=new e.Adder,p={point:n.default,lineStart:n.default,lineEnd:n.default,polygonStart:function(){exports.areaRingSum=i=new e.Adder,p.lineStart=c,p.lineEnd=S},polygonEnd:function(){var e=+i;f.add(e<0?r.tau+e:e),this.lineStart=this.lineEnd=this.point=n.default},sphere:function(){f.add(r.tau)}};function c(){p.point=m}function S(){v(d,o)}function m(e,n){p.point=v,d=e,o=n,e*=r.radians,n*=r.radians,u=e,s=(0,r.cos)(n=n/2+r.quarterPi),l=(0,r.sin)(n)}function v(e,n){e*=r.radians,n=(n*=r.radians)/2+r.quarterPi;var t=e-u,a=t>=0?1:-1,d=a*t,o=(0,r.cos)(n),f=(0,r.sin)(n),p=l*f,c=s*o+p*(0,r.cos)(d),S=p*a*(0,r.sin)(d);i.add((0,r.atan2)(S,c)),u=e,s=o,l=f}function x(r){return f=new e.Adder,(0,t.default)(r,p),2*f}exports.areaStream=p;
},{"d3-array":"cBuZ","./math.js":"sEgP","./noop.js":"BhKh","./stream.js":"XBFK"}],"+rFM":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.spherical=e,exports.cartesian=t,exports.cartesianDot=n,exports.cartesianCross=s,exports.cartesianAddInPlace=a,exports.cartesianScale=o,exports.cartesianNormalizeInPlace=c;var r=require("./math.js");function e(e){return[(0,r.atan2)(e[1],e[0]),(0,r.asin)(e[2])]}function t(e){var t=e[0],n=e[1],s=(0,r.cos)(n);return[s*(0,r.cos)(t),s*(0,r.sin)(t),(0,r.sin)(n)]}function n(r,e){return r[0]*e[0]+r[1]*e[1]+r[2]*e[2]}function s(r,e){return[r[1]*e[2]-r[2]*e[1],r[2]*e[0]-r[0]*e[2],r[0]*e[1]-r[1]*e[0]]}function a(r,e){r[0]+=e[0],r[1]+=e[1],r[2]+=e[2]}function o(r,e){return[r[0]*e,r[1]*e,r[2]*e]}function c(e){var t=(0,r.sqrt)(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}
},{"./math.js":"sEgP"}],"4wXR":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=M;var e,n,r,a,t,i,o,s,u,l,c,f=require("d3-array"),d=require("./area.js"),p=require("./cartesian.js"),S=require("./math.js"),g=m(require("./stream.js"));function m(e){return e&&e.__esModule?e:{default:e}}var N={point:h,lineStart:y,lineEnd:E,polygonStart:function(){N.point=j,N.lineStart=q,N.lineEnd=b,u=new f.Adder,d.areaStream.polygonStart()},polygonEnd:function(){d.areaStream.polygonEnd(),N.point=h,N.lineStart=y,N.lineEnd=E,d.areaRingSum<0?(e=-(r=180),n=-(a=90)):u>S.epsilon?a=90:u<-S.epsilon&&(n=-90),c[0]=e,c[1]=r},sphere:function(){e=-(r=180),n=-(a=90)}};function h(t,i){l.push(c=[e=t,r=t]),i<n&&(n=i),i>a&&(a=i)}function v(i,o){var u=(0,p.cartesian)([i*S.radians,o*S.radians]);if(s){var f=(0,p.cartesianCross)(s,u),d=[f[1],-f[0],0],g=(0,p.cartesianCross)(d,f);(0,p.cartesianNormalizeInPlace)(g),g=(0,p.spherical)(g);var m,N=i-t,h=N>0?1:-1,v=g[0]*S.degrees*h,y=(0,S.abs)(N)>180;y^(h*t<v&&v<h*i)?(m=g[1]*S.degrees)>a&&(a=m):y^(h*t<(v=(v+360)%360-180)&&v<h*i)?(m=-g[1]*S.degrees)<n&&(n=m):(o<n&&(n=o),o>a&&(a=o)),y?i<t?_(e,i)>_(e,r)&&(r=i):_(i,r)>_(e,r)&&(e=i):r>=e?(i<e&&(e=i),i>r&&(r=i)):i>t?_(e,i)>_(e,r)&&(r=i):_(i,r)>_(e,r)&&(e=i)}else l.push(c=[e=i,r=i]);o<n&&(n=o),o>a&&(a=o),s=u,t=i}function y(){N.point=v}function E(){c[0]=e,c[1]=r,N.point=h,s=null}function j(e,n){if(s){var r=e-t;u.add((0,S.abs)(r)>180?r+(r>0?360:-360):r)}else i=e,o=n;d.areaStream.point(e,n),v(e,n)}function q(){d.areaStream.lineStart()}function b(){j(i,o),d.areaStream.lineEnd(),(0,S.abs)(u)>S.epsilon&&(e=-(r=180)),c[0]=e,c[1]=r,s=null}function _(e,n){return(n-=e)<0?n+360:n}function x(e,n){return e[0]-n[0]}function C(e,n){return e[0]<=e[1]?e[0]<=n&&n<=e[1]:n<e[0]||e[1]<n}function M(t){var i,o,s,u,f,d,p;if(a=r=-(e=n=1/0),l=[],(0,g.default)(t,N),o=l.length){for(l.sort(x),i=1,f=[s=l[0]];i<o;++i)C(s,(u=l[i])[0])||C(s,u[1])?(_(s[0],u[1])>_(s[0],s[1])&&(s[1]=u[1]),_(u[0],s[1])>_(s[0],s[1])&&(s[0]=u[0])):f.push(s=u);for(d=-1/0,i=0,s=f[o=f.length-1];i<=o;s=u,++i)u=f[i],(p=_(s[1],u[0]))>d&&(d=p,e=u[0],r=s[1])}return l=c=null,e===1/0||n===1/0?[[NaN,NaN],[NaN,NaN]]:[[e,n],[r,a]]}
},{"d3-array":"cBuZ","./area.js":"dpXv","./cartesian.js":"+rFM","./math.js":"sEgP","./stream.js":"XBFK"}],"pQGp":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=k;var n,i,a,e,r,s,t,o,d,u,c,p,f,l,v,y,h=require("d3-array"),q=require("./math.js"),g=E(require("./noop.js")),j=E(require("./stream.js"));function E(n){return n&&n.__esModule?n:{default:n}}var N={sphere:g.default,point:S,lineStart:w,lineEnd:x,polygonStart:function(){N.lineStart=M,N.lineEnd=b},polygonEnd:function(){N.lineStart=w,N.lineEnd=x}};function S(n,i){n*=q.radians,i*=q.radians;var a=(0,q.cos)(i);_(a*(0,q.cos)(n),a*(0,q.sin)(n),(0,q.sin)(i))}function _(i,s,t){a+=(i-a)/++n,e+=(s-e)/n,r+=(t-r)/n}function w(){N.point=A}function A(n,i){n*=q.radians,i*=q.radians;var a=(0,q.cos)(i);l=a*(0,q.cos)(n),v=a*(0,q.sin)(n),y=(0,q.sin)(i),N.point=m,_(l,v,y)}function m(n,a){n*=q.radians,a*=q.radians;var e=(0,q.cos)(a),r=e*(0,q.cos)(n),d=e*(0,q.sin)(n),u=(0,q.sin)(a),c=(0,q.atan2)((0,q.sqrt)((c=v*u-y*d)*c+(c=y*r-l*u)*c+(c=l*d-v*r)*c),l*r+v*d+y*u);i+=c,s+=c*(l+(l=r)),t+=c*(v+(v=d)),o+=c*(y+(y=u)),_(l,v,y)}function x(){N.point=S}function M(){N.point=O}function b(){P(p,f),N.point=S}function O(n,i){p=n,f=i,n*=q.radians,i*=q.radians,N.point=P;var a=(0,q.cos)(i);l=a*(0,q.cos)(n),v=a*(0,q.sin)(n),y=(0,q.sin)(i),_(l,v,y)}function P(n,a){n*=q.radians,a*=q.radians;var e=(0,q.cos)(a),r=e*(0,q.cos)(n),p=e*(0,q.sin)(n),f=(0,q.sin)(a),h=v*f-y*p,g=y*r-l*f,j=l*p-v*r,E=(0,q.hypot)(h,g,j),N=(0,q.asin)(E),S=E&&-N/E;d.add(S*h),u.add(S*g),c.add(S*j),i+=N,s+=N*(l+(l=r)),t+=N*(v+(v=p)),o+=N*(y+(y=f)),_(l,v,y)}function k(p){n=i=a=e=r=s=t=o=0,d=new h.Adder,u=new h.Adder,c=new h.Adder,(0,j.default)(p,N);var f=+d,l=+u,v=+c,y=(0,q.hypot)(f,l,v);return y<q.epsilon2&&(f=s,l=t,v=o,i<q.epsilon&&(f=a,l=e,v=r),(y=(0,q.hypot)(f,l,v))<q.epsilon2)?[NaN,NaN]:[(0,q.atan2)(l,f)*q.degrees,(0,q.asin)(v/y)*q.degrees]}
},{"d3-array":"cBuZ","./math.js":"sEgP","./noop.js":"BhKh","./stream.js":"XBFK"}],"hCea":[function(require,module,exports) {
"use strict";function e(e,t){function r(r,n){return r=e(r,n),t(r[0],r[1])}return e.invert&&t.invert&&(r.invert=function(r,n){return(r=t.invert(r,n))&&e.invert(r[0],r[1])}),r}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"KwdP":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.rotateRadians=a,exports.default=o;var n=e(require("./compose.js")),r=require("./math.js");function e(n){return n&&n.__esModule?n:{default:n}}function t(n,e){return[(0,r.abs)(n)>r.pi?n+Math.round(-n/r.tau)*r.tau:n,e]}function a(e,a,i){return(e%=r.tau)?a||i?(0,n.default)(u(e),s(a,i)):u(e):a||i?s(a,i):t}function i(n){return function(e,t){return[(e+=n)>r.pi?e-r.tau:e<-r.pi?e+r.tau:e,t]}}function u(n){var r=i(n);return r.invert=i(-n),r}function s(n,e){var t=(0,r.cos)(n),a=(0,r.sin)(n),i=(0,r.cos)(e),u=(0,r.sin)(e);function s(n,e){var s=(0,r.cos)(e),o=(0,r.cos)(n)*s,c=(0,r.sin)(n)*s,d=(0,r.sin)(e),f=d*t+o*a;return[(0,r.atan2)(c*i-f*u,o*t-d*a),(0,r.asin)(f*i+c*u)]}return s.invert=function(n,e){var s=(0,r.cos)(e),o=(0,r.cos)(n)*s,c=(0,r.sin)(n)*s,d=(0,r.sin)(e),f=d*i-c*u;return[(0,r.atan2)(c*i+d*u,o*t+f*a),(0,r.asin)(f*t-o*a)]},s}function o(n){function e(e){return(e=n(e[0]*r.radians,e[1]*r.radians))[0]*=r.degrees,e[1]*=r.degrees,e}return n=a(n[0]*r.radians,n[1]*r.radians,n.length>2?n[2]*r.radians:0),e.invert=function(e){return(e=n.invert(e[0]*r.radians,e[1]*r.radians))[0]*=r.degrees,e[1]*=r.degrees,e},e}t.invert=t;
},{"./compose.js":"hCea","./math.js":"sEgP"}],"dbGM":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.circleStream=i,exports.default=o;var e=require("./cartesian.js"),t=a(require("./constant.js")),n=require("./math.js"),r=require("./rotation.js");function a(e){return e&&e.__esModule?e:{default:e}}function i(t,r,a,i,o,s){if(a){var c=(0,n.cos)(r),l=(0,n.sin)(r),f=i*a;null==o?(o=r+i*n.tau,s=r-f/2):(o=u(c,o),s=u(c,s),(i>0?o<s:o>s)&&(o+=i*n.tau));for(var d,p=o;i>0?p>s:p<s;p-=f)d=(0,e.spherical)([c,-l*(0,n.cos)(p),-l*(0,n.sin)(p)]),t.point(d[0],d[1])}}function u(t,r){(r=(0,e.cartesian)(r))[0]-=t,(0,e.cartesianNormalizeInPlace)(r);var a=(0,n.acos)(-r[1]);return((-r[2]<0?-a:a)+n.tau-n.epsilon)%n.tau}function o(){var e,a,u=(0,t.default)([0,0]),o=(0,t.default)(90),s=(0,t.default)(6),c={point:function(t,r){e.push(t=a(t,r)),t[0]*=n.degrees,t[1]*=n.degrees}};function l(){var t=u.apply(this,arguments),l=o.apply(this,arguments)*n.radians,f=s.apply(this,arguments)*n.radians;return e=[],a=(0,r.rotateRadians)(-t[0]*n.radians,-t[1]*n.radians,0).invert,i(c,l,f,1),t={type:"Polygon",coordinates:[e]},e=a=null,t}return l.center=function(e){return arguments.length?(u="function"==typeof e?e:(0,t.default)([+e[0],+e[1]]),l):u},l.radius=function(e){return arguments.length?(o="function"==typeof e?e:(0,t.default)(+e),l):o},l.precision=function(e){return arguments.length?(s="function"==typeof e?e:(0,t.default)(+e),l):s},l}
},{"./cartesian.js":"+rFM","./constant.js":"5O/Y","./math.js":"sEgP","./rotation.js":"KwdP"}],"VrlK":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=t;var e=n(require("../noop.js"));function n(e){return e&&e.__esModule?e:{default:e}}function t(){var n,t=[];return{point:function(e,t,u){n.push([e,t,u])},lineStart:function(){t.push(n=[])},lineEnd:e.default,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var e=t;return t=[],n=null,e}}}
},{"../noop.js":"BhKh"}],"j4Ms":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=r;var e=require("./math.js");function r(r,s){return(0,e.abs)(r[0]-s[0])<e.epsilon&&(0,e.abs)(r[1]-s[1])<e.epsilon}
},{"./math.js":"sEgP"}],"03nq":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=l;var e=t(require("../pointEqual.js")),n=require("../math.js");function t(e){return e&&e.__esModule?e:{default:e}}function i(e,n,t,i){this.x=e,this.z=n,this.o=t,this.e=i,this.v=!1,this.n=this.p=null}function l(t,l,o,u,f){var s,h,p=[],a=[];if(t.forEach(function(t){if(!((l=t.length-1)<=0)){var l,r,o=t[0],u=t[l];if((0,e.default)(o,u)){if(!o[2]&&!u[2]){for(f.lineStart(),s=0;s<l;++s)f.point((o=t[s])[0],o[1]);return void f.lineEnd()}u[0]+=2*n.epsilon}p.push(r=new i(o,t,null,!0)),a.push(r.o=new i(o,null,r,!1)),p.push(r=new i(u,t,null,!1)),a.push(r.o=new i(u,null,r,!0))}}),p.length){for(a.sort(l),r(p),r(a),s=0,h=a.length;s<h;++s)a[s].e=o=!o;for(var v,d,c=p[0];;){for(var x=c,g=!0;x.v;)if((x=x.n)===c)return;v=x.z,f.lineStart();do{if(x.v=x.o.v=!0,x.e){if(g)for(s=0,h=v.length;s<h;++s)f.point((d=v[s])[0],d[1]);else u(x.x,x.n.x,1,f);x=x.n}else{if(g)for(v=x.p.z,s=v.length-1;s>=0;--s)f.point((d=v[s])[0],d[1]);else u(x.x,x.p.x,-1,f);x=x.p}v=(x=x.o).z,g=!g}while(!x.v);f.lineEnd()}}}function r(e){if(n=e.length){for(var n,t,i=0,l=e[0];++i<n;)l.n=t=e[i],t.p=l,l=t;l.n=t=e[0],t.p=l}}
},{"../pointEqual.js":"j4Ms","../math.js":"sEgP"}],"Cmis":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=s;var a=require("d3-array"),r=require("./cartesian.js"),e=require("./math.js");function i(a){return(0,e.abs)(a[0])<=e.pi?a[0]:(0,e.sign)(a[0])*(((0,e.abs)(a[0])+e.pi)%e.tau-e.pi)}function s(s,n){var t=i(n),o=n[1],c=(0,e.sin)(o),l=[(0,e.sin)(t),-(0,e.cos)(t),0],u=0,p=0,f=new a.Adder;1===c?o=e.halfPi+e.epsilon:-1===c&&(o=-e.halfPi-e.epsilon);for(var v=0,d=s.length;v<d;++v)if(h=(P=s[v]).length)for(var P,h,q=P[h-1],b=i(q),g=q[1]/2+e.quarterPi,j=(0,e.sin)(g),m=(0,e.cos)(g),x=0;x<h;++x,b=z,j=I,m=N,q=y){var y=P[x],z=i(y),C=y[1]/2+e.quarterPi,I=(0,e.sin)(C),N=(0,e.cos)(C),_=z-b,w=_>=0?1:-1,A=w*_,M=A>e.pi,O=j*I;if(f.add((0,e.atan2)(O*w*(0,e.sin)(A),m*N+O*(0,e.cos)(A))),u+=M?_+w*e.tau:_,M^b>=t^z>=t){var k=(0,r.cartesianCross)((0,r.cartesian)(q),(0,r.cartesian)(y));(0,r.cartesianNormalizeInPlace)(k);var B=(0,r.cartesianCross)(l,k);(0,r.cartesianNormalizeInPlace)(B);var D=(M^_>=0?-1:1)*(0,e.asin)(B[2]);(o>D||o===D&&(k[0]||k[1]))&&(p+=M^_>=0?1:-1)}}return(u<-e.epsilon||u<e.epsilon&&f<-e.epsilon2)^1&p}
},{"d3-array":"cBuZ","./cartesian.js":"+rFM","./math.js":"sEgP"}],"bbiM":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=r;var n=o(require("./buffer.js")),t=o(require("./rejoin.js")),e=require("../math.js"),i=o(require("../polygonContains.js")),l=require("d3-array");function o(n){return n&&n.__esModule?n:{default:n}}function r(e,o,r,f){return function(p){var s,c,d,h=o(p),g=(0,n.default)(),S=o(g),y=!1,E={point:j,lineStart:v,lineEnd:P,polygonStart:function(){E.point=x,E.lineStart=_,E.lineEnd=b,c=[],s=[]},polygonEnd:function(){E.point=j,E.lineStart=v,E.lineEnd=P,c=(0,l.merge)(c);var n=(0,i.default)(s,f);c.length?(y||(p.polygonStart(),y=!0),(0,t.default)(c,a,n,r,p)):n&&(y||(p.polygonStart(),y=!0),p.lineStart(),r(null,null,1,p),p.lineEnd()),y&&(p.polygonEnd(),y=!1),c=s=null},sphere:function(){p.polygonStart(),p.lineStart(),r(null,null,1,p),p.lineEnd(),p.polygonEnd()}};function j(n,t){e(n,t)&&p.point(n,t)}function q(n,t){h.point(n,t)}function v(){E.point=q,h.lineStart()}function P(){E.point=j,h.lineEnd()}function x(n,t){d.push([n,t]),S.point(n,t)}function _(){S.lineStart(),d=[]}function b(){x(d[0][0],d[0][1]),S.lineEnd();var n,t,e,i,l=S.clean(),o=g.result(),r=o.length;if(d.pop(),s.push(d),d=null,r)if(1&l){if((t=(e=o[0]).length-1)>0){for(y||(p.polygonStart(),y=!0),p.lineStart(),n=0;n<t;++n)p.point((i=e[n])[0],i[1]);p.lineEnd()}}else r>1&&2&l&&o.push(o.pop().concat(o.shift())),c.push(o.filter(u))}return E}}function u(n){return n.length>1}function a(n,t){return((n=n.x)[0]<0?n[1]-e.halfPi-e.epsilon:e.halfPi-n[1])-((t=t.x)[0]<0?t[1]-e.halfPi-e.epsilon:e.halfPi-t[1])}
},{"./buffer.js":"VrlK","./rejoin.js":"03nq","../math.js":"sEgP","../polygonContains.js":"Cmis","d3-array":"cBuZ"}],"CWnN":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var i=t(require("./index.js")),n=require("../math.js");function t(i){return i&&i.__esModule?i:{default:i}}var e=(0,i.default)(function(){return!0},o,a,[-n.pi,-n.halfPi]);function o(i){var t,e=NaN,o=NaN,a=NaN;return{lineStart:function(){i.lineStart(),t=1},point:function(l,r){var s=l>0?n.pi:-n.pi,u=(0,n.abs)(l-e);(0,n.abs)(u-n.pi)<n.epsilon?(i.point(e,o=(o+r)/2>0?n.halfPi:-n.halfPi),i.point(a,o),i.lineEnd(),i.lineStart(),i.point(s,o),i.point(l,o),t=0):a!==s&&u>=n.pi&&((0,n.abs)(e-a)<n.epsilon&&(e-=a*n.epsilon),(0,n.abs)(l-s)<n.epsilon&&(l-=s*n.epsilon),o=p(e,o,l,r),i.point(a,o),i.lineEnd(),i.lineStart(),i.point(s,o),t=0),i.point(e=l,o=r),a=s},lineEnd:function(){i.lineEnd(),e=o=NaN},clean:function(){return 2-t}}}function p(i,t,e,o){var p,a,l=(0,n.sin)(i-e);return(0,n.abs)(l)>n.epsilon?(0,n.atan)(((0,n.sin)(t)*(a=(0,n.cos)(o))*(0,n.sin)(e)-(0,n.sin)(o)*(p=(0,n.cos)(t))*(0,n.sin)(i))/(p*a*l)):(t+o)/2}function a(i,t,e,o){var p;if(null==i)p=e*n.halfPi,o.point(-n.pi,p),o.point(0,p),o.point(n.pi,p),o.point(n.pi,0),o.point(n.pi,-p),o.point(0,-p),o.point(-n.pi,-p),o.point(-n.pi,0),o.point(-n.pi,p);else if((0,n.abs)(i[0]-t[0])>n.epsilon){var a=i[0]<t[0]?n.pi:-n.pi;p=e*a/2,o.point(-a,p),o.point(0,p),o.point(a,p)}else o.point(t[0],t[1])}exports.default=e;
},{"./index.js":"bbiM","../math.js":"sEgP"}],"1uul":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=c;var e=require("../cartesian.js"),n=require("../circle.js"),i=require("../math.js"),r=t(require("../pointEqual.js")),a=t(require("./index.js"));function t(e){return e&&e.__esModule?e:{default:e}}function c(t){var c=(0,i.cos)(t),s=6*i.radians,l=c>0,o=(0,i.abs)(c)>i.epsilon;function u(e,n){return(0,i.cos)(e)*(0,i.cos)(n)>c}function p(n,r,a){var t=(0,e.cartesian)(n),s=(0,e.cartesian)(r),l=[1,0,0],o=(0,e.cartesianCross)(t,s),u=(0,e.cartesianDot)(o,o),p=o[0],f=u-p*p;if(!f)return!a&&n;var d=c*u/f,v=-c*p/f,S=(0,e.cartesianCross)(l,o),q=(0,e.cartesianScale)(l,d),j=(0,e.cartesianScale)(o,v);(0,e.cartesianAddInPlace)(q,j);var E=S,b=(0,e.cartesianDot)(q,E),D=(0,e.cartesianDot)(E,E),P=b*b-D*((0,e.cartesianDot)(q,q)-1);if(!(P<0)){var _=(0,i.sqrt)(P),h=(0,e.cartesianScale)(E,(-b-_)/D);if((0,e.cartesianAddInPlace)(h,q),h=(0,e.spherical)(h),!a)return h;var x,A=n[0],I=r[0],m=n[1],C=r[1];I<A&&(x=A,A=I,I=x);var M=I-A,y=(0,i.abs)(M-i.pi)<i.epsilon;if(!y&&C<m&&(x=m,m=C,C=x),y||M<i.epsilon?y?m+C>0^h[1]<((0,i.abs)(h[0]-A)<i.epsilon?m:C):m<=h[1]&&h[1]<=C:M>i.pi^(A<=h[0]&&h[0]<=I)){var O=(0,e.cartesianScale)(E,(-b+_)/D);return(0,e.cartesianAddInPlace)(O,q),[h,(0,e.spherical)(O)]}}}function f(e,n){var r=l?t:i.pi-t,a=0;return e<-r?a|=1:e>r&&(a|=2),n<-r?a|=4:n>r&&(a|=8),a}return(0,a.default)(u,function(e){var n,a,t,c,s;return{lineStart:function(){c=t=!1,s=1},point:function(d,v){var S,q=[d,v],j=u(d,v),E=l?j?0:f(d,v):j?f(d+(d<0?i.pi:-i.pi),v):0;if(!n&&(c=t=j)&&e.lineStart(),j!==t&&(!(S=p(n,q))||(0,r.default)(n,S)||(0,r.default)(q,S))&&(q[2]=1),j!==t)s=0,j?(e.lineStart(),S=p(q,n),e.point(S[0],S[1])):(S=p(n,q),e.point(S[0],S[1],2),e.lineEnd()),n=S;else if(o&&n&&l^j){var b;E&a||!(b=p(q,n,!0))||(s=0,l?(e.lineStart(),e.point(b[0][0],b[0][1]),e.point(b[1][0],b[1][1]),e.lineEnd()):(e.point(b[1][0],b[1][1]),e.lineEnd(),e.lineStart(),e.point(b[0][0],b[0][1],3)))}!j||n&&(0,r.default)(n,q)||e.point(q[0],q[1]),n=q,t=j,a=E},lineEnd:function(){t&&e.lineEnd(),n=null},clean:function(){return s|(c&&t)<<1}}},function(e,i,r,a){(0,n.circleStream)(a,t,s,r,e,i)},l?[0,-t]:[-i.pi,t-i.pi])}
},{"../cartesian.js":"+rFM","../circle.js":"dbGM","../math.js":"sEgP","../pointEqual.js":"j4Ms","./index.js":"bbiM"}],"RhqQ":[function(require,module,exports) {
"use strict";function e(e,r,f,i,t,u){var n,s=e[0],l=e[1],o=0,a=1,c=r[0]-s,d=r[1]-l;if(n=f-s,c||!(n>0)){if(n/=c,c<0){if(n<o)return;n<a&&(a=n)}else if(c>0){if(n>a)return;n>o&&(o=n)}if(n=t-s,c||!(n<0)){if(n/=c,c<0){if(n>a)return;n>o&&(o=n)}else if(c>0){if(n<o)return;n<a&&(a=n)}if(n=i-l,d||!(n>0)){if(n/=d,d<0){if(n<o)return;n<a&&(a=n)}else if(d>0){if(n>a)return;n>o&&(o=n)}if(n=u-l,d||!(n<0)){if(n/=d,d<0){if(n>a)return;n>o&&(o=n)}else if(d>0){if(n<o)return;n<a&&(a=n)}return o>0&&(e[0]=s+o*c,e[1]=l+o*d),a<1&&(r[0]=s+a*c,r[1]=l+a*d),!0}}}}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"E6SH":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=l;var n=require("../math.js"),t=o(require("./buffer.js")),e=o(require("./line.js")),r=o(require("./rejoin.js")),i=require("d3-array");function o(n){return n&&n.__esModule?n:{default:n}}var u=1e9,a=-u;function l(o,l,f,p){function s(n,t){return o<=n&&n<=f&&l<=t&&t<=p}function c(n,t,e,r){var i=0,u=0;if(null==n||(i=d(n,e))!==(u=d(t,e))||v(n,t)<0^e>0)do{r.point(0===i||3===i?o:f,i>1?p:l)}while((i=(i+e+4)%4)!==u);else r.point(t[0],t[1])}function d(t,e){return(0,n.abs)(t[0]-o)<n.epsilon?e>0?0:3:(0,n.abs)(t[0]-f)<n.epsilon?e>0?2:1:(0,n.abs)(t[1]-l)<n.epsilon?e>0?1:0:e>0?3:2}function h(n,t){return v(n.x,t.x)}function v(n,t){var e=d(n,1),r=d(t,1);return e!==r?e-r:0===e?t[1]-n[1]:1===e?n[0]-t[0]:2===e?n[1]-t[1]:t[0]-n[0]}return function(n){var d,v,m,M,g,x,j,S,y,E,b,q=n,_=(0,t.default)(),N={point:w,lineStart:function(){N.point=O,v&&v.push(m=[]);E=!0,y=!1,j=S=NaN},lineEnd:function(){d&&(O(M,g),x&&y&&_.rejoin(),d.push(_.result()));N.point=w,y&&q.lineEnd()},polygonStart:function(){q=_,d=[],v=[],b=!0},polygonEnd:function(){var t=function(){for(var n=0,t=0,e=v.length;t<e;++t)for(var r,i,u=v[t],a=1,l=u.length,f=u[0],s=f[0],c=f[1];a<l;++a)r=s,i=c,f=u[a],s=f[0],c=f[1],i<=p?c>p&&(s-r)*(p-i)>(c-i)*(o-r)&&++n:c<=p&&(s-r)*(p-i)<(c-i)*(o-r)&&--n;return n}(),e=b&&t,u=(d=(0,i.merge)(d)).length;(e||u)&&(n.polygonStart(),e&&(n.lineStart(),c(null,null,1,n),n.lineEnd()),u&&(0,r.default)(d,h,t,c,n),n.polygonEnd());q=n,d=v=m=null}};function w(n,t){s(n,t)&&q.point(n,t)}function O(n,t){var r=s(n,t);if(v&&m.push([n,t]),E)M=n,g=t,x=r,E=!1,r&&(q.lineStart(),q.point(n,t));else if(r&&y)q.point(n,t);else{var i=[j=Math.max(a,Math.min(u,j)),S=Math.max(a,Math.min(u,S))],c=[n=Math.max(a,Math.min(u,n)),t=Math.max(a,Math.min(u,t))];(0,e.default)(i,c,o,l,f,p)?(y||(q.lineStart(),q.point(i[0],i[1])),q.point(c[0],c[1]),r||q.lineEnd(),b=!1):r&&(q.lineStart(),q.point(n,t),b=!1)}j=n,S=t,y=r}return N}}
},{"../math.js":"sEgP","./buffer.js":"VrlK","./line.js":"RhqQ","./rejoin.js":"03nq","d3-array":"cBuZ"}],"Pttt":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=r;var e=t(require("./rectangle.js"));function t(e){return e&&e.__esModule?e:{default:e}}function r(){var t,r,n,u=0,l=0,o=960,a=500;return n={stream:function(n){return t&&r===n?t:t=(0,e.default)(u,l,o,a)(r=n)},extent:function(e){return arguments.length?(u=+e[0][0],l=+e[0][1],o=+e[1][0],a=+e[1][1],t=r=null,n):[[u,l],[o,a]]}}}
},{"./rectangle.js":"E6SH"}],"rgN/":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=q;var e,n,t,r,a=require("d3-array"),i=require("./math.js"),d=o(require("./noop.js")),u=o(require("./stream.js"));function o(e){return e&&e.__esModule?e:{default:e}}var s={sphere:d.default,point:d.default,lineStart:l,lineEnd:d.default,polygonStart:d.default,polygonEnd:d.default};function l(){s.point=c,s.lineEnd=f}function f(){s.point=s.lineEnd=d.default}function c(e,a){e*=i.radians,a*=i.radians,n=e,t=(0,i.sin)(a),r=(0,i.cos)(a),s.point=p}function p(a,d){a*=i.radians,d*=i.radians;var u=(0,i.sin)(d),o=(0,i.cos)(d),s=(0,i.abs)(a-n),l=(0,i.cos)(s),f=o*(0,i.sin)(s),c=r*u-t*o*l,p=t*u+r*o*l;e.add((0,i.atan2)((0,i.sqrt)(f*f+c*c),p)),n=a,t=u,r=o}function q(n){return e=new a.Adder,(0,u.default)(n,s),+e}
},{"d3-array":"cBuZ","./math.js":"sEgP","./noop.js":"BhKh","./stream.js":"XBFK"}],"IoFW":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=n;var e=t(require("./length.js"));function t(e){return e&&e.__esModule?e:{default:e}}var r=[null,null],u={type:"LineString",coordinates:r};function n(t,n){return r[0]=t,r[1]=n,(0,e.default)(u)}
},{"./length.js":"rgN/"}],"bl0/":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=d;var r=e(require("./polygonContains.js")),n=e(require("./distance.js")),t=require("./math.js");function e(r){return r&&r.__esModule?r:{default:r}}var o={Feature:function(r,n){return i(r.geometry,n)},FeatureCollection:function(r,n){for(var t=r.features,e=-1,o=t.length;++e<o;)if(i(t[e].geometry,n))return!0;return!1}},u={Sphere:function(){return!0},Point:function(r,n){return f(r.coordinates,n)},MultiPoint:function(r,n){for(var t=r.coordinates,e=-1,o=t.length;++e<o;)if(f(t[e],n))return!0;return!1},LineString:function(r,n){return a(r.coordinates,n)},MultiLineString:function(r,n){for(var t=r.coordinates,e=-1,o=t.length;++e<o;)if(a(t[e],n))return!0;return!1},Polygon:function(r,n){return c(r.coordinates,n)},MultiPolygon:function(r,n){for(var t=r.coordinates,e=-1,o=t.length;++e<o;)if(c(t[e],n))return!0;return!1},GeometryCollection:function(r,n){for(var t=r.geometries,e=-1,o=t.length;++e<o;)if(i(t[e],n))return!0;return!1}};function i(r,n){return!(!r||!u.hasOwnProperty(r.type))&&u[r.type](r,n)}function f(r,t){return 0===(0,n.default)(r,t)}function a(r,e){for(var o,u,i,f=0,a=r.length;f<a;f++){if(0===(u=(0,n.default)(r[f],e)))return!0;if(f>0&&(i=(0,n.default)(r[f],r[f-1]))>0&&o<=i&&u<=i&&(o+u-i)*(1-Math.pow((o-u)/i,2))<t.epsilon2*i)return!0;o=u}return!1}function c(n,t){return!!(0,r.default)(n.map(l),s(t))}function l(r){return(r=r.map(s)).pop(),r}function s(r){return[r[0]*t.radians,r[1]*t.radians]}function d(r,n){return(r&&o.hasOwnProperty(r.type)?o[r.type]:i)(r,n)}
},{"./polygonContains.js":"Cmis","./distance.js":"IoFW","./math.js":"sEgP"}],"+fWg":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=i,exports.graticule10=o;var n=require("d3-array"),e=require("./math.js");function t(t,r,i){var o=(0,n.range)(t,r-e.epsilon,i).concat(r);return function(n){return o.map(function(e){return[n,e]})}}function r(t,r,i){var o=(0,n.range)(t,r-e.epsilon,i).concat(r);return function(n){return o.map(function(e){return[e,n]})}}function i(){var i,o,u,c,a,s,l,p,f,g,M,x,h=10,m=h,d=90,j=360,v=2.5;function y(){return{type:"MultiLineString",coordinates:b()}}function b(){return(0,n.range)((0,e.ceil)(c/d)*d,u,d).map(M).concat((0,n.range)((0,e.ceil)(p/j)*j,l,j).map(x)).concat((0,n.range)((0,e.ceil)(o/h)*h,i,h).filter(function(n){return(0,e.abs)(n%d)>e.epsilon}).map(f)).concat((0,n.range)((0,e.ceil)(s/m)*m,a,m).filter(function(n){return(0,e.abs)(n%j)>e.epsilon}).map(g))}return y.lines=function(){return b().map(function(n){return{type:"LineString",coordinates:n}})},y.outline=function(){return{type:"Polygon",coordinates:[M(c).concat(x(l).slice(1),M(u).reverse().slice(1),x(p).reverse().slice(1))]}},y.extent=function(n){return arguments.length?y.extentMajor(n).extentMinor(n):y.extentMinor()},y.extentMajor=function(n){return arguments.length?(c=+n[0][0],u=+n[1][0],p=+n[0][1],l=+n[1][1],c>u&&(n=c,c=u,u=n),p>l&&(n=p,p=l,l=n),y.precision(v)):[[c,p],[u,l]]},y.extentMinor=function(n){return arguments.length?(o=+n[0][0],i=+n[1][0],s=+n[0][1],a=+n[1][1],o>i&&(n=o,o=i,i=n),s>a&&(n=s,s=a,a=n),y.precision(v)):[[o,s],[i,a]]},y.step=function(n){return arguments.length?y.stepMajor(n).stepMinor(n):y.stepMinor()},y.stepMajor=function(n){return arguments.length?(d=+n[0],j=+n[1],y):[d,j]},y.stepMinor=function(n){return arguments.length?(h=+n[0],m=+n[1],y):[h,m]},y.precision=function(n){return arguments.length?(v=+n,f=t(s,a,90),g=r(o,i,v),M=t(p,l,90),x=r(c,u,v),y):v},y.extentMajor([[-180,-90+e.epsilon],[180,90-e.epsilon]]).extentMinor([[-180,-80-e.epsilon],[180,80+e.epsilon]])}function o(){return i()()}
},{"d3-array":"cBuZ","./math.js":"sEgP"}],"PyvU":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=s;var e=require("./math.js");function s(s,r){var n=s[0]*e.radians,a=s[1]*e.radians,i=r[0]*e.radians,t=r[1]*e.radians,d=(0,e.cos)(a),o=(0,e.sin)(a),u=(0,e.cos)(t),c=(0,e.sin)(t),v=d*(0,e.cos)(n),f=d*(0,e.sin)(n),g=u*(0,e.cos)(i),h=u*(0,e.sin)(i),l=2*(0,e.asin)((0,e.sqrt)((0,e.haversin)(t-a)+d*u*(0,e.haversin)(i-n))),p=(0,e.sin)(l),q=l?function(s){var r=(0,e.sin)(s*=l)/p,n=(0,e.sin)(l-s)/p,a=n*v+r*g,i=n*f+r*h,t=n*o+r*c;return[(0,e.atan2)(i,a)*e.degrees,(0,e.atan2)(t,(0,e.sqrt)(a*a+i*i))*e.degrees]}:function(){return[n*e.degrees,a*e.degrees]};return q.distance=l,q}
},{"./math.js":"sEgP"}],"7sNJ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=e=>e;exports.default=e;
},{}],"tBtz":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("d3-array"),n=require("../math.js"),t=r(require("../noop.js"));function r(e){return e&&e.__esModule?e:{default:e}}var d,o,u,i,a=new e.Adder,l=new e.Adder,f={point:t.default,lineStart:t.default,lineEnd:t.default,polygonStart:function(){f.lineStart=p,f.lineEnd=v},polygonEnd:function(){f.lineStart=f.lineEnd=f.point=t.default,a.add((0,n.abs)(l)),l=new e.Adder},result:function(){var n=a/2;return a=new e.Adder,n}};function p(){f.point=s}function s(e,n){f.point=c,d=u=e,o=i=n}function c(e,n){l.add(i*e-u*n),u=e,i=n}function v(){c(d,o)}var w=f;exports.default=w;
},{"d3-array":"cBuZ","../math.js":"sEgP","../noop.js":"BhKh"}],"Mzp9":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("../noop.js"));function t(e){return e&&e.__esModule?e:{default:e}}var r=1/0,u=r,n=-r,o=n,l={point:a,lineStart:e.default,lineEnd:e.default,polygonStart:e.default,polygonEnd:e.default,result:function(){var e=[[r,u],[n,o]];return n=o=-(u=r=1/0),e}};function a(e,t){e<r&&(r=e),e>n&&(n=e),t<u&&(u=t),t>o&&(o=t)}var d=l;exports.default=d;
},{"../noop.js":"BhKh"}],"HLbf":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var n,t,i,o,e=require("../math.js"),r=0,u=0,a=0,f=0,c=0,l=0,p=0,s=0,d=0,v={point:E,lineStart:N,lineEnd:x,polygonStart:function(){v.lineStart=y,v.lineEnd=g},polygonEnd:function(){v.point=E,v.lineStart=N,v.lineEnd=x},result:function(){var n=d?[p/d,s/d]:l?[f/l,c/l]:a?[r/a,u/a]:[NaN,NaN];return r=u=a=f=c=l=p=s=d=0,n}};function E(n,t){r+=n,u+=t,++a}function N(){v.point=S}function S(n,t){v.point=q,E(i=n,o=t)}function q(n,t){var r=n-i,u=t-o,a=(0,e.sqrt)(r*r+u*u);f+=a*(i+n)/2,c+=a*(o+t)/2,l+=a,E(i=n,o=t)}function x(){v.point=E}function y(){v.point=j}function g(){_(n,t)}function j(e,r){v.point=_,E(n=i=e,t=o=r)}function _(n,t){var r=n-i,u=t-o,a=(0,e.sqrt)(r*r+u*u);f+=a*(i+n)/2,c+=a*(o+t)/2,l+=a,p+=(a=o*n-i*t)*(i+n),s+=a*(o+t),d+=3*a,E(i=n,o=t)}var b=v;exports.default=b;
},{"../math.js":"sEgP"}],"ndK6":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=n;var t=require("../math.js"),i=e(require("../noop.js"));function e(t){return t&&t.__esModule?t:{default:t}}function n(t){this._context=t}n.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(i,e){switch(this._point){case 0:this._context.moveTo(i,e),this._point=1;break;case 1:this._context.lineTo(i,e);break;default:this._context.moveTo(i+this._radius,e),this._context.arc(i,e,this._radius,0,t.tau)}},result:i.default};
},{"../math.js":"sEgP","../noop.js":"BhKh"}],"CqmG":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("d3-array"),n=require("../math.js"),t=r(require("../noop.js"));function r(e){return e&&e.__esModule?e:{default:e}}var o,u,i,d,a,l=new e.Adder,f={point:t.default,lineStart:function(){f.point=p},lineEnd:function(){o&&s(u,i),f.point=t.default},polygonStart:function(){o=!0},polygonEnd:function(){o=null},result:function(){var n=+l;return l=new e.Adder,n}};function p(e,n){f.point=s,u=d=e,i=a=n}function s(e,t){d-=e,a-=t,l.add((0,n.sqrt)(d*d+a*a)),d=e,a=t}var c=f;exports.default=c;
},{"d3-array":"cBuZ","../math.js":"sEgP","../noop.js":"BhKh"}],"mB17":[function(require,module,exports) {
"use strict";function t(){this._string=[]}function i(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=t,t.prototype={_radius:4.5,_circle:i(4.5),pointRadius:function(t){return(t=+t)!==this._radius&&(this._radius=t,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(t,n){switch(this._point){case 0:this._string.push("M",t,",",n),this._point=1;break;case 1:this._string.push("L",t,",",n);break;default:null==this._circle&&(this._circle=i(this._radius)),this._string.push("M",t,",",n,this._circle)}},result:function(){if(this._string.length){var t=this._string.join("");return this._string=[],t}return null}};
},{}],"01A7":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=a;var e=f(require("../identity.js")),t=f(require("../stream.js")),u=f(require("./area.js")),n=f(require("./bounds.js")),r=f(require("./centroid.js")),i=f(require("./context.js")),l=f(require("./measure.js")),o=f(require("./string.js"));function f(e){return e&&e.__esModule?e:{default:e}}function a(f,a){var s,d,c=4.5;function p(e){return e&&("function"==typeof c&&d.pointRadius(+c.apply(this,arguments)),(0,t.default)(e,s(d))),d.result()}return p.area=function(e){return(0,t.default)(e,s(u.default)),u.default.result()},p.measure=function(e){return(0,t.default)(e,s(l.default)),l.default.result()},p.bounds=function(e){return(0,t.default)(e,s(n.default)),n.default.result()},p.centroid=function(e){return(0,t.default)(e,s(r.default)),r.default.result()},p.projection=function(t){return arguments.length?(s=null==t?(f=null,e.default):(f=t).stream,p):f},p.context=function(e){return arguments.length?(d=null==e?(a=null,new o.default):new i.default(a=e),"function"!=typeof c&&d.pointRadius(c),p):a},p.pointRadius=function(e){return arguments.length?(c="function"==typeof e?e:(d.pointRadius(+e),+e),p):c},p.projection(f).context(a)}
},{"../identity.js":"7sNJ","../stream.js":"XBFK","./area.js":"tBtz","./bounds.js":"Mzp9","./centroid.js":"HLbf","./context.js":"ndK6","./measure.js":"CqmG","./string.js":"mB17"}],"ubFV":[function(require,module,exports) {
"use strict";function t(t){return{stream:n(t)}}function n(t){return function(n){var e=new r;for(var o in t)e[o]=t[o];return e.stream=n,e}}function r(){}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=t,exports.transformer=n,r.prototype={constructor:r,point:function(t,n){this.stream.point(t,n)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};
},{}],"Ty3O":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.fitExtent=u,exports.fitSize=a,exports.fitWidth=l,exports.fitHeight=i;var t=n(require("../stream.js")),e=n(require("../path/bounds.js"));function n(t){return t&&t.__esModule?t:{default:t}}function r(n,r,u){var a=n.clipExtent&&n.clipExtent();return n.scale(150).translate([0,0]),null!=a&&n.clipExtent(null),(0,t.default)(u,n.stream(e.default)),r(e.default.result()),null!=a&&n.clipExtent(a),n}function u(t,e,n){return r(t,function(n){var r=e[1][0]-e[0][0],u=e[1][1]-e[0][1],a=Math.min(r/(n[1][0]-n[0][0]),u/(n[1][1]-n[0][1])),l=+e[0][0]+(r-a*(n[1][0]+n[0][0]))/2,i=+e[0][1]+(u-a*(n[1][1]+n[0][1]))/2;t.scale(150*a).translate([l,i])},n)}function a(t,e,n){return u(t,[[0,0],e],n)}function l(t,e,n){return r(t,function(n){var r=+e,u=r/(n[1][0]-n[0][0]),a=(r-u*(n[1][0]+n[0][0]))/2,l=-u*n[0][1];t.scale(150*u).translate([a,l])},n)}function i(t,e,n){return r(t,function(n){var r=+e,u=r/(n[1][1]-n[0][1]),a=-u*n[0][0],l=(r-u*(n[1][1]+n[0][1]))/2;t.scale(150*u).translate([a,l])},n)}
},{"../stream.js":"XBFK","../path/bounds.js":"Mzp9"}],"1vIa":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;var n=require("../cartesian.js"),t=require("../math.js"),i=require("../transform.js"),o=16,r=(0,t.cos)(30*t.radians);function e(n,t){return+t?u(n,t):a(n)}function a(n){return(0,i.transformer)({point:function(t,i){t=n(t,i),this.stream.point(t[0],t[1])}})}function u(i,e){function a(n,o,u,s,c,f,p,l,d,v,E,S,b,y){var g=p-n,j=l-o,m=g*g+j*j;if(m>4*e&&b--){var q=s+v,h=c+E,x=f+S,N=(0,t.sqrt)(q*q+h*h+x*x),_=(0,t.asin)(x/=N),M=(0,t.abs)((0,t.abs)(x)-1)<t.epsilon||(0,t.abs)(u-d)<t.epsilon?(u+d)/2:(0,t.atan2)(h,q),O=i(M,_),P=O[0],k=O[1],w=P-n,z=k-o,A=j*w-g*z;(A*A/m>e||(0,t.abs)((g*w+j*z)/m-.5)>.3||s*v+c*E+f*S<r)&&(a(n,o,u,s,c,f,P,k,M,q/=N,h/=N,x,b,y),y.point(P,k),a(P,k,M,q,h,x,p,l,d,v,E,S,b,y))}}return function(t){var r,e,u,s,c,f,p,l,d,v,E,S,b={point:y,lineStart:g,lineEnd:m,polygonStart:function(){t.polygonStart(),b.lineStart=q},polygonEnd:function(){t.polygonEnd(),b.lineStart=g}};function y(n,o){n=i(n,o),t.point(n[0],n[1])}function g(){l=NaN,b.point=j,t.lineStart()}function j(r,e){var u=(0,n.cartesian)([r,e]),s=i(r,e);a(l,d,p,v,E,S,l=s[0],d=s[1],p=r,v=u[0],E=u[1],S=u[2],o,t),t.point(l,d)}function m(){b.point=y,t.lineEnd()}function q(){g(),b.point=h,b.lineEnd=x}function h(n,t){j(r=n,t),e=l,u=d,s=v,c=E,f=S,b.point=j}function x(){a(l,d,p,v,E,S,e,u,r,s,c,f,o,t),b.lineEnd=m,m()}return b}}
},{"../cartesian.js":"+rFM","../math.js":"sEgP","../transform.js":"ubFV"}],"t1yD":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=h,exports.projectionMutator=v;var n=s(require("../clip/antimeridian.js")),e=s(require("../clip/circle.js")),t=s(require("../clip/rectangle.js")),r=s(require("../compose.js")),u=s(require("../identity.js")),i=require("../math.js"),l=require("../rotation.js"),a=require("../transform.js"),f=require("./fit.js"),o=s(require("./resample.js"));function s(n){return n&&n.__esModule?n:{default:n}}var c=(0,a.transformer)({point:function(n,e){this.stream.point(n*i.radians,e*i.radians)}});function d(n){return(0,a.transformer)({point:function(e,t){var r=n(e,t);return this.stream.point(r[0],r[1])}})}function g(n,e,t,r,u){function i(i,l){return[e+n*(i*=r),t-n*(l*=u)]}return i.invert=function(i,l){return[(i-e)/n*r,(t-l)/n*u]},i}function p(n,e,t,r,u,l){if(!l)return g(n,e,t,r,u);var a=(0,i.cos)(l),f=(0,i.sin)(l),o=a*n,s=f*n,c=a/n,d=f/n,p=(f*t-a*e)/n,h=(f*e+a*t)/n;function v(n,i){return[o*(n*=r)-s*(i*=u)+e,t-s*n-o*i]}return v.invert=function(n,e){return[r*(c*n-d*e+p),u*(h-d*n-c*e)]},v}function h(n){return v(function(){return n})()}function v(a){var s,g,h,v,j,q,m,x,y,_,E=150,M=480,z=250,H=0,S=0,W=0,b=0,A=0,O=0,P=1,R=1,X=null,Y=n.default,k=null,w=u.default,B=.5;function C(n){return x(n[0]*i.radians,n[1]*i.radians)}function D(n){return(n=x.invert(n[0],n[1]))&&[n[0]*i.degrees,n[1]*i.degrees]}function F(){var n=p(E,0,0,P,R,O).apply(null,s(H,S)),e=p(E,M-n[0],z-n[1],P,R,O);return g=(0,l.rotateRadians)(W,b,A),m=(0,r.default)(s,e),x=(0,r.default)(g,m),q=(0,o.default)(m,B),G()}function G(){return y=_=null,C}return C.stream=function(n){return y&&_===n?y:y=c(d(g)(Y(q(w(_=n)))))},C.preclip=function(n){return arguments.length?(Y=n,X=void 0,G()):Y},C.postclip=function(n){return arguments.length?(w=n,k=h=v=j=null,G()):w},C.clipAngle=function(t){return arguments.length?(Y=+t?(0,e.default)(X=t*i.radians):(X=null,n.default),G()):X*i.degrees},C.clipExtent=function(n){return arguments.length?(w=null==n?(k=h=v=j=null,u.default):(0,t.default)(k=+n[0][0],h=+n[0][1],v=+n[1][0],j=+n[1][1]),G()):null==k?null:[[k,h],[v,j]]},C.scale=function(n){return arguments.length?(E=+n,F()):E},C.translate=function(n){return arguments.length?(M=+n[0],z=+n[1],F()):[M,z]},C.center=function(n){return arguments.length?(H=n[0]%360*i.radians,S=n[1]%360*i.radians,F()):[H*i.degrees,S*i.degrees]},C.rotate=function(n){return arguments.length?(W=n[0]%360*i.radians,b=n[1]%360*i.radians,A=n.length>2?n[2]%360*i.radians:0,F()):[W*i.degrees,b*i.degrees,A*i.degrees]},C.angle=function(n){return arguments.length?(O=n%360*i.radians,F()):O*i.degrees},C.reflectX=function(n){return arguments.length?(P=n?-1:1,F()):P<0},C.reflectY=function(n){return arguments.length?(R=n?-1:1,F()):R<0},C.precision=function(n){return arguments.length?(q=(0,o.default)(m,B=n*n),G()):(0,i.sqrt)(B)},C.fitExtent=function(n,e){return(0,f.fitExtent)(C,n,e)},C.fitSize=function(n,e){return(0,f.fitSize)(C,n,e)},C.fitWidth=function(n,e){return(0,f.fitWidth)(C,n,e)},C.fitHeight=function(n,e){return(0,f.fitHeight)(C,n,e)},function(){return s=a.apply(this,arguments),C.invert=s.invert&&D,F()}}
},{"../clip/antimeridian.js":"CWnN","../clip/circle.js":"1uul","../clip/rectangle.js":"E6SH","../compose.js":"hCea","../identity.js":"7sNJ","../math.js":"sEgP","../rotation.js":"KwdP","../transform.js":"ubFV","./fit.js":"Ty3O","./resample.js":"1vIa"}],"FzMl":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.conicProjection=t;var e=require("../math.js"),r=require("./index.js");function t(t){var n=0,i=e.pi/3,o=(0,r.projectionMutator)(t),s=o(n,i);return s.parallels=function(r){return arguments.length?o(n=r[0]*e.radians,i=r[1]*e.radians):[n*e.degrees,i*e.degrees]},s}
},{"../math.js":"sEgP","./index.js":"t1yD"}],"5xg5":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.cylindricalEqualAreaRaw=e;var r=require("../math.js");function e(e){var n=(0,r.cos)(e);function t(e,t){return[e*n,(0,r.sin)(t)/n]}return t.invert=function(e,t){return[e/n,(0,r.asin)(t*n)]},t}
},{"../math.js":"sEgP"}],"uvEu":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.conicEqualAreaRaw=i,exports.default=a;var r=require("../math.js"),e=require("./conic.js"),n=require("./cylindricalEqualArea.js");function i(e,i){var a=(0,r.sin)(e),s=(a+(0,r.sin)(i))/2;if((0,r.abs)(s)<r.epsilon)return(0,n.cylindricalEqualAreaRaw)(e);var t=1+a*(2*s-a),c=(0,r.sqrt)(t)/s;function u(e,n){var i=(0,r.sqrt)(t-2*s*(0,r.sin)(n))/s;return[i*(0,r.sin)(e*=s),c-i*(0,r.cos)(e)]}return u.invert=function(e,n){var i=c-n,a=(0,r.atan2)(e,(0,r.abs)(i))*(0,r.sign)(i);return i*s<0&&(a-=r.pi*(0,r.sign)(e)*(0,r.sign)(i)),[a/s,(0,r.asin)((t-(e*e+i*i)*s*s)/(2*s))]},u}function a(){return(0,e.conicProjection)(i).scale(155.424).center([0,33.6442])}
},{"../math.js":"sEgP","./conic.js":"FzMl","./cylindricalEqualArea.js":"5xg5"}],"HUYT":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=r;var e=t(require("./conicEqualArea.js"));function t(e){return e&&e.__esModule?e:{default:e}}function r(){return(0,e.default)().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}
},{"./conicEqualArea.js":"uvEu"}],"WyCU":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=o;var t=require("../math.js"),n=i(require("./albers.js")),e=i(require("./conicEqualArea.js")),r=require("./fit.js");function i(t){return t&&t.__esModule?t:{default:t}}function a(t){var n=t.length;return{point:function(e,r){for(var i=-1;++i<n;)t[i].point(e,r)},sphere:function(){for(var e=-1;++e<n;)t[e].sphere()},lineStart:function(){for(var e=-1;++e<n;)t[e].lineStart()},lineEnd:function(){for(var e=-1;++e<n;)t[e].lineEnd()},polygonStart:function(){for(var e=-1;++e<n;)t[e].polygonStart()},polygonEnd:function(){for(var e=-1;++e<n;)t[e].polygonEnd()}}}function o(){var i,o,l,u,s,c,f=(0,n.default)(),p=(0,e.default)().rotate([154,0]).center([-2,58.5]).parallels([55,65]),v=(0,e.default)().rotate([157,0]).center([-3,19.9]).parallels([8,18]),d={point:function(t,n){c=[t,n]}};function h(t){var n=t[0],e=t[1];return c=null,l.point(n,e),c||(u.point(n,e),c)||(s.point(n,e),c)}function g(){return i=o=null,h}return h.invert=function(t){var n=f.scale(),e=f.translate(),r=(t[0]-e[0])/n,i=(t[1]-e[1])/n;return(i>=.12&&i<.234&&r>=-.425&&r<-.214?p:i>=.166&&i<.234&&r>=-.214&&r<-.115?v:f).invert(t)},h.stream=function(t){return i&&o===t?i:i=a([f.stream(o=t),p.stream(t),v.stream(t)])},h.precision=function(t){return arguments.length?(f.precision(t),p.precision(t),v.precision(t),g()):f.precision()},h.scale=function(t){return arguments.length?(f.scale(t),p.scale(.35*t),v.scale(t),h.translate(f.translate())):f.scale()},h.translate=function(n){if(!arguments.length)return f.translate();var e=f.scale(),r=+n[0],i=+n[1];return l=f.translate(n).clipExtent([[r-.455*e,i-.238*e],[r+.455*e,i+.238*e]]).stream(d),u=p.translate([r-.307*e,i+.201*e]).clipExtent([[r-.425*e+t.epsilon,i+.12*e+t.epsilon],[r-.214*e-t.epsilon,i+.234*e-t.epsilon]]).stream(d),s=v.translate([r-.205*e,i+.212*e]).clipExtent([[r-.214*e+t.epsilon,i+.166*e+t.epsilon],[r-.115*e-t.epsilon,i+.234*e-t.epsilon]]).stream(d),g()},h.fitExtent=function(t,n){return(0,r.fitExtent)(h,t,n)},h.fitSize=function(t,n){return(0,r.fitSize)(h,t,n)},h.fitWidth=function(t,n){return(0,r.fitWidth)(h,t,n)},h.fitHeight=function(t,n){return(0,r.fitHeight)(h,t,n)},h.scale(1070)}
},{"../math.js":"sEgP","./albers.js":"HUYT","./conicEqualArea.js":"uvEu","./fit.js":"Ty3O"}],"/4FJ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.azimuthalRaw=t,exports.azimuthalInvert=n;var r=require("../math.js");function t(t){return function(n,e){var s=(0,r.cos)(n),u=(0,r.cos)(e),a=t(s*u);return a===1/0?[2,0]:[a*u*(0,r.sin)(n),a*(0,r.sin)(e)]}}function n(t){return function(n,e){var s=(0,r.sqrt)(n*n+e*e),u=t(s),a=(0,r.sin)(u),i=(0,r.cos)(u);return[(0,r.atan2)(n*a,s*i),(0,r.asin)(s&&e*a/s)]}}
},{"../math.js":"sEgP"}],"c9jZ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=i,exports.azimuthalEqualAreaRaw=void 0;var e=require("../math.js"),r=require("./azimuthal.js"),t=a(require("./index.js"));function a(e){return e&&e.__esModule?e:{default:e}}var u=(0,r.azimuthalRaw)(function(r){return(0,e.sqrt)(2/(1+r))});function i(){return(0,t.default)(u).scale(124.75).clipAngle(179.999)}exports.azimuthalEqualAreaRaw=u,u.invert=(0,r.azimuthalInvert)(function(r){return 2*(0,e.asin)(r/2)});
},{"../math.js":"sEgP","./azimuthal.js":"/4FJ","./index.js":"t1yD"}],"DPfU":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=i,exports.azimuthalEquidistantRaw=void 0;var e=require("../math.js"),t=require("./azimuthal.js"),r=u(require("./index.js"));function u(e){return e&&e.__esModule?e:{default:e}}var a=(0,t.azimuthalRaw)(function(t){return(t=(0,e.acos)(t))&&t/(0,e.sin)(t)});function i(){return(0,r.default)(a).scale(79.4188).clipAngle(179.999)}exports.azimuthalEquidistantRaw=a,a.invert=(0,t.azimuthalInvert)(function(e){return e});
},{"../math.js":"sEgP","./azimuthal.js":"/4FJ","./index.js":"t1yD"}],"Yvwi":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.mercatorRaw=u,exports.default=a,exports.mercatorProjection=l;var t=require("../math.js"),e=r(require("../rotation.js")),n=r(require("./index.js"));function r(t){return t&&t.__esModule?t:{default:t}}function u(e,n){return[e,(0,t.log)((0,t.tan)((t.halfPi+n)/2))]}function a(){return l(u).scale(961/t.tau)}function l(r){var a,l,i,o=(0,n.default)(r),c=o.center,f=o.scale,s=o.translate,h=o.clipExtent,x=null;function p(){var n=t.pi*f(),c=o((0,e.default)(o.rotate()).invert([0,0]));return h(null==x?[[c[0]-n,c[1]-n],[c[0]+n,c[1]+n]]:r===u?[[Math.max(c[0]-n,x),a],[Math.min(c[0]+n,l),i]]:[[x,Math.max(c[1]-n,a)],[l,Math.min(c[1]+n,i)]])}return o.scale=function(t){return arguments.length?(f(t),p()):f()},o.translate=function(t){return arguments.length?(s(t),p()):s()},o.center=function(t){return arguments.length?(c(t),p()):c()},o.clipExtent=function(t){return arguments.length?(null==t?x=a=l=i=null:(x=+t[0][0],a=+t[0][1],l=+t[1][0],i=+t[1][1]),p()):null==x?null:[[x,a],[l,i]]},p()}u.invert=function(e,n){return[e,2*(0,t.atan)((0,t.exp)(n))-t.halfPi]};
},{"../math.js":"sEgP","../rotation.js":"KwdP","./index.js":"t1yD"}],"QZ/H":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.conicConformalRaw=o,exports.default=t;var r=require("../math.js"),n=require("./conic.js"),e=require("./mercator.js");function i(n){return(0,r.tan)((r.halfPi+n)/2)}function o(n,o){var t=(0,r.cos)(n),a=n===o?(0,r.sin)(n):(0,r.log)(t/(0,r.cos)(o))/(0,r.log)(i(o)/i(n)),s=t*(0,r.pow)(i(n),a)/a;if(!a)return e.mercatorRaw;function c(n,e){s>0?e<-r.halfPi+r.epsilon&&(e=-r.halfPi+r.epsilon):e>r.halfPi-r.epsilon&&(e=r.halfPi-r.epsilon);var o=s/(0,r.pow)(i(e),a);return[o*(0,r.sin)(a*n),s-o*(0,r.cos)(a*n)]}return c.invert=function(n,e){var i=s-e,o=(0,r.sign)(a)*(0,r.sqrt)(n*n+i*i),t=(0,r.atan2)(n,(0,r.abs)(i))*(0,r.sign)(i);return i*a<0&&(t-=r.pi*(0,r.sign)(n)*(0,r.sign)(i)),[t/a,2*(0,r.atan)((0,r.pow)(s/o,1/a))-r.halfPi]},c}function t(){return(0,n.conicProjection)(o).scale(109.5).parallels([30,30])}
},{"../math.js":"sEgP","./conic.js":"FzMl","./mercator.js":"Yvwi"}],"xN4O":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.equirectangularRaw=t,exports.default=u;var e=r(require("./index.js"));function r(e){return e&&e.__esModule?e:{default:e}}function t(e,r){return[e,r]}function u(){return(0,e.default)(t).scale(152.63)}t.invert=t;
},{"./index.js":"t1yD"}],"wKng":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.conicEquidistantRaw=i,exports.default=t;var r=require("../math.js"),e=require("./conic.js"),n=require("./equirectangular.js");function i(e,i){var t=(0,r.cos)(e),s=e===i?(0,r.sin)(e):(t-(0,r.cos)(i))/(i-e),u=t/s+e;if((0,r.abs)(s)<r.epsilon)return n.equirectangularRaw;function c(e,n){var i=u-n,t=s*e;return[i*(0,r.sin)(t),u-i*(0,r.cos)(t)]}return c.invert=function(e,n){var i=u-n,t=(0,r.atan2)(e,(0,r.abs)(i))*(0,r.sign)(i);return i*s<0&&(t-=r.pi*(0,r.sign)(e)*(0,r.sign)(i)),[t/s,u-(0,r.sign)(s)*(0,r.sqrt)(e*e+i*i)]},c}function t(){return(0,e.conicProjection)(i).scale(131.154).center([0,13.9389])}
},{"../math.js":"sEgP","./conic.js":"FzMl","./equirectangular.js":"xN4O"}],"svXP":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.equalEarthRaw=c,exports.default=f;var e=t(require("./index.js")),r=require("../math.js");function t(e){return e&&e.__esModule?e:{default:e}}var n=1.340264,s=-.081106,u=893e-6,a=.003796,i=(0,r.sqrt)(3)/2,o=12;function c(e,t){var o=(0,r.asin)(i*(0,r.sin)(t)),c=o*o,f=c*c*c;return[e*(0,r.cos)(o)/(i*(n+3*s*c+f*(7*u+9*a*c))),o*(n+s*c+f*(u+a*c))]}function f(){return(0,e.default)(c).scale(177.158)}c.invert=function(e,t){for(var c,f=t,l=f*f,d=l*l*l,v=0;v<o&&(d=(l=(f-=c=(f*(n+s*l+d*(u+a*l))-t)/(n+3*s*l+d*(7*u+9*a*l)))*f)*l*l,!((0,r.abs)(c)<r.epsilon2));++v);return[i*e*(n+3*s*l+d*(7*u+9*a*l))/(0,r.cos)(f),(0,r.asin)((0,r.sin)(f)/i)]};
},{"./index.js":"t1yD","../math.js":"sEgP"}],"bmsS":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.gnomonicRaw=u,exports.default=i;var e=require("../math.js"),r=require("./azimuthal.js"),t=n(require("./index.js"));function n(e){return e&&e.__esModule?e:{default:e}}function u(r,t){var n=(0,e.cos)(t),u=(0,e.cos)(r)*n;return[n*(0,e.sin)(r)/u,(0,e.sin)(t)/u]}function i(){return(0,t.default)(u).scale(144.049).clipAngle(60)}u.invert=(0,r.azimuthalInvert)(e.atan);
},{"../math.js":"sEgP","./azimuthal.js":"/4FJ","./index.js":"t1yD"}],"LapZ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=f;var t=i(require("../clip/rectangle.js")),n=i(require("../identity.js")),e=require("../transform.js"),r=require("./fit.js"),u=require("../math.js");function i(t){return t&&t.__esModule?t:{default:t}}function f(){var i,f,l,o,c,a,s,d=1,h=0,g=0,p=1,v=1,j=0,m=null,q=1,x=1,_=(0,e.transformer)({point:function(t,n){var e=z([t,n]);this.stream.point(e[0],e[1])}}),E=n.default;function y(){return q=d*p,x=d*v,a=s=null,z}function z(t){var n=t[0]*q,e=t[1]*x;if(j){var r=e*i-n*f;n=n*i+e*f,e=r}return[n+h,e+g]}return z.invert=function(t){var n=t[0]-h,e=t[1]-g;if(j){var r=e*i+n*f;n=n*i-e*f,e=r}return[n/q,e/x]},z.stream=function(t){return a&&s===t?a:a=_(E(s=t))},z.postclip=function(t){return arguments.length?(E=t,m=l=o=c=null,y()):E},z.clipExtent=function(e){return arguments.length?(E=null==e?(m=l=o=c=null,n.default):(0,t.default)(m=+e[0][0],l=+e[0][1],o=+e[1][0],c=+e[1][1]),y()):null==m?null:[[m,l],[o,c]]},z.scale=function(t){return arguments.length?(d=+t,y()):d},z.translate=function(t){return arguments.length?(h=+t[0],g=+t[1],y()):[h,g]},z.angle=function(t){return arguments.length?(j=t%360*u.radians,f=(0,u.sin)(j),i=(0,u.cos)(j),y()):j*u.degrees},z.reflectX=function(t){return arguments.length?(p=t?-1:1,y()):p<0},z.reflectY=function(t){return arguments.length?(v=t?-1:1,y()):v<0},z.fitExtent=function(t,n){return(0,r.fitExtent)(z,t,n)},z.fitSize=function(t,n){return(0,r.fitSize)(z,t,n)},z.fitWidth=function(t,n){return(0,r.fitWidth)(z,t,n)},z.fitHeight=function(t,n){return(0,r.fitHeight)(z,t,n)},z}
},{"../clip/rectangle.js":"E6SH","../identity.js":"7sNJ","../transform.js":"ubFV","./fit.js":"Ty3O","../math.js":"sEgP"}],"yWpl":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.naturalEarth1Raw=u,exports.default=n;var e=t(require("./index.js")),r=require("../math.js");function t(e){return e&&e.__esModule?e:{default:e}}function u(e,r){var t=r*r,u=t*t;return[e*(.8707-.131979*t+u*(u*(.003971*t-.001529*u)-.013791)),r*(1.007226+t*(.015085+u*(.028874*t-.044475-.005916*u)))]}function n(){return(0,e.default)(u).scale(175.295)}u.invert=function(e,t){var u,n=t,a=25;do{var i=n*n,o=i*i;n-=u=(n*(1.007226+i*(.015085+o*(.028874*i-.044475-.005916*o)))-t)/(1.007226+i*(.045255+o*(.259866*i-.311325-.005916*11*o)))}while((0,r.abs)(u)>r.epsilon&&--a>0);return[e/(.8707+(i=n*n)*(i*(i*i*i*(.003971-.001529*i)-.013791)-.131979)),n]};
},{"./index.js":"t1yD","../math.js":"sEgP"}],"H7pW":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.orthographicRaw=n,exports.default=u;var e=require("../math.js"),r=require("./azimuthal.js"),t=i(require("./index.js"));function i(e){return e&&e.__esModule?e:{default:e}}function n(r,t){return[(0,e.cos)(t)*(0,e.sin)(r),(0,e.sin)(t)]}function u(){return(0,t.default)(n).scale(249.5).clipAngle(90+e.epsilon)}n.invert=(0,r.azimuthalInvert)(e.asin);
},{"../math.js":"sEgP","./azimuthal.js":"/4FJ","./index.js":"t1yD"}],"bNxf":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.stereographicRaw=u,exports.default=i;var e=require("../math.js"),r=require("./azimuthal.js"),t=n(require("./index.js"));function n(e){return e&&e.__esModule?e:{default:e}}function u(r,t){var n=(0,e.cos)(t),u=1+(0,e.cos)(r)*n;return[n*(0,e.sin)(r)/u,(0,e.sin)(t)/u]}function i(){return(0,t.default)(u).scale(250).clipAngle(142)}u.invert=(0,r.azimuthalInvert)(function(r){return 2*(0,e.atan)(r)});
},{"../math.js":"sEgP","./azimuthal.js":"/4FJ","./index.js":"t1yD"}],"BGbj":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.transverseMercatorRaw=t,exports.default=n;var e=require("../math.js"),r=require("./mercator.js");function t(r,t){return[(0,e.log)((0,e.tan)((e.halfPi+t)/2)),-r]}function n(){var e=(0,r.mercatorProjection)(t),n=e.center,a=e.rotate;return e.center=function(e){return arguments.length?n([-e[1],e[0]]):[(e=n())[1],-e[0]]},e.rotate=function(e){return arguments.length?a([e[0],e[1],e.length>2?e[2]+90:90]):[(e=a())[0],e[1],e[2]-90]},a([0,0,90]).scale(159.155)}t.invert=function(r,t){return[-t,2*(0,e.atan)((0,e.exp)(r))-e.halfPi]};
},{"../math.js":"sEgP","./mercator.js":"Yvwi"}],"LMxt":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"geoArea",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(exports,"geoBounds",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(exports,"geoCentroid",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(exports,"geoCircle",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(exports,"geoClipAntimeridian",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(exports,"geoClipCircle",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(exports,"geoClipExtent",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(exports,"geoClipRectangle",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(exports,"geoContains",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(exports,"geoDistance",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(exports,"geoGraticule",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(exports,"geoGraticule10",{enumerable:!0,get:function(){return f.graticule10}}),Object.defineProperty(exports,"geoInterpolate",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(exports,"geoLength",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(exports,"geoPath",{enumerable:!0,get:function(){return g.default}}),Object.defineProperty(exports,"geoAlbers",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(exports,"geoAlbersUsa",{enumerable:!0,get:function(){return b.default}}),Object.defineProperty(exports,"geoAzimuthalEqualArea",{enumerable:!0,get:function(){return j.default}}),Object.defineProperty(exports,"geoAzimuthalEqualAreaRaw",{enumerable:!0,get:function(){return j.azimuthalEqualAreaRaw}}),Object.defineProperty(exports,"geoAzimuthalEquidistant",{enumerable:!0,get:function(){return m.default}}),Object.defineProperty(exports,"geoAzimuthalEquidistantRaw",{enumerable:!0,get:function(){return m.azimuthalEquidistantRaw}}),Object.defineProperty(exports,"geoConicConformal",{enumerable:!0,get:function(){return O.default}}),Object.defineProperty(exports,"geoConicConformalRaw",{enumerable:!0,get:function(){return O.conicConformalRaw}}),Object.defineProperty(exports,"geoConicEqualArea",{enumerable:!0,get:function(){return q.default}}),Object.defineProperty(exports,"geoConicEqualAreaRaw",{enumerable:!0,get:function(){return q.conicEqualAreaRaw}}),Object.defineProperty(exports,"geoConicEquidistant",{enumerable:!0,get:function(){return y.default}}),Object.defineProperty(exports,"geoConicEquidistantRaw",{enumerable:!0,get:function(){return y.conicEquidistantRaw}}),Object.defineProperty(exports,"geoEqualEarth",{enumerable:!0,get:function(){return P.default}}),Object.defineProperty(exports,"geoEqualEarthRaw",{enumerable:!0,get:function(){return P.equalEarthRaw}}),Object.defineProperty(exports,"geoEquirectangular",{enumerable:!0,get:function(){return x.default}}),Object.defineProperty(exports,"geoEquirectangularRaw",{enumerable:!0,get:function(){return x.equirectangularRaw}}),Object.defineProperty(exports,"geoGnomonic",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(exports,"geoGnomonicRaw",{enumerable:!0,get:function(){return h.gnomonicRaw}}),Object.defineProperty(exports,"geoIdentity",{enumerable:!0,get:function(){return w.default}}),Object.defineProperty(exports,"geoProjection",{enumerable:!0,get:function(){return E.default}}),Object.defineProperty(exports,"geoProjectionMutator",{enumerable:!0,get:function(){return E.projectionMutator}}),Object.defineProperty(exports,"geoMercator",{enumerable:!0,get:function(){return R.default}}),Object.defineProperty(exports,"geoMercatorRaw",{enumerable:!0,get:function(){return R.mercatorRaw}}),Object.defineProperty(exports,"geoNaturalEarth1",{enumerable:!0,get:function(){return C.default}}),Object.defineProperty(exports,"geoNaturalEarth1Raw",{enumerable:!0,get:function(){return C.naturalEarth1Raw}}),Object.defineProperty(exports,"geoOrthographic",{enumerable:!0,get:function(){return A.default}}),Object.defineProperty(exports,"geoOrthographicRaw",{enumerable:!0,get:function(){return A.orthographicRaw}}),Object.defineProperty(exports,"geoStereographic",{enumerable:!0,get:function(){return M.default}}),Object.defineProperty(exports,"geoStereographicRaw",{enumerable:!0,get:function(){return M.stereographicRaw}}),Object.defineProperty(exports,"geoTransverseMercator",{enumerable:!0,get:function(){return v.default}}),Object.defineProperty(exports,"geoTransverseMercatorRaw",{enumerable:!0,get:function(){return v.transverseMercatorRaw}}),Object.defineProperty(exports,"geoRotation",{enumerable:!0,get:function(){return z.default}}),Object.defineProperty(exports,"geoStream",{enumerable:!0,get:function(){return _.default}}),Object.defineProperty(exports,"geoTransform",{enumerable:!0,get:function(){return G.default}});var e=S(require("./area.js")),r=S(require("./bounds.js")),t=S(require("./centroid.js")),n=S(require("./circle.js")),o=S(require("./clip/antimeridian.js")),u=S(require("./clip/circle.js")),i=S(require("./clip/extent.js")),a=S(require("./clip/rectangle.js")),c=S(require("./contains.js")),l=S(require("./distance.js")),f=D(require("./graticule.js")),p=S(require("./interpolate.js")),s=S(require("./length.js")),g=S(require("./path/index.js")),d=S(require("./projection/albers.js")),b=S(require("./projection/albersUsa.js")),j=D(require("./projection/azimuthalEqualArea.js")),m=D(require("./projection/azimuthalEquidistant.js")),O=D(require("./projection/conicConformal.js")),q=D(require("./projection/conicEqualArea.js")),y=D(require("./projection/conicEquidistant.js")),P=D(require("./projection/equalEarth.js")),x=D(require("./projection/equirectangular.js")),h=D(require("./projection/gnomonic.js")),w=S(require("./projection/identity.js")),E=D(require("./projection/index.js")),R=D(require("./projection/mercator.js")),C=D(require("./projection/naturalEarth1.js")),A=D(require("./projection/orthographic.js")),M=D(require("./projection/stereographic.js")),v=D(require("./projection/transverseMercator.js")),z=S(require("./rotation.js")),_=S(require("./stream.js")),G=S(require("./transform.js"));function D(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,t):{};n.get||n.set?Object.defineProperty(r,t,n):r[t]=e[t]}return r.default=e,r}function S(e){return e&&e.__esModule?e:{default:e}}
},{"./area.js":"dpXv","./bounds.js":"4wXR","./centroid.js":"pQGp","./circle.js":"dbGM","./clip/antimeridian.js":"CWnN","./clip/circle.js":"1uul","./clip/extent.js":"Pttt","./clip/rectangle.js":"E6SH","./contains.js":"bl0/","./distance.js":"IoFW","./graticule.js":"+fWg","./interpolate.js":"PyvU","./length.js":"rgN/","./path/index.js":"01A7","./projection/albers.js":"HUYT","./projection/albersUsa.js":"WyCU","./projection/azimuthalEqualArea.js":"c9jZ","./projection/azimuthalEquidistant.js":"DPfU","./projection/conicConformal.js":"QZ/H","./projection/conicEqualArea.js":"uvEu","./projection/conicEquidistant.js":"wKng","./projection/equalEarth.js":"svXP","./projection/equirectangular.js":"xN4O","./projection/gnomonic.js":"bmsS","./projection/identity.js":"LapZ","./projection/index.js":"t1yD","./projection/mercator.js":"Yvwi","./projection/naturalEarth1.js":"yWpl","./projection/orthographic.js":"H7pW","./projection/stereographic.js":"bNxf","./projection/transverseMercator.js":"BGbj","./rotation.js":"KwdP","./stream.js":"XBFK","./transform.js":"ubFV"}],"brcY":[function(require,module,exports) {
"use strict";function n(n,r){return n.parent===r.parent?1:2}function r(n){return n.reduce(e,0)/n.length}function e(n,r){return n+r.x}function t(n){return 1+n.reduce(u,0)}function u(n,r){return Math.max(n,r.y)}function c(n){for(var r;r=n.children;)n=r[0];return n}function i(n){for(var r;r=n.children;)n=r[r.length-1];return n}function o(){var e=n,u=1,o=1,f=!1;function a(n){var a,l=0;n.eachAfter(function(n){var u=n.children;u?(n.x=r(u),n.y=t(u)):(n.x=a?l+=e(n,a):0,n.y=0,a=n)});var x=c(n),h=i(n),y=x.x-e(x,h)/2,d=h.x+e(h,x)/2;return n.eachAfter(f?function(r){r.x=(r.x-n.x)*u,r.y=(n.y-r.y)*o}:function(r){r.x=(r.x-y)/(d-y)*u,r.y=(1-(n.y?r.y/n.y:1))*o})}return a.separation=function(n){return arguments.length?(e=n,a):e},a.size=function(n){return arguments.length?(f=!1,u=+n[0],o=+n[1],a):f?null:[u,o]},a.nodeSize=function(n){return arguments.length?(f=!0,u=+n[0],o=+n[1],a):f?[u,o]:null},a}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=o;
},{}],"7jJj":[function(require,module,exports) {
"use strict";function e(e){var t=0,r=e.children,u=r&&r.length;if(u)for(;--u>=0;)t+=r[u].value;else t=1;e.value=t}function t(){return this.eachAfter(e)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=t;
},{}],"YN75":[function(require,module,exports) {
"use strict";function t(t,e){let s=-1;for(const o of this)t.call(e,o,++s,this);return this}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=t;
},{}],"b04E":[function(require,module,exports) {
"use strict";function e(e,t){for(var r,s,i=this,o=[i],l=-1;i=o.pop();)if(e.call(t,i,++l,this),r=i.children)for(s=r.length-1;s>=0;--s)o.push(r[s]);return this}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"oHKJ":[function(require,module,exports) {
"use strict";function e(e,t){for(var r,o,s,p=this,i=[p],u=[],f=-1;p=i.pop();)if(u.push(p),r=p.children)for(o=0,s=r.length;o<s;++o)i.push(r[o]);for(;p=u.pop();)e.call(t,p,++f,this);return this}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"j6t2":[function(require,module,exports) {
"use strict";function e(e,t){let o=-1;for(const r of this)if(e.call(t,r,++o,this))return r}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"Btd4":[function(require,module,exports) {
"use strict";function e(e){return this.eachAfter(function(t){for(var r=+e(t.data)||0,u=t.children,a=u&&u.length;--a>=0;)r+=u[a].value;t.value=r})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"q7tv":[function(require,module,exports) {
"use strict";function e(e){return this.eachBefore(function(t){t.children&&t.children.sort(e)})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"5x0Y":[function(require,module,exports) {
"use strict";function r(r){for(var t=this,o=e(t,r),p=[t];t!==o;)t=t.parent,p.push(t);for(var n=p.length;r!==o;)p.splice(n,0,r),r=r.parent;return p}function e(r,e){if(r===e)return r;var t=r.ancestors(),o=e.ancestors(),p=null;for(r=t.pop(),e=o.pop();r===e;)p=r,r=t.pop(),e=o.pop();return p}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=r;
},{}],"fOge":[function(require,module,exports) {
"use strict";function e(){for(var e=this,t=[e];e=e.parent;)t.push(e);return t}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"+Res":[function(require,module,exports) {
"use strict";function e(){var e=[];return this.eachBefore(function(t){t.children||e.push(t)}),e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"gBUX":[function(require,module,exports) {
"use strict";function e(){var e=this,t=[];return e.each(function(r){r!==e&&t.push({source:r.parent,target:r})}),t}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"dNlo":[function(require,module,exports) {
"use strict";function*e(){var e,r,t,o,i=this,l=[i];do{for(e=l.reverse(),l=[];i=e.pop();)if(yield i,r=i.children)for(t=0,o=r.length;t<o;++t)l.push(r[t])}while(l.length)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"LCo+":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=p,exports.computeHeight=g,exports.Node=m;var e=h(require("./count.js")),t=h(require("./each.js")),r=h(require("./eachBefore.js")),a=h(require("./eachAfter.js")),u=h(require("./find.js")),i=h(require("./sum.js")),n=h(require("./sort.js")),o=h(require("./path.js")),s=h(require("./ancestors.js")),d=h(require("./descendants.js")),f=h(require("./leaves.js")),l=h(require("./links.js")),c=h(require("./iterator.js"));function h(e){return e&&e.__esModule?e:{default:e}}function p(e,t){e instanceof Map?(e=[void 0,e],void 0===t&&(t=v)):void 0===t&&(t=q);for(var r,a,u,i,n,o=new m(e),s=[o];r=s.pop();)if((u=t(r.data))&&(n=(u=Array.from(u)).length))for(r.children=u,i=n-1;i>=0;--i)s.push(a=u[i]=new m(u[i])),a.parent=r,a.depth=r.depth+1;return o.eachBefore(g)}function j(){return p(this).eachBefore(y)}function q(e){return e.children}function v(e){return Array.isArray(e)?e[1]:null}function y(e){void 0!==e.data.value&&(e.value=e.data.value),e.data=e.data.data}function g(e){var t=0;do{e.height=t}while((e=e.parent)&&e.height<++t)}function m(e){this.data=e,this.depth=this.height=0,this.parent=null}m.prototype=p.prototype={constructor:m,count:e.default,each:t.default,eachAfter:a.default,eachBefore:r.default,find:u.default,sum:i.default,sort:n.default,path:o.default,ancestors:s.default,descendants:d.default,leaves:f.default,links:l.default,copy:j,[Symbol.iterator]:c.default};
},{"./count.js":"7jJj","./each.js":"YN75","./eachBefore.js":"b04E","./eachAfter.js":"oHKJ","./find.js":"j6t2","./sum.js":"Btd4","./sort.js":"q7tv","./path.js":"5x0Y","./ancestors.js":"fOge","./descendants.js":"kO0T","./leaves.js":"+Res","./links.js":"gBUX","./iterator.js":"dNlo"}],"Wl9w":[function(require,module,exports) {
"use strict";function e(e){return"object"==typeof e&&"length"in e?e:Array.from(e)}function t(e){for(var t,r,o=e.length;o;)r=Math.random()*o--|0,t=e[o],e[o]=e[r],e[r]=t;return e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e,exports.shuffle=t;
},{}],"ZzhU":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=t;var r=require("../array.js");function t(t){for(var e,f,a=0,i=(t=(0,r.shuffle)(Array.from(t))).length,x=[];a<i;)e=t[a],f&&u(f,e)?++a:(f=o(x=n(x,e)),a=0);return f}function n(r,t){var n,u;if(f(t,r))return[t];for(n=0;n<r.length;++n)if(e(t,r[n])&&f(i(r[n],t),r))return[r[n],t];for(n=0;n<r.length-1;++n)for(u=n+1;u<r.length;++u)if(e(i(r[n],r[u]),t)&&e(i(r[n],t),r[u])&&e(i(r[u],t),r[n])&&f(x(r[n],r[u],t),r))return[r[n],r[u],t];throw new Error}function e(r,t){var n=r.r-t.r,e=t.x-r.x,u=t.y-r.y;return n<0||n*n<e*e+u*u}function u(r,t){var n=r.r-t.r+1e-9*Math.max(r.r,t.r,1),e=t.x-r.x,u=t.y-r.y;return n>0&&n*n>e*e+u*u}function f(r,t){for(var n=0;n<t.length;++n)if(!u(r,t[n]))return!1;return!0}function o(r){switch(r.length){case 1:return a(r[0]);case 2:return i(r[0],r[1]);case 3:return x(r[0],r[1],r[2])}}function a(r){return{x:r.x,y:r.y,r:r.r}}function i(r,t){var n=r.x,e=r.y,u=r.r,f=t.x,o=t.y,a=t.r,i=f-n,x=o-e,y=a-u,c=Math.sqrt(i*i+x*x);return{x:(n+f+i/c*y)/2,y:(e+o+x/c*y)/2,r:(c+u+a)/2}}function x(r,t,n){var e=r.x,u=r.y,f=r.r,o=t.x,a=t.y,i=t.r,x=n.x,y=n.y,c=n.r,s=e-o,h=e-x,l=u-a,v=u-y,g=i-f,M=c-f,d=e*e+u*u-f*f,p=d-o*o-a*a+i*i,q=d-x*x-y*y+c*c,w=h*l-s*v,j=(l*q-v*p)/(2*w)-e,m=(v*g-l*M)/w,_=(h*p-s*q)/(2*w)-u,b=(s*M-h*g)/w,A=m*m+b*b-1,E=2*(f+j*m+_*b),O=j*j+_*_-f*f,P=-(A?(E+Math.sqrt(E*E-4*A*O))/(2*A):O/E);return{x:e+j+m*P,y:u+_+b*P,r:P}}
},{"../array.js":"Wl9w"}],"efS5":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.packEnclose=o,exports.default=s;var r=t(require("../array.js")),e=t(require("./enclose.js"));function t(r){return r&&r.__esModule?r:{default:r}}function n(r,e,t){var n,u,x,i,o=r.x-e.x,s=r.y-e.y,f=o*o+s*s;f?(u=e.r+t.r,u*=u,i=r.r+t.r,u>(i*=i)?(n=(f+i-u)/(2*f),x=Math.sqrt(Math.max(0,i/f-n*n)),t.x=r.x-n*o-x*s,t.y=r.y-n*s+x*o):(n=(f+u-i)/(2*f),x=Math.sqrt(Math.max(0,u/f-n*n)),t.x=e.x+n*o-x*s,t.y=e.y+n*s+x*o)):(t.x=e.x+t.r,t.y=e.y)}function u(r,e){var t=r.r+e.r-1e-6,n=e.x-r.x,u=e.y-r.y;return t>0&&t*t>n*n+u*u}function x(r){var e=r._,t=r.next._,n=e.r+t.r,u=(e.x*t.r+t.x*e.r)/n,x=(e.y*t.r+t.y*e.r)/n;return u*u+x*x}function i(r){this._=r,this.next=null,this.previous=null}function o(t){if(!(a=(t=(0,r.default)(t)).length))return 0;var o,s,f,a,_,y,l,p,v,c,h;if((o=t[0]).x=0,o.y=0,!(a>1))return o.r;if(s=t[1],o.x=-s.r,s.x=o.r,s.y=0,!(a>2))return o.r+s.r;n(s,o,f=t[2]),o=new i(o),s=new i(s),f=new i(f),o.next=f.previous=s,s.next=o.previous=f,f.next=s.previous=o;r:for(l=3;l<a;++l){n(o._,s._,f=t[l]),f=new i(f),p=s.next,v=o.previous,c=s._.r,h=o._.r;do{if(c<=h){if(u(p._,f._)){s=p,o.next=s,s.previous=o,--l;continue r}c+=p._.r,p=p.next}else{if(u(v._,f._)){(o=v).next=s,s.previous=o,--l;continue r}h+=v._.r,v=v.previous}}while(p!==v.next);for(f.previous=o,f.next=s,o.next=s.previous=s=f,_=x(o);(f=f.next)!==s;)(y=x(f))<_&&(o=f,_=y);s=o.next}for(o=[s._],f=s;(f=f.next)!==s;)o.push(f._);for(f=(0,e.default)(o),l=0;l<a;++l)(o=t[l]).x-=f.x,o.y-=f.y;return f.r}function s(r){return o(r),r}
},{"../array.js":"Wl9w","./enclose.js":"ZzhU"}],"OleL":[function(require,module,exports) {
"use strict";function e(e){return null==e?null:r(e)}function r(e){if("function"!=typeof e)throw new Error;return e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.optional=e,exports.required=r;
},{}],"k/YM":[function(require,module,exports) {
"use strict";function e(){return 0}function t(e){return function(){return e}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.constantZero=e,exports.default=t;
},{}],"aVuj":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=c;var e=require("./siblings.js"),r=require("../accessors.js"),t=n(require("../constant.js"));function n(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,t):{};n.get||n.set?Object.defineProperty(r,t,n):r[t]=e[t]}return r.default=e,r}function o(e){return Math.sqrt(e.value)}function c(){var e=null,n=1,c=1,a=t.constantZero;function s(r){return r.x=n/2,r.y=c/2,e?r.eachBefore(i(e)).eachAfter(u(a,.5)).eachBefore(f(1)):r.eachBefore(i(o)).eachAfter(u(t.constantZero,1)).eachAfter(u(a,r.r/Math.min(n,c))).eachBefore(f(Math.min(n,c)/(2*r.r))),r}return s.radius=function(t){return arguments.length?(e=(0,r.optional)(t),s):e},s.size=function(e){return arguments.length?(n=+e[0],c=+e[1],s):[n,c]},s.padding=function(e){return arguments.length?(a="function"==typeof e?e:(0,t.default)(+e),s):a},s}function i(e){return function(r){r.children||(r.r=Math.max(0,+e(r)||0))}}function u(r,t){return function(n){if(o=n.children){var o,c,i,u=o.length,f=r(n)*t||0;if(f)for(c=0;c<u;++c)o[c].r+=f;if(i=(0,e.packEnclose)(o),f)for(c=0;c<u;++c)o[c].r-=f;n.r=i+f}}}function f(e){return function(r){var t=r.parent;r.r*=e,t&&(r.x=t.x+e*r.x,r.y=t.y+e*r.y)}}
},{"./siblings.js":"efS5","../accessors.js":"OleL","../constant.js":"k/YM"}],"PETl":[function(require,module,exports) {
"use strict";function t(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=t;
},{}],"L3aV":[function(require,module,exports) {
"use strict";function e(e,t,l,r,u){for(var a,o=e.children,n=-1,s=o.length,v=e.value&&(r-t)/e.value;++n<s;)(a=o[n]).y0=l,a.y1=u,a.x0=t,a.x1=t+=a.value*v}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"h/+W":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=n;var e=t(require("./treemap/round.js")),r=t(require("./treemap/dice.js"));function t(e){return e&&e.__esModule?e:{default:e}}function n(){var t=1,n=1,u=0,i=!1;function o(o){var d=o.height+1;return o.x0=o.y0=u,o.x1=t,o.y1=n/d,o.eachBefore(function(e,t){return function(n){n.children&&(0,r.default)(n,n.x0,e*(n.depth+1)/t,n.x1,e*(n.depth+2)/t);var i=n.x0,o=n.y0,d=n.x1-u,f=n.y1-u;d<i&&(i=d=(i+d)/2),f<o&&(o=f=(o+f)/2),n.x0=i,n.y0=o,n.x1=d,n.y1=f}}(n,d)),i&&o.eachBefore(e.default),o}return o.round=function(e){return arguments.length?(i=!!e,o):i},o.size=function(e){return arguments.length?(t=+e[0],n=+e[1],o):[t,n]},o.padding=function(e){return arguments.length?(u=+e,o):u},o}
},{"./treemap/round.js":"PETl","./treemap/dice.js":"L3aV"}],"bJDQ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=u;var r=require("./accessors.js"),e=require("./hierarchy/index.js"),n={depth:-1},t={};function o(r){return r.id}function i(r){return r.parentId}function u(){var u=o,a=i;function h(r){var o,i,h,c,f,l,d,p=Array.from(r),s=p.length,w=new Map;for(i=0;i<s;++i)o=p[i],f=p[i]=new e.Node(o),null!=(l=u(o,i,r))&&(l+="")&&(d=f.id=l,w.set(d,w.has(d)?t:f)),null!=(l=a(o,i,r))&&(l+="")&&(f.parent=l);for(i=0;i<s;++i)if(l=(f=p[i]).parent){if(!(c=w.get(l)))throw new Error("missing: "+l);if(c===t)throw new Error("ambiguous: "+l);c.children?c.children.push(f):c.children=[f],f.parent=c}else{if(h)throw new Error("multiple roots");h=f}if(!h)throw new Error("no root");if(h.parent=n,h.eachBefore(function(r){r.depth=r.parent.depth+1,--s}).eachBefore(e.computeHeight),h.parent=null,s>0)throw new Error("cycle");return h}return h.id=function(e){return arguments.length?(u=(0,r.required)(e),h):u},h.parentId=function(e){return arguments.length?(a=(0,r.required)(e),h):a},h}
},{"./accessors.js":"OleL","./hierarchy/index.js":"LCo+"}],"7nrL":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=l;var n=require("./hierarchy/index.js");function e(n,e){return n.parent===e.parent?1:2}function t(n){var e=n.children;return e?e[0]:n.t}function r(n){var e=n.children;return e?e[e.length-1]:n.t}function i(n,e,t){var r=t/(e.i-n.i);e.c-=r,e.s+=t,n.c+=r,e.z+=t,e.m+=t}function u(n){for(var e,t=0,r=0,i=n.children,u=i.length;--u>=0;)(e=i[u]).z+=t,e.m+=t,t+=e.s+(r+=e.c)}function c(n,e,t){return n.a.parent===e.parent?n.a:t}function a(n,e){this._=n,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=e}function h(n){for(var e,t,r,i,u,c=new a(n,0),h=[c];e=h.pop();)if(r=e._.children)for(e.children=new Array(u=r.length),i=u-1;i>=0;--i)h.push(t=e.children[i]=new a(r[i],i)),t.parent=e;return(c.parent=new a(null,0)).children=[c],c}function l(){var n=e,a=1,l=1,o=null;function f(e){var t=h(e);if(t.eachAfter(p),t.parent.m=-t.z,t.eachBefore(s),o)e.eachBefore(d);else{var r=e,i=e,u=e;e.eachBefore(function(n){n.x<r.x&&(r=n),n.x>i.x&&(i=n),n.depth>u.depth&&(u=n)});var c=r===i?1:n(r,i)/2,f=c-r.x,m=a/(i.x+c+f),z=l/(u.depth||1);e.eachBefore(function(n){n.x=(n.x+f)*m,n.y=n.depth*z})}return e}function p(e){var a=e.children,h=e.parent.children,l=e.i?h[e.i-1]:null;if(a){u(e);var o=(a[0].z+a[a.length-1].z)/2;l?(e.z=l.z+n(e._,l._),e.m=e.z-o):e.z=o}else l&&(e.z=l.z+n(e._,l._));e.parent.A=function(e,u,a){if(u){for(var h,l=e,o=e,f=u,p=l.parent.children[0],s=l.m,d=o.m,m=f.m,z=p.m;f=r(f),l=t(l),f&&l;)p=t(p),(o=r(o)).a=e,(h=f.z+m-l.z-s+n(f._,l._))>0&&(i(c(f,e,a),e,h),s+=h,d+=h),m+=f.m,s+=l.m,z+=p.m,d+=o.m;f&&!r(o)&&(o.t=f,o.m+=m-d),l&&!t(p)&&(p.t=l,p.m+=s-z,a=e)}return a}(e,l,e.parent.A||h[0])}function s(n){n._.x=n.z+n.parent.m,n.m+=n.parent.m}function d(n){n.x*=a,n.y=n.depth*l}return f.separation=function(e){return arguments.length?(n=e,f):n},f.size=function(n){return arguments.length?(o=!1,a=+n[0],l=+n[1],f):o?null:[a,l]},f.nodeSize=function(n){return arguments.length?(o=!0,a=+n[0],l=+n[1],f):o?[a,l]:null},f}a.prototype=Object.create(n.Node.prototype);
},{"./hierarchy/index.js":"LCo+"}],"RVbL":[function(require,module,exports) {
"use strict";function e(e,t,l,r,u){for(var a,o=e.children,n=-1,s=o.length,v=e.value&&(u-l)/e.value;++n<s;)(a=o[n]).x0=t,a.x1=r,a.y0=l,a.y1=l+=a.value*v}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"jyLZ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.squarifyRatio=a,exports.default=exports.phi=void 0;var e=t(require("./dice.js")),r=t(require("./slice.js"));function t(e){return e&&e.__esModule?e:{default:e}}var u=(1+Math.sqrt(5))/2;function a(t,u,a,i,o,l){for(var n,s,d,f,c,h,p,v,x,M,q,_=[],j=u.children,m=0,b=0,y=j.length,g=u.value;m<y;){d=o-a,f=l-i;do{c=j[b++].value}while(!c&&b<y);for(h=p=c,q=c*c*(M=Math.max(f/d,d/f)/(g*t)),x=Math.max(p/q,q/h);b<y;++b){if(c+=s=j[b].value,s<h&&(h=s),s>p&&(p=s),q=c*c*M,(v=Math.max(p/q,q/h))>x){c-=s;break}x=v}_.push(n={value:c,dice:d<f,children:j.slice(m,b)}),n.dice?(0,e.default)(n,a,i,o,g?i+=f*c/g:l):(0,r.default)(n,a,i,g?a+=d*c/g:o,l),g-=c,m=b}return _}exports.phi=u;var i=function e(r){function t(e,t,u,i,o){a(r,e,t,u,i,o)}return t.ratio=function(r){return e((r=+r)>1?r:1)},t}(u);exports.default=i;
},{"./dice.js":"L3aV","./slice.js":"RVbL"}],"3cC5":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=i;var e=u(require("./round.js")),n=u(require("./squarify.js")),t=require("../accessors.js"),r=o(require("../constant.js"));function o(e){if(e&&e.__esModule)return e;var n={};if(null!=e)for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,t):{};r.get||r.set?Object.defineProperty(n,t,r):n[t]=e[t]}return n.default=e,n}function u(e){return e&&e.__esModule?e:{default:e}}function i(){var o=n.default,u=!1,i=1,d=1,f=[0],a=r.constantZero,c=r.constantZero,p=r.constantZero,g=r.constantZero,l=r.constantZero;function s(n){return n.x0=n.y0=0,n.x1=i,n.y1=d,n.eachBefore(y),f=[0],u&&n.eachBefore(e.default),n}function y(e){var n=f[e.depth],t=e.x0+n,r=e.y0+n,u=e.x1-n,i=e.y1-n;u<t&&(t=u=(t+u)/2),i<r&&(r=i=(r+i)/2),e.x0=t,e.y0=r,e.x1=u,e.y1=i,e.children&&(n=f[e.depth+1]=a(e)/2,t+=l(e)-n,r+=c(e)-n,(u-=p(e)-n)<t&&(t=u=(t+u)/2),(i-=g(e)-n)<r&&(r=i=(r+i)/2),o(e,t,r,u,i))}return s.round=function(e){return arguments.length?(u=!!e,s):u},s.size=function(e){return arguments.length?(i=+e[0],d=+e[1],s):[i,d]},s.tile=function(e){return arguments.length?(o=(0,t.required)(e),s):o},s.padding=function(e){return arguments.length?s.paddingInner(e).paddingOuter(e):s.paddingInner()},s.paddingInner=function(e){return arguments.length?(a="function"==typeof e?e:(0,r.default)(+e),s):a},s.paddingOuter=function(e){return arguments.length?s.paddingTop(e).paddingRight(e).paddingBottom(e).paddingLeft(e):s.paddingTop()},s.paddingTop=function(e){return arguments.length?(c="function"==typeof e?e:(0,r.default)(+e),s):c},s.paddingRight=function(e){return arguments.length?(p="function"==typeof e?e:(0,r.default)(+e),s):p},s.paddingBottom=function(e){return arguments.length?(g="function"==typeof e?e:(0,r.default)(+e),s):g},s.paddingLeft=function(e){return arguments.length?(l="function"==typeof e?e:(0,r.default)(+e),s):l},s}
},{"./round.js":"PETl","./squarify.js":"jyLZ","../accessors.js":"OleL","../constant.js":"k/YM"}],"cDuG":[function(require,module,exports) {
"use strict";function e(e,r,a,t,v){var n,o,u=e.children,f=u.length,i=new Array(f+1);for(i[0]=o=n=0;n<f;++n)i[n+1]=o+=u[n].value;!function e(r,a,t,v,n,o,f){if(r>=a-1){var l=u[r];return l.x0=v,l.y0=n,l.x1=o,void(l.y1=f)}var s=i[r],c=t/2+s,d=r+1,x=a-1;for(;d<x;){var y=d+x>>>1;i[y]<c?d=y+1:x=y}c-i[d-1]<i[d]-c&&r+1<d&&--d;var p=i[d]-s,h=t-p;if(o-v>f-n){var _=t?(v*h+o*p)/t:o;e(r,d,p,v,n,_,f),e(d,a,h,_,n,o,f)}else{var b=t?(n*h+f*p)/t:f;e(r,d,p,v,n,o,b),e(d,a,h,v,b,o,f)}}(0,f,e.value,r,a,t,v)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"dACy":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=r;var e=u(require("./dice.js")),t=u(require("./slice.js"));function u(e){return e&&e.__esModule?e:{default:e}}function r(u,r,d,s,i){(1&u.depth?t.default:e.default)(u,r,d,s,i)}
},{"./dice.js":"L3aV","./slice.js":"RVbL"}],"GrWc":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("./dice.js")),r=t(require("./slice.js")),u=require("./squarify.js");function t(e){return e&&e.__esModule?e:{default:e}}var a=function t(a){function i(t,i,l,f,o){if((s=t._squarify)&&s.ratio===a)for(var s,n,d,v,c,q=-1,_=s.length,p=t.value;++q<_;){for(d=(n=s[q]).children,v=n.value=0,c=d.length;v<c;++v)n.value+=d[v].value;n.dice?(0,e.default)(n,i,l,f,p?l+=(o-l)*n.value/p:o):(0,r.default)(n,i,l,p?i+=(f-i)*n.value/p:f,o),p-=n.value}else t._squarify=s=(0,u.squarifyRatio)(a,t,i,l,f,o),s.ratio=a}return i.ratio=function(e){return t((e=+e)>1?e:1)},i}(u.phi);exports.default=a;
},{"./dice.js":"L3aV","./slice.js":"RVbL","./squarify.js":"jyLZ"}],"wNQE":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"cluster",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(exports,"hierarchy",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(exports,"pack",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(exports,"packSiblings",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(exports,"packEnclose",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(exports,"partition",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(exports,"stratify",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(exports,"tree",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(exports,"treemap",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(exports,"treemapBinary",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(exports,"treemapDice",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(exports,"treemapSlice",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(exports,"treemapSliceDice",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(exports,"treemapSquarify",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(exports,"treemapResquarify",{enumerable:!0,get:function(){return b.default}});var e=j(require("./cluster.js")),r=j(require("./hierarchy/index.js")),t=j(require("./pack/index.js")),n=j(require("./pack/siblings.js")),u=j(require("./pack/enclose.js")),i=j(require("./partition.js")),a=j(require("./stratify.js")),f=j(require("./tree.js")),o=j(require("./treemap/index.js")),p=j(require("./treemap/binary.js")),c=j(require("./treemap/dice.js")),s=j(require("./treemap/slice.js")),l=j(require("./treemap/sliceDice.js")),d=j(require("./treemap/squarify.js")),b=j(require("./treemap/resquarify.js"));function j(e){return e&&e.__esModule?e:{default:e}}
},{"./cluster.js":"brcY","./hierarchy/index.js":"LCo+","./pack/index.js":"aVuj","./pack/siblings.js":"efS5","./pack/enclose.js":"ZzhU","./partition.js":"h/+W","./stratify.js":"bJDQ","./tree.js":"7nrL","./treemap/index.js":"3cC5","./treemap/binary.js":"cDuG","./treemap/dice.js":"L3aV","./treemap/slice.js":"RVbL","./treemap/sliceDice.js":"dACy","./treemap/squarify.js":"jyLZ","./treemap/resquarify.js":"GrWc"}],"xGSp":[function(require,module,exports) {
"use strict";function e(e){for(var t,r=-1,o=e.length,u=e[o-1],n=0;++r<o;)t=u,u=e[r],n+=t[1]*u[0]-t[0]*u[1];return n/2}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"5ySB":[function(require,module,exports) {
"use strict";function e(e){for(var t,r,o=-1,u=e.length,n=0,s=0,f=e[u-1],l=0;++o<u;)t=f,f=e[o],l+=r=t[0]*f[1]-f[0]*t[1],n+=(t[0]+f[0])*r,s+=(t[1]+f[1])*r;return[n/(l*=3),s/l]}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"1Q4L":[function(require,module,exports) {
"use strict";function e(e,t,r){return(t[0]-e[0])*(r[1]-e[1])-(t[1]-e[1])*(r[0]-e[0])}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"tgjV":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=u;var e=r(require("./cross.js"));function r(e){return e&&e.__esModule?e:{default:e}}function t(e,r){return e[0]-r[0]||e[1]-r[1]}function n(r){const t=r.length,n=[0,1];let u,o=2;for(u=2;u<t;++u){for(;o>1&&(0,e.default)(r[n[o-2]],r[n[o-1]],r[u])<=0;)--o;n[o++]=u}return n.slice(0,o)}function u(e){if((u=e.length)<3)return null;var r,u,o=new Array(u),l=new Array(u);for(r=0;r<u;++r)o[r]=[+e[r][0],+e[r][1],r];for(o.sort(t),r=0;r<u;++r)l[r]=[o[r][0],-o[r][1]];var f=n(o),s=n(l),a=s[0]===f[0],c=s[s.length-1]===f[f.length-1],i=[];for(r=f.length-1;r>=0;--r)i.push(e[o[f[r]][2]]);for(r=+a;r<s.length-c;++r)i.push(e[o[s[r]][2]]);return i}
},{"./cross.js":"1Q4L"}],"pcph":[function(require,module,exports) {
"use strict";function e(e,t){for(var r,o,u=e.length,n=e[u-1],s=t[0],f=t[1],l=n[0],a=n[1],c=!1,d=0;d<u;++d)r=(n=e[d])[0],(o=n[1])>f!=a>f&&s<(l-r)*(f-o)/(a-o)+r&&(c=!c),l=r,a=o;return c}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"naEA":[function(require,module,exports) {
"use strict";function e(e){for(var t,r,o=-1,u=e.length,n=e[u-1],s=n[0],a=n[1],f=0;++o<u;)t=s,r=a,t-=s=(n=e[o])[0],r-=a=n[1],f+=Math.hypot(t,r);return f}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"QnuL":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"polygonArea",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(exports,"polygonCentroid",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(exports,"polygonHull",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(exports,"polygonContains",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(exports,"polygonLength",{enumerable:!0,get:function(){return o.default}});var e=u(require("./area.js")),r=u(require("./centroid.js")),t=u(require("./hull.js")),n=u(require("./contains.js")),o=u(require("./length.js"));function u(e){return e&&e.__esModule?e:{default:e}}
},{"./area.js":"xGSp","./centroid.js":"5ySB","./hull.js":"tgjV","./contains.js":"pcph","./length.js":"naEA"}],"uDia":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=Math.random;exports.default=e;
},{}],"hmOZ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=u(require("./defaultSource.js"));function u(e){return e&&e.__esModule?e:{default:e}}var t=function e(u){function t(e,t){return e=null==e?0:+e,t=null==t?1:+t,1===arguments.length?(t=e,e=0):t-=e,function(){return u()*t+e}}return t.source=e,t}(e.default);exports.default=t;
},{"./defaultSource.js":"uDia"}],"6z6U":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("./defaultSource.js"));function t(e){return e&&e.__esModule?e:{default:e}}var r=function e(t){function r(e,r){return arguments.length<2&&(r=e,e=0),e=Math.floor(e),r=Math.floor(r)-e,function(){return Math.floor(t()*r+e)}}return r.source=e,r}(e.default);exports.default=r;
},{"./defaultSource.js":"uDia"}],"pjsZ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=u(require("./defaultSource.js"));function u(e){return e&&e.__esModule?e:{default:e}}var r=function e(u){function r(e,r){var t,l;return e=null==e?0:+e,r=null==r?1:+r,function(){var n;if(null!=t)n=t,t=null;else do{t=2*u()-1,n=2*u()-1,l=t*t+n*n}while(!l||l>1);return e+r*n*Math.sqrt(-2*Math.log(l)/l)}}return r.source=e,r}(e.default);exports.default=r;
},{"./defaultSource.js":"uDia"}],"lZpB":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("./defaultSource.js")),r=t(require("./normal.js"));function t(e){return e&&e.__esModule?e:{default:e}}var u=function e(t){var u=r.default.source(t);function o(){var e=u.apply(this,arguments);return function(){return Math.exp(e())}}return o.source=e,o}(e.default);exports.default=u;
},{"./defaultSource.js":"uDia","./normal.js":"pjsZ"}],"DMHS":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=r(require("./defaultSource.js"));function r(e){return e&&e.__esModule?e:{default:e}}var t=function e(r){function t(e){return(e=+e)<=0?()=>0:function(){for(var t=0,u=e;u>1;--u)t+=r();return t+u*r()}}return t.source=e,t}(e.default);exports.default=t;
},{"./defaultSource.js":"uDia"}],"g+l6":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=u(require("./defaultSource.js")),r=u(require("./irwinHall.js"));function u(e){return e&&e.__esModule?e:{default:e}}var t=function e(u){var t=r.default.source(u);function n(e){if(0==(e=+e))return u;var r=t(e);return function(){return r()/e}}return n.source=e,n}(e.default);exports.default=t;
},{"./defaultSource.js":"uDia","./irwinHall.js":"DMHS"}],"gEmS":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("./defaultSource.js"));function t(e){return e&&e.__esModule?e:{default:e}}var r=function e(t){function r(e){return function(){return-Math.log1p(-t())/e}}return r.source=e,r}(e.default);exports.default=r;
},{"./defaultSource.js":"uDia"}],"qEyw":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=r(require("./defaultSource.js"));function r(e){return e&&e.__esModule?e:{default:e}}var t=function e(r){function t(e){if((e=+e)<0)throw new RangeError("invalid alpha");return e=1/-e,function(){return Math.pow(1-r(),e)}}return t.source=e,t}(e.default);exports.default=t;
},{"./defaultSource.js":"uDia"}],"/QFQ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=r(require("./defaultSource.js"));function r(e){return e&&e.__esModule?e:{default:e}}var t=function e(r){function t(e){if((e=+e)<0||e>1)throw new RangeError("invalid p");return function(){return Math.floor(r()+e)}}return t.source=e,t}(e.default);exports.default=t;
},{"./defaultSource.js":"uDia"}],"1dJo":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=r(require("./defaultSource.js"));function r(e){return e&&e.__esModule?e:{default:e}}var t=function e(r){function t(e){if((e=+e)<0||e>1)throw new RangeError("invalid p");return 0===e?()=>1/0:1===e?()=>1:(e=Math.log1p(-e),function(){return 1+Math.floor(Math.log1p(-r())/e)})}return t.source=e,t}(e.default);exports.default=t;
},{"./defaultSource.js":"uDia"}],"y91O":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var r=t(require("./defaultSource.js")),e=t(require("./normal.js"));function t(r){return r&&r.__esModule?r:{default:r}}var u=function r(t){var u=e.default.source(t)();function o(r,e){if((r=+r)<0)throw new RangeError("invalid k");if(0===r)return()=>0;if(e=null==e?1:+e,1===r)return()=>-Math.log1p(-t())*e;var o=(r<1?r+1:r)-1/3,a=1/(3*Math.sqrt(o)),n=r<1?()=>Math.pow(t(),1/r):()=>1;return function(){do{do{var r=u(),l=1+a*r}while(l<=0);l*=l*l;var i=1-t()}while(i>=1-.0331*r*r*r*r&&Math.log(i)>=.5*r*r+o*(1-l+Math.log(l)));return o*l*n()*e}}return o.source=r,o}(r.default);exports.default=u;
},{"./defaultSource.js":"uDia","./normal.js":"pjsZ"}],"g3J4":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=u(require("./defaultSource.js")),r=u(require("./gamma.js"));function u(e){return e&&e.__esModule?e:{default:e}}var t=function e(u){var t=r.default.source(u);function a(e,r){var u=t(e),a=t(r);return function(){var e=u();return 0===e?0:e/(e+a())}}return a.source=e,a}(e.default);exports.default=t;
},{"./defaultSource.js":"uDia","./gamma.js":"y91O"}],"6BDx":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("./defaultSource.js")),r=t(require("./beta.js")),u=t(require("./geometric.js"));function t(e){return e&&e.__esModule?e:{default:e}}var o=function e(t){var o=u.default.source(t),a=r.default.source(t);function f(e,r){return e=+e,(r=+r)>=1?()=>e:r<=0?()=>0:function(){for(var u=0,t=e,f=r;t*f>16&&t*(1-f)>16;){var n=Math.floor((t+1)*f),s=a(n,t-n+1)();s<=f?(u+=n,t-=n,f=(f-s)/(1-s)):(t=n-1,f/=s)}for(var c=f<.5,d=o(c?f:1-f),i=d(),l=0;i<=t;++l)i+=d();return u+(c?l:t-l)}}return f.source=e,f}(e.default);exports.default=o;
},{"./defaultSource.js":"uDia","./beta.js":"g3J4","./geometric.js":"1dJo"}],"Ani0":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("./defaultSource.js"));function t(e){return e&&e.__esModule?e:{default:e}}var u=function e(t){function u(e,u,r){var o;return 0==(e=+e)?o=(e=>-Math.log(e)):(e=1/e,o=(t=>Math.pow(t,e))),u=null==u?0:+u,r=null==r?1:+r,function(){return u+r*o(-Math.log1p(-t()))}}return u.source=e,u}(e.default);exports.default=u;
},{"./defaultSource.js":"uDia"}],"aFFQ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("./defaultSource.js"));function t(e){return e&&e.__esModule?e:{default:e}}var u=function e(t){function u(e,u){return e=null==e?0:+e,u=null==u?1:+u,function(){return e+u*Math.tan(Math.PI*t())}}return u.source=e,u}(e.default);exports.default=u;
},{"./defaultSource.js":"uDia"}],"L/fP":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=u(require("./defaultSource.js"));function u(e){return e&&e.__esModule?e:{default:e}}var r=function e(u){function r(e,r){return e=null==e?0:+e,r=null==r?1:+r,function(){var t=u();return e+r*Math.log(t/(1-t))}}return r.source=e,r}(e.default);exports.default=r;
},{"./defaultSource.js":"uDia"}],"C4Uu":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("./defaultSource.js")),r=t(require("./binomial.js")),u=t(require("./gamma.js"));function t(e){return e&&e.__esModule?e:{default:e}}var o=function e(t){var o=u.default.source(t),a=r.default.source(t);function f(e){return function(){for(var r=0,u=e;u>16;){var f=Math.floor(.875*u),n=o(f)();if(n>u)return r+a(f-1,u/n)();r+=f,u-=n}for(var l=-Math.log1p(-t()),i=0;l<=u;++i)l-=Math.log1p(-t());return r+i}}return f.source=e,f}(e.default);exports.default=o;
},{"./defaultSource.js":"uDia","./binomial.js":"6BDx","./gamma.js":"y91O"}],"y/Oh":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=o;const e=1664525,t=1013904223,r=1/4294967296;function o(o=Math.random()){let s=0|(0<=o&&o<1?o/r:Math.abs(o));return()=>(s=e*s+t|0,r*(s>>>0))}
},{}],"4WQ4":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"randomUniform",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(exports,"randomInt",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(exports,"randomNormal",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(exports,"randomLogNormal",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(exports,"randomBates",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(exports,"randomIrwinHall",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(exports,"randomExponential",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(exports,"randomPareto",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(exports,"randomBernoulli",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(exports,"randomGeometric",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(exports,"randomBinomial",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(exports,"randomGamma",{enumerable:!0,get:function(){return m.default}}),Object.defineProperty(exports,"randomBeta",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(exports,"randomWeibull",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(exports,"randomCauchy",{enumerable:!0,get:function(){return b.default}}),Object.defineProperty(exports,"randomLogistic",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(exports,"randomPoisson",{enumerable:!0,get:function(){return j.default}}),Object.defineProperty(exports,"randomLcg",{enumerable:!0,get:function(){return g.default}});var e=x(require("./uniform.js")),r=x(require("./int.js")),t=x(require("./normal.js")),n=x(require("./logNormal.js")),u=x(require("./bates.js")),o=x(require("./irwinHall.js")),i=x(require("./exponential.js")),a=x(require("./pareto.js")),l=x(require("./bernoulli.js")),f=x(require("./geometric.js")),d=x(require("./binomial.js")),m=x(require("./gamma.js")),s=x(require("./beta.js")),c=x(require("./weibull.js")),b=x(require("./cauchy.js")),p=x(require("./logistic.js")),j=x(require("./poisson.js")),g=x(require("./lcg.js"));function x(e){return e&&e.__esModule?e:{default:e}}
},{"./uniform.js":"hmOZ","./int.js":"6z6U","./normal.js":"pjsZ","./logNormal.js":"lZpB","./bates.js":"g+l6","./irwinHall.js":"DMHS","./exponential.js":"gEmS","./pareto.js":"qEyw","./bernoulli.js":"/QFQ","./geometric.js":"1dJo","./binomial.js":"6BDx","./gamma.js":"y91O","./beta.js":"g3J4","./weibull.js":"Ani0","./cauchy.js":"aFFQ","./logistic.js":"L/fP","./poisson.js":"C4Uu","./lcg.js":"y/Oh"}],"aZlr":[function(require,module,exports) {
"use strict";function t(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}function e(t,e){switch(arguments.length){case 0:break;case 1:"function"==typeof t?this.interpolator(t):this.range(t);break;default:this.domain(t),"function"==typeof e?this.interpolator(e):this.range(e)}return this}Object.defineProperty(exports,"__esModule",{value:!0}),exports.initRange=t,exports.initInterpolator=e;
},{}],"ELIM":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e,exports.implicit=void 0;var n=require("./init.js");const t=Symbol("implicit");function e(){var r=new Map,i=[],o=[],u=t;function s(n){var e=n+"",s=r.get(e);if(!s){if(u!==t)return u;r.set(e,s=i.push(n))}return o[(s-1)%o.length]}return s.domain=function(n){if(!arguments.length)return i.slice();i=[],r=new Map;for(const t of n){const n=t+"";r.has(n)||r.set(n,i.push(t))}return s},s.range=function(n){return arguments.length?(o=Array.from(n),s):o.slice()},s.unknown=function(n){return arguments.length?(u=n,s):u},s.copy=function(){return e(i,o).unknown(u)},n.initRange.apply(s,arguments),s}exports.implicit=t;
},{"./init.js":"aZlr"}],"rJZF":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=u,exports.point=a;var n=require("d3-array"),r=require("./init.js"),e=t(require("./ordinal.js"));function t(n){return n&&n.__esModule?n:{default:n}}function u(){var t,i,a=(0,e.default)().unknown(void 0),d=a.domain,o=a.range,g=0,l=1,p=!1,c=0,f=0,h=.5;function s(){var r=d().length,e=l<g,u=e?l:g,a=e?g:l;t=(a-u)/Math.max(1,r-c+2*f),p&&(t=Math.floor(t)),u+=(a-u-t*(r-c))*h,i=t*(1-c),p&&(u=Math.round(u),i=Math.round(i));var s=(0,n.range)(r).map(function(n){return u+t*n});return o(e?s.reverse():s)}return delete a.unknown,a.domain=function(n){return arguments.length?(d(n),s()):d()},a.range=function(n){return arguments.length?([g,l]=n,g=+g,l=+l,s()):[g,l]},a.rangeRound=function(n){return[g,l]=n,g=+g,l=+l,p=!0,s()},a.bandwidth=function(){return i},a.step=function(){return t},a.round=function(n){return arguments.length?(p=!!n,s()):p},a.padding=function(n){return arguments.length?(c=Math.min(1,f=+n),s()):c},a.paddingInner=function(n){return arguments.length?(c=Math.min(1,n),s()):c},a.paddingOuter=function(n){return arguments.length?(f=+n,s()):f},a.align=function(n){return arguments.length?(h=Math.max(0,Math.min(1,n)),s()):h},a.copy=function(){return u(d(),[g,l]).round(p).paddingInner(c).paddingOuter(f).align(h)},r.initRange.apply(s(),arguments)}function i(n){var r=n.copy;return n.padding=n.paddingOuter,delete n.paddingInner,delete n.paddingOuter,n.copy=function(){return i(r())},n}function a(){return i(u.apply(null,arguments).paddingInner(1))}
},{"d3-array":"cBuZ","./init.js":"aZlr","./ordinal.js":"ELIM"}],"zRWI":[function(require,module,exports) {
"use strict";function e(e){return+e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"ZpMB":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.identity=i,exports.copy=s,exports.transformer=p,exports.default=m;var n=require("d3-array"),r=require("d3-interpolate"),e=u(require("./constant.js")),t=u(require("./number.js"));function u(n){return n&&n.__esModule?n:{default:n}}var o=[0,1];function i(n){return n}function a(n,r){return(r-=n=+n)?function(e){return(e-n)/r}:(0,e.default)(isNaN(r)?NaN:.5)}function c(n,r){var e;return n>r&&(e=n,n=r,r=e),function(e){return Math.max(n,Math.min(r,e))}}function f(n,r,e){var t=n[0],u=n[1],o=r[0],i=r[1];return u<t?(t=a(u,t),o=e(i,o)):(t=a(t,u),o=e(o,i)),function(n){return o(t(n))}}function l(r,e,t){var u=Math.min(r.length,e.length)-1,o=new Array(u),i=new Array(u),c=-1;for(r[u]<r[0]&&(r=r.slice().reverse(),e=e.slice().reverse());++c<u;)o[c]=a(r[c],r[c+1]),i[c]=t(e[c],e[c+1]);return function(e){var t=(0,n.bisect)(r,e,1,u)-1;return i[t](o[t](e))}}function s(n,r){return r.domain(n.domain()).range(n.range()).interpolate(n.interpolate()).clamp(n.clamp()).unknown(n.unknown())}function p(){var n,e,u,a,s,p,m=o,d=o,g=r.interpolate,h=i;function v(){var n=Math.min(m.length,d.length);return h!==i&&(h=c(m[0],m[n-1])),a=n>2?l:f,s=p=null,y}function y(r){return isNaN(r=+r)?u:(s||(s=a(m.map(n),d,g)))(n(h(r)))}return y.invert=function(t){return h(e((p||(p=a(d,m.map(n),r.interpolateNumber)))(t)))},y.domain=function(n){return arguments.length?(m=Array.from(n,t.default),v()):m.slice()},y.range=function(n){return arguments.length?(d=Array.from(n),v()):d.slice()},y.rangeRound=function(n){return d=Array.from(n),g=r.interpolateRound,v()},y.clamp=function(n){return arguments.length?(h=!!n||i,v()):h!==i},y.interpolate=function(n){return arguments.length?(g=n,v()):g},y.unknown=function(n){return arguments.length?(u=n,y):u},function(r,t){return n=r,e=t,v()}}function m(){return p()(i,i)}
},{"d3-array":"cBuZ","d3-interpolate":"mkGF","./constant.js":"5O/Y","./number.js":"zRWI"}],"m0SA":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=a;var e=require("d3-array"),r=require("d3-format");function a(a,i,s,t){var c,n=(0,e.tickStep)(a,i,s);switch((t=(0,r.formatSpecifier)(null==t?",f":t)).type){case"s":var o=Math.max(Math.abs(a),Math.abs(i));return null!=t.precision||isNaN(c=(0,r.precisionPrefix)(n,o))||(t.precision=c),(0,r.formatPrefix)(t,o);case"":case"e":case"g":case"p":case"r":null!=t.precision||isNaN(c=(0,r.precisionRound)(n,Math.max(Math.abs(a),Math.abs(i))))||(t.precision=c-("e"===t.type));break;case"f":case"%":null!=t.precision||isNaN(c=(0,r.precisionFixed)(n))||(t.precision=c-2*("%"===t.type))}return(0,r.format)(t)}
},{"d3-array":"cBuZ","d3-format":"4gWe"}],"VMtl":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.linearish=o,exports.default=a;var e=require("d3-array"),r=u(require("./continuous.js")),t=require("./init.js"),n=i(require("./tickFormat.js"));function i(e){return e&&e.__esModule?e:{default:e}}function u(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,t):{};n.get||n.set?Object.defineProperty(r,t,n):r[t]=e[t]}return r.default=e,r}function o(r){var t=r.domain;return r.ticks=function(r){var n=t();return(0,e.ticks)(n[0],n[n.length-1],null==r?10:r)},r.tickFormat=function(e,r){var i=t();return(0,n.default)(i[0],i[i.length-1],null==e?10:e,r)},r.nice=function(n){null==n&&(n=10);var i,u,o=t(),a=0,c=o.length-1,l=o[a],f=o[c],s=10;for(f<l&&(u=l,l=f,f=u,u=a,a=c,c=u);s-- >0;){if((u=(0,e.tickIncrement)(l,f,n))===i)return o[a]=l,o[c]=f,t(o);if(u>0)l=Math.floor(l/u)*u,f=Math.ceil(f/u)*u;else{if(!(u<0))break;l=Math.ceil(l*u)/u,f=Math.floor(f*u)/u}i=u}return r},r}function a(){var e=(0,r.default)();return e.copy=function(){return(0,r.copy)(e,a())},t.initRange.apply(e,arguments),o(e)}
},{"d3-array":"cBuZ","./continuous.js":"ZpMB","./init.js":"aZlr","./tickFormat.js":"m0SA"}],"eP89":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=t;var e=require("./linear.js"),n=r(require("./number.js"));function r(e){return e&&e.__esModule?e:{default:e}}function t(r){var u;function i(e){return isNaN(e=+e)?u:e}return i.invert=i,i.domain=i.range=function(e){return arguments.length?(r=Array.from(e,n.default),i):r.slice()},i.unknown=function(e){return arguments.length?(u=e,i):u},i.copy=function(){return t(r).unknown(u)},r=arguments.length?Array.from(r,n.default):[0,1],(0,e.linearish)(i)}
},{"./linear.js":"VMtl","./number.js":"zRWI"}],"gRJQ":[function(require,module,exports) {
"use strict";function e(e,t){var r,l=0,o=(e=e.slice()).length-1,s=e[l],u=e[o];return u<s&&(r=l,l=o,o=r,r=s,s=u,u=r),e[l]=t.floor(s),e[o]=t.ceil(u),e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"X3YW":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.loggish=p,exports.default=g;var t=require("d3-array"),n=require("d3-format"),r=o(require("./nice.js")),e=require("./continuous.js"),u=require("./init.js");function o(t){return t&&t.__esModule?t:{default:t}}function i(t){return Math.log(t)}function a(t){return Math.exp(t)}function f(t){return-Math.log(-t)}function c(t){return-Math.exp(-t)}function l(t){return isFinite(t)?+("1e"+t):t<0?0:t}function h(t){return 10===t?l:t===Math.E?Math.exp:function(n){return Math.pow(t,n)}}function s(t){return t===Math.E?Math.log:10===t&&Math.log10||2===t&&Math.log2||(t=Math.log(t),function(n){return Math.log(n)/t})}function M(t){return function(n){return-t(-n)}}function p(e){var u,o,l=e(i,a),p=l.domain,g=10;function d(){return u=s(g),o=h(g),p()[0]<0?(u=M(u),o=M(o),e(f,c)):e(i,a),l}return l.base=function(t){return arguments.length?(g=+t,d()):g},l.domain=function(t){return arguments.length?(p(t),d()):p()},l.ticks=function(n){var r,e=p(),i=e[0],a=e[e.length-1];(r=a<i)&&(h=i,i=a,a=h);var f,c,l,h=u(i),s=u(a),M=null==n?10:+n,d=[];if(!(g%1)&&s-h<M){if(h=Math.floor(h),s=Math.ceil(s),i>0){for(;h<=s;++h)for(c=1,f=o(h);c<g;++c)if(!((l=f*c)<i)){if(l>a)break;d.push(l)}}else for(;h<=s;++h)for(c=g-1,f=o(h);c>=1;--c)if(!((l=f*c)<i)){if(l>a)break;d.push(l)}2*d.length<M&&(d=(0,t.ticks)(i,a,M))}else d=(0,t.ticks)(h,s,Math.min(s-h,M)).map(o);return r?d.reverse():d},l.tickFormat=function(t,r){if(null==r&&(r=10===g?".0e":","),"function"!=typeof r&&(r=(0,n.format)(r)),t===1/0)return r;null==t&&(t=10);var e=Math.max(1,g*t/l.ticks().length);return function(t){var n=t/o(Math.round(u(t)));return n*g<g-.5&&(n*=g),n<=e?r(t):""}},l.nice=function(){return p((0,r.default)(p(),{floor:function(t){return o(Math.floor(u(t)))},ceil:function(t){return o(Math.ceil(u(t)))}}))},l}function g(){var t=p((0,e.transformer)()).domain([1,10]);return t.copy=function(){return(0,e.copy)(t,g()).base(t.base())},u.initRange.apply(t,arguments),t}
},{"d3-array":"cBuZ","d3-format":"4gWe","./nice.js":"gRJQ","./continuous.js":"ZpMB","./init.js":"aZlr"}],"Prec":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.symlogish=i,exports.default=o;var n=require("./linear.js"),t=require("./continuous.js"),r=require("./init.js");function e(n){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/n))}}function u(n){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*n}}function i(t){var r=1,i=t(e(r),u(r));return i.constant=function(n){return arguments.length?t(e(r=+n),u(r)):r},(0,n.linearish)(i)}function o(){var n=i((0,t.transformer)());return n.copy=function(){return(0,t.copy)(n,o()).constant(n.constant())},r.initRange.apply(n,arguments)}
},{"./linear.js":"VMtl","./continuous.js":"ZpMB","./init.js":"aZlr"}],"/yse":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.powish=o,exports.default=p,exports.sqrt=s;var t=require("./linear.js"),n=require("./continuous.js"),e=require("./init.js");function r(t){return function(n){return n<0?-Math.pow(-n,t):Math.pow(n,t)}}function i(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function u(t){return t<0?-t*t:t*t}function o(e){var o=e(n.identity,n.identity),p=1;return o.exponent=function(t){return arguments.length?1===(p=+t)?e(n.identity,n.identity):.5===p?e(i,u):e(r(p),r(1/p)):p},(0,t.linearish)(o)}function p(){var t=o((0,n.transformer)());return t.copy=function(){return(0,n.copy)(t,p()).exponent(t.exponent())},e.initRange.apply(t,arguments),t}function s(){return p.apply(null,arguments).exponent(.5)}
},{"./linear.js":"VMtl","./continuous.js":"ZpMB","./init.js":"aZlr"}],"OJb5":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=o;var n=u(require("./continuous.js")),r=require("./init.js"),e=require("./linear.js"),t=u(require("./number.js"));function u(n){return n&&n.__esModule?n:{default:n}}function i(n){return Math.sign(n)*n*n}function a(n){return Math.sign(n)*Math.sqrt(Math.abs(n))}function o(){var u,c=(0,n.default)(),l=[0,1],f=!1;function s(n){var r=a(c(n));return isNaN(r)?u:f?Math.round(r):r}return s.invert=function(n){return c.invert(i(n))},s.domain=function(n){return arguments.length?(c.domain(n),s):c.domain()},s.range=function(n){return arguments.length?(c.range((l=Array.from(n,t.default)).map(i)),s):l.slice()},s.rangeRound=function(n){return s.range(n).round(!0)},s.round=function(n){return arguments.length?(f=!!n,s):f},s.clamp=function(n){return arguments.length?(c.clamp(n),s):c.clamp()},s.unknown=function(n){return arguments.length?(u=n,s):u},s.copy=function(){return o(c.domain(),l).round(f).clamp(c.clamp()).unknown(u)},r.initRange.apply(s,arguments),(0,e.linearish)(s)}
},{"./continuous.js":"ZpMB","./init.js":"aZlr","./linear.js":"VMtl","./number.js":"zRWI"}],"fsZk":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=r;var n=require("d3-array"),e=require("./init.js");function r(){var t,i=[],u=[],a=[];function o(){var e=0,r=Math.max(1,u.length);for(a=new Array(r-1);++e<r;)a[e-1]=(0,n.quantileSorted)(i,e/r);return l}function l(e){return isNaN(e=+e)?t:u[(0,n.bisect)(a,e)]}return l.invertExtent=function(n){var e=u.indexOf(n);return e<0?[NaN,NaN]:[e>0?a[e-1]:i[0],e<a.length?a[e]:i[i.length-1]]},l.domain=function(e){if(!arguments.length)return i.slice();i=[];for(let n of e)null==n||isNaN(n=+n)||i.push(n);return i.sort(n.ascending),o()},l.range=function(n){return arguments.length?(u=Array.from(n),o()):u.slice()},l.unknown=function(n){return arguments.length?(t=n,l):t},l.quantiles=function(){return a.slice()},l.copy=function(){return r().domain(i).range(u).unknown(t)},e.initRange.apply(l,arguments)}
},{"d3-array":"cBuZ","./init.js":"aZlr"}],"8Z2c":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=t;var n=require("d3-array"),r=require("./linear.js"),e=require("./init.js");function t(){var i,u=0,o=1,a=1,c=[.5],f=[0,1];function l(r){return r<=r?f[(0,n.bisect)(c,r,0,a)]:i}function s(){var n=-1;for(c=new Array(a);++n<a;)c[n]=((n+1)*o-(n-a)*u)/(a+1);return l}return l.domain=function(n){return arguments.length?([u,o]=n,u=+u,o=+o,s()):[u,o]},l.range=function(n){return arguments.length?(a=(f=Array.from(n)).length-1,s()):f.slice()},l.invertExtent=function(n){var r=f.indexOf(n);return r<0?[NaN,NaN]:r<1?[u,c[0]]:r>=a?[c[a-1],o]:[c[r-1],c[r]]},l.unknown=function(n){return arguments.length?(i=n,l):l},l.thresholds=function(){return c.slice()},l.copy=function(){return t().domain([u,o]).range(f).unknown(i)},e.initRange.apply((0,r.linearish)(l),arguments)}
},{"d3-array":"cBuZ","./linear.js":"VMtl","./init.js":"aZlr"}],"odYE":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=r;var n=require("d3-array"),e=require("./init.js");function r(){var t,i=[.5],u=[0,1],o=1;function a(e){return e<=e?u[(0,n.bisect)(i,e,0,o)]:t}return a.domain=function(n){return arguments.length?(i=Array.from(n),o=Math.min(i.length,u.length-1),a):i.slice()},a.range=function(n){return arguments.length?(u=Array.from(n),o=Math.min(i.length,u.length-1),a):u.slice()},a.invertExtent=function(n){var e=u.indexOf(n);return[i[e-1],i[e]]},a.unknown=function(n){return arguments.length?(t=n,a):t},a.copy=function(){return r().domain(i).range(u).unknown(t)},e.initRange.apply(a,arguments)}
},{"d3-array":"cBuZ","./init.js":"aZlr"}],"gsab":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=t;var e=new Date,n=new Date;function t(r,o,u,f){function i(e){return r(e=0===arguments.length?new Date:new Date(+e)),e}return i.floor=function(e){return r(e=new Date(+e)),e},i.ceil=function(e){return r(e=new Date(e-1)),o(e,1),r(e),e},i.round=function(e){var n=i(e),t=i.ceil(e);return e-n<t-e?n:t},i.offset=function(e,n){return o(e=new Date(+e),null==n?1:Math.floor(n)),e},i.range=function(e,n,t){var u,f=[];if(e=i.ceil(e),t=null==t?1:Math.floor(t),!(e<n&&t>0))return f;do{f.push(u=new Date(+e)),o(e,t),r(e)}while(u<e&&e<n);return f},i.filter=function(e){return t(function(n){if(n>=n)for(;r(n),!e(n);)n.setTime(n-1)},function(n,t){if(n>=n)if(t<0)for(;++t<=0;)for(;o(n,-1),!e(n););else for(;--t>=0;)for(;o(n,1),!e(n););})},u&&(i.count=function(t,o){return e.setTime(+t),n.setTime(+o),r(e),r(n),Math.floor(u(e,n))},i.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?i.filter(f?function(n){return f(n)%e==0}:function(n){return i.count(0,n)%e==0}):i:null}),i}
},{}],"r4Yr":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.milliseconds=exports.default=void 0;var e=t(require("./interval.js"));function t(e){return e&&e.__esModule?e:{default:e}}var n=(0,e.default)(function(){},function(e,t){e.setTime(+e+t)},function(e,t){return t-e});n.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?(0,e.default)(function(e){e.setTime(Math.floor(e/t)*t)},function(e,n){e.setTime(+e+n*t)},function(e,n){return(n-e)/t}):n:null};var r=n;exports.default=r;var i=n.range;exports.milliseconds=i;
},{"./interval.js":"gsab"}],"EMi+":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.durationWeek=exports.durationDay=exports.durationHour=exports.durationMinute=exports.durationSecond=void 0;var e=1e3;exports.durationSecond=e;var r=6e4;exports.durationMinute=r;var o=36e5;exports.durationHour=o;var t=864e5;exports.durationDay=t;var a=6048e5;exports.durationWeek=a;
},{}],"K4G6":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.seconds=exports.default=void 0;var e=r(require("./interval.js")),t=require("./duration.js");function r(e){return e&&e.__esModule?e:{default:e}}var n=(0,e.default)(function(e){e.setTime(e-e.getMilliseconds())},function(e,r){e.setTime(+e+r*t.durationSecond)},function(e,r){return(r-e)/t.durationSecond},function(e){return e.getUTCSeconds()}),o=n;exports.default=o;var u=n.range;exports.seconds=u;
},{"./interval.js":"gsab","./duration.js":"EMi+"}],"sObl":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.minutes=exports.default=void 0;var e=n(require("./interval.js")),t=require("./duration.js");function n(e){return e&&e.__esModule?e:{default:e}}var r=(0,e.default)(function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*t.durationSecond)},function(e,n){e.setTime(+e+n*t.durationMinute)},function(e,n){return(n-e)/t.durationMinute},function(e){return e.getMinutes()}),u=r;exports.default=u;var i=r.range;exports.minutes=i;
},{"./interval.js":"gsab","./duration.js":"EMi+"}],"wPv4":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.hours=exports.default=void 0;var e=r(require("./interval.js")),t=require("./duration.js");function r(e){return e&&e.__esModule?e:{default:e}}var u=(0,e.default)(function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*t.durationSecond-e.getMinutes()*t.durationMinute)},function(e,r){e.setTime(+e+r*t.durationHour)},function(e,r){return(r-e)/t.durationHour},function(e){return e.getHours()}),o=u;exports.default=o;var n=u.range;exports.hours=n;
},{"./interval.js":"gsab","./duration.js":"EMi+"}],"bZ++":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.days=exports.default=void 0;var e=r(require("./interval.js")),t=require("./duration.js");function r(e){return e&&e.__esModule?e:{default:e}}var a=(0,e.default)(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*t.durationMinute)/t.durationDay,e=>e.getDate()-1),s=a;exports.default=s;var u=a.range;exports.days=u;
},{"./interval.js":"gsab","./duration.js":"EMi+"}],"6SUb":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.saturdays=exports.fridays=exports.thursdays=exports.wednesdays=exports.tuesdays=exports.mondays=exports.sundays=exports.saturday=exports.friday=exports.thursday=exports.wednesday=exports.tuesday=exports.monday=exports.sunday=void 0;var e=s(require("./interval.js")),r=require("./duration.js");function s(e){return e&&e.__esModule?e:{default:e}}function t(s){return(0,e.default)(function(e){e.setDate(e.getDate()-(e.getDay()+7-s)%7),e.setHours(0,0,0,0)},function(e,r){e.setDate(e.getDate()+7*r)},function(e,s){return(s-e-(s.getTimezoneOffset()-e.getTimezoneOffset())*r.durationMinute)/r.durationWeek})}var a=t(0);exports.sunday=a;var o=t(1);exports.monday=o;var d=t(2);exports.tuesday=d;var n=t(3);exports.wednesday=n;var u=t(4);exports.thursday=u;var p=t(5);exports.friday=p;var y=t(6);exports.saturday=y;var x=a.range;exports.sundays=x;var i=o.range;exports.mondays=i;var v=d.range;exports.tuesdays=v;var f=n.range;exports.wednesdays=f;var g=u.range;exports.thursdays=g;var c=p.range;exports.fridays=c;var l=y.range;exports.saturdays=l;
},{"./interval.js":"gsab","./duration.js":"EMi+"}],"XpbA":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.months=exports.default=void 0;var t=e(require("./interval.js"));function e(t){return t&&t.__esModule?t:{default:t}}var r=(0,t.default)(function(t){t.setDate(1),t.setHours(0,0,0,0)},function(t,e){t.setMonth(t.getMonth()+e)},function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())},function(t){return t.getMonth()}),n=r;exports.default=n;var o=r.range;exports.months=o;
},{"./interval.js":"gsab"}],"djmh":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.years=exports.default=void 0;var e=t(require("./interval.js"));function t(e){return e&&e.__esModule?e:{default:e}}var r=(0,e.default)(function(e){e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,t){e.setFullYear(e.getFullYear()+t)},function(e,t){return t.getFullYear()-e.getFullYear()},function(e){return e.getFullYear()});r.every=function(t){return isFinite(t=Math.floor(t))&&t>0?(0,e.default)(function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,r){e.setFullYear(e.getFullYear()+r*t)}):null};var u=r;exports.default=u;var l=r.range;exports.years=l;
},{"./interval.js":"gsab"}],"c3Ah":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.utcMinutes=exports.default=void 0;var e=u(require("./interval.js")),t=require("./duration.js");function u(e){return e&&e.__esModule?e:{default:e}}var r=(0,e.default)(function(e){e.setUTCSeconds(0,0)},function(e,u){e.setTime(+e+u*t.durationMinute)},function(e,u){return(u-e)/t.durationMinute},function(e){return e.getUTCMinutes()}),n=r;exports.default=n;var i=r.range;exports.utcMinutes=i;
},{"./interval.js":"gsab","./duration.js":"EMi+"}],"sGav":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.utcHours=exports.default=void 0;var e=t(require("./interval.js")),r=require("./duration.js");function t(e){return e&&e.__esModule?e:{default:e}}var u=(0,e.default)(function(e){e.setUTCMinutes(0,0,0)},function(e,t){e.setTime(+e+t*r.durationHour)},function(e,t){return(t-e)/r.durationHour},function(e){return e.getUTCHours()}),o=u;exports.default=o;var n=u.range;exports.utcHours=n;
},{"./interval.js":"gsab","./duration.js":"EMi+"}],"ns65":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.utcDays=exports.default=void 0;var e=r(require("./interval.js")),t=require("./duration.js");function r(e){return e&&e.__esModule?e:{default:e}}var u=(0,e.default)(function(e){e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCDate(e.getUTCDate()+t)},function(e,r){return(r-e)/t.durationDay},function(e){return e.getUTCDate()-1}),a=u;exports.default=a;var n=u.range;exports.utcDays=n;
},{"./interval.js":"gsab","./duration.js":"EMi+"}],"/HsO":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.utcSaturdays=exports.utcFridays=exports.utcThursdays=exports.utcWednesdays=exports.utcTuesdays=exports.utcMondays=exports.utcSundays=exports.utcSaturday=exports.utcFriday=exports.utcThursday=exports.utcWednesday=exports.utcTuesday=exports.utcMonday=exports.utcSunday=void 0;var t=r(require("./interval.js")),e=require("./duration.js");function r(t){return t&&t.__esModule?t:{default:t}}function a(r){return(0,t.default)(function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-r)%7),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+7*e)},function(t,r){return(r-t)/e.durationWeek})}var s=a(0);exports.utcSunday=s;var u=a(1);exports.utcMonday=u;var o=a(2);exports.utcTuesday=o;var d=a(3);exports.utcWednesday=d;var n=a(4);exports.utcThursday=n;var c=a(5);exports.utcFriday=c;var p=a(6);exports.utcSaturday=p;var y=s.range;exports.utcSundays=y;var x=u.range;exports.utcMondays=x;var v=o.range;exports.utcTuesdays=v;var i=d.range;exports.utcWednesdays=i;var T=n.range;exports.utcThursdays=T;var g=c.range;exports.utcFridays=g;var f=p.range;exports.utcSaturdays=f;
},{"./interval.js":"gsab","./duration.js":"EMi+"}],"KWFc":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.utcMonths=exports.default=void 0;var t=e(require("./interval.js"));function e(t){return t&&t.__esModule?t:{default:t}}var r=(0,t.default)(function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCMonth(t.getUTCMonth()+e)},function(t,e){return e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())},function(t){return t.getUTCMonth()}),n=r;exports.default=n;var o=r.range;exports.utcMonths=o;
},{"./interval.js":"gsab"}],"LM11":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.utcYears=exports.default=void 0;var e=t(require("./interval.js"));function t(e){return e&&e.__esModule?e:{default:e}}var r=(0,e.default)(function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)},function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()},function(e){return e.getUTCFullYear()});r.every=function(t){return isFinite(t=Math.floor(t))&&t>0?(0,e.default)(function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,r){e.setUTCFullYear(e.getUTCFullYear()+r*t)}):null};var u=r;exports.default=u;var l=r.range;exports.utcYears=l;
},{"./interval.js":"gsab"}],"F00f":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"timeInterval",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(exports,"timeMillisecond",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(exports,"timeMilliseconds",{enumerable:!0,get:function(){return t.milliseconds}}),Object.defineProperty(exports,"utcMillisecond",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(exports,"utcMilliseconds",{enumerable:!0,get:function(){return t.milliseconds}}),Object.defineProperty(exports,"timeSecond",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(exports,"timeSeconds",{enumerable:!0,get:function(){return r.seconds}}),Object.defineProperty(exports,"utcSecond",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(exports,"utcSeconds",{enumerable:!0,get:function(){return r.seconds}}),Object.defineProperty(exports,"timeMinute",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(exports,"timeMinutes",{enumerable:!0,get:function(){return n.minutes}}),Object.defineProperty(exports,"timeHour",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(exports,"timeHours",{enumerable:!0,get:function(){return u.hours}}),Object.defineProperty(exports,"timeDay",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(exports,"timeDays",{enumerable:!0,get:function(){return o.days}}),Object.defineProperty(exports,"timeWeek",{enumerable:!0,get:function(){return i.sunday}}),Object.defineProperty(exports,"timeWeeks",{enumerable:!0,get:function(){return i.sundays}}),Object.defineProperty(exports,"timeSunday",{enumerable:!0,get:function(){return i.sunday}}),Object.defineProperty(exports,"timeSundays",{enumerable:!0,get:function(){return i.sundays}}),Object.defineProperty(exports,"timeMonday",{enumerable:!0,get:function(){return i.monday}}),Object.defineProperty(exports,"timeMondays",{enumerable:!0,get:function(){return i.mondays}}),Object.defineProperty(exports,"timeTuesday",{enumerable:!0,get:function(){return i.tuesday}}),Object.defineProperty(exports,"timeTuesdays",{enumerable:!0,get:function(){return i.tuesdays}}),Object.defineProperty(exports,"timeWednesday",{enumerable:!0,get:function(){return i.wednesday}}),Object.defineProperty(exports,"timeWednesdays",{enumerable:!0,get:function(){return i.wednesdays}}),Object.defineProperty(exports,"timeThursday",{enumerable:!0,get:function(){return i.thursday}}),Object.defineProperty(exports,"timeThursdays",{enumerable:!0,get:function(){return i.thursdays}}),Object.defineProperty(exports,"timeFriday",{enumerable:!0,get:function(){return i.friday}}),Object.defineProperty(exports,"timeFridays",{enumerable:!0,get:function(){return i.fridays}}),Object.defineProperty(exports,"timeSaturday",{enumerable:!0,get:function(){return i.saturday}}),Object.defineProperty(exports,"timeSaturdays",{enumerable:!0,get:function(){return i.saturdays}}),Object.defineProperty(exports,"timeMonth",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(exports,"timeMonths",{enumerable:!0,get:function(){return c.months}}),Object.defineProperty(exports,"timeYear",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(exports,"timeYears",{enumerable:!0,get:function(){return s.years}}),Object.defineProperty(exports,"utcMinute",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(exports,"utcMinutes",{enumerable:!0,get:function(){return a.utcMinutes}}),Object.defineProperty(exports,"utcHour",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(exports,"utcHours",{enumerable:!0,get:function(){return d.utcHours}}),Object.defineProperty(exports,"utcDay",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(exports,"utcDays",{enumerable:!0,get:function(){return f.utcDays}}),Object.defineProperty(exports,"utcWeek",{enumerable:!0,get:function(){return y.utcSunday}}),Object.defineProperty(exports,"utcWeeks",{enumerable:!0,get:function(){return y.utcSundays}}),Object.defineProperty(exports,"utcSunday",{enumerable:!0,get:function(){return y.utcSunday}}),Object.defineProperty(exports,"utcSundays",{enumerable:!0,get:function(){return y.utcSundays}}),Object.defineProperty(exports,"utcMonday",{enumerable:!0,get:function(){return y.utcMonday}}),Object.defineProperty(exports,"utcMondays",{enumerable:!0,get:function(){return y.utcMondays}}),Object.defineProperty(exports,"utcTuesday",{enumerable:!0,get:function(){return y.utcTuesday}}),Object.defineProperty(exports,"utcTuesdays",{enumerable:!0,get:function(){return y.utcTuesdays}}),Object.defineProperty(exports,"utcWednesday",{enumerable:!0,get:function(){return y.utcWednesday}}),Object.defineProperty(exports,"utcWednesdays",{enumerable:!0,get:function(){return y.utcWednesdays}}),Object.defineProperty(exports,"utcThursday",{enumerable:!0,get:function(){return y.utcThursday}}),Object.defineProperty(exports,"utcThursdays",{enumerable:!0,get:function(){return y.utcThursdays}}),Object.defineProperty(exports,"utcFriday",{enumerable:!0,get:function(){return y.utcFriday}}),Object.defineProperty(exports,"utcFridays",{enumerable:!0,get:function(){return y.utcFridays}}),Object.defineProperty(exports,"utcSaturday",{enumerable:!0,get:function(){return y.utcSaturday}}),Object.defineProperty(exports,"utcSaturdays",{enumerable:!0,get:function(){return y.utcSaturdays}}),Object.defineProperty(exports,"utcMonth",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(exports,"utcMonths",{enumerable:!0,get:function(){return p.utcMonths}}),Object.defineProperty(exports,"utcYear",{enumerable:!0,get:function(){return b.default}}),Object.defineProperty(exports,"utcYears",{enumerable:!0,get:function(){return b.utcYears}});var e=m(require("./interval.js")),t=l(require("./millisecond.js")),r=l(require("./second.js")),n=l(require("./minute.js")),u=l(require("./hour.js")),o=l(require("./day.js")),i=require("./week.js"),c=l(require("./month.js")),s=l(require("./year.js")),a=l(require("./utcMinute.js")),d=l(require("./utcHour.js")),f=l(require("./utcDay.js")),y=require("./utcWeek.js"),p=l(require("./utcMonth.js")),b=l(require("./utcYear.js"));function l(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}function m(e){return e&&e.__esModule?e:{default:e}}
},{"./interval.js":"gsab","./millisecond.js":"r4Yr","./second.js":"K4G6","./minute.js":"sObl","./hour.js":"wPv4","./day.js":"bZ++","./week.js":"6SUb","./month.js":"XpbA","./year.js":"djmh","./utcMinute.js":"c3Ah","./utcHour.js":"sGav","./utcDay.js":"ns65","./utcWeek.js":"/HsO","./utcMonth.js":"KWFc","./utcYear.js":"LM11"}],"rf9h":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=u;var n=require("d3-time");function t(n){if(0<=n.y&&n.y<100){var t=new Date(-1,n.m,n.d,n.H,n.M,n.S,n.L);return t.setFullYear(n.y),t}return new Date(n.y,n.m,n.d,n.H,n.M,n.S,n.L)}function e(n){if(0<=n.y&&n.y<100){var t=new Date(Date.UTC(-1,n.m,n.d,n.H,n.M,n.S,n.L));return t.setUTCFullYear(n.y),t}return new Date(Date.UTC(n.y,n.m,n.d,n.H,n.M,n.S,n.L))}function r(n,t,e){return{y:n,m:t,d:e,H:0,M:0,S:0,L:0}}function u(u){var i=u.dateTime,o=u.date,a=u.time,f=u.periods,l=u.days,O=u.shortDays,gn=u.months,xn=u.shortMonths,wn=g(f),Yn=s(f),pn=g(l),Hn=s(l),Ln=g(O),Sn=s(O),Fn=g(gn),Zn=s(gn),An=g(xn),Vn=s(xn),Wn={a:function(n){return O[n.getDay()]},A:function(n){return l[n.getDay()]},b:function(n){return xn[n.getMonth()]},B:function(n){return gn[n.getMonth()]},c:null,d:V,e:V,f:X,g:R,G:J,H:W,I:j,j:q,L:Q,m:b,M:B,p:function(n){return f[+(n.getHours()>=12)]},q:function(n){return 1+~~(n.getMonth()/3)},Q:Un,s:Mn,S:G,u:I,U:_,V:P,w:$,W:z,x:null,X:null,y:E,Y:k,Z:K,"%":Dn},jn={a:function(n){return O[n.getUTCDay()]},A:function(n){return l[n.getUTCDay()]},b:function(n){return xn[n.getUTCMonth()]},B:function(n){return gn[n.getUTCMonth()]},c:null,d:N,e:N,f:un,g:vn,G:Tn,H:nn,I:tn,j:en,L:rn,m:cn,M:on,p:function(n){return f[+(n.getUTCHours()>=12)]},q:function(n){return 1+~~(n.getUTCMonth()/3)},Q:Un,s:Mn,S:an,u:fn,U:ln,V:sn,w:hn,W:yn,x:null,X:null,y:dn,Y:mn,Z:Cn,"%":Dn},qn={a:function(n,t,e){var r=Ln.exec(t.slice(e));return r?(n.w=Sn.get(r[0].toLowerCase()),e+r[0].length):-1},A:function(n,t,e){var r=pn.exec(t.slice(e));return r?(n.w=Hn.get(r[0].toLowerCase()),e+r[0].length):-1},b:function(n,t,e){var r=An.exec(t.slice(e));return r?(n.m=Vn.get(r[0].toLowerCase()),e+r[0].length):-1},B:function(n,t,e){var r=Fn.exec(t.slice(e));return r?(n.m=Zn.get(r[0].toLowerCase()),e+r[0].length):-1},c:function(n,t,e){return bn(n,i,t,e)},d:x,e:x,f:S,g:C,G:T,H:Y,I:Y,j:w,L:L,m:M,M:p,p:function(n,t,e){var r=wn.exec(t.slice(e));return r?(n.p=Yn.get(r[0].toLowerCase()),e+r[0].length):-1},q:U,Q:Z,s:A,S:H,u:y,U:d,V:v,w:h,W:m,x:function(n,t,e){return bn(n,o,t,e)},X:function(n,t,e){return bn(n,a,t,e)},y:C,Y:T,Z:D,"%":F};function Qn(n,t){return function(e){var r,u,i,o=[],a=-1,f=0,l=n.length;for(e instanceof Date||(e=new Date(+e));++a<l;)37===n.charCodeAt(a)&&(o.push(n.slice(f,a)),null!=(u=c[r=n.charAt(++a)])?r=n.charAt(++a):u="e"===r?" ":"0",(i=t[r])&&(r=i(e,u)),o.push(r),f=a+1);return o.push(n.slice(f,a)),o.join("")}}function Xn(u,c){return function(i){var o,a,f=r(1900,void 0,1);if(bn(f,u,i+="",0)!=i.length)return null;if("Q"in f)return new Date(f.Q);if("s"in f)return new Date(1e3*f.s+("L"in f?f.L:0));if(!c||"Z"in f||(f.Z=0),"p"in f&&(f.H=f.H%12+12*f.p),void 0===f.m&&(f.m="q"in f?f.q:0),"V"in f){if(f.V<1||f.V>53)return null;"w"in f||(f.w=1),"Z"in f?(a=(o=e(r(f.y,0,1))).getUTCDay(),o=a>4||0===a?n.utcMonday.ceil(o):(0,n.utcMonday)(o),o=n.utcDay.offset(o,7*(f.V-1)),f.y=o.getUTCFullYear(),f.m=o.getUTCMonth(),f.d=o.getUTCDate()+(f.w+6)%7):(a=(o=t(r(f.y,0,1))).getDay(),o=a>4||0===a?n.timeMonday.ceil(o):(0,n.timeMonday)(o),o=n.timeDay.offset(o,7*(f.V-1)),f.y=o.getFullYear(),f.m=o.getMonth(),f.d=o.getDate()+(f.w+6)%7)}else("W"in f||"U"in f)&&("w"in f||(f.w="u"in f?f.u%7:"W"in f?1:0),a="Z"in f?e(r(f.y,0,1)).getUTCDay():t(r(f.y,0,1)).getDay(),f.m=0,f.d="W"in f?(f.w+6)%7+7*f.W-(a+5)%7:f.w+7*f.U-(a+6)%7);return"Z"in f?(f.H+=f.Z/100|0,f.M+=f.Z%100,e(f)):t(f)}}function bn(n,t,e,r){for(var u,i,o=0,a=t.length,f=e.length;o<a;){if(r>=f)return-1;if(37===(u=t.charCodeAt(o++))){if(u=t.charAt(o++),!(i=qn[u in c?t.charAt(o++):u])||(r=i(n,e,r))<0)return-1}else if(u!=e.charCodeAt(r++))return-1}return r}return Wn.x=Qn(o,Wn),Wn.X=Qn(a,Wn),Wn.c=Qn(i,Wn),jn.x=Qn(o,jn),jn.X=Qn(a,jn),jn.c=Qn(i,jn),{format:function(n){var t=Qn(n+="",Wn);return t.toString=function(){return n},t},parse:function(n){var t=Xn(n+="",!1);return t.toString=function(){return n},t},utcFormat:function(n){var t=Qn(n+="",jn);return t.toString=function(){return n},t},utcParse:function(n){var t=Xn(n+="",!0);return t.toString=function(){return n},t}}}var c={"-":"",_:" ",0:"0"},i=/^\s*\d+/,o=/^%/,a=/[\\^$*+?|[\]().{}]/g;function f(n,t,e){var r=n<0?"-":"",u=(r?-n:n)+"",c=u.length;return r+(c<e?new Array(e-c+1).join(t)+u:u)}function l(n){return n.replace(a,"\\$&")}function g(n){return new RegExp("^(?:"+n.map(l).join("|")+")","i")}function s(n){return new Map(n.map((n,t)=>[n.toLowerCase(),t]))}function h(n,t,e){var r=i.exec(t.slice(e,e+1));return r?(n.w=+r[0],e+r[0].length):-1}function y(n,t,e){var r=i.exec(t.slice(e,e+1));return r?(n.u=+r[0],e+r[0].length):-1}function d(n,t,e){var r=i.exec(t.slice(e,e+2));return r?(n.U=+r[0],e+r[0].length):-1}function v(n,t,e){var r=i.exec(t.slice(e,e+2));return r?(n.V=+r[0],e+r[0].length):-1}function m(n,t,e){var r=i.exec(t.slice(e,e+2));return r?(n.W=+r[0],e+r[0].length):-1}function T(n,t,e){var r=i.exec(t.slice(e,e+4));return r?(n.y=+r[0],e+r[0].length):-1}function C(n,t,e){var r=i.exec(t.slice(e,e+2));return r?(n.y=+r[0]+(+r[0]>68?1900:2e3),e+r[0].length):-1}function D(n,t,e){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(e,e+6));return r?(n.Z=r[1]?0:-(r[2]+(r[3]||"00")),e+r[0].length):-1}function U(n,t,e){var r=i.exec(t.slice(e,e+1));return r?(n.q=3*r[0]-3,e+r[0].length):-1}function M(n,t,e){var r=i.exec(t.slice(e,e+2));return r?(n.m=r[0]-1,e+r[0].length):-1}function x(n,t,e){var r=i.exec(t.slice(e,e+2));return r?(n.d=+r[0],e+r[0].length):-1}function w(n,t,e){var r=i.exec(t.slice(e,e+3));return r?(n.m=0,n.d=+r[0],e+r[0].length):-1}function Y(n,t,e){var r=i.exec(t.slice(e,e+2));return r?(n.H=+r[0],e+r[0].length):-1}function p(n,t,e){var r=i.exec(t.slice(e,e+2));return r?(n.M=+r[0],e+r[0].length):-1}function H(n,t,e){var r=i.exec(t.slice(e,e+2));return r?(n.S=+r[0],e+r[0].length):-1}function L(n,t,e){var r=i.exec(t.slice(e,e+3));return r?(n.L=+r[0],e+r[0].length):-1}function S(n,t,e){var r=i.exec(t.slice(e,e+6));return r?(n.L=Math.floor(r[0]/1e3),e+r[0].length):-1}function F(n,t,e){var r=o.exec(t.slice(e,e+1));return r?e+r[0].length:-1}function Z(n,t,e){var r=i.exec(t.slice(e));return r?(n.Q=+r[0],e+r[0].length):-1}function A(n,t,e){var r=i.exec(t.slice(e));return r?(n.s=+r[0],e+r[0].length):-1}function V(n,t){return f(n.getDate(),t,2)}function W(n,t){return f(n.getHours(),t,2)}function j(n,t){return f(n.getHours()%12||12,t,2)}function q(t,e){return f(1+n.timeDay.count((0,n.timeYear)(t),t),e,3)}function Q(n,t){return f(n.getMilliseconds(),t,3)}function X(n,t){return Q(n,t)+"000"}function b(n,t){return f(n.getMonth()+1,t,2)}function B(n,t){return f(n.getMinutes(),t,2)}function G(n,t){return f(n.getSeconds(),t,2)}function I(n){var t=n.getDay();return 0===t?7:t}function _(t,e){return f(n.timeSunday.count((0,n.timeYear)(t)-1,t),e,2)}function O(t){var e=t.getDay();return e>=4||0===e?(0,n.timeThursday)(t):n.timeThursday.ceil(t)}function P(t,e){return t=O(t),f(n.timeThursday.count((0,n.timeYear)(t),t)+(4===(0,n.timeYear)(t).getDay()),e,2)}function $(n){return n.getDay()}function z(t,e){return f(n.timeMonday.count((0,n.timeYear)(t)-1,t),e,2)}function E(n,t){return f(n.getFullYear()%100,t,2)}function R(n,t){return f((n=O(n)).getFullYear()%100,t,2)}function k(n,t){return f(n.getFullYear()%1e4,t,4)}function J(t,e){var r=t.getDay();return f((t=r>=4||0===r?(0,n.timeThursday)(t):n.timeThursday.ceil(t)).getFullYear()%1e4,e,4)}function K(n){var t=n.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+f(t/60|0,"0",2)+f(t%60,"0",2)}function N(n,t){return f(n.getUTCDate(),t,2)}function nn(n,t){return f(n.getUTCHours(),t,2)}function tn(n,t){return f(n.getUTCHours()%12||12,t,2)}function en(t,e){return f(1+n.utcDay.count((0,n.utcYear)(t),t),e,3)}function rn(n,t){return f(n.getUTCMilliseconds(),t,3)}function un(n,t){return rn(n,t)+"000"}function cn(n,t){return f(n.getUTCMonth()+1,t,2)}function on(n,t){return f(n.getUTCMinutes(),t,2)}function an(n,t){return f(n.getUTCSeconds(),t,2)}function fn(n){var t=n.getUTCDay();return 0===t?7:t}function ln(t,e){return f(n.utcSunday.count((0,n.utcYear)(t)-1,t),e,2)}function gn(t){var e=t.getUTCDay();return e>=4||0===e?(0,n.utcThursday)(t):n.utcThursday.ceil(t)}function sn(t,e){return t=gn(t),f(n.utcThursday.count((0,n.utcYear)(t),t)+(4===(0,n.utcYear)(t).getUTCDay()),e,2)}function hn(n){return n.getUTCDay()}function yn(t,e){return f(n.utcMonday.count((0,n.utcYear)(t)-1,t),e,2)}function dn(n,t){return f(n.getUTCFullYear()%100,t,2)}function vn(n,t){return f((n=gn(n)).getUTCFullYear()%100,t,2)}function mn(n,t){return f(n.getUTCFullYear()%1e4,t,4)}function Tn(t,e){var r=t.getUTCDay();return f((t=r>=4||0===r?(0,n.utcThursday)(t):n.utcThursday.ceil(t)).getUTCFullYear()%1e4,e,4)}function Cn(){return"+0000"}function Dn(){return"%"}function Un(n){return+n}function Mn(n){return Math.floor(+n/1e3)}
},{"d3-time":"F00f"}],"LmVV":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=p,exports.utcParse=exports.utcFormat=exports.timeParse=exports.timeFormat=void 0;var e,t,r,a,o,s=u(require("./locale.js"));function u(e){return e&&e.__esModule?e:{default:e}}function p(u){return e=(0,s.default)(u),exports.timeFormat=t=e.format,exports.timeParse=r=e.parse,exports.utcFormat=a=e.utcFormat,exports.utcParse=o=e.utcParse,e}exports.timeFormat=t,exports.timeParse=r,exports.utcFormat=a,exports.utcParse=o,p({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});
},{"./locale.js":"rf9h"}],"UFnF":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.isoSpecifier=void 0;var e=require("./defaultLocale.js"),t="%Y-%m-%dT%H:%M:%S.%LZ";function r(e){return e.toISOString()}exports.isoSpecifier=t;var o=Date.prototype.toISOString?r:(0,e.utcFormat)(t),i=o;exports.default=i;
},{"./defaultLocale.js":"LmVV"}],"hAdq":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("./isoFormat.js"),r=require("./defaultLocale.js");function t(e){var r=new Date(e);return isNaN(r)?null:r}var a=+new Date("2000-01-01T00:00:00.000Z")?t:(0,r.utcParse)(e.isoSpecifier),s=a;exports.default=s;
},{"./isoFormat.js":"UFnF","./defaultLocale.js":"LmVV"}],"+7zs":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"timeFormatDefaultLocale",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(exports,"timeFormat",{enumerable:!0,get:function(){return e.timeFormat}}),Object.defineProperty(exports,"timeParse",{enumerable:!0,get:function(){return e.timeParse}}),Object.defineProperty(exports,"utcFormat",{enumerable:!0,get:function(){return e.utcFormat}}),Object.defineProperty(exports,"utcParse",{enumerable:!0,get:function(){return e.utcParse}}),Object.defineProperty(exports,"timeFormatLocale",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(exports,"isoFormat",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(exports,"isoParse",{enumerable:!0,get:function(){return o.default}});var e=u(require("./defaultLocale.js")),t=n(require("./locale.js")),r=n(require("./isoFormat.js")),o=n(require("./isoParse.js"));function n(e){return e&&e.__esModule?e:{default:e}}function u(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var o=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};o.get||o.set?Object.defineProperty(t,r,o):t[r]=e[r]}return t.default=e,t}
},{"./defaultLocale.js":"LmVV","./locale.js":"rf9h","./isoFormat.js":"UFnF","./isoParse.js":"hAdq"}],"QHrh":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.calendar=b,exports.default=g;var e=require("d3-array"),t=require("d3-time"),r=require("d3-time-format"),n=a(require("./continuous.js")),i=require("./init.js"),u=o(require("./nice.js"));function o(e){return e&&e.__esModule?e:{default:e}}function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}var c=1e3,f=60*c,l=60*f,d=24*l,p=7*d,s=30*d,m=365*d;function y(e){return new Date(e)}function v(e){return e instanceof Date?+e:+new Date(+e)}function b(t,r,i,o,a,g,h,j,D){var M=(0,n.default)(),O=M.invert,w=M.domain,q=D(".%L"),P=D(":%S"),_=D("%I:%M"),k=D("%I %p"),x=D("%a %d"),S=D("%b %d"),F=D("%B"),I=D("%Y"),Y=[[h,1,c],[h,5,5*c],[h,15,15*c],[h,30,30*c],[g,1,f],[g,5,5*f],[g,15,15*f],[g,30,30*f],[a,1,l],[a,3,3*l],[a,6,6*l],[a,12,12*l],[o,1,d],[o,2,2*d],[i,1,p],[r,1,s],[r,3,3*s],[t,1,m]];function A(e){return(h(e)<e?q:g(e)<e?P:a(e)<e?_:o(e)<e?k:r(e)<e?i(e)<e?x:S:t(e)<e?F:I)(e)}function B(r,n,i){if(null==r&&(r=10),"number"==typeof r){var u,o=Math.abs(i-n)/r,a=(0,e.bisector)(function(e){return e[2]}).right(Y,o);return a===Y.length?(u=(0,e.tickStep)(n/m,i/m,r),r=t):a?(u=(a=Y[o/Y[a-1][2]<Y[a][2]/o?a-1:a])[1],r=a[0]):(u=Math.max((0,e.tickStep)(n,i,r),1),r=j),r.every(u)}return r}return M.invert=function(e){return new Date(O(e))},M.domain=function(e){return arguments.length?w(Array.from(e,v)):w().map(y)},M.ticks=function(e){var t,r=w(),n=r[0],i=r[r.length-1],u=i<n;return u&&(t=n,n=i,i=t),t=(t=B(e,n,i))?t.range(n,i+1):[],u?t.reverse():t},M.tickFormat=function(e,t){return null==t?A:D(t)},M.nice=function(e){var t=w();return(e=B(e,t[0],t[t.length-1]))?w((0,u.default)(t,e)):M},M.copy=function(){return(0,n.copy)(M,b(t,r,i,o,a,g,h,j,D))},M}function g(){return i.initRange.apply(b(t.timeYear,t.timeMonth,t.timeWeek,t.timeDay,t.timeHour,t.timeMinute,t.timeSecond,t.timeMillisecond,r.timeFormat).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}
},{"d3-array":"cBuZ","d3-time":"F00f","d3-time-format":"+7zs","./continuous.js":"ZpMB","./init.js":"aZlr","./nice.js":"gRJQ"}],"D6Mr":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=i;var e=require("./time.js"),t=require("d3-time-format"),r=require("d3-time"),u=require("./init.js");function i(){return u.initRange.apply((0,e.calendar)(r.utcYear,r.utcMonth,r.utcWeek,r.utcDay,r.utcHour,r.utcMinute,r.utcSecond,r.utcMillisecond,t.utcFormat).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}
},{"./time.js":"QHrh","d3-time-format":"+7zs","d3-time":"F00f","./init.js":"aZlr"}],"O1DZ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.copy=p,exports.default=l,exports.sequentialLog=c,exports.sequentialSymlog=s,exports.sequentialPow=f,exports.sequentialSqrt=y;var n=require("d3-interpolate"),t=require("./continuous.js"),r=require("./init.js"),e=require("./linear.js"),o=require("./log.js"),i=require("./symlog.js"),u=require("./pow.js");function a(){var r,e,o,i,u,a=0,p=1,l=t.identity,c=!1;function s(n){return isNaN(n=+n)?u:l(0===o?.5:(n=(i(n)-r)*o,c?Math.max(0,Math.min(1,n)):n))}function f(n){return function(t){var r,e;return arguments.length?([r,e]=t,l=n(r,e),s):[l(0),l(1)]}}return s.domain=function(n){return arguments.length?([a,p]=n,r=i(a=+a),e=i(p=+p),o=r===e?0:1/(e-r),s):[a,p]},s.clamp=function(n){return arguments.length?(c=!!n,s):c},s.interpolator=function(n){return arguments.length?(l=n,s):l},s.range=f(n.interpolate),s.rangeRound=f(n.interpolateRound),s.unknown=function(n){return arguments.length?(u=n,s):u},function(n){return i=n,r=n(a),e=n(p),o=r===e?0:1/(e-r),s}}function p(n,t){return t.domain(n.domain()).interpolator(n.interpolator()).clamp(n.clamp()).unknown(n.unknown())}function l(){var n=(0,e.linearish)(a()(t.identity));return n.copy=function(){return p(n,l())},r.initInterpolator.apply(n,arguments)}function c(){var n=(0,o.loggish)(a()).domain([1,10]);return n.copy=function(){return p(n,c()).base(n.base())},r.initInterpolator.apply(n,arguments)}function s(){var n=(0,i.symlogish)(a());return n.copy=function(){return p(n,s()).constant(n.constant())},r.initInterpolator.apply(n,arguments)}function f(){var n=(0,u.powish)(a());return n.copy=function(){return p(n,f()).exponent(n.exponent())},r.initInterpolator.apply(n,arguments)}function y(){return f.apply(null,arguments).exponent(.5)}
},{"d3-interpolate":"mkGF","./continuous.js":"ZpMB","./init.js":"aZlr","./linear.js":"VMtl","./log.js":"X3YW","./symlog.js":"Prec","./pow.js":"/yse"}],"Y40z":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;var n=require("d3-array"),r=require("./continuous.js"),t=require("./init.js");function e(){var i=[],u=r.identity;function o(r){if(!isNaN(r=+r))return u(((0,n.bisect)(i,r,1)-1)/(i.length-1))}return o.domain=function(r){if(!arguments.length)return i.slice();i=[];for(let n of r)null==n||isNaN(n=+n)||i.push(n);return i.sort(n.ascending),o},o.interpolator=function(n){return arguments.length?(u=n,o):u},o.range=function(){return i.map((n,r)=>u(r/(i.length-1)))},o.quantiles=function(r){return Array.from({length:r+1},(t,e)=>(0,n.quantile)(i,e/r))},o.copy=function(){return e(u).domain(i)},t.initInterpolator.apply(o,arguments)}
},{"d3-array":"cBuZ","./continuous.js":"ZpMB","./init.js":"aZlr"}],"shE4":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=c,exports.divergingLog=l,exports.divergingSymlog=s,exports.divergingPow=g,exports.divergingSqrt=f;var n=require("d3-interpolate"),r=require("./continuous.js"),t=require("./init.js"),e=require("./linear.js"),i=require("./log.js"),o=require("./sequential.js"),u=require("./symlog.js"),p=require("./pow.js");function a(){var t,e,i,o,u,p,a,c=0,l=.5,s=1,g=1,f=r.identity,y=!1;function d(n){return isNaN(n=+n)?a:(n=.5+((n=+p(n))-e)*(g*n<g*e?o:u),f(y?Math.max(0,Math.min(1,n)):n))}function v(r){return function(t){var e,i,o;return arguments.length?([e,i,o]=t,f=(0,n.piecewise)(r,[e,i,o]),d):[f(0),f(.5),f(1)]}}return d.domain=function(n){return arguments.length?([c,l,s]=n,t=p(c=+c),e=p(l=+l),i=p(s=+s),o=t===e?0:.5/(e-t),u=e===i?0:.5/(i-e),g=e<t?-1:1,d):[c,l,s]},d.clamp=function(n){return arguments.length?(y=!!n,d):y},d.interpolator=function(n){return arguments.length?(f=n,d):f},d.range=v(n.interpolate),d.rangeRound=v(n.interpolateRound),d.unknown=function(n){return arguments.length?(a=n,d):a},function(n){return p=n,t=n(c),e=n(l),i=n(s),o=t===e?0:.5/(e-t),u=e===i?0:.5/(i-e),g=e<t?-1:1,d}}function c(){var n=(0,e.linearish)(a()(r.identity));return n.copy=function(){return(0,o.copy)(n,c())},t.initInterpolator.apply(n,arguments)}function l(){var n=(0,i.loggish)(a()).domain([.1,1,10]);return n.copy=function(){return(0,o.copy)(n,l()).base(n.base())},t.initInterpolator.apply(n,arguments)}function s(){var n=(0,u.symlogish)(a());return n.copy=function(){return(0,o.copy)(n,s()).constant(n.constant())},t.initInterpolator.apply(n,arguments)}function g(){var n=(0,p.powish)(a());return n.copy=function(){return(0,o.copy)(n,g()).exponent(n.exponent())},t.initInterpolator.apply(n,arguments)}function f(){return g.apply(null,arguments).exponent(.5)}
},{"d3-interpolate":"mkGF","./continuous.js":"ZpMB","./init.js":"aZlr","./linear.js":"VMtl","./log.js":"X3YW","./sequential.js":"O1DZ","./symlog.js":"Prec","./pow.js":"/yse"}],"zt+a":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"scaleBand",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(exports,"scalePoint",{enumerable:!0,get:function(){return e.point}}),Object.defineProperty(exports,"scaleIdentity",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(exports,"scaleLinear",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(exports,"scaleLog",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(exports,"scaleSymlog",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(exports,"scaleOrdinal",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(exports,"scaleImplicit",{enumerable:!0,get:function(){return i.implicit}}),Object.defineProperty(exports,"scalePow",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(exports,"scaleSqrt",{enumerable:!0,get:function(){return o.sqrt}}),Object.defineProperty(exports,"scaleRadial",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(exports,"scaleQuantile",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(exports,"scaleQuantize",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(exports,"scaleThreshold",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(exports,"scaleTime",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(exports,"scaleUtc",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(exports,"scaleSequential",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(exports,"scaleSequentialLog",{enumerable:!0,get:function(){return d.sequentialLog}}),Object.defineProperty(exports,"scaleSequentialPow",{enumerable:!0,get:function(){return d.sequentialPow}}),Object.defineProperty(exports,"scaleSequentialSqrt",{enumerable:!0,get:function(){return d.sequentialSqrt}}),Object.defineProperty(exports,"scaleSequentialSymlog",{enumerable:!0,get:function(){return d.sequentialSymlog}}),Object.defineProperty(exports,"scaleSequentialQuantile",{enumerable:!0,get:function(){return b.default}}),Object.defineProperty(exports,"scaleDiverging",{enumerable:!0,get:function(){return g.default}}),Object.defineProperty(exports,"scaleDivergingLog",{enumerable:!0,get:function(){return g.divergingLog}}),Object.defineProperty(exports,"scaleDivergingPow",{enumerable:!0,get:function(){return g.divergingPow}}),Object.defineProperty(exports,"scaleDivergingSqrt",{enumerable:!0,get:function(){return g.divergingSqrt}}),Object.defineProperty(exports,"scaleDivergingSymlog",{enumerable:!0,get:function(){return g.divergingSymlog}}),Object.defineProperty(exports,"tickFormat",{enumerable:!0,get:function(){return j.default}});var e=m(require("./band.js")),r=y(require("./identity.js")),t=y(require("./linear.js")),n=y(require("./log.js")),u=y(require("./symlog.js")),i=m(require("./ordinal.js")),o=m(require("./pow.js")),l=y(require("./radial.js")),a=y(require("./quantile.js")),c=y(require("./quantize.js")),s=y(require("./threshold.js")),f=y(require("./time.js")),p=y(require("./utcTime.js")),d=m(require("./sequential.js")),b=y(require("./sequentialQuantile.js")),g=m(require("./diverging.js")),j=y(require("./tickFormat.js"));function y(e){return e&&e.__esModule?e:{default:e}}function m(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,t):{};n.get||n.set?Object.defineProperty(r,t,n):r[t]=e[t]}return r.default=e,r}
},{"./band.js":"rJZF","./identity.js":"eP89","./linear.js":"VMtl","./log.js":"X3YW","./symlog.js":"Prec","./ordinal.js":"ELIM","./pow.js":"/yse","./radial.js":"OJb5","./quantile.js":"fsZk","./quantize.js":"8Z2c","./threshold.js":"odYE","./time.js":"QHrh","./utcTime.js":"D6Mr","./sequential.js":"O1DZ","./sequentialQuantile.js":"Y40z","./diverging.js":"shE4","./tickFormat.js":"m0SA"}],"e9Ar":[function(require,module,exports) {
"use strict";function e(e){for(var r=e.length/6|0,t=new Array(r),n=0;n<r;)t[n]="#"+e.slice(6*n,6*++n);return t}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"PcKk":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=f(require("../colors.js"));function f(e){return e&&e.__esModule?e:{default:e}}var r=(0,e.default)("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf");exports.default=r;
},{"../colors.js":"e9Ar"}],"2TXT":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=f(require("../colors.js"));function f(e){return e&&e.__esModule?e:{default:e}}var r=(0,e.default)("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666");exports.default=r;
},{"../colors.js":"e9Ar"}],"MCH8":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=r(require("../colors.js"));function r(e){return e&&e.__esModule?e:{default:e}}var t=(0,e.default)("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666");exports.default=t;
},{"../colors.js":"e9Ar"}],"bH6q":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=f(require("../colors.js"));function f(e){return e&&e.__esModule?e:{default:e}}var a=(0,e.default)("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928");exports.default=a;
},{"../colors.js":"e9Ar"}],"2GbC":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=f(require("../colors.js"));function f(e){return e&&e.__esModule?e:{default:e}}var d=(0,e.default)("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2");exports.default=d;
},{"../colors.js":"e9Ar"}],"SQbk":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=c(require("../colors.js"));function c(e){return e&&e.__esModule?e:{default:e}}var f=(0,e.default)("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc");exports.default=f;
},{"../colors.js":"e9Ar"}],"/J0n":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=f(require("../colors.js"));function f(e){return e&&e.__esModule?e:{default:e}}var r=(0,e.default)("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999");exports.default=r;
},{"../colors.js":"e9Ar"}],"rdh9":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=r(require("../colors.js"));function r(e){return e&&e.__esModule?e:{default:e}}var t=(0,e.default)("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3");exports.default=t;
},{"../colors.js":"e9Ar"}],"7/o5":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=d(require("../colors.js"));function d(e){return e&&e.__esModule?e:{default:e}}var f=(0,e.default)("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f");exports.default=f;
},{"../colors.js":"e9Ar"}],"n6R9":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=a(require("../colors.js"));function a(e){return e&&e.__esModule?e:{default:e}}var r=(0,e.default)("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab");exports.default=r;
},{"../colors.js":"e9Ar"}],"tFWC":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("d3-interpolate"),t=t=>(0,e.interpolateRgbBasis)(t[t.length-1]);exports.default=t;
},{"d3-interpolate":"mkGF"}],"kmpN":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.scheme=void 0;var e=f(require("../colors.js")),c=f(require("../ramp.js"));function f(e){return e&&e.__esModule?e:{default:e}}var a=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(e.default);exports.scheme=a;var d=(0,c.default)(a);exports.default=d;
},{"../colors.js":"e9Ar","../ramp.js":"tFWC"}],"Hn8a":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.scheme=void 0;var a=f(require("../colors.js")),e=f(require("../ramp.js"));function f(a){return a&&a.__esModule?a:{default:a}}var d=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(a.default);exports.scheme=d;var b=(0,e.default)(d);exports.default=b;
},{"../colors.js":"e9Ar","../ramp.js":"tFWC"}],"cCiT":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.scheme=void 0;var e=f(require("../colors.js")),d=f(require("../ramp.js"));function f(e){return e&&e.__esModule?e:{default:e}}var a=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(e.default);exports.scheme=a;var b=(0,d.default)(a);exports.default=b;
},{"../colors.js":"e9Ar","../ramp.js":"tFWC"}],"k6z3":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.scheme=void 0;var e=f(require("../colors.js")),b=f(require("../ramp.js"));function f(e){return e&&e.__esModule?e:{default:e}}var d=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(e.default);exports.scheme=d;var a=(0,b.default)(d);exports.default=a;
},{"../colors.js":"e9Ar","../ramp.js":"tFWC"}],"75sN":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.scheme=void 0;var f=d(require("../colors.js")),e=d(require("../ramp.js"));function d(f){return f&&f.__esModule?f:{default:f}}var c=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(f.default);exports.scheme=c;var a=(0,e.default)(c);exports.default=a;
},{"../colors.js":"e9Ar","../ramp.js":"tFWC"}],"mrMT":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.scheme=void 0;var f=a(require("../colors.js")),e=a(require("../ramp.js"));function a(f){return f&&f.__esModule?f:{default:f}}var d=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(f.default);exports.scheme=d;var b=(0,e.default)(d);exports.default=b;
},{"../colors.js":"e9Ar","../ramp.js":"tFWC"}],"uyGf":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.scheme=void 0;var f=d(require("../colors.js")),e=d(require("../ramp.js"));function d(f){return f&&f.__esModule?f:{default:f}}var a=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(f.default);exports.scheme=a;var b=(0,e.default)(a);exports.default=b;
},{"../colors.js":"e9Ar","../ramp.js":"tFWC"}],"Dt8k":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.scheme=void 0;var f=d(require("../colors.js")),e=d(require("../ramp.js"));function d(f){return f&&f.__esModule?f:{default:f}}var a=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(f.default);exports.scheme=a;var b=(0,e.default)(a);exports.default=b;
},{"../colors.js":"e9Ar","../ramp.js":"tFWC"}],"eSjI":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.scheme=void 0;var f=d(require("../colors.js")),e=d(require("../ramp.js"));function d(f){return f&&f.__esModule?f:{default:f}}var a=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(f.default);exports.scheme=a;var b=(0,e.default)(a);exports.default=b;
},{"../colors.js":"e9Ar","../ramp.js":"tFWC"}],"L6xI":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.scheme=void 0;var e=f(require("../colors.js")),c=f(require("../ramp.js"));function f(e){return e&&e.__esModule?e:{default:e}}var a=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(e.default);exports.scheme=a;var d=(0,c.default)(a);exports.default=d;
},{"../colors.js":"e9Ar","../ramp.js":"tFWC"}],"JRrn":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.scheme=void 0;var e=d(require("../colors.js")),c=d(require("../ramp.js"));function d(e){return e&&e.__esModule?e:{default:e}}var f=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(e.default);exports.scheme=f;var b=(0,c.default)(f);exports.default=b;
},{"../colors.js":"e9Ar","../ramp.js":"tFWC"}],"j/1f":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.scheme=void 0;var c=b(require("../colors.js")),e=b(require("../ramp.js"));function b(c){return c&&c.__esModule?c:{default:c}}var a=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(c.default);exports.scheme=a;var d=(0,e.default)(a);exports.default=d;
},{"../colors.js":"e9Ar","../ramp.js":"tFWC"}],"nT+z":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.scheme=void 0;var e=d(require("../colors.js")),f=d(require("../ramp.js"));function d(e){return e&&e.__esModule?e:{default:e}}var c=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(e.default);exports.scheme=c;var r=(0,f.default)(c);exports.default=r;
},{"../colors.js":"e9Ar","../ramp.js":"tFWC"}],"3B5M":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.scheme=void 0;var e=d(require("../colors.js")),f=d(require("../ramp.js"));function d(e){return e&&e.__esModule?e:{default:e}}var a=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(e.default);exports.scheme=a;var c=(0,f.default)(a);exports.default=c;
},{"../colors.js":"e9Ar","../ramp.js":"tFWC"}],"NAcy":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.scheme=void 0;var e=f(require("../colors.js")),d=f(require("../ramp.js"));function f(e){return e&&e.__esModule?e:{default:e}}var a=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(e.default);exports.scheme=a;var b=(0,d.default)(a);exports.default=b;
},{"../colors.js":"e9Ar","../ramp.js":"tFWC"}],"DZXx":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.scheme=void 0;var e=f(require("../colors.js")),d=f(require("../ramp.js"));function f(e){return e&&e.__esModule?e:{default:e}}var c=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(e.default);exports.scheme=c;var r=(0,d.default)(c);exports.default=r;
},{"../colors.js":"e9Ar","../ramp.js":"tFWC"}],"aT++":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.scheme=void 0;var e=a(require("../colors.js")),f=a(require("../ramp.js"));function a(e){return e&&e.__esModule?e:{default:e}}var d=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(e.default);exports.scheme=d;var c=(0,f.default)(d);exports.default=c;
},{"../colors.js":"e9Ar","../ramp.js":"tFWC"}],"et2z":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.scheme=void 0;var f=e(require("../colors.js")),c=e(require("../ramp.js"));function e(f){return f&&f.__esModule?f:{default:f}}var b=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(f.default);exports.scheme=b;var d=(0,c.default)(b);exports.default=d;
},{"../colors.js":"e9Ar","../ramp.js":"tFWC"}],"lF8J":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.scheme=void 0;var f=d(require("../colors.js")),e=d(require("../ramp.js"));function d(f){return f&&f.__esModule?f:{default:f}}var a=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(f.default);exports.scheme=a;var c=(0,e.default)(a);exports.default=c;
},{"../colors.js":"e9Ar","../ramp.js":"tFWC"}],"aI9y":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.scheme=void 0;var f=c(require("../colors.js")),e=c(require("../ramp.js"));function c(f){return f&&f.__esModule?f:{default:f}}var r=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(f.default);exports.scheme=r;var d=(0,e.default)(r);exports.default=d;
},{"../colors.js":"e9Ar","../ramp.js":"tFWC"}],"JWLI":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.scheme=void 0;var f=c(require("../colors.js")),e=c(require("../ramp.js"));function c(f){return f&&f.__esModule?f:{default:f}}var d=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(f.default);exports.scheme=d;var a=(0,e.default)(d);exports.default=a;
},{"../colors.js":"e9Ar","../ramp.js":"tFWC"}],"b4OA":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.scheme=void 0;var e=d(require("../colors.js")),f=d(require("../ramp.js"));function d(e){return e&&e.__esModule?e:{default:e}}var b=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(e.default);exports.scheme=b;var a=(0,f.default)(b);exports.default=a;
},{"../colors.js":"e9Ar","../ramp.js":"tFWC"}],"NKRR":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.scheme=void 0;var e=c(require("../colors.js")),a=c(require("../ramp.js"));function c(e){return e&&e.__esModule?e:{default:e}}var d=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(e.default);exports.scheme=d;var r=(0,a.default)(d);exports.default=r;
},{"../colors.js":"e9Ar","../ramp.js":"tFWC"}],"jAVD":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.scheme=void 0;var f=e(require("../colors.js")),d=e(require("../ramp.js"));function e(f){return f&&f.__esModule?f:{default:f}}var r=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(f.default);exports.scheme=r;var c=(0,d.default)(r);exports.default=c;
},{"../colors.js":"e9Ar","../ramp.js":"tFWC"}],"Emw5":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.scheme=void 0;var e=d(require("../colors.js")),a=d(require("../ramp.js"));function d(e){return e&&e.__esModule?e:{default:e}}var f=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(e.default);exports.scheme=f;var c=(0,a.default)(f);exports.default=c;
},{"../colors.js":"e9Ar","../ramp.js":"tFWC"}],"wB2L":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.scheme=void 0;var e=a(require("../colors.js")),f=a(require("../ramp.js"));function a(e){return e&&e.__esModule?e:{default:e}}var d=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(e.default);exports.scheme=d;var c=(0,f.default)(d);exports.default=c;
},{"../colors.js":"e9Ar","../ramp.js":"tFWC"}],"wV9s":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.scheme=void 0;var e=f(require("../colors.js")),d=f(require("../ramp.js"));function f(e){return e&&e.__esModule?e:{default:e}}var a=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(e.default);exports.scheme=a;var r=(0,d.default)(a);exports.default=r;
},{"../colors.js":"e9Ar","../ramp.js":"tFWC"}],"5w3g":[function(require,module,exports) {
"use strict";function t(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-t*(35.34-t*(2381.73-t*(6402.7-t*(7024.72-2710.57*t)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+t*(170.73+t*(52.82-t*(131.46-t*(176.58-67.37*t)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+t*(442.36-t*(2482.43-t*(6167.24-t*(6614.94-2475.67*t)))))))+")"}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=t;
},{}],"Spoc":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("d3-color"),r=require("d3-interpolate"),t=(0,r.interpolateCubehelixLong)((0,e.cubehelix)(300,.5,0),(0,e.cubehelix)(-240,.5,1));exports.default=t;
},{"d3-color":"4TJ2","d3-interpolate":"mkGF"}],"pM5F":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=i,exports.cool=exports.warm=void 0;var e=require("d3-color"),r=require("d3-interpolate"),o=(0,r.interpolateCubehelixLong)((0,e.cubehelix)(-100,.75,.35),(0,e.cubehelix)(80,1.5,.8));exports.warm=o;var t=(0,r.interpolateCubehelixLong)((0,e.cubehelix)(260,.75,.35),(0,e.cubehelix)(80,1.5,.8));exports.cool=t;var l=(0,e.cubehelix)();function i(e){(e<0||e>1)&&(e-=Math.floor(e));var r=Math.abs(e-.5);return l.h=360*e-100,l.s=1.5-1.5*r,l.l=.8-.9*r,l+""}
},{"d3-color":"4TJ2","d3-interpolate":"mkGF"}],"dT4l":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=s;var t=require("d3-color"),e=(0,t.rgb)(),r=Math.PI/3,a=2*Math.PI/3;function s(t){var s;return t=(.5-t)*Math.PI,e.r=255*(s=Math.sin(t))*s,e.g=255*(s=Math.sin(t+r))*s,e.b=255*(s=Math.sin(t+a))*s,e+""}
},{"d3-color":"4TJ2"}],"Wgpo":[function(require,module,exports) {
"use strict";function t(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+t*(1172.33-t*(10793.56-t*(33300.12-t*(38394.49-14825.05*t)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+t*(557.33+t*(1225.33-t*(3574.96-t*(1073.77+707.56*t)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+t*(3211.1-t*(15327.97-t*(27814-t*(22569.18-6838.66*t)))))))+")"}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=t;
},{}],"kmxq":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.plasma=exports.inferno=exports.magma=exports.default=void 0;var f=e(require("../colors.js"));function e(f){return f&&f.__esModule?f:{default:f}}function a(f){var e=f.length;return function(a){return f[Math.max(0,Math.min(e-1,Math.floor(a*e)))]}}var d=a((0,f.default)("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));exports.default=d;var c=a((0,f.default)("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf"));exports.magma=c;var b=a((0,f.default)("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4"));exports.inferno=b;var r=a((0,f.default)("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));exports.plasma=r;
},{"../colors.js":"e9Ar"}],"zd6o":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"schemeCategory10",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(exports,"schemeAccent",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(exports,"schemeDark2",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(exports,"schemePaired",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(exports,"schemePastel1",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(exports,"schemePastel2",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(exports,"schemeSet1",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(exports,"schemeSet2",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(exports,"schemeSet3",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(exports,"schemeTableau10",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(exports,"interpolateBrBG",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(exports,"schemeBrBG",{enumerable:!0,get:function(){return a.scheme}}),Object.defineProperty(exports,"interpolatePRGn",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(exports,"schemePRGn",{enumerable:!0,get:function(){return f.scheme}}),Object.defineProperty(exports,"interpolatePiYG",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(exports,"schemePiYG",{enumerable:!0,get:function(){return p.scheme}}),Object.defineProperty(exports,"interpolatePuOr",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(exports,"schemePuOr",{enumerable:!0,get:function(){return d.scheme}}),Object.defineProperty(exports,"interpolateRdBu",{enumerable:!0,get:function(){return b.default}}),Object.defineProperty(exports,"schemeRdBu",{enumerable:!0,get:function(){return b.scheme}}),Object.defineProperty(exports,"interpolateRdGy",{enumerable:!0,get:function(){return m.default}}),Object.defineProperty(exports,"schemeRdGy",{enumerable:!0,get:function(){return m.scheme}}),Object.defineProperty(exports,"interpolateRdYlBu",{enumerable:!0,get:function(){return j.default}}),Object.defineProperty(exports,"schemeRdYlBu",{enumerable:!0,get:function(){return j.scheme}}),Object.defineProperty(exports,"interpolateRdYlGn",{enumerable:!0,get:function(){return g.default}}),Object.defineProperty(exports,"schemeRdYlGn",{enumerable:!0,get:function(){return g.scheme}}),Object.defineProperty(exports,"interpolateSpectral",{enumerable:!0,get:function(){return P.default}}),Object.defineProperty(exports,"schemeSpectral",{enumerable:!0,get:function(){return P.scheme}}),Object.defineProperty(exports,"interpolateBuGn",{enumerable:!0,get:function(){return O.default}}),Object.defineProperty(exports,"schemeBuGn",{enumerable:!0,get:function(){return O.scheme}}),Object.defineProperty(exports,"interpolateBuPu",{enumerable:!0,get:function(){return y.default}}),Object.defineProperty(exports,"schemeBuPu",{enumerable:!0,get:function(){return y.scheme}}),Object.defineProperty(exports,"interpolateGnBu",{enumerable:!0,get:function(){return x.default}}),Object.defineProperty(exports,"schemeGnBu",{enumerable:!0,get:function(){return x.scheme}}),Object.defineProperty(exports,"interpolateOrRd",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(exports,"schemeOrRd",{enumerable:!0,get:function(){return h.scheme}}),Object.defineProperty(exports,"interpolatePuBuGn",{enumerable:!0,get:function(){return q.default}}),Object.defineProperty(exports,"schemePuBuGn",{enumerable:!0,get:function(){return q.scheme}}),Object.defineProperty(exports,"interpolatePuBu",{enumerable:!0,get:function(){return B.default}}),Object.defineProperty(exports,"schemePuBu",{enumerable:!0,get:function(){return B.scheme}}),Object.defineProperty(exports,"interpolatePuRd",{enumerable:!0,get:function(){return G.default}}),Object.defineProperty(exports,"schemePuRd",{enumerable:!0,get:function(){return G.scheme}}),Object.defineProperty(exports,"interpolateRdPu",{enumerable:!0,get:function(){return R.default}}),Object.defineProperty(exports,"schemeRdPu",{enumerable:!0,get:function(){return R.scheme}}),Object.defineProperty(exports,"interpolateYlGnBu",{enumerable:!0,get:function(){return Y.default}}),Object.defineProperty(exports,"schemeYlGnBu",{enumerable:!0,get:function(){return Y.scheme}}),Object.defineProperty(exports,"interpolateYlGn",{enumerable:!0,get:function(){return v.default}}),Object.defineProperty(exports,"schemeYlGn",{enumerable:!0,get:function(){return v.scheme}}),Object.defineProperty(exports,"interpolateYlOrBr",{enumerable:!0,get:function(){return S.default}}),Object.defineProperty(exports,"schemeYlOrBr",{enumerable:!0,get:function(){return S.scheme}}),Object.defineProperty(exports,"interpolateYlOrRd",{enumerable:!0,get:function(){return w.default}}),Object.defineProperty(exports,"schemeYlOrRd",{enumerable:!0,get:function(){return w.scheme}}),Object.defineProperty(exports,"interpolateBlues",{enumerable:!0,get:function(){return _.default}}),Object.defineProperty(exports,"schemeBlues",{enumerable:!0,get:function(){return _.scheme}}),Object.defineProperty(exports,"interpolateGreens",{enumerable:!0,get:function(){return D.default}}),Object.defineProperty(exports,"schemeGreens",{enumerable:!0,get:function(){return D.scheme}}),Object.defineProperty(exports,"interpolateGreys",{enumerable:!0,get:function(){return C.default}}),Object.defineProperty(exports,"schemeGreys",{enumerable:!0,get:function(){return C.scheme}}),Object.defineProperty(exports,"interpolatePurples",{enumerable:!0,get:function(){return M.default}}),Object.defineProperty(exports,"schemePurples",{enumerable:!0,get:function(){return M.scheme}}),Object.defineProperty(exports,"interpolateReds",{enumerable:!0,get:function(){return T.default}}),Object.defineProperty(exports,"schemeReds",{enumerable:!0,get:function(){return T.scheme}}),Object.defineProperty(exports,"interpolateOranges",{enumerable:!0,get:function(){return k.default}}),Object.defineProperty(exports,"schemeOranges",{enumerable:!0,get:function(){return k.scheme}}),Object.defineProperty(exports,"interpolateCividis",{enumerable:!0,get:function(){return A.default}}),Object.defineProperty(exports,"interpolateCubehelixDefault",{enumerable:!0,get:function(){return I.default}}),Object.defineProperty(exports,"interpolateRainbow",{enumerable:!0,get:function(){return V.default}}),Object.defineProperty(exports,"interpolateWarm",{enumerable:!0,get:function(){return V.warm}}),Object.defineProperty(exports,"interpolateCool",{enumerable:!0,get:function(){return V.cool}}),Object.defineProperty(exports,"interpolateSinebow",{enumerable:!0,get:function(){return W.default}}),Object.defineProperty(exports,"interpolateTurbo",{enumerable:!0,get:function(){return z.default}}),Object.defineProperty(exports,"interpolateViridis",{enumerable:!0,get:function(){return E.default}}),Object.defineProperty(exports,"interpolateMagma",{enumerable:!0,get:function(){return E.magma}}),Object.defineProperty(exports,"interpolateInferno",{enumerable:!0,get:function(){return E.inferno}}),Object.defineProperty(exports,"interpolatePlasma",{enumerable:!0,get:function(){return E.plasma}});var e=H(require("./categorical/category10.js")),r=H(require("./categorical/Accent.js")),t=H(require("./categorical/Dark2.js")),n=H(require("./categorical/Paired.js")),u=H(require("./categorical/Pastel1.js")),i=H(require("./categorical/Pastel2.js")),o=H(require("./categorical/Set1.js")),l=H(require("./categorical/Set2.js")),c=H(require("./categorical/Set3.js")),s=H(require("./categorical/Tableau10.js")),a=F(require("./diverging/BrBG.js")),f=F(require("./diverging/PRGn.js")),p=F(require("./diverging/PiYG.js")),d=F(require("./diverging/PuOr.js")),b=F(require("./diverging/RdBu.js")),m=F(require("./diverging/RdGy.js")),j=F(require("./diverging/RdYlBu.js")),g=F(require("./diverging/RdYlGn.js")),P=F(require("./diverging/Spectral.js")),O=F(require("./sequential-multi/BuGn.js")),y=F(require("./sequential-multi/BuPu.js")),x=F(require("./sequential-multi/GnBu.js")),h=F(require("./sequential-multi/OrRd.js")),q=F(require("./sequential-multi/PuBuGn.js")),B=F(require("./sequential-multi/PuBu.js")),G=F(require("./sequential-multi/PuRd.js")),R=F(require("./sequential-multi/RdPu.js")),Y=F(require("./sequential-multi/YlGnBu.js")),v=F(require("./sequential-multi/YlGn.js")),S=F(require("./sequential-multi/YlOrBr.js")),w=F(require("./sequential-multi/YlOrRd.js")),_=F(require("./sequential-single/Blues.js")),D=F(require("./sequential-single/Greens.js")),C=F(require("./sequential-single/Greys.js")),M=F(require("./sequential-single/Purples.js")),T=F(require("./sequential-single/Reds.js")),k=F(require("./sequential-single/Oranges.js")),A=H(require("./sequential-multi/cividis.js")),I=H(require("./sequential-multi/cubehelix.js")),V=F(require("./sequential-multi/rainbow.js")),W=H(require("./sequential-multi/sinebow.js")),z=H(require("./sequential-multi/turbo.js")),E=F(require("./sequential-multi/viridis.js"));function F(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,t):{};n.get||n.set?Object.defineProperty(r,t,n):r[t]=e[t]}return r.default=e,r}function H(e){return e&&e.__esModule?e:{default:e}}
},{"./categorical/category10.js":"PcKk","./categorical/Accent.js":"2TXT","./categorical/Dark2.js":"MCH8","./categorical/Paired.js":"bH6q","./categorical/Pastel1.js":"2GbC","./categorical/Pastel2.js":"SQbk","./categorical/Set1.js":"/J0n","./categorical/Set2.js":"rdh9","./categorical/Set3.js":"7/o5","./categorical/Tableau10.js":"n6R9","./diverging/BrBG.js":"kmpN","./diverging/PRGn.js":"Hn8a","./diverging/PiYG.js":"cCiT","./diverging/PuOr.js":"k6z3","./diverging/RdBu.js":"75sN","./diverging/RdGy.js":"mrMT","./diverging/RdYlBu.js":"uyGf","./diverging/RdYlGn.js":"Dt8k","./diverging/Spectral.js":"eSjI","./sequential-multi/BuGn.js":"L6xI","./sequential-multi/BuPu.js":"JRrn","./sequential-multi/GnBu.js":"j/1f","./sequential-multi/OrRd.js":"nT+z","./sequential-multi/PuBuGn.js":"3B5M","./sequential-multi/PuBu.js":"NAcy","./sequential-multi/PuRd.js":"DZXx","./sequential-multi/RdPu.js":"aT++","./sequential-multi/YlGnBu.js":"et2z","./sequential-multi/YlGn.js":"lF8J","./sequential-multi/YlOrBr.js":"aI9y","./sequential-multi/YlOrRd.js":"JWLI","./sequential-single/Blues.js":"b4OA","./sequential-single/Greens.js":"NKRR","./sequential-single/Greys.js":"jAVD","./sequential-single/Purples.js":"Emw5","./sequential-single/Reds.js":"wB2L","./sequential-single/Oranges.js":"wV9s","./sequential-multi/cividis.js":"5w3g","./sequential-multi/cubehelix.js":"Spoc","./sequential-multi/rainbow.js":"pM5F","./sequential-multi/sinebow.js":"dT4l","./sequential-multi/turbo.js":"Wgpo","./sequential-multi/viridis.js":"kmxq"}],"9R8v":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.acos=h,exports.asin=M,exports.tau=exports.halfPi=exports.pi=exports.epsilon=exports.sqrt=exports.sin=exports.min=exports.max=exports.cos=exports.atan2=exports.abs=void 0;var t=Math.abs;exports.abs=t;var r=Math.atan2;exports.atan2=r;var s=Math.cos;exports.cos=s;var a=Math.max;exports.max=a;var e=Math.min;exports.min=e;var o=Math.sin;exports.sin=o;var p=Math.sqrt;exports.sqrt=p;var x=1e-12;exports.epsilon=x;var n=Math.PI;exports.pi=n;var i=n/2;exports.halfPi=i;var v=2*n;function h(t){return t>1?0:t<-1?n:Math.acos(t)}function M(t){return t>=1?i:t<=-1?-i:Math.asin(t)}exports.tau=v;
},{}],"TV07":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=f;var n=require("d3-path"),t=a(require("./constant.js")),e=require("./math.js");function a(n){return n&&n.__esModule?n:{default:n}}function i(n){return n.innerRadius}function r(n){return n.outerRadius}function o(n){return n.startAngle}function c(n){return n.endAngle}function u(n){return n&&n.padAngle}function l(n,t,a,i,r,o,c,u){var l=a-n,s=i-t,f=c-r,p=u-o,y=p*l-f*s;if(!(y*y<e.epsilon))return[n+(y=(f*(t-o)-p*(n-r))/y)*l,t+y*s]}function s(n,t,a,i,r,o,c){var u=n-a,l=t-i,s=(c?o:-o)/(0,e.sqrt)(u*u+l*l),f=s*l,p=-s*u,y=n+f,x=t+p,d=a+f,h=i+p,v=(y+d)/2,g=(x+h)/2,m=d-y,q=h-x,T=m*m+q*q,A=r-o,R=y*h-d*x,P=(q<0?-1:1)*(0,e.sqrt)((0,e.max)(0,A*A*T-R*R)),_=(R*q-m*P)/T,b=(-R*m-q*P)/T,j=(R*q+m*P)/T,M=(-R*m+q*P)/T,O=_-v,k=b-g,w=j-v,z=M-g;return O*O+k*k>w*w+z*z&&(_=j,b=M),{cx:_,cy:b,x01:-f,y01:-p,x11:_*(r/A-1),y11:b*(r/A-1)}}function f(){var a=i,f=r,p=(0,t.default)(0),y=null,x=o,d=c,h=u,v=null;function g(){var t,i,r=+a.apply(this,arguments),o=+f.apply(this,arguments),c=x.apply(this,arguments)-e.halfPi,u=d.apply(this,arguments)-e.halfPi,g=(0,e.abs)(u-c),m=u>c;if(v||(v=t=(0,n.path)()),o<r&&(i=o,o=r,r=i),o>e.epsilon)if(g>e.tau-e.epsilon)v.moveTo(o*(0,e.cos)(c),o*(0,e.sin)(c)),v.arc(0,0,o,c,u,!m),r>e.epsilon&&(v.moveTo(r*(0,e.cos)(u),r*(0,e.sin)(u)),v.arc(0,0,r,u,c,m));else{var q,T,A=c,R=u,P=c,_=u,b=g,j=g,M=h.apply(this,arguments)/2,O=M>e.epsilon&&(y?+y.apply(this,arguments):(0,e.sqrt)(r*r+o*o)),k=(0,e.min)((0,e.abs)(o-r)/2,+p.apply(this,arguments)),w=k,z=k;if(O>e.epsilon){var B=(0,e.asin)(O/r*(0,e.sin)(M)),C=(0,e.asin)(O/o*(0,e.sin)(M));(b-=2*B)>e.epsilon?(P+=B*=m?1:-1,_-=B):(b=0,P=_=(c+u)/2),(j-=2*C)>e.epsilon?(A+=C*=m?1:-1,R-=C):(j=0,A=R=(c+u)/2)}var D=o*(0,e.cos)(A),E=o*(0,e.sin)(A),F=r*(0,e.cos)(_),G=r*(0,e.sin)(_);if(k>e.epsilon){var H,I=o*(0,e.cos)(R),J=o*(0,e.sin)(R),K=r*(0,e.cos)(P),L=r*(0,e.sin)(P);if(g<e.pi&&(H=l(D,E,K,L,I,J,F,G))){var N=D-H[0],Q=E-H[1],S=I-H[0],U=J-H[1],V=1/(0,e.sin)((0,e.acos)((N*S+Q*U)/((0,e.sqrt)(N*N+Q*Q)*(0,e.sqrt)(S*S+U*U)))/2),W=(0,e.sqrt)(H[0]*H[0]+H[1]*H[1]);w=(0,e.min)(k,(r-W)/(V-1)),z=(0,e.min)(k,(o-W)/(V+1))}}j>e.epsilon?z>e.epsilon?(q=s(K,L,D,E,o,z,m),T=s(I,J,F,G,o,z,m),v.moveTo(q.cx+q.x01,q.cy+q.y01),z<k?v.arc(q.cx,q.cy,z,(0,e.atan2)(q.y01,q.x01),(0,e.atan2)(T.y01,T.x01),!m):(v.arc(q.cx,q.cy,z,(0,e.atan2)(q.y01,q.x01),(0,e.atan2)(q.y11,q.x11),!m),v.arc(0,0,o,(0,e.atan2)(q.cy+q.y11,q.cx+q.x11),(0,e.atan2)(T.cy+T.y11,T.cx+T.x11),!m),v.arc(T.cx,T.cy,z,(0,e.atan2)(T.y11,T.x11),(0,e.atan2)(T.y01,T.x01),!m))):(v.moveTo(D,E),v.arc(0,0,o,A,R,!m)):v.moveTo(D,E),r>e.epsilon&&b>e.epsilon?w>e.epsilon?(q=s(F,G,I,J,r,-w,m),T=s(D,E,K,L,r,-w,m),v.lineTo(q.cx+q.x01,q.cy+q.y01),w<k?v.arc(q.cx,q.cy,w,(0,e.atan2)(q.y01,q.x01),(0,e.atan2)(T.y01,T.x01),!m):(v.arc(q.cx,q.cy,w,(0,e.atan2)(q.y01,q.x01),(0,e.atan2)(q.y11,q.x11),!m),v.arc(0,0,r,(0,e.atan2)(q.cy+q.y11,q.cx+q.x11),(0,e.atan2)(T.cy+T.y11,T.cx+T.x11),m),v.arc(T.cx,T.cy,w,(0,e.atan2)(T.y11,T.x11),(0,e.atan2)(T.y01,T.x01),!m))):v.arc(0,0,r,_,P,m):v.lineTo(F,G)}else v.moveTo(0,0);if(v.closePath(),t)return v=null,t+""||null}return g.centroid=function(){var n=(+a.apply(this,arguments)+ +f.apply(this,arguments))/2,t=(+x.apply(this,arguments)+ +d.apply(this,arguments))/2-e.pi/2;return[(0,e.cos)(t)*n,(0,e.sin)(t)*n]},g.innerRadius=function(n){return arguments.length?(a="function"==typeof n?n:(0,t.default)(+n),g):a},g.outerRadius=function(n){return arguments.length?(f="function"==typeof n?n:(0,t.default)(+n),g):f},g.cornerRadius=function(n){return arguments.length?(p="function"==typeof n?n:(0,t.default)(+n),g):p},g.padRadius=function(n){return arguments.length?(y=null==n?null:"function"==typeof n?n:(0,t.default)(+n),g):y},g.startAngle=function(n){return arguments.length?(x="function"==typeof n?n:(0,t.default)(+n),g):x},g.endAngle=function(n){return arguments.length?(d="function"==typeof n?n:(0,t.default)(+n),g):d},g.padAngle=function(n){return arguments.length?(h="function"==typeof n?n:(0,t.default)(+n),g):h},g.context=function(n){return arguments.length?(v=null==n?null:n,g):v},g}
},{"d3-path":"dz42","./constant.js":"5O/Y","./math.js":"9R8v"}],"brsM":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=r,exports.slice=void 0;var e=Array.prototype.slice;function r(e){return"object"==typeof e&&"length"in e?e:Array.from(e)}exports.slice=e;
},{}],"4VCF":[function(require,module,exports) {
"use strict";function t(t){this._context=t}function i(i){return new t(i)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=i,t.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,i){switch(t=+t,i=+i,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,i):this._context.moveTo(t,i);break;case 1:this._point=2;default:this._context.lineTo(t,i)}}};
},{}],"aLIe":[function(require,module,exports) {
"use strict";function e(e){return e[0]}function t(e){return e[1]}Object.defineProperty(exports,"__esModule",{value:!0}),exports.x=e,exports.y=t;
},{}],"Ume/":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=f;var e=require("d3-path"),n=l(require("./array.js")),t=l(require("./constant.js")),u=l(require("./curve/linear.js")),r=require("./point.js");function l(e){return e&&e.__esModule?e:{default:e}}function f(l,f){var o=(0,t.default)(!0),i=null,a=u.default,c=null;function d(t){var u,r,d,p=(t=(0,n.default)(t)).length,s=!1;for(null==i&&(c=a(d=(0,e.path)())),u=0;u<=p;++u)!(u<p&&o(r=t[u],u,t))===s&&((s=!s)?c.lineStart():c.lineEnd()),s&&c.point(+l(r,u,t),+f(r,u,t));if(d)return c=null,d+""||null}return l="function"==typeof l?l:void 0===l?r.x:(0,t.default)(l),f="function"==typeof f?f:void 0===f?r.y:(0,t.default)(f),d.x=function(e){return arguments.length?(l="function"==typeof e?e:(0,t.default)(+e),d):l},d.y=function(e){return arguments.length?(f="function"==typeof e?e:(0,t.default)(+e),d):f},d.defined=function(e){return arguments.length?(o="function"==typeof e?e:(0,t.default)(!!e),d):o},d.curve=function(e){return arguments.length?(a=e,null!=i&&(c=a(i)),d):a},d.context=function(e){return arguments.length?(null==e?i=c=null:c=a(i=e),d):i},d}
},{"d3-path":"dz42","./array.js":"brsM","./constant.js":"5O/Y","./curve/linear.js":"4VCF","./point.js":"aLIe"}],"UWil":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=i;var n=require("d3-path"),e=f(require("./array.js")),t=f(require("./constant.js")),u=f(require("./curve/linear.js")),l=f(require("./line.js")),r=require("./point.js");function f(n){return n&&n.__esModule?n:{default:n}}function i(f,i,o){var a=null,c=(0,t.default)(!0),d=null,y=u.default,p=null;function s(t){var u,l,r,s,h,x=(t=(0,e.default)(t)).length,g=!1,v=new Array(x),j=new Array(x);for(null==d&&(p=y(h=(0,n.path)())),u=0;u<=x;++u){if(!(u<x&&c(s=t[u],u,t))===g)if(g=!g)l=u,p.areaStart(),p.lineStart();else{for(p.lineEnd(),p.lineStart(),r=u-1;r>=l;--r)p.point(v[r],j[r]);p.lineEnd(),p.areaEnd()}g&&(v[u]=+f(s,u,t),j[u]=+i(s,u,t),p.point(a?+a(s,u,t):v[u],o?+o(s,u,t):j[u]))}if(h)return p=null,h+""||null}function h(){return(0,l.default)().defined(c).curve(y).context(d)}return f="function"==typeof f?f:void 0===f?r.x:(0,t.default)(+f),i="function"==typeof i?i:void 0===i?(0,t.default)(0):(0,t.default)(+i),o="function"==typeof o?o:void 0===o?r.y:(0,t.default)(+o),s.x=function(n){return arguments.length?(f="function"==typeof n?n:(0,t.default)(+n),a=null,s):f},s.x0=function(n){return arguments.length?(f="function"==typeof n?n:(0,t.default)(+n),s):f},s.x1=function(n){return arguments.length?(a=null==n?null:"function"==typeof n?n:(0,t.default)(+n),s):a},s.y=function(n){return arguments.length?(i="function"==typeof n?n:(0,t.default)(+n),o=null,s):i},s.y0=function(n){return arguments.length?(i="function"==typeof n?n:(0,t.default)(+n),s):i},s.y1=function(n){return arguments.length?(o=null==n?null:"function"==typeof n?n:(0,t.default)(+n),s):o},s.lineX0=s.lineY0=function(){return h().x(f).y(i)},s.lineY1=function(){return h().x(f).y(o)},s.lineX1=function(){return h().x(a).y(i)},s.defined=function(n){return arguments.length?(c="function"==typeof n?n:(0,t.default)(!!n),s):c},s.curve=function(n){return arguments.length?(y=n,null!=d&&(p=y(d)),s):y},s.context=function(n){return arguments.length?(null==n?d=p=null:p=y(d=n),s):d},s}
},{"d3-path":"dz42","./array.js":"brsM","./constant.js":"5O/Y","./curve/linear.js":"4VCF","./line.js":"Ume/","./point.js":"aLIe"}],"5OJY":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=a;var t=l(require("./array.js")),e=l(require("./constant.js")),n=l(require("./descending.js")),u=l(require("./identity.js")),r=require("./math.js");function l(t){return t&&t.__esModule?t:{default:t}}function a(){var l=u.default,a=n.default,f=null,i=(0,e.default)(0),o=(0,e.default)(r.tau),d=(0,e.default)(0);function s(e){var n,u,s,c,h,p=(e=(0,t.default)(e)).length,g=0,y=new Array(p),A=new Array(p),j=+i.apply(this,arguments),v=Math.min(r.tau,Math.max(-r.tau,o.apply(this,arguments)-j)),M=Math.min(Math.abs(v)/p,d.apply(this,arguments)),q=M*(v<0?-1:1);for(n=0;n<p;++n)(h=A[y[n]=n]=+l(e[n],n,e))>0&&(g+=h);for(null!=a?y.sort(function(t,e){return a(A[t],A[e])}):null!=f&&y.sort(function(t,n){return f(e[t],e[n])}),n=0,s=g?(v-p*q)/g:0;n<p;++n,j=c)u=y[n],c=j+((h=A[u])>0?h*s:0)+q,A[u]={data:e[u],index:n,value:h,startAngle:j,endAngle:c,padAngle:M};return A}return s.value=function(t){return arguments.length?(l="function"==typeof t?t:(0,e.default)(+t),s):l},s.sortValues=function(t){return arguments.length?(a=t,f=null,s):a},s.sort=function(t){return arguments.length?(f=t,a=null,s):f},s.startAngle=function(t){return arguments.length?(i="function"==typeof t?t:(0,e.default)(+t),s):i},s.endAngle=function(t){return arguments.length?(o="function"==typeof t?t:(0,e.default)(+t),s):o},s.padAngle=function(t){return arguments.length?(d="function"==typeof t?t:(0,e.default)(+t),s):d},s}
},{"./array.js":"brsM","./constant.js":"5O/Y","./descending.js":"wjXp","./identity.js":"nPOL","./math.js":"9R8v"}],"m9TD":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=i,exports.curveRadialLinear=void 0;var e=t(require("./linear.js"));function t(e){return e&&e.__esModule?e:{default:e}}var r=i(e.default);function n(e){this._curve=e}function i(e){function t(t){return new n(e(t))}return t._curve=e,t}exports.curveRadialLinear=r,n.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(e,t){this._curve.point(t*Math.sin(e),t*-Math.cos(e))}};
},{"./linear.js":"4VCF"}],"p8dR":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.lineRadial=n,exports.default=i;var e=u(require("./curve/radial.js")),r=t(require("./line.js"));function t(e){return e&&e.__esModule?e:{default:e}}function u(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)){var u=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,t):{};u.get||u.set?Object.defineProperty(r,t,u):r[t]=e[t]}return r.default=e,r}function n(r){var t=r.curve;return r.angle=r.x,delete r.x,r.radius=r.y,delete r.y,r.curve=function(r){return arguments.length?t((0,e.default)(r)):t()._curve},r}function i(){return n((0,r.default)().curve(e.curveRadialLinear))}
},{"./curve/radial.js":"m9TD","./line.js":"Ume/"}],"7HIq":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=i;var e=l(require("./curve/radial.js")),r=t(require("./area.js")),n=require("./lineRadial.js");function t(e){return e&&e.__esModule?e:{default:e}}function l(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var t=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};t.get||t.set?Object.defineProperty(r,n,t):r[n]=e[n]}return r.default=e,r}function i(){var t=(0,r.default)().curve(e.curveRadialLinear),l=t.curve,i=t.lineX0,u=t.lineX1,a=t.lineY0,d=t.lineY1;return t.angle=t.x,delete t.x,t.startAngle=t.x0,delete t.x0,t.endAngle=t.x1,delete t.x1,t.radius=t.y,delete t.y,t.innerRadius=t.y0,delete t.y0,t.outerRadius=t.y1,delete t.y1,t.lineStartAngle=function(){return(0,n.lineRadial)(i())},delete t.lineX0,t.lineEndAngle=function(){return(0,n.lineRadial)(u())},delete t.lineX1,t.lineInnerRadius=function(){return(0,n.lineRadial)(a())},delete t.lineY0,t.lineOuterRadius=function(){return(0,n.lineRadial)(d())},delete t.lineY1,t.curve=function(r){return arguments.length?l((0,e.default)(r)):l()._curve},t}
},{"./curve/radial.js":"m9TD","./area.js":"UWil","./lineRadial.js":"p8dR"}],"wQOf":[function(require,module,exports) {
"use strict";function e(e,t){return[(t=+t)*Math.cos(e-=Math.PI/2),t*Math.sin(e)]}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"CMsX":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.linkHorizontal=s,exports.linkVertical=d,exports.linkRadial=y;var e=require("d3-path"),t=require("../array.js"),n=i(require("../constant.js")),r=require("../point.js"),u=i(require("../pointRadial.js"));function i(e){return e&&e.__esModule?e:{default:e}}function l(e){return e.source}function o(e){return e.target}function a(u){var i=l,a=o,f=r.x,c=r.y,p=null;function s(){var n,r=t.slice.call(arguments),l=i.apply(this,r),o=a.apply(this,r);if(p||(p=n=(0,e.path)()),u(p,+f.apply(this,(r[0]=l,r)),+c.apply(this,r),+f.apply(this,(r[0]=o,r)),+c.apply(this,r)),n)return p=null,n+""||null}return s.source=function(e){return arguments.length?(i=e,s):i},s.target=function(e){return arguments.length?(a=e,s):a},s.x=function(e){return arguments.length?(f="function"==typeof e?e:(0,n.default)(+e),s):f},s.y=function(e){return arguments.length?(c="function"==typeof e?e:(0,n.default)(+e),s):c},s.context=function(e){return arguments.length?(p=null==e?null:e,s):p},s}function f(e,t,n,r,u){e.moveTo(t,n),e.bezierCurveTo(t=(t+r)/2,n,t,u,r,u)}function c(e,t,n,r,u){e.moveTo(t,n),e.bezierCurveTo(t,n=(n+u)/2,r,n,r,u)}function p(e,t,n,r,i){var l=(0,u.default)(t,n),o=(0,u.default)(t,n=(n+i)/2),a=(0,u.default)(r,n),f=(0,u.default)(r,i);e.moveTo(l[0],l[1]),e.bezierCurveTo(o[0],o[1],a[0],a[1],f[0],f[1])}function s(){return a(f)}function d(){return a(c)}function y(){var e=a(p);return e.angle=e.x,delete e.x,e.radius=e.y,delete e.y,e}
},{"d3-path":"dz42","../array.js":"brsM","../constant.js":"5O/Y","../point.js":"aLIe","../pointRadial.js":"wQOf"}],"NEs3":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("../math.js"),t={draw:function(t,r){var a=Math.sqrt(r/e.pi);t.moveTo(a,0),t.arc(0,0,a,0,e.tau)}};exports.default=t;
},{"../math.js":"9R8v"}],"57OD":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={draw:function(e,o){var l=Math.sqrt(o/5)/2;e.moveTo(-3*l,-l),e.lineTo(-l,-l),e.lineTo(-l,-3*l),e.lineTo(l,-3*l),e.lineTo(l,-l),e.lineTo(3*l,-l),e.lineTo(3*l,l),e.lineTo(l,l),e.lineTo(l,3*l),e.lineTo(-l,3*l),e.lineTo(-l,l),e.lineTo(-3*l,l),e.closePath()}};exports.default=e;
},{}],"nSnU":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=Math.sqrt(1/3),t=2*e,o={draw:function(o,r){var a=Math.sqrt(r/t),s=a*e;o.moveTo(0,-a),o.lineTo(s,0),o.lineTo(0,a),o.lineTo(-s,0),o.closePath()}};exports.default=o;
},{}],"3SkC":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../math.js"),a=.8908130915292852,e=Math.sin(t.pi/10)/Math.sin(7*t.pi/10),o=Math.sin(t.tau/10)*e,r=-Math.cos(t.tau/10)*e,s={draw:function(e,s){var i=Math.sqrt(s*a),n=o*i,u=r*i;e.moveTo(0,-i),e.lineTo(n,u);for(var h=1;h<5;++h){var l=t.tau*h/5,M=Math.cos(l),v=Math.sin(l);e.lineTo(v*i,-M*i),e.lineTo(M*n-v*u,v*n+M*u)}e.closePath()}};exports.default=s;
},{"../math.js":"9R8v"}],"lQ43":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={draw:function(e,t){var r=Math.sqrt(t),a=-r/2;e.rect(a,a,r,r)}};exports.default=e;
},{}],"Z5S+":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=Math.sqrt(3),t={draw:function(t,o){var r=-Math.sqrt(o/(3*e));t.moveTo(0,2*r),t.lineTo(-e*r,-r),t.lineTo(e*r,-r),t.closePath()}};exports.default=t;
},{}],"JWBh":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=-.5,o=Math.sqrt(3)/2,t=1/Math.sqrt(12),l=3*(t/2+1),i={draw:function(i,r){var n=Math.sqrt(r/l),a=n/2,s=n*t,T=a,d=n*t+n,u=-T,v=d;i.moveTo(a,s),i.lineTo(T,d),i.lineTo(u,v),i.lineTo(e*a-o*s,o*a+e*s),i.lineTo(e*T-o*d,o*T+e*d),i.lineTo(e*u-o*v,o*u+e*v),i.lineTo(e*a+o*s,e*s-o*a),i.lineTo(e*T+o*d,e*d-o*T),i.lineTo(e*u+o*v,e*v-o*u),i.closePath()}};exports.default=i;
},{}],"XBPQ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=d,exports.symbols=void 0;var e=require("d3-path"),t=i(require("./symbol/circle.js")),u=i(require("./symbol/cross.js")),r=i(require("./symbol/diamond.js")),l=i(require("./symbol/star.js")),n=i(require("./symbol/square.js")),o=i(require("./symbol/triangle.js")),s=i(require("./symbol/wye.js")),f=i(require("./constant.js"));function i(e){return e&&e.__esModule?e:{default:e}}var a=[t.default,u.default,r.default,n.default,l.default,o.default,s.default];function d(u,r){var l=null;function n(){var t;if(l||(l=t=(0,e.path)()),u.apply(this,arguments).draw(l,+r.apply(this,arguments)),t)return l=null,t+""||null}return u="function"==typeof u?u:(0,f.default)(u||t.default),r="function"==typeof r?r:(0,f.default)(void 0===r?64:+r),n.type=function(e){return arguments.length?(u="function"==typeof e?e:(0,f.default)(e),n):u},n.size=function(e){return arguments.length?(r="function"==typeof e?e:(0,f.default)(+e),n):r},n.context=function(e){return arguments.length?(l=null==e?null:e,n):l},n}exports.symbols=a;
},{"d3-path":"dz42","./symbol/circle.js":"NEs3","./symbol/cross.js":"57OD","./symbol/diamond.js":"nSnU","./symbol/star.js":"3SkC","./symbol/square.js":"lQ43","./symbol/triangle.js":"Z5S+","./symbol/wye.js":"JWBh","./constant.js":"5O/Y"}],"XakR":[function(require,module,exports) {
"use strict";function t(t,i,s){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+i)/6,(t._y0+4*t._y1+s)/6)}function i(t){this._context=t}function s(t){return new i(t)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.point=t,exports.Basis=i,exports.default=s,i.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:t(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(i,s){switch(i=+i,s=+s,this._point){case 0:this._point=1,this._line?this._context.lineTo(i,s):this._context.moveTo(i,s);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:t(this,i,s)}this._x0=this._x1,this._x1=i,this._y0=this._y1,this._y1=s}};
},{}],"WkDE":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=_;var t=s(require("../noop.js")),i=require("./basis.js");function s(t){return t&&t.__esModule?t:{default:t}}function h(t){this._context=t}function _(t){return new h(t)}h.prototype={areaStart:t.default,areaEnd:t.default,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(t,s){switch(t=+t,s=+s,this._point){case 0:this._point=1,this._x2=t,this._y2=s;break;case 1:this._point=2,this._x3=t,this._y3=s;break;case 2:this._point=3,this._x4=t,this._y4=s,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+s)/6);break;default:(0,i.point)(this,t,s)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=s}};
},{"../noop.js":"BhKh","./basis.js":"XakR"}],"+5Gg":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=s;var t=require("./basis.js");function i(t){this._context=t}function s(t){return new i(t)}i.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(i,s){switch(i=+i,s=+s,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var e=(this._x0+4*this._x1+i)/6,n=(this._y0+4*this._y1+s)/6;this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break;case 3:this._point=4;default:(0,t.point)(this,i,s)}this._x0=this._x1,this._x1=i,this._y0=this._y1,this._y1=s}};
},{"./basis.js":"XakR"}],"eh91":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("./basis.js");function i(i,s){this._basis=new t.Basis(i),this._beta=s}i.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,i=this._y,s=t.length-1;if(s>0)for(var e,n=t[0],a=i[0],r=t[s]-n,h=i[s]-a,u=-1;++u<=s;)e=u/s,this._basis.point(this._beta*t[u]+(1-this._beta)*(n+e*r),this._beta*i[u]+(1-this._beta)*(a+e*h));this._x=this._y=null,this._basis.lineEnd()},point:function(t,i){this._x.push(+t),this._y.push(+i)}};var s=function s(e){function n(s){return 1===e?new t.Basis(s):new i(s,e)}return n.beta=function(t){return s(+t)},n}(.85);exports.default=s;
},{"./basis.js":"XakR"}],"fNTp":[function(require,module,exports) {
"use strict";function t(t,i,s){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-i),t._y2+t._k*(t._y1-s),t._x2,t._y2)}function i(t,i){this._context=t,this._k=(1-i)/6}Object.defineProperty(exports,"__esModule",{value:!0}),exports.point=t,exports.Cardinal=i,exports.default=void 0,i.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:t(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(i,s){switch(i=+i,s=+s,this._point){case 0:this._point=1,this._line?this._context.lineTo(i,s):this._context.moveTo(i,s);break;case 1:this._point=2,this._x1=i,this._y1=s;break;case 2:this._point=3;default:t(this,i,s)}this._x0=this._x1,this._x1=this._x2,this._x2=i,this._y0=this._y1,this._y1=this._y2,this._y2=s}};var s=function t(s){function _(t){return new i(t,s)}return _.tension=function(i){return t(+i)},_}(0);exports.default=s;
},{}],"euEz":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.CardinalClosed=h,exports.default=void 0;var t=s(require("../noop.js")),i=require("./cardinal.js");function s(t){return t&&t.__esModule?t:{default:t}}function h(t,i){this._context=t,this._k=(1-i)/6}h.prototype={areaStart:t.default,areaEnd:t.default,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,s){switch(t=+t,s=+s,this._point){case 0:this._point=1,this._x3=t,this._y3=s;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=s);break;case 2:this._point=3,this._x5=t,this._y5=s;break;default:(0,i.point)(this,t,s)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=s}};var e=function t(i){function s(t){return new h(t,i)}return s.tension=function(i){return t(+i)},s}(0);exports.default=e;
},{"../noop.js":"BhKh","./cardinal.js":"fNTp"}],"it46":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.CardinalOpen=i,exports.default=void 0;var t=require("./cardinal.js");function i(t,i){this._context=t,this._k=(1-i)/6}i.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(i,s){switch(i=+i,s=+s,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:(0,t.point)(this,i,s)}this._x0=this._x1,this._x1=this._x2,this._x2=i,this._y0=this._y1,this._y1=this._y2,this._y2=s}};var s=function t(s){function n(t){return new i(t,s)}return n.tension=function(i){return t(+i)},n}(0);exports.default=s;
},{"./cardinal.js":"fNTp"}],"oWDJ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.point=i,exports.default=void 0;var _=require("../math.js"),t=require("./cardinal.js");function i(t,i,s){var a=t._x1,h=t._y1,l=t._x2,n=t._y2;if(t._l01_a>_.epsilon){var e=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,o=3*t._l01_a*(t._l01_a+t._l12_a);a=(a*e-t._x0*t._l12_2a+t._x2*t._l01_2a)/o,h=(h*e-t._y0*t._l12_2a+t._y2*t._l01_2a)/o}if(t._l23_a>_.epsilon){var r=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,c=3*t._l23_a*(t._l23_a+t._l12_a);l=(l*r+t._x1*t._l23_2a-i*t._l12_2a)/c,n=(n*r+t._y1*t._l23_2a-s*t._l12_2a)/c}t._context.bezierCurveTo(a,h,l,n,t._x2,t._y2)}function s(_,t){this._context=_,this._alpha=t}s.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(_,t){if(_=+_,t=+t,this._point){var s=this._x2-_,a=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(s*s+a*a,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(_,t):this._context.moveTo(_,t);break;case 1:this._point=2;break;case 2:this._point=3;default:i(this,_,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=_,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var a=function _(i){function a(_){return i?new s(_,i):new t.Cardinal(_,0)}return a.alpha=function(t){return _(+t)},a}(.5);exports.default=a;
},{"../math.js":"9R8v","./cardinal.js":"fNTp"}],"41Cs":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("./cardinalClosed.js"),i=_(require("../noop.js")),s=require("./catmullRom.js");function _(t){return t&&t.__esModule?t:{default:t}}function h(t,i){this._context=t,this._alpha=i}h.prototype={areaStart:i.default,areaEnd:i.default,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,i){if(t=+t,i=+i,this._point){var _=this._x2-t,h=this._y2-i;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(_*_+h*h,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=i;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=i);break;case 2:this._point=3,this._x5=t,this._y5=i;break;default:(0,s.point)(this,t,i)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=i}};var e=function i(s){function _(i){return s?new h(i,s):new t.CardinalClosed(i,0)}return _.alpha=function(t){return i(+t)},_}(.5);exports.default=e;
},{"./cardinalClosed.js":"euEz","../noop.js":"BhKh","./catmullRom.js":"oWDJ"}],"Vf6b":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("./cardinalOpen.js"),i=require("./catmullRom.js");function _(t,i){this._context=t,this._alpha=i}_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,_){if(t=+t,_=+_,this._point){var s=this._x2-t,h=this._y2-_;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(s*s+h*h,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:(0,i.point)(this,t,_)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=_}};var s=function i(s){function h(i){return s?new _(i,s):new t.CardinalOpen(i,0)}return h.alpha=function(t){return i(+t)},h}(.5);exports.default=s;
},{"./cardinalOpen.js":"it46","./catmullRom.js":"oWDJ"}],"QDqS":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=o;var t=e(require("../noop.js"));function e(t){return t&&t.__esModule?t:{default:t}}function n(t){this._context=t}function o(t){return new n(t)}n.prototype={areaStart:t.default,areaEnd:t.default,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};
},{"../noop.js":"BhKh"}],"7Vae":[function(require,module,exports) {
"use strict";function t(t){return t<0?-1:1}function i(i,n,e){var o=i._x1-i._x0,s=n-i._x1,h=(i._y1-i._y0)/(o||s<0&&-0),_=(e-i._y1)/(s||o<0&&-0),c=(h*s+_*o)/(o+s);return(t(h)+t(_))*Math.min(Math.abs(h),Math.abs(_),.5*Math.abs(c))||0}function n(t,i){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-i)/2:i}function e(t,i,n){var e=t._x0,o=t._y0,s=t._x1,h=t._y1,_=(s-e)/3;t._context.bezierCurveTo(e+_,o+_*i,s-_,h-_*n,s,h)}function o(t){this._context=t}function s(t){this._context=new h(t)}function h(t){this._context=t}function _(t){return new o(t)}function c(t){return new s(t)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.monotoneX=_,exports.monotoneY=c,o.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:e(this,this._t0,n(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,o){var s=NaN;if(o=+o,(t=+t)!==this._x1||o!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,o):this._context.moveTo(t,o);break;case 1:this._point=2;break;case 2:this._point=3,e(this,n(this,s=i(this,t,o)),s);break;default:e(this,this._t0,s=i(this,t,o))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=o,this._t0=s}}},(s.prototype=Object.create(o.prototype)).point=function(t,i){o.prototype.point.call(this,i,t)},h.prototype={moveTo:function(t,i){this._context.moveTo(i,t)},closePath:function(){this._context.closePath()},lineTo:function(t,i){this._context.lineTo(i,t)},bezierCurveTo:function(t,i,n,e,o,s){this._context.bezierCurveTo(i,t,e,n,s,o)}};
},{}],"0T3B":[function(require,module,exports) {
"use strict";function t(t){this._context=t}function e(t){var e,i,n=t.length-1,o=new Array(n),r=new Array(n),s=new Array(n);for(o[0]=0,r[0]=2,s[0]=t[0]+2*t[1],e=1;e<n-1;++e)o[e]=1,r[e]=4,s[e]=4*t[e]+2*t[e+1];for(o[n-1]=2,r[n-1]=7,s[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)i=o[e]/r[e-1],r[e]-=i,s[e]-=i*s[e-1];for(o[n-1]=s[n-1]/r[n-1],e=n-2;e>=0;--e)o[e]=(s[e]-o[e+1])/r[e];for(r[n-1]=(t[n]+o[n-1])/2,e=0;e<n-1;++e)r[e]=2*t[e+1]-o[e+1];return[o,r]}function i(e){return new t(e)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=i,t.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,i=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],i[0]):this._context.moveTo(t[0],i[0]),2===n)this._context.lineTo(t[1],i[1]);else for(var o=e(t),r=e(i),s=0,h=1;h<n;++s,++h)this._context.bezierCurveTo(o[0][s],r[0][s],o[1][s],r[1][s],t[h],i[h]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};
},{}],"UYn4":[function(require,module,exports) {
"use strict";function t(t,i){this._context=t,this._t=i}function i(i){return new t(i,.5)}function e(i){return new t(i,0)}function n(i){return new t(i,1)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=i,exports.stepBefore=e,exports.stepAfter=n,t.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,i){switch(t=+t,i=+i,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,i):this._context.moveTo(t,i);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,i),this._context.lineTo(t,i);else{var e=this._x*(1-this._t)+t*this._t;this._context.lineTo(e,this._y),this._context.lineTo(e,i)}}this._x=t,this._y=i}};
},{}],"x5Mk":[function(require,module,exports) {
"use strict";function e(e,t){if((f=e.length)>1)for(var r,o,f,s=1,i=e[t[0]],l=i.length;s<f;++s)for(o=i,i=e[t[s]],r=0;r<l;++r)i[r][1]+=i[r][0]=isNaN(o[r][1])?o[r][0]:o[r][1]}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"0IgC":[function(require,module,exports) {
"use strict";function e(e){for(var r=e.length,t=new Array(r);--r>=0;)t[r]=r;return t}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"S7q8":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=a;var e=u(require("./array.js")),t=u(require("./constant.js")),r=u(require("./offset/none.js")),n=u(require("./order/none.js"));function u(e){return e&&e.__esModule?e:{default:e}}function f(e,t){return e[t]}function o(e){const t=[];return t.key=e,t}function a(){var u=(0,t.default)([]),a=n.default,l=r.default,i=f;function d(t){var r,n,f=Array.from(u.apply(this,arguments),o),d=f.length,c=-1;for(const e of t)for(r=0,++c;r<d;++r)(f[r][c]=[0,+i(e,f[r].key,c,t)]).data=e;for(r=0,n=(0,e.default)(a(f));r<d;++r)f[n[r]].index=r;return l(f,n),f}return d.keys=function(e){return arguments.length?(u="function"==typeof e?e:(0,t.default)(Array.from(e)),d):u},d.value=function(e){return arguments.length?(i="function"==typeof e?e:(0,t.default)(+e),d):i},d.order=function(e){return arguments.length?(a=null==e?n.default:"function"==typeof e?e:(0,t.default)(Array.from(e)),d):a},d.offset=function(e){return arguments.length?(l=null==e?r.default:e,d):l},d}
},{"./array.js":"brsM","./constant.js":"5O/Y","./offset/none.js":"x5Mk","./order/none.js":"0IgC"}],"2jY6":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=t;var e=r(require("./none.js"));function r(e){return e&&e.__esModule?e:{default:e}}function t(r,t){if((o=r.length)>0){for(var f,o,u,n=0,l=r[0].length;n<l;++n){for(u=f=0;f<o;++f)u+=r[f][n][1]||0;if(u)for(f=0;f<o;++f)r[f][n][1]/=u}(0,e.default)(r,t)}}
},{"./none.js":"x5Mk"}],"P+6Q":[function(require,module,exports) {
"use strict";function e(e,t){if((s=e.length)>0)for(var r,o,f,l,n,s,u=0,i=e[t[0]].length;u<i;++u)for(l=n=0,r=0;r<s;++r)(f=(o=e[t[r]][u])[1]-o[0])>0?(o[0]=l,o[1]=l+=f):f<0?(o[1]=n,o[0]=n+=f):(o[0]=0,o[1]=f)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"sf4d":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=t;var e=r(require("./none.js"));function r(e){return e&&e.__esModule?e:{default:e}}function t(r,t){if((u=r.length)>0){for(var u,n=0,o=r[t[0]],f=o.length;n<f;++n){for(var l=0,a=0;l<u;++l)a+=r[l][n][1]||0;o[n][1]+=o[n][0]=-a/2}(0,e.default)(r,t)}}
},{"./none.js":"x5Mk"}],"EH71":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=t;var e=r(require("./none.js"));function r(e){return e&&e.__esModule?e:{default:e}}function t(r,t){if((f=r.length)>0&&(u=(o=r[t[0]]).length)>0){for(var o,u,f,n=0,a=1;a<u;++a){for(var l=0,s=0,d=0;l<f;++l){for(var i=r[t[l]],v=i[a][1]||0,c=(v-(i[a-1][1]||0))/2,_=0;_<l;++_){var p=r[t[_]];c+=(p[a][1]||0)-(p[a-1][1]||0)}s+=v,d+=c*v}o[a-1][1]+=o[a-1][0]=n,s&&(n-=d/s)}o[a-1][1]+=o[a-1][0]=n,(0,e.default)(r,t)}}
},{"./none.js":"x5Mk"}],"zyBr":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=t;var e=r(require("./none.js"));function r(e){return e&&e.__esModule?e:{default:e}}function t(r){var t=r.map(n);return(0,e.default)(r).sort(function(e,r){return t[e]-t[r]})}function n(e){for(var r,t=-1,n=0,u=e.length,o=-1/0;++t<u;)(r=+e[t][1])>o&&(o=r,n=t);return n}
},{"./none.js":"0IgC"}],"4koe":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=t,exports.sum=u;var e=r(require("./none.js"));function r(e){return e&&e.__esModule?e:{default:e}}function t(r){var t=r.map(u);return(0,e.default)(r).sort(function(e,r){return t[e]-t[r]})}function u(e){for(var r,t=0,u=-1,n=e.length;++u<n;)(r=+e[u][1])&&(t+=r);return t}
},{"./none.js":"0IgC"}],"i2th":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=t;var e=r(require("./ascending.js"));function r(e){return e&&e.__esModule?e:{default:e}}function t(r){return(0,e.default)(r).reverse()}
},{"./ascending.js":"4koe"}],"msEL":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=t;var e=u(require("./appearance.js")),r=require("./ascending.js");function u(e){return e&&e.__esModule?e:{default:e}}function t(u){var t,s,a=u.length,n=u.map(r.sum),o=(0,e.default)(u),c=0,p=0,d=[],f=[];for(t=0;t<a;++t)s=o[t],c<p?(c+=n[s],d.push(s)):(p+=n[s],f.push(s));return f.reverse().concat(d)}
},{"./appearance.js":"zyBr","./ascending.js":"4koe"}],"w5Iz":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=t;var e=r(require("./none.js"));function r(e){return e&&e.__esModule?e:{default:e}}function t(r){return(0,e.default)(r).reverse()}
},{"./none.js":"0IgC"}],"pW+U":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"arc",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(exports,"area",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(exports,"line",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(exports,"pie",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(exports,"areaRadial",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(exports,"radialArea",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(exports,"lineRadial",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(exports,"radialLine",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(exports,"pointRadial",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(exports,"linkHorizontal",{enumerable:!0,get:function(){return a.linkHorizontal}}),Object.defineProperty(exports,"linkVertical",{enumerable:!0,get:function(){return a.linkVertical}}),Object.defineProperty(exports,"linkRadial",{enumerable:!0,get:function(){return a.linkRadial}}),Object.defineProperty(exports,"symbol",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(exports,"symbols",{enumerable:!0,get:function(){return l.symbols}}),Object.defineProperty(exports,"symbolCircle",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(exports,"symbolCross",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(exports,"symbolDiamond",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(exports,"symbolSquare",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(exports,"symbolStar",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(exports,"symbolTriangle",{enumerable:!0,get:function(){return b.default}}),Object.defineProperty(exports,"symbolWye",{enumerable:!0,get:function(){return j.default}}),Object.defineProperty(exports,"curveBasisClosed",{enumerable:!0,get:function(){return m.default}}),Object.defineProperty(exports,"curveBasisOpen",{enumerable:!0,get:function(){return O.default}}),Object.defineProperty(exports,"curveBasis",{enumerable:!0,get:function(){return y.default}}),Object.defineProperty(exports,"curveBundle",{enumerable:!0,get:function(){return g.default}}),Object.defineProperty(exports,"curveCardinalClosed",{enumerable:!0,get:function(){return P.default}}),Object.defineProperty(exports,"curveCardinalOpen",{enumerable:!0,get:function(){return x.default}}),Object.defineProperty(exports,"curveCardinal",{enumerable:!0,get:function(){return q.default}}),Object.defineProperty(exports,"curveCatmullRomClosed",{enumerable:!0,get:function(){return v.default}}),Object.defineProperty(exports,"curveCatmullRomOpen",{enumerable:!0,get:function(){return k.default}}),Object.defineProperty(exports,"curveCatmullRom",{enumerable:!0,get:function(){return C.default}}),Object.defineProperty(exports,"curveLinearClosed",{enumerable:!0,get:function(){return R.default}}),Object.defineProperty(exports,"curveLinear",{enumerable:!0,get:function(){return B.default}}),Object.defineProperty(exports,"curveMonotoneX",{enumerable:!0,get:function(){return S.monotoneX}}),Object.defineProperty(exports,"curveMonotoneY",{enumerable:!0,get:function(){return S.monotoneY}}),Object.defineProperty(exports,"curveNatural",{enumerable:!0,get:function(){return _.default}}),Object.defineProperty(exports,"curveStep",{enumerable:!0,get:function(){return w.default}}),Object.defineProperty(exports,"curveStepAfter",{enumerable:!0,get:function(){return w.stepAfter}}),Object.defineProperty(exports,"curveStepBefore",{enumerable:!0,get:function(){return w.stepBefore}}),Object.defineProperty(exports,"stack",{enumerable:!0,get:function(){return A.default}}),Object.defineProperty(exports,"stackOffsetExpand",{enumerable:!0,get:function(){return D.default}}),Object.defineProperty(exports,"stackOffsetDiverging",{enumerable:!0,get:function(){return M.default}}),Object.defineProperty(exports,"stackOffsetNone",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(exports,"stackOffsetSilhouette",{enumerable:!0,get:function(){return L.default}}),Object.defineProperty(exports,"stackOffsetWiggle",{enumerable:!0,get:function(){return N.default}}),Object.defineProperty(exports,"stackOrderAppearance",{enumerable:!0,get:function(){return z.default}}),Object.defineProperty(exports,"stackOrderAscending",{enumerable:!0,get:function(){return H.default}}),Object.defineProperty(exports,"stackOrderDescending",{enumerable:!0,get:function(){return V.default}}),Object.defineProperty(exports,"stackOrderInsideOut",{enumerable:!0,get:function(){return W.default}}),Object.defineProperty(exports,"stackOrderNone",{enumerable:!0,get:function(){return X.default}}),Object.defineProperty(exports,"stackOrderReverse",{enumerable:!0,get:function(){return Y.default}});var e=I(require("./arc.js")),r=I(require("./area.js")),t=I(require("./line.js")),n=I(require("./pie.js")),u=I(require("./areaRadial.js")),o=I(require("./lineRadial.js")),i=I(require("./pointRadial.js")),a=require("./link/index.js"),l=E(require("./symbol.js")),s=I(require("./symbol/circle.js")),c=I(require("./symbol/cross.js")),f=I(require("./symbol/diamond.js")),d=I(require("./symbol/square.js")),p=I(require("./symbol/star.js")),b=I(require("./symbol/triangle.js")),j=I(require("./symbol/wye.js")),m=I(require("./curve/basisClosed.js")),O=I(require("./curve/basisOpen.js")),y=I(require("./curve/basis.js")),g=I(require("./curve/bundle.js")),P=I(require("./curve/cardinalClosed.js")),x=I(require("./curve/cardinalOpen.js")),q=I(require("./curve/cardinal.js")),v=I(require("./curve/catmullRomClosed.js")),k=I(require("./curve/catmullRomOpen.js")),C=I(require("./curve/catmullRom.js")),R=I(require("./curve/linearClosed.js")),B=I(require("./curve/linear.js")),S=require("./curve/monotone.js"),_=I(require("./curve/natural.js")),w=E(require("./curve/step.js")),A=I(require("./stack.js")),D=I(require("./offset/expand.js")),M=I(require("./offset/diverging.js")),h=I(require("./offset/none.js")),L=I(require("./offset/silhouette.js")),N=I(require("./offset/wiggle.js")),z=I(require("./order/appearance.js")),H=I(require("./order/ascending.js")),V=I(require("./order/descending.js")),W=I(require("./order/insideOut.js")),X=I(require("./order/none.js")),Y=I(require("./order/reverse.js"));function E(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,t):{};n.get||n.set?Object.defineProperty(r,t,n):r[t]=e[t]}return r.default=e,r}function I(e){return e&&e.__esModule?e:{default:e}}
},{"./arc.js":"TV07","./area.js":"UWil","./line.js":"Ume/","./pie.js":"5OJY","./areaRadial.js":"7HIq","./lineRadial.js":"p8dR","./pointRadial.js":"wQOf","./link/index.js":"CMsX","./symbol.js":"XBPQ","./symbol/circle.js":"NEs3","./symbol/cross.js":"57OD","./symbol/diamond.js":"nSnU","./symbol/square.js":"lQ43","./symbol/star.js":"3SkC","./symbol/triangle.js":"Z5S+","./symbol/wye.js":"JWBh","./curve/basisClosed.js":"WkDE","./curve/basisOpen.js":"+5Gg","./curve/basis.js":"XakR","./curve/bundle.js":"eh91","./curve/cardinalClosed.js":"euEz","./curve/cardinalOpen.js":"it46","./curve/cardinal.js":"fNTp","./curve/catmullRomClosed.js":"41Cs","./curve/catmullRomOpen.js":"Vf6b","./curve/catmullRom.js":"oWDJ","./curve/linearClosed.js":"QDqS","./curve/linear.js":"4VCF","./curve/monotone.js":"7Vae","./curve/natural.js":"0T3B","./curve/step.js":"UYn4","./stack.js":"S7q8","./offset/expand.js":"2jY6","./offset/diverging.js":"P+6Q","./offset/none.js":"x5Mk","./offset/silhouette.js":"sf4d","./offset/wiggle.js":"EH71","./order/appearance.js":"zyBr","./order/ascending.js":"4koe","./order/descending.js":"i2th","./order/insideOut.js":"msEL","./order/none.js":"0IgC","./order/reverse.js":"w5Iz"}],"pmu8":[function(require,module,exports) {
"use strict";function e(e,{sourceEvent:r,target:t,transform:a,dispatch:u}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:r,enumerable:!0,configurable:!0},target:{value:t,enumerable:!0,configurable:!0},transform:{value:a,enumerable:!0,configurable:!0},_:{value:u}})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"RGu5":[function(require,module,exports) {
"use strict";function t(t,i,n){this.k=t,this.x=i,this.y=n}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Transform=t,exports.default=n,exports.identity=void 0,t.prototype={constructor:t,scale:function(i){return 1===i?this:new t(this.k*i,this.x,this.y)},translate:function(i,n){return 0===i&0===n?this:new t(this.k,this.x+this.k*i,this.y+this.k*n)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var i=new t(1,0,0);function n(t){for(;!t.__zoom;)if(!(t=t.parentNode))return i;return t.__zoom}exports.identity=i,n.prototype=t.prototype;
},{}],"T0tZ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=y;var t=require("d3-dispatch"),e=require("d3-drag"),n=require("d3-interpolate"),o=require("d3-selection"),i=require("d3-transition"),r=c(require("./constant.js")),u=c(require("./event.js")),h=require("./transform.js"),s=a(require("./noevent.js"));function a(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var o=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};o.get||o.set?Object.defineProperty(e,n,o):e[n]=t[n]}return e.default=t,e}function c(t){return t&&t.__esModule?t:{default:t}}function l(t){return!(t.ctrlKey&&"wheel"!==t.type||t.button)}function f(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t).hasAttribute("viewBox")?[[(t=t.viewBox.baseVal).x,t.y],[t.x+t.width,t.y+t.height]]:[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]:[[0,0],[t.clientWidth,t.clientHeight]]}function p(){return this.__zoom||h.identity}function m(t){return-t.deltaY*(1===t.deltaMode?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function v(){return navigator.maxTouchPoints||"ontouchstart"in this}function d(t,e,n){var o=t.invertX(e[0][0])-n[0][0],i=t.invertX(e[1][0])-n[1][0],r=t.invertY(e[0][1])-n[0][1],u=t.invertY(e[1][1])-n[1][1];return t.translate(i>o?(o+i)/2:Math.min(0,o)||Math.max(0,i),u>r?(r+u)/2:Math.min(0,r)||Math.max(0,u))}function y(){var a,c,y,_=l,z=f,g=d,w=m,x=v,T=[0,1/0],b=[[-1/0,-1/0],[1/0,1/0]],M=250,k=n.interpolateZoom,q=(0,t.dispatch)("start","zoom","end"),j=500,E=150,O=0,P=10;function D(t){t.property("__zoom",p).on("wheel.zoom",S).on("mousedown.zoom",A).on("dblclick.zoom",H).filter(x).on("touchstart.zoom",W).on("touchmove.zoom",Z).on("touchend.zoom touchcancel.zoom",C).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function V(t,e){return(e=Math.max(T[0],Math.min(T[1],e)))===t.k?t:new h.Transform(e,t.x,t.y)}function Y(t,e,n){var o=e[0]-n[0]*t.k,i=e[1]-n[1]*t.k;return o===t.x&&i===t.y?t:new h.Transform(t.k,o,i)}function B(t){return[(+t[0][0]+ +t[1][0])/2,(+t[0][1]+ +t[1][1])/2]}function X(t,e,n,o){t.on("start.zoom",function(){K(this,arguments).event(o).start()}).on("interrupt.zoom end.zoom",function(){K(this,arguments).event(o).end()}).tween("zoom",function(){var t=arguments,i=K(this,t).event(o),r=z.apply(this,t),u=null==n?B(r):"function"==typeof n?n.apply(this,t):n,s=Math.max(r[1][0]-r[0][0],r[1][1]-r[0][1]),a=this.__zoom,c="function"==typeof e?e.apply(this,t):e,l=k(a.invert(u).concat(s/a.k),c.invert(u).concat(s/c.k));return function(t){if(1===t)t=c;else{var e=l(t),n=s/e[2];t=new h.Transform(n,u[0]-e[0]*n,u[1]-e[1]*n)}i.zoom(null,t)}})}function K(t,e,n){return!n&&t.__zooming||new G(t,e)}function G(t,e){this.that=t,this.args=e,this.active=0,this.sourceEvent=null,this.extent=z.apply(t,e),this.taps=0}function S(t,...e){if(_.apply(this,arguments)){var n=K(this,e).event(t),r=this.__zoom,u=Math.max(T[0],Math.min(T[1],r.k*Math.pow(2,w.apply(this,arguments)))),h=(0,o.pointer)(t);if(n.wheel)n.mouse[0][0]===h[0]&&n.mouse[0][1]===h[1]||(n.mouse[1]=r.invert(n.mouse[0]=h)),clearTimeout(n.wheel);else{if(r.k===u)return;n.mouse=[h,r.invert(h)],(0,i.interrupt)(this),n.start()}(0,s.default)(t),n.wheel=setTimeout(function(){n.wheel=null,n.end()},E),n.zoom("mouse",g(Y(V(r,u),n.mouse[0],n.mouse[1]),n.extent,b))}}function A(t,...n){if(!y&&_.apply(this,arguments)){var r=K(this,n,!0).event(t),u=(0,o.select)(t.view).on("mousemove.zoom",function(t){if((0,s.default)(t),!r.moved){var e=t.clientX-c,n=t.clientY-l;r.moved=e*e+n*n>O}r.event(t).zoom("mouse",g(Y(r.that.__zoom,r.mouse[0]=(0,o.pointer)(t,a),r.mouse[1]),r.extent,b))},!0).on("mouseup.zoom",function(t){u.on("mousemove.zoom mouseup.zoom",null),(0,e.dragEnable)(t.view,r.moved),(0,s.default)(t),r.event(t).end()},!0),h=(0,o.pointer)(t,a),a=t.currentTarget,c=t.clientX,l=t.clientY;(0,e.dragDisable)(t.view),(0,s.nopropagation)(t),r.mouse=[h,this.__zoom.invert(h)],(0,i.interrupt)(this),r.start()}}function H(t,...e){if(_.apply(this,arguments)){var n=this.__zoom,i=(0,o.pointer)(t.changedTouches?t.changedTouches[0]:t,this),r=n.invert(i),u=n.k*(t.shiftKey?.5:2),h=g(Y(V(n,u),i,r),z.apply(this,e),b);(0,s.default)(t),M>0?(0,o.select)(this).transition().duration(M).call(X,h,i,t):(0,o.select)(this).call(D.transform,h,i,t)}}function W(t,...e){if(_.apply(this,arguments)){var n,r,u,h,l=t.touches,f=l.length,p=K(this,e,t.changedTouches.length===f).event(t);for((0,s.nopropagation)(t),r=0;r<f;++r)u=l[r],h=[h=(0,o.pointer)(u,this),this.__zoom.invert(h),u.identifier],p.touch0?p.touch1||p.touch0[2]===h[2]||(p.touch1=h,p.taps=0):(p.touch0=h,n=!0,p.taps=1+!!a);a&&(a=clearTimeout(a)),n&&(p.taps<2&&(c=h[0],a=setTimeout(function(){a=null},j)),(0,i.interrupt)(this),p.start())}}function Z(t,...e){if(this.__zooming){var n,i,r,u,h=K(this,e).event(t),a=t.changedTouches,c=a.length;for((0,s.default)(t),n=0;n<c;++n)i=a[n],r=(0,o.pointer)(i,this),h.touch0&&h.touch0[2]===i.identifier?h.touch0[0]=r:h.touch1&&h.touch1[2]===i.identifier&&(h.touch1[0]=r);if(i=h.that.__zoom,h.touch1){var l=h.touch0[0],f=h.touch0[1],p=h.touch1[0],m=h.touch1[1],v=(v=p[0]-l[0])*v+(v=p[1]-l[1])*v,d=(d=m[0]-f[0])*d+(d=m[1]-f[1])*d;i=V(i,Math.sqrt(v/d)),r=[(l[0]+p[0])/2,(l[1]+p[1])/2],u=[(f[0]+m[0])/2,(f[1]+m[1])/2]}else{if(!h.touch0)return;r=h.touch0[0],u=h.touch0[1]}h.zoom("touch",g(Y(i,r,u),h.extent,b))}}function C(t,...e){if(this.__zooming){var n,i,r=K(this,e).event(t),u=t.changedTouches,h=u.length;for((0,s.nopropagation)(t),y&&clearTimeout(y),y=setTimeout(function(){y=null},j),n=0;n<h;++n)i=u[n],r.touch0&&r.touch0[2]===i.identifier?delete r.touch0:r.touch1&&r.touch1[2]===i.identifier&&delete r.touch1;if(r.touch1&&!r.touch0&&(r.touch0=r.touch1,delete r.touch1),r.touch0)r.touch0[1]=this.__zoom.invert(r.touch0[0]);else if(r.end(),2===r.taps&&(i=(0,o.pointer)(i,this),Math.hypot(c[0]-i[0],c[1]-i[1])<P)){var a=(0,o.select)(this).on("dblclick.zoom");a&&a.apply(this,arguments)}}}return D.transform=function(t,e,n,o){var i=t.selection?t.selection():t;i.property("__zoom",p),t!==i?X(t,e,n,o):i.interrupt().each(function(){K(this,arguments).event(o).start().zoom(null,"function"==typeof e?e.apply(this,arguments):e).end()})},D.scaleBy=function(t,e,n,o){D.scaleTo(t,function(){return this.__zoom.k*("function"==typeof e?e.apply(this,arguments):e)},n,o)},D.scaleTo=function(t,e,n,o){D.transform(t,function(){var t=z.apply(this,arguments),o=this.__zoom,i=null==n?B(t):"function"==typeof n?n.apply(this,arguments):n,r=o.invert(i),u="function"==typeof e?e.apply(this,arguments):e;return g(Y(V(o,u),i,r),t,b)},n,o)},D.translateBy=function(t,e,n,o){D.transform(t,function(){return g(this.__zoom.translate("function"==typeof e?e.apply(this,arguments):e,"function"==typeof n?n.apply(this,arguments):n),z.apply(this,arguments),b)},null,o)},D.translateTo=function(t,e,n,o,i){D.transform(t,function(){var t=z.apply(this,arguments),i=this.__zoom,r=null==o?B(t):"function"==typeof o?o.apply(this,arguments):o;return g(h.identity.translate(r[0],r[1]).scale(i.k).translate("function"==typeof e?-e.apply(this,arguments):-e,"function"==typeof n?-n.apply(this,arguments):-n),t,b)},o,i)},G.prototype={event:function(t){return t&&(this.sourceEvent=t),this},start:function(){return 1==++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(t,e){return this.mouse&&"mouse"!==t&&(this.mouse[1]=e.invert(this.mouse[0])),this.touch0&&"touch"!==t&&(this.touch0[1]=e.invert(this.touch0[0])),this.touch1&&"touch"!==t&&(this.touch1[1]=e.invert(this.touch1[0])),this.that.__zoom=e,this.emit("zoom"),this},end:function(){return 0==--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(t){var e=(0,o.select)(this.that).datum();q.call(t,this.that,new u.default(t,{sourceEvent:this.sourceEvent,target:D,type:t,transform:this.that.__zoom,dispatch:q}),e)}},D.wheelDelta=function(t){return arguments.length?(w="function"==typeof t?t:(0,r.default)(+t),D):w},D.filter=function(t){return arguments.length?(_="function"==typeof t?t:(0,r.default)(!!t),D):_},D.touchable=function(t){return arguments.length?(x="function"==typeof t?t:(0,r.default)(!!t),D):x},D.extent=function(t){return arguments.length?(z="function"==typeof t?t:(0,r.default)([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),D):z},D.scaleExtent=function(t){return arguments.length?(T[0]=+t[0],T[1]=+t[1],D):[T[0],T[1]]},D.translateExtent=function(t){return arguments.length?(b[0][0]=+t[0][0],b[1][0]=+t[1][0],b[0][1]=+t[0][1],b[1][1]=+t[1][1],D):[[b[0][0],b[0][1]],[b[1][0],b[1][1]]]},D.constrain=function(t){return arguments.length?(g=t,D):g},D.duration=function(t){return arguments.length?(M=+t,D):M},D.interpolate=function(t){return arguments.length?(k=t,D):k},D.on=function(){var t=q.on.apply(q,arguments);return t===q?D:t},D.clickDistance=function(t){return arguments.length?(O=(t=+t)*t,D):Math.sqrt(O)},D.tapDistance=function(t){return arguments.length?(P=+t,D):P},D}
},{"d3-dispatch":"UU/c","d3-drag":"LrBi","d3-interpolate":"mkGF","d3-selection":"lm1C","d3-transition":"Fcbi","./constant.js":"gzkf","./event.js":"pmu8","./transform.js":"RGu5","./noevent.js":"DCEg"}],"uzwd":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"zoom",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(exports,"zoomTransform",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(exports,"zoomIdentity",{enumerable:!0,get:function(){return r.identity}});var e=o(require("./zoom.js")),r=t(require("./transform.js"));function t(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)){var o=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,t):{};o.get||o.set?Object.defineProperty(r,t,o):r[t]=e[t]}return r.default=e,r}function o(e){return e&&e.__esModule?e:{default:e}}
},{"./zoom.js":"T0tZ","./transform.js":"RGu5"}],"BG5c":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e={version:!0};Object.defineProperty(exports,"version",{enumerable:!0,get:function(){return r.version}});var r=require("./dist/package.js"),t=require("d3-array");Object.keys(t).forEach(function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(e,r)||Object.defineProperty(exports,r,{enumerable:!0,get:function(){return t[r]}}))});var o=require("d3-axis");Object.keys(o).forEach(function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(e,r)||Object.defineProperty(exports,r,{enumerable:!0,get:function(){return o[r]}}))});var n=require("d3-brush");Object.keys(n).forEach(function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(e,r)||Object.defineProperty(exports,r,{enumerable:!0,get:function(){return n[r]}}))});var c=require("d3-chord");Object.keys(c).forEach(function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(e,r)||Object.defineProperty(exports,r,{enumerable:!0,get:function(){return c[r]}}))});var u=require("d3-color");Object.keys(u).forEach(function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(e,r)||Object.defineProperty(exports,r,{enumerable:!0,get:function(){return u[r]}}))});var a=require("d3-contour");Object.keys(a).forEach(function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(e,r)||Object.defineProperty(exports,r,{enumerable:!0,get:function(){return a[r]}}))});var l=require("d3-delaunay");Object.keys(l).forEach(function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(e,r)||Object.defineProperty(exports,r,{enumerable:!0,get:function(){return l[r]}}))});var p=require("d3-dispatch");Object.keys(p).forEach(function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(e,r)||Object.defineProperty(exports,r,{enumerable:!0,get:function(){return p[r]}}))});var f=require("d3-drag");Object.keys(f).forEach(function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(e,r)||Object.defineProperty(exports,r,{enumerable:!0,get:function(){return f[r]}}))});var i=require("d3-dsv");Object.keys(i).forEach(function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(e,r)||Object.defineProperty(exports,r,{enumerable:!0,get:function(){return i[r]}}))});var s=require("d3-ease");Object.keys(s).forEach(function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(e,r)||Object.defineProperty(exports,r,{enumerable:!0,get:function(){return s[r]}}))});var d=require("d3-fetch");Object.keys(d).forEach(function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(e,r)||Object.defineProperty(exports,r,{enumerable:!0,get:function(){return d[r]}}))});var y=require("d3-force");Object.keys(y).forEach(function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(e,r)||Object.defineProperty(exports,r,{enumerable:!0,get:function(){return y[r]}}))});var b=require("d3-format");Object.keys(b).forEach(function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(e,r)||Object.defineProperty(exports,r,{enumerable:!0,get:function(){return b[r]}}))});var O=require("d3-geo");Object.keys(O).forEach(function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(e,r)||Object.defineProperty(exports,r,{enumerable:!0,get:function(){return O[r]}}))});var j=require("d3-hierarchy");Object.keys(j).forEach(function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(e,r)||Object.defineProperty(exports,r,{enumerable:!0,get:function(){return j[r]}}))});var h=require("d3-interpolate");Object.keys(h).forEach(function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(e,r)||Object.defineProperty(exports,r,{enumerable:!0,get:function(){return h[r]}}))});var P=require("d3-path");Object.keys(P).forEach(function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(e,r)||Object.defineProperty(exports,r,{enumerable:!0,get:function(){return P[r]}}))});var _=require("d3-polygon");Object.keys(_).forEach(function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(e,r)||Object.defineProperty(exports,r,{enumerable:!0,get:function(){return _[r]}}))});var m=require("d3-quadtree");Object.keys(m).forEach(function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(e,r)||Object.defineProperty(exports,r,{enumerable:!0,get:function(){return m[r]}}))});var v=require("d3-random");Object.keys(v).forEach(function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(e,r)||Object.defineProperty(exports,r,{enumerable:!0,get:function(){return v[r]}}))});var g=require("d3-scale");Object.keys(g).forEach(function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(e,r)||Object.defineProperty(exports,r,{enumerable:!0,get:function(){return g[r]}}))});var x=require("d3-scale-chromatic");Object.keys(x).forEach(function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(e,r)||Object.defineProperty(exports,r,{enumerable:!0,get:function(){return x[r]}}))});var q=require("d3-selection");Object.keys(q).forEach(function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(e,r)||Object.defineProperty(exports,r,{enumerable:!0,get:function(){return q[r]}}))});var k=require("d3-shape");Object.keys(k).forEach(function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(e,r)||Object.defineProperty(exports,r,{enumerable:!0,get:function(){return k[r]}}))});var M=require("d3-time");Object.keys(M).forEach(function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(e,r)||Object.defineProperty(exports,r,{enumerable:!0,get:function(){return M[r]}}))});var w=require("d3-time-format");Object.keys(w).forEach(function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(e,r)||Object.defineProperty(exports,r,{enumerable:!0,get:function(){return w[r]}}))});var E=require("d3-timer");Object.keys(E).forEach(function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(e,r)||Object.defineProperty(exports,r,{enumerable:!0,get:function(){return E[r]}}))});var z=require("d3-transition");Object.keys(z).forEach(function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(e,r)||Object.defineProperty(exports,r,{enumerable:!0,get:function(){return z[r]}}))});var A=require("d3-zoom");Object.keys(A).forEach(function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(e,r)||Object.defineProperty(exports,r,{enumerable:!0,get:function(){return A[r]}}))});
},{"./dist/package.js":"hADF","d3-array":"cBuZ","d3-axis":"y9Kr","d3-brush":"TNt0","d3-chord":"cf1+","d3-color":"4TJ2","d3-contour":"cfrl","d3-delaunay":"2V5J","d3-dispatch":"UU/c","d3-drag":"LrBi","d3-dsv":"mQVF","d3-ease":"CFyW","d3-fetch":"hNko","d3-force":"YpA1","d3-format":"4gWe","d3-geo":"LMxt","d3-hierarchy":"wNQE","d3-interpolate":"mkGF","d3-path":"dz42","d3-polygon":"QnuL","d3-quadtree":"oxc3","d3-random":"4WQ4","d3-scale":"zt+a","d3-scale-chromatic":"zd6o","d3-selection":"lm1C","d3-shape":"pW+U","d3-time":"F00f","d3-time-format":"+7zs","d3-timer":"CBES","d3-transition":"Fcbi","d3-zoom":"uzwd"}],"FO+Z":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.exportJson=a,exports.markNonOverlapResolution=l,exports.markBoundingBox=u,exports.isRectCollide2=f,exports.searchQuadtree=d;var t=e(require("d3"));function e(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};r.get||r.set?Object.defineProperty(e,n,r):e[n]=t[n]}return e.default=t,e}function n(t,e){return i(t)||o(t,e)||r()}function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function o(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,l=t[Symbol.iterator]();!(r=(a=l.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(u){o=!0,i=u}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}return n}function i(t){if(Array.isArray(t))return t}function a(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"result.json",n=JSON.stringify(t,null,2),r="data:text/json;charset=utf-8,"+encodeURIComponent(n),o=document.getElementById("download-json");null===o&&(o=document.createElement("a")).setAttribute("id","download-json"),o.setAttribute("href",r),o.setAttribute("download",e),o.click()}function l(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2e3;void 0===e&&(e=Array.from(new Set(t.map(function(t){return+t.get("level")}))).sort(function(t,e){return t-e}));var o=0,i=r,a=!0,l=!1,u=void 0;try{for(var f,d=function(){var e=f.value;console.log(e);var a=t.filter(function(t){return o<+t.get("level")&&+t.get("level")<=e}).sort(function(t,e){return+t.get("level")-+e.get("level")}),l=t.filter(function(t){return+t.get("level")<=o}).sort(function(t,e){return+t.get("level")-+e.get("level")});t.length>1e4?i=c(a,l,t,n,Math.min(r,64*i)):c(a,l,t,n,r,!0),o=e},v=e[Symbol.iterator]();!(a=(f=v.next()).done);a=!0)d()}catch(s){l=!0,u=s}finally{try{a||null==v.return||v.return()}finally{if(l)throw u}}}function u(t,e,r){var o=document.createElement("canvas").getContext("2d");o.textAlign="center",o.textBaseline="middle",t.forEach(function(t,i){t.set("index",i);var a=n(t.values_.geometry.flatCoordinates,2),l=a[0],u=a[1];o.font="".concat(e(+t.get("level")),"px ").concat(r);var c=o.measureText(t.get("label")),f=c.actualBoundingBoxRight+c.actualBoundingBoxLeft,d=c.actualBoundingBoxDescent+c.actualBoundingBoxAscent;t.set("bbox",{x:l,y:u,width:f,height:d})})}function c(e,n,r,o,i){var a,l,u,c,v=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:void 0,g=1/i,h=1/o;if(void 0===s&&(s=Math.ceil(1.5*Math.log2(h-g))),v){l=function(t){return t.get("bbox").x},u=function(t){return t.get("bbox").y},c=function(t){return t.get("index")};var x=e.concat(n);a=t.quadtree(x,l,u)}var y=t.max(r,function(t){return t.get("bbox").width}),b=t.max(r,function(t){return t.get("bbox").height}),p=i,m=new Set(n.map(function(t){return t.get("index")})),w=!0,B=!1,O=void 0;try{for(var j,A=e[Symbol.iterator]();!(w=(j=A.next()).done);w=!0){var M=j.value,S=M.get("bbox"),P=[S.x,S.y],E=P[0],_=P[1],C=g,R=void 0;if(M.set("resolution",1/C),v){var k=i*y*2,D=i*b*2;R=(R=d(a,l,u,c,E-k,E+k,_-D,_+D)).filter(function(t){return m.has(t)})}else R=m;var I=!0,q=!1,J=void 0;try{for(var N,T=R[Symbol.iterator]();!(I=(N=T.next()).done);I=!0){var L=N.value;if(M.index!==L){for(var Q=g,U=h,z=r[L].get("bbox"),F=void 0,G=0;G<s;G++)if(f(S,z,F=(Q+U)/2)){var H=[F,U];Q=H[0],U=H[1]}else{var K=[Q,F];Q=K[0],U=K[1]}C=Math.max(C,U)}}}catch(V){q=!0,J=V}finally{try{I||null==T.return||T.return()}finally{if(q)throw J}}M.set("resolution",1/C),p=Math.min(1/C,p),m.add(M.get("index"))}}catch(V){B=!0,O=V}finally{try{w||null==A.return||A.return()}finally{if(B)throw O}}return p}function f(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=t.width/2,o=t.height/2,i=t.x*n,a=t.y*n,l=i-r,u=i+r,c=a-o,f=a+o;return r=e.width/2,o=e.height/2,i=e.x*n,a=e.y*n,l<=i+r&&u>=i-r&&c<=a+o&&f>=a-o}function d(t,e,n,r,o,i,a,l){var u=[];return t.visit(function(t,c,f,d,v){if(!t.length)do{var s=t.data,g=e(s),h=n(s);g>=o&&g<i&&h>=a&&h<l&&u.push(r(s))}while(t=t.next);return c>=i||f>=l||d<o||v<a}),u}
},{"d3":"BG5c"}],"2iMt":[function(require,module,exports) {

},{}],"MuMf":[function(require,module,exports) {
var global = arguments[3];
var e=arguments[3];Object.defineProperty(exports,"__esModule",{value:!0}),exports.draw=H;var t=j(require("ol")),r=j(require("ol/Map.js")),o=j(require("ol/View.js")),n=j(require("ol/format/GeoJSON.js")),l=j(require("ol/geom/MultiPoint.js")),a=j(require("ol/layer/Vector.js")),i=j(require("ol/source/Vector.js")),u=j(require("ol/interaction/Select.js")),s=require("ol/events/condition.js"),c=require("ol/style.js"),f=j(require("ol/style/Text")),d=require("ol/proj.js"),v=j(require("ol/geom/Circle")),g=j(require("ol/Feature.js")),w=require("ol/layer.js"),p=require("ol/source.js"),y=j(require("ol/Overlay")),m=require("ol/control.js"),h=x(require("d3")),b=x(require("./utils"));function x(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var o=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};o.get||o.set?Object.defineProperty(t,r,o):t[r]=e[r]}return t.default=e,t}function j(e){return e&&e.__esModule?e:{default:e}}require("./style.css");var q,k,S,E,O="arial",_=18,M=14,F=3,L=.5;function V(e,t){return new c.Style({stroke:new c.Stroke({color:e.get("stroke"),width:1}),fill:new c.Fill({color:e.get("fill")})})}function P(e,t){return new c.Style({stroke:new c.Stroke({color:e.get("stroke"),width:0}),fill:new c.Fill({color:e.get("fill")})})}var R=!1;function I(e,t){return R||(console.log(e),R=!0),void 0!==e.get("level")?C(e,t)?new c.Style({stroke:new c.Stroke({color:"#aaaaaa",width:k(+e.get("level"))})}):new c.Style({stroke:new c.Stroke({color:"#bbbbbb77",width:.5})}):new c.Style({})}function T(e,t){return C(e,t)?new c.Style({stroke:new c.Stroke({color:"rgba(0,0,0,0.5)",width:1}),fill:new c.Fill({color:"rgba(255,255,255,0.5)"}),text:B(e,t)}):new c.Style({})}function G(e,t){return new c.Style({text:B(e,t,!0,!0)})}function A(e,t){var r=I(e,t),o=r.getStroke();return o&&(o.width_=o.width_+2,o.color_="red",r.setStroke(o)),r}function C(e,t){return e.get("resolution")>t}function B(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],n=q(+e.get("level"));return new f.default({font:"".concat(n,"px ").concat(O),text:r?e.get("label-full"):e.get("label"),fill:new c.Fill({color:S==e||o?"rgba(72,79,255,1)":"rgba(72,79,90,1)"}),stroke:new c.Stroke({color:"rgba(250,250,250,1)",width:2}),offsetX:0,offsetY:0})}function X(e,t,r){var o=t.values_.geometry.flatCoordinates,n=Math.max(.01,t.get("resolution")-.01);n=Math.min(r,n),console.log(n),e.getView().animate({resolution:n,center:o,duration:750})}function D(e,t){var r=h.select("body").append("div").style("position","absolute").style("top","1em").style("right","2em").style("width","12em"),o=r.append("input").attr("type","text").attr("placeholder","Search..").style("width","12em"),n="".concat(o.node().offsetWidth,"px"),l=(r.append("i").attr("class","fa fa-search").style("margin-left","-1.3em"),r.append("ul").style("padding","0").style("max-height","60vh").style("max-width",n).style("overflow","auto").style("list-style-type","none")),a=h.max(t,function(e){return e.get("resolution")});o.node().addEventListener("keyup",function(r){var n=o.node().value.toLowerCase();if(0==n.length)S=void 0,l.selectAll("li").remove();else{var i=t.filter(function(e){return e.get("label-full").toLowerCase().includes(n)});l.selectAll("li").remove(),l.selectAll("li").data(i).enter().append("li").text(function(e){return e.get("label-full")}).on("click",function(){S=h.select(this).datum(),X(e,S,a/20)})}})}function H(t,l,i,c,f,d,v){console.log(v);var g,w,x=new p.Vector({url:t,format:new n.default}),j=new a.default({source:x,style:V}),S=new p.Vector({url:l,format:new n.default}),R=new a.default({source:S,style:P}),A=new p.Vector({format:new n.default,loader:function(e,t,r,o){var n=c,l=new XMLHttpRequest;l.open("GET",n),l.onerror=function(){A.removeLoadedExtent(e)},l.onload=function(){var e=H.getView().minResolution_,t=H.getView().maxResolution_;if(console.log(e,t),200==l.status){g=A.getFormat().readFeatures(l.responseText);var r=h.max(g,function(e){return+e.get("level")});q=h.scaleLinear().domain([1,r]).range([_,M]),k=h.scaleLinear().domain([1,r]).range([F,L]);if(g.forEach(function(e){var t=e.get("label");e.set("label",t.slice(0,16)),e.set("label-full",t)}),void 0!==v)g.forEach(function(e,t){e.set("resolution",v.resolutions[t])});else{b.markBoundingBox(g,q,O),b.markNonOverlapResolution(g,void 0,e,t);var o=g.map(function(e){return e.get("resolution")});b.exportJson({resolutions:o},"node_zoom_levels.json")}E=h.min(g,function(e){return e.get("resolution")}),E=Math.max(E,H.getView().minResolution_),A.addFeatures(g)}else onError()},l.send()}}),C=new a.default({source:A,style:T}),B=new p.Vector({format:new n.default,loader:function(e,t,r,o){var n=i,l=new XMLHttpRequest;l.open("GET",n),l.onerror=function(){B.removeLoadedExtent(e)},l.onload=function(){if(200==l.status){w=B.getFormat().readFeatures(l.responseText);var e=setInterval(function(){if(void 0!==g){var t={};g.forEach(function(e){var r=+e.get("level"),o=e.get("resolution");void 0===t[r]?t[r]=o:t[r]=Math.max(o,t[r])});var r=Object.keys(t).sort(function(e,t){return t-e}),o=t[r[0]],n=!0,l=!1,a=void 0;try{for(var i,u=r.slice(1)[Symbol.iterator]();!(n=(i=u.next()).done);n=!0){var s=i.value;t[s]=Math.max(o,t[s]),o=t[s]}}catch(c){l=!0,a=c}finally{try{n||null==u.return||u.return()}finally{if(l)throw a}}w.forEach(function(e){void 0!==e.get("level")&&(e.set("level",+e.get("level")),e.set("resolution",t[e.get("level")]))}),B.addFeatures(w),clearInterval(e)}},100)}else onError()},l.send()}}),X=new a.default({source:B,style:I}),H=new r.default({controls:(0,m.defaults)().extend([new m.OverviewMap({layers:[j,R],view:new o.default({center:f||[0,0],resolution:d||5,maxResolution:500,minResolution:100})})]),layers:[j,R,X,C],target:"map",view:new o.default({center:f||[0,0],resolution:d||50})}),J=setInterval(function(){void 0!==g&&(D(H,g),clearInterval(J))},100);e.map=H;var N=new y.default({element:document.getElementById("popup")});H.addOverlay(N),e.popup=N;var z=new u.default({condition:s.pointerMove,layers:[C],style:G});H.addInteraction(z),H.on("click",function(e){var t=N.getElement();$(t).popover("destroy");var r=H.forEachFeatureAtPixel(e.pixel,function(e,t){return e});if(r){var o=N.getElement(),n=(r.getGeometry(),r.getId()),l=r.getGeometry().getType();if(n&&n.search("cluster")>-1)return 0;if("LineString"==l)return 0;var a=r.get("label-full"),i=r.get("level");$(o)[0].title=a;var u="\n        Level: ".concat(i,"<br>\n      ");$(o).popover("destroy"),N.setPosition(e.coordinate),$(o).popover({placement:"top",animation:!0,html:!0,content:u}),$(o).popover("show")}})}
},{"ol":"DRei","ol/Map.js":"8kYy","ol/View.js":"hNqE","ol/format/GeoJSON.js":"qBlb","ol/geom/MultiPoint.js":"dNu5","ol/layer/Vector.js":"dflx","ol/source/Vector.js":"ZS12","ol/interaction/Select.js":"6SMG","ol/events/condition.js":"YcID","ol/style.js":"3qe/","ol/style/Text":"RPsG","ol/proj.js":"Diht","ol/geom/Circle":"AyCw","ol/Feature.js":"mYW9","ol/layer.js":"ZVaS","ol/source.js":"kDr9","ol/Overlay":"/qWc","ol/control.js":"95uc","d3":"BG5c","./utils":"FO+Z","./style.css":"2iMt"}],"AANx":[function(require,module,exports) {
"use strict";var e=l(require("./geojson/mingwei-lastfm-refined/im_cluster.geojson")),o=l(require("./geojson/mingwei-lastfm-refined/im_cluster_boundary.geojson")),i=l(require("./geojson/mingwei-lastfm-refined/im_alledges.geojson")),n=l(require("./geojson/mingwei-lastfm-refined/im_nodes.geojson")),r=l(require("./geojson/mingwei-lastfm-refined/node_zoom_levels.json")),s=require("./vis");function l(e){return e&&e.__esModule?e:{default:e}}console.log(r.default),(0,s.draw)(e.default,o.default,i.default,n.default,[0,0],5,r.default);
},{"./geojson/mingwei-lastfm-refined/im_cluster.geojson":"jhqp","./geojson/mingwei-lastfm-refined/im_cluster_boundary.geojson":"/nKR","./geojson/mingwei-lastfm-refined/im_alledges.geojson":"g9N1","./geojson/mingwei-lastfm-refined/im_nodes.geojson":"wQJ6","./geojson/mingwei-lastfm-refined/node_zoom_levels.json":"NYK0","./vis":"MuMf"}]},{},["AANx"], null)
//# sourceMappingURL=lastfm-CG.4f7410cb.js.map